"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateUnassignedFileInfo = void 0;
const traverse_filesystem_1 = __importDefault(require("./traverse-filesystem"));
const format_file_info_1 = require("./format-file-info");
const log_1 = require("../log");
const log = (0, log_1.logger)('core.file-info.generate-and-root-dir');
/**
 * initialises the generation of the `FileInfo` tree. If @fileContent
 * is available, it will not read from @fsPath.
 *
 * @param fsPath path of a file or the content as string (used by ESLint in IDE)
 * @param runOnce do not traverse the chain of imports.
 * @param tsData misc. data around TS config
 * @param fileContent optional file content (used by ESLint in IDE)
 */
const generateUnassignedFileInfo = (fsPath, runOnce = false, tsData, fileContent) => {
    const fileInfoDict = new Map();
    const fileInfo = (0, traverse_filesystem_1.default)(fsPath, fileInfoDict, tsData, runOnce, fileContent);
    log.info((0, format_file_info_1.formatFileInfo)(fileInfo));
    return fileInfo;
};
exports.generateUnassignedFileInfo = generateUnassignedFileInfo;
//# sourceMappingURL=generate-unassigned-file-info.js.map