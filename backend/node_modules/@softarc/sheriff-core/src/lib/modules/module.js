"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Module = void 0;
const file_info_1 = require("./file.info");
const fs_path_1 = require("../file-info/fs-path");
class Module {
    constructor(path, fileInfoMap, getFileInfo, isRoot) {
        this.path = path;
        this.fileInfoMap = fileInfoMap;
        this.getFileInfo = getFileInfo;
        this.isRoot = isRoot;
        this.fileInfos = [];
        if (path.endsWith('index.ts')) {
            this.directory = (0, fs_path_1.toFsPath)(this.path.substring(0, this.path.length - '/index.ts'.length));
        }
        else {
            this.directory = path;
        }
    }
    addFileInfo(unassignedFileInfo) {
        const fileInfo = new file_info_1.FileInfo(unassignedFileInfo, this, this.getFileInfo);
        this.fileInfoMap.set(fileInfo.path, fileInfo);
        this.fileInfos.push(fileInfo);
    }
}
exports.Module = Module;
//# sourceMappingURL=module.js.map