import {
  $ as ze,
  $a as Tx,
  $b as Xh,
  A as Jc,
  Aa as bi,
  Ab as ou,
  Ac as Qx,
  B as bl,
  Ba as De,
  Bb as Px,
  Bc as ef,
  C as Fi,
  Ca as bs,
  Cb as Ai,
  D as uv,
  Da as Re,
  Db as Lx,
  E as mo,
  Ea as Uh,
  Eb as cn,
  Ec as Jx,
  F as dv,
  Fa as bx,
  Fb as zi,
  Fc as Cv,
  G as Hr,
  Ga as Hh,
  Gb as qe,
  H as go,
  Ha as yx,
  Hb as vn,
  Hc as Ev,
  I as hv,
  Ia as Fa,
  Ib as Bn,
  Ic as Sv,
  J as tn,
  Ja as Yn,
  Jb as Qe,
  Jc as Dv,
  K as tu,
  Ka as iu,
  Kb as Je,
  L as ms,
  La as _l,
  Lb as xs,
  M as vo,
  Ma as xl,
  Mb as hi,
  N as bo,
  Na as _x,
  Nb as Cl,
  O as fv,
  Oa as xx,
  Ob as va,
  P as dx,
  Pa as wx,
  Pb as Nx,
  Q as hx,
  Qa as kx,
  Qb as Fx,
  R as fx,
  Ra as Cx,
  Rb as Bx,
  S as pv,
  Sa as Ex,
  Sb as zx,
  T as Vh,
  Ta as Sx,
  Tb as bn,
  U as Wr,
  Ua as fr,
  Ub as Ie,
  V as ln,
  Va as Dx,
  Vb as su,
  W as gi,
  Wa as nu,
  Wb as lu,
  X as fi,
  Xa as je,
  Xb as Gh,
  Y as vi,
  Ya as Tt,
  Yb as Yh,
  Z as Na,
  Za as wl,
  Zb as wv,
  _ as Qt,
  _a as yv,
  _b as Kh,
  a as Bt,
  aa as px,
  ab as Wh,
  ac as Zh,
  b as ni,
  ba as ge,
  bb as kl,
  bc as Vx,
  ca as mv,
  cb as _v,
  cc as Yi,
  d as Ni,
  da as Ht,
  db as Mx,
  dc as Qh,
  e as lx,
  ea as It,
  eb as ys,
  ec as jx,
  f as sv,
  fa as jh,
  fb as ru,
  fc as qx,
  g as La,
  ga as gv,
  gb as au,
  gc as pi,
  h as cx,
  ha as eu,
  hb as Bi,
  hc as cu,
  i as Dr,
  ia as Ae,
  ib as Fn,
  ic as uu,
  j as lv,
  ja as Ve,
  jb as Ax,
  jc as yo,
  k as Zc,
  ka as Oe,
  kb as xv,
  kc as Ux,
  l as Se,
  la as gs,
  lb as pr,
  lc as El,
  m as Gi,
  ma as mx,
  mb as yi,
  mc as Hx,
  n as pa,
  na as vs,
  nb as Kn,
  nc as Wx,
  o as gn,
  oa as Mr,
  ob as _s,
  oc as Ne,
  p as qt,
  pa as gx,
  pb as Ze,
  pc as $x,
  q as fs,
  qa as $r,
  qb as Ba,
  qc as du,
  r as ma,
  ra as wn,
  rb as Gr,
  rc as Gx,
  s as ux,
  sa as kn,
  sb as Ix,
  sc as Yx,
  t as re,
  ta as vv,
  tb as Rx,
  tc as hu,
  u as Tr,
  ua as bv,
  ub as Ox,
  uc as Jh,
  v as hr,
  va as nr,
  vb as se,
  vc as Kx,
  w as Qc,
  wa as yl,
  wb as de,
  wc as kv,
  x as ps,
  xa as ga,
  xb as ri,
  xc as Xx,
  y as cv,
  ya as vx,
  yb as $h,
  yc as Zx,
  z as zh,
  za as qh,
  zb as Ar,
  zc as tf,
} from './chunk-QWS3MURL.js';
var E0 = Ni(($o) => {
  'use strict';
  Object.defineProperty($o, '__esModule', { value: !0 });
  var C0 = (function () {
    function e(t, n, i) {
      (this.source = t), (this.target = n), (this.type = i);
    }
    return e;
  })();
  $o.PowerEdge = C0;
  var ST = (function () {
    function e(t, n, i, r) {
      var a = this;
      if (
        ((this.linkAccessor = i),
        (this.modules = new Array(t)),
        (this.roots = []),
        r)
      )
        this.initModulesFromGroup(r);
      else {
        this.roots.push(new Ec());
        for (var o = 0; o < t; ++o)
          this.roots[0].add((this.modules[o] = new Kd(o)));
      }
      (this.R = n.length),
        n.forEach(function (s) {
          var l = a.modules[i.getSourceIndex(s)],
            c = a.modules[i.getTargetIndex(s)],
            u = i.getType(s);
          l.outgoing.add(u, c), c.incoming.add(u, l);
        });
    }
    return (
      (e.prototype.initModulesFromGroup = function (t) {
        var n = new Ec();
        this.roots.push(n);
        for (var i = 0; i < t.leaves.length; ++i) {
          var r = t.leaves[i],
            a = new Kd(r.id);
          (this.modules[r.id] = a), n.add(a);
        }
        if (t.groups)
          for (var o = 0; o < t.groups.length; ++o) {
            var s = t.groups[o],
              l = {};
            for (var c in s)
              c !== 'leaves' &&
                c !== 'groups' &&
                s.hasOwnProperty(c) &&
                (l[c] = s[c]);
            n.add(
              new Kd(
                -1 - o,
                new Xd(),
                new Xd(),
                this.initModulesFromGroup(s),
                l
              )
            );
          }
        return n;
      }),
      (e.prototype.merge = function (t, n, i) {
        i === void 0 && (i = 0);
        var r = t.incoming.intersection(n.incoming),
          a = t.outgoing.intersection(n.outgoing),
          o = new Ec();
        o.add(t), o.add(n);
        var s = new Kd(this.modules.length, a, r, o);
        this.modules.push(s);
        var l = function (c, u, d) {
          c.forAll(function (h, p) {
            h.forAll(function (m) {
              var _ = m[u];
              _.add(p, s),
                _.remove(p, t),
                _.remove(p, n),
                t[d].remove(p, m),
                n[d].remove(p, m);
            });
          });
        };
        return (
          l(a, 'incoming', 'outgoing'),
          l(r, 'outgoing', 'incoming'),
          (this.R -= r.count() + a.count()),
          this.roots[i].remove(t),
          this.roots[i].remove(n),
          this.roots[i].add(s),
          s
        );
      }),
      (e.prototype.rootMerges = function (t) {
        t === void 0 && (t = 0);
        for (
          var n = this.roots[t].modules(),
            i = n.length,
            r = new Array(i * (i - 1)),
            a = 0,
            o = 0,
            s = i - 1;
          o < s;
          ++o
        )
          for (var l = o + 1; l < i; ++l) {
            var c = n[o],
              u = n[l];
            (r[a] = { id: a, nEdges: this.nEdges(c, u), a: c, b: u }), a++;
          }
        return r;
      }),
      (e.prototype.greedyMerge = function () {
        for (var t = 0; t < this.roots.length; ++t)
          if (!(this.roots[t].modules().length < 2)) {
            var n = this.rootMerges(t).sort(function (r, a) {
                return r.nEdges == a.nEdges ? r.id - a.id : r.nEdges - a.nEdges;
              }),
              i = n[0];
            if (!(i.nEdges >= this.R)) return this.merge(i.a, i.b, t), !0;
          }
      }),
      (e.prototype.nEdges = function (t, n) {
        var i = t.incoming.intersection(n.incoming),
          r = t.outgoing.intersection(n.outgoing);
        return this.R - i.count() - r.count();
      }),
      (e.prototype.getGroupHierarchy = function (t) {
        var n = this,
          i = [],
          r = {};
        DT(this.roots[0], r, i);
        var a = this.allEdges();
        return (
          a.forEach(function (o) {
            var s = n.modules[o.source],
              l = n.modules[o.target];
            t.push(
              new C0(
                typeof s.gid > 'u' ? o.source : i[s.gid],
                typeof l.gid > 'u' ? o.target : i[l.gid],
                o.type
              )
            );
          }),
          i
        );
      }),
      (e.prototype.allEdges = function () {
        var t = [];
        return e.getEdges(this.roots[0], t), t;
      }),
      (e.getEdges = function (t, n) {
        t.forAll(function (i) {
          i.getEdges(n), e.getEdges(i.children, n);
        });
      }),
      e
    );
  })();
  $o.Configuration = ST;
  function DT(e, t, n) {
    e.forAll(function (i) {
      if (i.isLeaf()) t.leaves || (t.leaves = []), t.leaves.push(i.id);
      else {
        var r = t;
        if (((i.gid = n.length), !i.isIsland() || i.isPredefined())) {
          if (((r = { id: i.gid }), i.isPredefined()))
            for (var a in i.definition) r[a] = i.definition[a];
          t.groups || (t.groups = []), t.groups.push(i.gid), n.push(r);
        }
        DT(i.children, r, n);
      }
    });
  }
  var Kd = (function () {
    function e(t, n, i, r, a) {
      n === void 0 && (n = new Xd()),
        i === void 0 && (i = new Xd()),
        r === void 0 && (r = new Ec()),
        (this.id = t),
        (this.outgoing = n),
        (this.incoming = i),
        (this.children = r),
        (this.definition = a);
    }
    return (
      (e.prototype.getEdges = function (t) {
        var n = this;
        this.outgoing.forAll(function (i, r) {
          i.forAll(function (a) {
            t.push(new C0(n.id, a.id, r));
          });
        });
      }),
      (e.prototype.isLeaf = function () {
        return this.children.count() === 0;
      }),
      (e.prototype.isIsland = function () {
        return this.outgoing.count() === 0 && this.incoming.count() === 0;
      }),
      (e.prototype.isPredefined = function () {
        return typeof this.definition < 'u';
      }),
      e
    );
  })();
  $o.Module = Kd;
  function P4(e, t) {
    var n = {};
    for (var i in e) i in t && (n[i] = e[i]);
    return n;
  }
  var Ec = (function () {
    function e() {
      this.table = {};
    }
    return (
      (e.prototype.count = function () {
        return Object.keys(this.table).length;
      }),
      (e.prototype.intersection = function (t) {
        var n = new e();
        return (n.table = P4(this.table, t.table)), n;
      }),
      (e.prototype.intersectionCount = function (t) {
        return this.intersection(t).count();
      }),
      (e.prototype.contains = function (t) {
        return t in this.table;
      }),
      (e.prototype.add = function (t) {
        this.table[t.id] = t;
      }),
      (e.prototype.remove = function (t) {
        delete this.table[t.id];
      }),
      (e.prototype.forAll = function (t) {
        for (var n in this.table) t(this.table[n]);
      }),
      (e.prototype.modules = function () {
        var t = [];
        return (
          this.forAll(function (n) {
            n.isPredefined() || t.push(n);
          }),
          t
        );
      }),
      e
    );
  })();
  $o.ModuleSet = Ec;
  var Xd = (function () {
    function e() {
      (this.sets = {}), (this.n = 0);
    }
    return (
      (e.prototype.count = function () {
        return this.n;
      }),
      (e.prototype.contains = function (t) {
        var n = !1;
        return (
          this.forAllModules(function (i) {
            !n && i.id == t && (n = !0);
          }),
          n
        );
      }),
      (e.prototype.add = function (t, n) {
        var i = t in this.sets ? this.sets[t] : (this.sets[t] = new Ec());
        i.add(n), ++this.n;
      }),
      (e.prototype.remove = function (t, n) {
        var i = this.sets[t];
        i.remove(n), i.count() === 0 && delete this.sets[t], --this.n;
      }),
      (e.prototype.forAll = function (t) {
        for (var n in this.sets) t(this.sets[n], Number(n));
      }),
      (e.prototype.forAllModules = function (t) {
        this.forAll(function (n, i) {
          return n.forAll(t);
        });
      }),
      (e.prototype.intersection = function (t) {
        var n = new e();
        return (
          this.forAll(function (i, r) {
            if (r in t.sets) {
              var a = i.intersection(t.sets[r]),
                o = a.count();
              o > 0 && ((n.sets[r] = a), (n.n += o));
            }
          }),
          n
        );
      }),
      e
    );
  })();
  $o.LinkSets = Xd;
  function L4(e, t, n, i) {
    for (var r = e.length, a = new ST(r, t, n, i); a.greedyMerge(); );
    var o = [],
      s = a.getGroupHierarchy(o);
    return (
      o.forEach(function (l) {
        var c = function (u) {
          var d = l[u];
          typeof d == 'number' && (l[u] = e[d]);
        };
        c('source'), c('target');
      }),
      { groups: s, powerEdges: o }
    );
  }
  $o.getGroups = L4;
});
var wm = Ni((Sc) => {
  'use strict';
  Object.defineProperty(Sc, '__esModule', { value: !0 });
  function TT(e, t) {
    var n = {};
    for (var i in e) n[i] = {};
    for (var i in t) n[i] = {};
    return Object.keys(n).length;
  }
  function MT(e, t) {
    var n = 0;
    for (var i in e) typeof t[i] < 'u' && ++n;
    return n;
  }
  function N4(e, t) {
    var n = {},
      i = function (r, a) {
        typeof n[r] > 'u' && (n[r] = {}), (n[r][a] = {});
      };
    return (
      e.forEach(function (r) {
        var a = t.getSourceIndex(r),
          o = t.getTargetIndex(r);
        i(a, o), i(o, a);
      }),
      n
    );
  }
  function AT(e, t, n, i) {
    var r = N4(e, i);
    e.forEach(function (a) {
      var o = r[i.getSourceIndex(a)],
        s = r[i.getTargetIndex(a)];
      i.setLength(a, 1 + t * n(o, s));
    });
  }
  function F4(e, t, n) {
    n === void 0 && (n = 1),
      AT(
        e,
        n,
        function (i, r) {
          return Math.sqrt(TT(i, r) - MT(i, r));
        },
        t
      );
  }
  Sc.symmetricDiffLinkLengths = F4;
  function B4(e, t, n) {
    n === void 0 && (n = 1),
      AT(
        e,
        n,
        function (i, r) {
          return Math.min(Object.keys(i).length, Object.keys(r).length) < 1.1
            ? 0
            : MT(i, r) / TT(i, r);
        },
        t
      );
  }
  Sc.jaccardLinkLengths = B4;
  function z4(e, t, n, i) {
    var r = IT(e, t, i),
      a = {};
    r.forEach(function (s, l) {
      return s.forEach(function (c) {
        return (a[c] = l);
      });
    });
    var o = [];
    return (
      t.forEach(function (s) {
        var l = i.getSourceIndex(s),
          c = i.getTargetIndex(s),
          u = a[l],
          d = a[c];
        u !== d &&
          o.push({ axis: n, left: l, right: c, gap: i.getMinSeparation(s) });
      }),
      o
    );
  }
  Sc.generateDirectedEdgeConstraints = z4;
  function IT(e, t, n) {
    var i = [],
      r = 0,
      a = [],
      o = [];
    function s(y) {
      (y.index = y.lowlink = r++), a.push(y), (y.onStack = !0);
      for (var w = 0, x = y.out; w < x.length; w++) {
        var C = x[w];
        typeof C.index > 'u'
          ? (s(C), (y.lowlink = Math.min(y.lowlink, C.lowlink)))
          : C.onStack && (y.lowlink = Math.min(y.lowlink, C.index));
      }
      if (y.lowlink === y.index) {
        for (
          var S = [];
          a.length && ((C = a.pop()), (C.onStack = !1), S.push(C), C !== y);

        );
        o.push(
          S.map(function (g) {
            return g.id;
          })
        );
      }
    }
    for (var l = 0; l < e; l++) i.push({ id: l, out: [] });
    for (var c = 0, u = t; c < u.length; c++) {
      var d = u[c],
        h = i[n.getSourceIndex(d)],
        p = i[n.getTargetIndex(d)];
      h.out.push(p);
    }
    for (var m = 0, _ = i; m < _.length; m++) {
      var v = _[m];
      typeof v.index > 'u' && s(v);
    }
    return o;
  }
  Sc.stronglyConnectedComponents = IT;
});
var km = Ni((Zd) => {
  'use strict';
  Object.defineProperty(Zd, '__esModule', { value: !0 });
  var RT = (function () {
    function e() {
      this.locks = {};
    }
    return (
      (e.prototype.add = function (t, n) {
        this.locks[t] = n;
      }),
      (e.prototype.clear = function () {
        this.locks = {};
      }),
      (e.prototype.isEmpty = function () {
        for (var t in this.locks) return !1;
        return !0;
      }),
      (e.prototype.apply = function (t) {
        for (var n in this.locks) t(Number(n), this.locks[n]);
      }),
      e
    );
  })();
  Zd.Locks = RT;
  var V4 = (function () {
    function e(t, n, i) {
      i === void 0 && (i = null),
        (this.D = n),
        (this.G = i),
        (this.threshold = 1e-4),
        (this.numGridSnapNodes = 0),
        (this.snapGridSize = 100),
        (this.snapStrength = 1e3),
        (this.scaleSnapByMaxH = !1),
        (this.random = new OT()),
        (this.project = null),
        (this.x = t),
        (this.k = t.length);
      var r = (this.n = t[0].length);
      (this.H = new Array(this.k)),
        (this.g = new Array(this.k)),
        (this.Hd = new Array(this.k)),
        (this.a = new Array(this.k)),
        (this.b = new Array(this.k)),
        (this.c = new Array(this.k)),
        (this.d = new Array(this.k)),
        (this.e = new Array(this.k)),
        (this.ia = new Array(this.k)),
        (this.ib = new Array(this.k)),
        (this.xtmp = new Array(this.k)),
        (this.locks = new RT()),
        (this.minD = Number.MAX_VALUE);
      for (var a = r, o; a--; )
        for (o = r; --o > a; ) {
          var s = n[a][o];
          s > 0 && s < this.minD && (this.minD = s);
        }
      for (
        this.minD === Number.MAX_VALUE && (this.minD = 1), a = this.k;
        a--;

      ) {
        for (this.g[a] = new Array(r), this.H[a] = new Array(r), o = r; o--; )
          this.H[a][o] = new Array(r);
        (this.Hd[a] = new Array(r)),
          (this.a[a] = new Array(r)),
          (this.b[a] = new Array(r)),
          (this.c[a] = new Array(r)),
          (this.d[a] = new Array(r)),
          (this.e[a] = new Array(r)),
          (this.ia[a] = new Array(r)),
          (this.ib[a] = new Array(r)),
          (this.xtmp[a] = new Array(r));
      }
    }
    return (
      (e.createSquareMatrix = function (t, n) {
        for (var i = new Array(t), r = 0; r < t; ++r) {
          i[r] = new Array(t);
          for (var a = 0; a < t; ++a) i[r][a] = n(r, a);
        }
        return i;
      }),
      (e.prototype.offsetDir = function () {
        for (
          var t = this, n = new Array(this.k), i = 0, r = 0;
          r < this.k;
          ++r
        ) {
          var a = (n[r] = this.random.getNextBetween(0.01, 1) - 0.5);
          i += a * a;
        }
        return (
          (i = Math.sqrt(i)),
          n.map(function (o) {
            return (o *= t.minD / i);
          })
        );
      }),
      (e.prototype.computeDerivatives = function (t) {
        var n = this,
          i = this.n;
        if (!(i < 1)) {
          for (
            var r,
              a = new Array(this.k),
              o = new Array(this.k),
              s = new Array(this.k),
              l = 0,
              c = 0;
            c < i;
            ++c
          ) {
            for (r = 0; r < this.k; ++r) s[r] = this.g[r][c] = 0;
            for (var u = 0; u < i; ++u)
              if (c !== u) {
                for (var d = i; d--; ) {
                  var h = 0;
                  for (r = 0; r < this.k; ++r) {
                    var p = (a[r] = t[r][c] - t[r][u]);
                    h += o[r] = p * p;
                  }
                  if (h > 1e-9) break;
                  var m = this.offsetDir();
                  for (r = 0; r < this.k; ++r) t[r][u] += m[r];
                }
                var _ = Math.sqrt(h),
                  v = this.D[c][u],
                  y = this.G != null ? this.G[c][u] : 1;
                if ((y > 1 && _ > v) || !isFinite(v)) {
                  for (r = 0; r < this.k; ++r) this.H[r][c][u] = 0;
                  continue;
                }
                y > 1 && (y = 1);
                var w = v * v,
                  x = (2 * y * (_ - v)) / (w * _),
                  C = _ * _ * _,
                  S = (2 * -y) / (w * C);
                for (isFinite(x) || console.log(x), r = 0; r < this.k; ++r)
                  (this.g[r][c] += a[r] * x),
                    (s[r] -= this.H[r][c][u] =
                      S * (C + v * (o[r] - h) + _ * h));
              }
            for (r = 0; r < this.k; ++r)
              l = Math.max(l, (this.H[r][c][c] = s[r]));
          }
          for (
            var g = this.snapGridSize / 2,
              D = this.snapGridSize,
              T = this.snapStrength,
              O = T / (g * g),
              R = this.numGridSnapNodes,
              c = 0;
            c < R;
            ++c
          )
            for (r = 0; r < this.k; ++r) {
              var P = this.x[r][c],
                L = P / D,
                V = L % 1,
                B = L - V,
                q = Math.abs(V),
                p =
                  q <= 0.5
                    ? P - B * D
                    : P > 0
                      ? P - (B + 1) * D
                      : P - (B - 1) * D;
              -g < p &&
                p <= g &&
                (this.scaleSnapByMaxH
                  ? ((this.g[r][c] += l * O * p), (this.H[r][c][c] += l * O))
                  : ((this.g[r][c] += O * p), (this.H[r][c][c] += O)));
            }
          this.locks.isEmpty() ||
            this.locks.apply(function (U, W) {
              for (r = 0; r < n.k; ++r)
                (n.H[r][U][U] += l), (n.g[r][U] -= l * (W[r] - t[r][U]));
            });
        }
      }),
      (e.dotProd = function (t, n) {
        for (var i = 0, r = t.length; r--; ) i += t[r] * n[r];
        return i;
      }),
      (e.rightMultiply = function (t, n, i) {
        for (var r = t.length; r--; ) i[r] = e.dotProd(t[r], n);
      }),
      (e.prototype.computeStepSize = function (t) {
        for (var n = 0, i = 0, r = 0; r < this.k; ++r)
          (n += e.dotProd(this.g[r], t[r])),
            e.rightMultiply(this.H[r], t[r], this.Hd[r]),
            (i += e.dotProd(t[r], this.Hd[r]));
        return i === 0 || !isFinite(i) ? 0 : (1 * n) / i;
      }),
      (e.prototype.reduceStress = function () {
        this.computeDerivatives(this.x);
        for (var t = this.computeStepSize(this.g), n = 0; n < this.k; ++n)
          this.takeDescentStep(this.x[n], this.g[n], t);
        return this.computeStress();
      }),
      (e.copy = function (t, n) {
        for (var i = t.length, r = n[0].length, a = 0; a < i; ++a)
          for (var o = 0; o < r; ++o) n[a][o] = t[a][o];
      }),
      (e.prototype.stepAndProject = function (t, n, i, r) {
        e.copy(t, n),
          this.takeDescentStep(n[0], i[0], r),
          this.project && this.project[0](t[0], t[1], n[0]),
          this.takeDescentStep(n[1], i[1], r),
          this.project && this.project[1](n[0], t[1], n[1]);
        for (var a = 2; a < this.k; a++) this.takeDescentStep(n[a], i[a], r);
      }),
      (e.mApply = function (t, n, i) {
        for (var r = t; r-- > 0; ) for (var a = n; a-- > 0; ) i(r, a);
      }),
      (e.prototype.matrixApply = function (t) {
        e.mApply(this.k, this.n, t);
      }),
      (e.prototype.computeNextPosition = function (t, n) {
        var i = this;
        this.computeDerivatives(t);
        var r = this.computeStepSize(this.g);
        if ((this.stepAndProject(t, n, this.g, r), this.project)) {
          this.matrixApply(function (o, s) {
            return (i.e[o][s] = t[o][s] - n[o][s]);
          });
          var a = this.computeStepSize(this.e);
          (a = Math.max(0.2, Math.min(a, 1))),
            this.stepAndProject(t, n, this.e, a);
        }
      }),
      (e.prototype.run = function (t) {
        for (var n = Number.MAX_VALUE, i = !1; !i && t-- > 0; ) {
          var r = this.rungeKutta();
          (i = Math.abs(n / r - 1) < this.threshold), (n = r);
        }
        return n;
      }),
      (e.prototype.rungeKutta = function () {
        var t = this;
        this.computeNextPosition(this.x, this.a),
          e.mid(this.x, this.a, this.ia),
          this.computeNextPosition(this.ia, this.b),
          e.mid(this.x, this.b, this.ib),
          this.computeNextPosition(this.ib, this.c),
          this.computeNextPosition(this.c, this.d);
        var n = 0;
        return (
          this.matrixApply(function (i, r) {
            var a = (t.a[i][r] + 2 * t.b[i][r] + 2 * t.c[i][r] + t.d[i][r]) / 6,
              o = t.x[i][r] - a;
            (n += o * o), (t.x[i][r] = a);
          }),
          n
        );
      }),
      (e.mid = function (t, n, i) {
        e.mApply(t.length, t[0].length, function (r, a) {
          return (i[r][a] = t[r][a] + (n[r][a] - t[r][a]) / 2);
        });
      }),
      (e.prototype.takeDescentStep = function (t, n, i) {
        for (var r = 0; r < this.n; ++r) t[r] = t[r] - i * n[r];
      }),
      (e.prototype.computeStress = function () {
        for (var t = 0, n = 0, i = this.n - 1; n < i; ++n)
          for (var r = n + 1, a = this.n; r < a; ++r) {
            for (var o = 0, s = 0; s < this.k; ++s) {
              var l = this.x[s][n] - this.x[s][r];
              o += l * l;
            }
            o = Math.sqrt(o);
            var c = this.D[n][r];
            if (isFinite(c)) {
              var u = c - o,
                d = c * c;
              t += (u * u) / d;
            }
          }
        return t;
      }),
      (e.zeroDistance = 1e-10),
      e
    );
  })();
  Zd.Descent = V4;
  var OT = (function () {
    function e(t) {
      t === void 0 && (t = 1),
        (this.seed = t),
        (this.a = 214013),
        (this.c = 2531011),
        (this.m = 2147483648),
        (this.range = 32767);
    }
    return (
      (e.prototype.getNext = function () {
        return (
          (this.seed = (this.seed * this.a + this.c) % this.m),
          (this.seed >> 16) / this.range
        );
      }),
      (e.prototype.getNextBetween = function (t, n) {
        return t + this.getNext() * (n - t);
      }),
      e
    );
  })();
  Zd.PseudoRandom = OT;
});
var Sm = Ni((io) => {
  'use strict';
  Object.defineProperty(io, '__esModule', { value: !0 });
  var PT = (function () {
    function e(t) {
      (this.scale = t), (this.AB = 0), (this.AD = 0), (this.A2 = 0);
    }
    return (
      (e.prototype.addVariable = function (t) {
        var n = this.scale / t.scale,
          i = t.offset / t.scale,
          r = t.weight;
        (this.AB += r * n * i),
          (this.AD += r * n * t.desiredPosition),
          (this.A2 += r * n * n);
      }),
      (e.prototype.getPosn = function () {
        return (this.AD - this.AB) / this.A2;
      }),
      e
    );
  })();
  io.PositionStats = PT;
  var Cm = (function () {
    function e(t, n, i, r) {
      r === void 0 && (r = !1),
        (this.left = t),
        (this.right = n),
        (this.gap = i),
        (this.equality = r),
        (this.active = !1),
        (this.unsatisfiable = !1),
        (this.left = t),
        (this.right = n),
        (this.gap = i),
        (this.equality = r);
    }
    return (
      (e.prototype.slack = function () {
        return this.unsatisfiable
          ? Number.MAX_VALUE
          : this.right.scale * this.right.position() -
              this.gap -
              this.left.scale * this.left.position();
      }),
      e
    );
  })();
  io.Constraint = Cm;
  var Em = (function () {
    function e(t, n, i) {
      n === void 0 && (n = 1),
        i === void 0 && (i = 1),
        (this.desiredPosition = t),
        (this.weight = n),
        (this.scale = i),
        (this.offset = 0);
    }
    return (
      (e.prototype.dfdv = function () {
        return 2 * this.weight * (this.position() - this.desiredPosition);
      }),
      (e.prototype.position = function () {
        return (
          (this.block.ps.scale * this.block.posn + this.offset) / this.scale
        );
      }),
      (e.prototype.visitNeighbours = function (t, n) {
        var i = function (r, a) {
          return r.active && t !== a && n(r, a);
        };
        this.cOut.forEach(function (r) {
          return i(r, r.right);
        }),
          this.cIn.forEach(function (r) {
            return i(r, r.left);
          });
      }),
      e
    );
  })();
  io.Variable = Em;
  var S0 = (function () {
    function e(t) {
      (this.vars = []),
        (t.offset = 0),
        (this.ps = new PT(t.scale)),
        this.addVariable(t);
    }
    return (
      (e.prototype.addVariable = function (t) {
        (t.block = this),
          this.vars.push(t),
          this.ps.addVariable(t),
          (this.posn = this.ps.getPosn());
      }),
      (e.prototype.updateWeightedPosition = function () {
        this.ps.AB = this.ps.AD = this.ps.A2 = 0;
        for (var t = 0, n = this.vars.length; t < n; ++t)
          this.ps.addVariable(this.vars[t]);
        this.posn = this.ps.getPosn();
      }),
      (e.prototype.compute_lm = function (t, n, i) {
        var r = this,
          a = t.dfdv();
        return (
          t.visitNeighbours(n, function (o, s) {
            var l = r.compute_lm(s, t, i);
            s === o.right
              ? ((a += l * o.left.scale), (o.lm = l))
              : ((a += l * o.right.scale), (o.lm = -l)),
              i(o);
          }),
          a / t.scale
        );
      }),
      (e.prototype.populateSplitBlock = function (t, n) {
        var i = this;
        t.visitNeighbours(n, function (r, a) {
          (a.offset = t.offset + (a === r.right ? r.gap : -r.gap)),
            i.addVariable(a),
            i.populateSplitBlock(a, t);
        });
      }),
      (e.prototype.traverse = function (t, n, i, r) {
        var a = this;
        i === void 0 && (i = this.vars[0]),
          r === void 0 && (r = null),
          i.visitNeighbours(r, function (o, s) {
            n.push(t(o)), a.traverse(t, n, s, i);
          });
      }),
      (e.prototype.findMinLM = function () {
        var t = null;
        return (
          this.compute_lm(this.vars[0], null, function (n) {
            !n.equality && (t === null || n.lm < t.lm) && (t = n);
          }),
          t
        );
      }),
      (e.prototype.findMinLMBetween = function (t, n) {
        this.compute_lm(t, null, function () {});
        var i = null;
        return (
          this.findPath(t, null, n, function (r, a) {
            !r.equality &&
              r.right === a &&
              (i === null || r.lm < i.lm) &&
              (i = r);
          }),
          i
        );
      }),
      (e.prototype.findPath = function (t, n, i, r) {
        var a = this,
          o = !1;
        return (
          t.visitNeighbours(n, function (s, l) {
            !o && (l === i || a.findPath(l, t, i, r)) && ((o = !0), r(s, l));
          }),
          o
        );
      }),
      (e.prototype.isActiveDirectedPathBetween = function (t, n) {
        if (t === n) return !0;
        for (var i = t.cOut.length; i--; ) {
          var r = t.cOut[i];
          if (r.active && this.isActiveDirectedPathBetween(r.right, n))
            return !0;
        }
        return !1;
      }),
      (e.split = function (t) {
        return (
          (t.active = !1),
          [e.createSplitBlock(t.left), e.createSplitBlock(t.right)]
        );
      }),
      (e.createSplitBlock = function (t) {
        var n = new e(t);
        return n.populateSplitBlock(t, null), n;
      }),
      (e.prototype.splitBetween = function (t, n) {
        var i = this.findMinLMBetween(t, n);
        if (i !== null) {
          var r = e.split(i);
          return { constraint: i, lb: r[0], rb: r[1] };
        }
        return null;
      }),
      (e.prototype.mergeAcross = function (t, n, i) {
        n.active = !0;
        for (var r = 0, a = t.vars.length; r < a; ++r) {
          var o = t.vars[r];
          (o.offset += i), this.addVariable(o);
        }
        this.posn = this.ps.getPosn();
      }),
      (e.prototype.cost = function () {
        for (var t = 0, n = this.vars.length; n--; ) {
          var i = this.vars[n],
            r = i.position() - i.desiredPosition;
          t += r * r * i.weight;
        }
        return t;
      }),
      e
    );
  })();
  io.Block = S0;
  var D0 = (function () {
    function e(t) {
      this.vs = t;
      var n = t.length;
      for (this.list = new Array(n); n--; ) {
        var i = new S0(t[n]);
        (this.list[n] = i), (i.blockInd = n);
      }
    }
    return (
      (e.prototype.cost = function () {
        for (var t = 0, n = this.list.length; n--; ) t += this.list[n].cost();
        return t;
      }),
      (e.prototype.insert = function (t) {
        (t.blockInd = this.list.length), this.list.push(t);
      }),
      (e.prototype.remove = function (t) {
        var n = this.list.length - 1,
          i = this.list[n];
        (this.list.length = n),
          t !== i && ((this.list[t.blockInd] = i), (i.blockInd = t.blockInd));
      }),
      (e.prototype.merge = function (t) {
        var n = t.left.block,
          i = t.right.block,
          r = t.right.offset - t.left.offset - t.gap;
        n.vars.length < i.vars.length
          ? (i.mergeAcross(n, t, r), this.remove(n))
          : (n.mergeAcross(i, t, -r), this.remove(i));
      }),
      (e.prototype.forEach = function (t) {
        this.list.forEach(t);
      }),
      (e.prototype.updateBlockPositions = function () {
        this.list.forEach(function (t) {
          return t.updateWeightedPosition();
        });
      }),
      (e.prototype.split = function (t) {
        var n = this;
        this.updateBlockPositions(),
          this.list.forEach(function (i) {
            var r = i.findMinLM();
            r !== null &&
              r.lm < T0.LAGRANGIAN_TOLERANCE &&
              ((i = r.left.block),
              S0.split(r).forEach(function (a) {
                return n.insert(a);
              }),
              n.remove(i),
              t.push(r));
          });
      }),
      e
    );
  })();
  io.Blocks = D0;
  var T0 = (function () {
    function e(t, n) {
      (this.vs = t),
        (this.cs = n),
        (this.vs = t),
        t.forEach(function (i) {
          (i.cIn = []), (i.cOut = []);
        }),
        (this.cs = n),
        n.forEach(function (i) {
          i.left.cOut.push(i), i.right.cIn.push(i);
        }),
        (this.inactive = n.map(function (i) {
          return (i.active = !1), i;
        })),
        (this.bs = null);
    }
    return (
      (e.prototype.cost = function () {
        return this.bs.cost();
      }),
      (e.prototype.setStartingPositions = function (t) {
        (this.inactive = this.cs.map(function (n) {
          return (n.active = !1), n;
        })),
          (this.bs = new D0(this.vs)),
          this.bs.forEach(function (n, i) {
            return (n.posn = t[i]);
          });
      }),
      (e.prototype.setDesiredPositions = function (t) {
        this.vs.forEach(function (n, i) {
          return (n.desiredPosition = t[i]);
        });
      }),
      (e.prototype.mostViolated = function () {
        for (
          var t = Number.MAX_VALUE,
            n = null,
            i = this.inactive,
            r = i.length,
            a = r,
            o = 0;
          o < r;
          ++o
        ) {
          var s = i[o];
          if (!s.unsatisfiable) {
            var l = s.slack();
            if (
              (s.equality || l < t) &&
              ((t = l), (n = s), (a = o), s.equality)
            )
              break;
          }
        }
        return (
          a !== r &&
            ((t < e.ZERO_UPPERBOUND && !n.active) || n.equality) &&
            ((i[a] = i[r - 1]), (i.length = r - 1)),
          n
        );
      }),
      (e.prototype.satisfy = function () {
        this.bs == null && (this.bs = new D0(this.vs)),
          this.bs.split(this.inactive);
        for (
          var t = null;
          (t = this.mostViolated()) &&
          (t.equality || (t.slack() < e.ZERO_UPPERBOUND && !t.active));

        ) {
          var n = t.left.block,
            i = t.right.block;
          if (n !== i) this.bs.merge(t);
          else {
            if (n.isActiveDirectedPathBetween(t.right, t.left)) {
              t.unsatisfiable = !0;
              continue;
            }
            var r = n.splitBetween(t.left, t.right);
            if (r !== null)
              this.bs.insert(r.lb),
                this.bs.insert(r.rb),
                this.bs.remove(n),
                this.inactive.push(r.constraint);
            else {
              t.unsatisfiable = !0;
              continue;
            }
            t.slack() >= 0 ? this.inactive.push(t) : this.bs.merge(t);
          }
        }
      }),
      (e.prototype.solve = function () {
        this.satisfy();
        for (
          var t = Number.MAX_VALUE, n = this.bs.cost();
          Math.abs(t - n) > 1e-4;

        )
          this.satisfy(), (t = n), (n = this.bs.cost());
        return n;
      }),
      (e.LAGRANGIAN_TOLERANCE = -1e-4),
      (e.ZERO_UPPERBOUND = -1e-10),
      e
    );
  })();
  io.Solver = T0;
  function j4(e, t, n) {
    for (
      var i = e.map(function (v) {
          return new Em(v.desiredCenter);
        }),
        r = [],
        a = e.length,
        o = 0;
      o < a - 1;
      o++
    ) {
      var s = e[o],
        l = e[o + 1];
      r.push(new Cm(i[o], i[o + 1], (s.size + l.size) / 2));
    }
    var c = i[0],
      u = i[a - 1],
      d = e[0].size / 2,
      h = e[a - 1].size / 2,
      p = null,
      m = null;
    t && ((p = new Em(t, c.weight * 1e3)), i.push(p), r.push(new Cm(p, c, d))),
      n &&
        ((m = new Em(n, u.weight * 1e3)), i.push(m), r.push(new Cm(u, m, h)));
    var _ = new T0(i, r);
    return (
      _.solve(),
      {
        newCenters: i.slice(0, e.length).map(function (v) {
          return v.position();
        }),
        lowerBound: p ? p.position() : c.position() - d,
        upperBound: m ? m.position() : u.position() + h,
      }
    );
  }
  io.removeOverlapInOneDimension = j4;
});
var M0 = Ni((al) => {
  'use strict';
  var q4 =
    (al && al.__extends) ||
    (function () {
      var e = function (t, n) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, r) {
                i.__proto__ = r;
              }) ||
            function (i, r) {
              for (var a in r) r.hasOwnProperty(a) && (i[a] = r[a]);
            }),
          e(t, n)
        );
      };
      return function (t, n) {
        e(t, n);
        function i() {
          this.constructor = t;
        }
        t.prototype =
          n === null
            ? Object.create(n)
            : ((i.prototype = n.prototype), new i());
      };
    })();
  Object.defineProperty(al, '__esModule', { value: !0 });
  var LT = (function () {
    function e() {
      this.findIter = function (t) {
        for (var n = this._root, i = this.iterator(); n !== null; ) {
          var r = this._comparator(t, n.data);
          if (r === 0) return (i._cursor = n), i;
          i._ancestors.push(n), (n = n.get_child(r > 0));
        }
        return null;
      };
    }
    return (
      (e.prototype.clear = function () {
        (this._root = null), (this.size = 0);
      }),
      (e.prototype.find = function (t) {
        for (var n = this._root; n !== null; ) {
          var i = this._comparator(t, n.data);
          if (i === 0) return n.data;
          n = n.get_child(i > 0);
        }
        return null;
      }),
      (e.prototype.lowerBound = function (t) {
        return this._bound(t, this._comparator);
      }),
      (e.prototype.upperBound = function (t) {
        var n = this._comparator;
        function i(r, a) {
          return n(a, r);
        }
        return this._bound(t, i);
      }),
      (e.prototype.min = function () {
        var t = this._root;
        if (t === null) return null;
        for (; t.left !== null; ) t = t.left;
        return t.data;
      }),
      (e.prototype.max = function () {
        var t = this._root;
        if (t === null) return null;
        for (; t.right !== null; ) t = t.right;
        return t.data;
      }),
      (e.prototype.iterator = function () {
        return new NT(this);
      }),
      (e.prototype.each = function (t) {
        for (var n = this.iterator(), i; (i = n.next()) !== null; ) t(i);
      }),
      (e.prototype.reach = function (t) {
        for (var n = this.iterator(), i; (i = n.prev()) !== null; ) t(i);
      }),
      (e.prototype._bound = function (t, n) {
        for (var i = this._root, r = this.iterator(); i !== null; ) {
          var a = this._comparator(t, i.data);
          if (a === 0) return (r._cursor = i), r;
          r._ancestors.push(i), (i = i.get_child(a > 0));
        }
        for (var o = r._ancestors.length - 1; o >= 0; --o)
          if (((i = r._ancestors[o]), n(t, i.data) > 0))
            return (r._cursor = i), (r._ancestors.length = o), r;
        return (r._ancestors.length = 0), r;
      }),
      e
    );
  })();
  al.TreeBase = LT;
  var NT = (function () {
    function e(t) {
      (this._tree = t), (this._ancestors = []), (this._cursor = null);
    }
    return (
      (e.prototype.data = function () {
        return this._cursor !== null ? this._cursor.data : null;
      }),
      (e.prototype.next = function () {
        if (this._cursor === null) {
          var t = this._tree._root;
          t !== null && this._minNode(t);
        } else if (this._cursor.right === null) {
          var n;
          do
            if (((n = this._cursor), this._ancestors.length))
              this._cursor = this._ancestors.pop();
            else {
              this._cursor = null;
              break;
            }
          while (this._cursor.right === n);
        } else
          this._ancestors.push(this._cursor), this._minNode(this._cursor.right);
        return this._cursor !== null ? this._cursor.data : null;
      }),
      (e.prototype.prev = function () {
        if (this._cursor === null) {
          var t = this._tree._root;
          t !== null && this._maxNode(t);
        } else if (this._cursor.left === null) {
          var n;
          do
            if (((n = this._cursor), this._ancestors.length))
              this._cursor = this._ancestors.pop();
            else {
              this._cursor = null;
              break;
            }
          while (this._cursor.left === n);
        } else
          this._ancestors.push(this._cursor), this._maxNode(this._cursor.left);
        return this._cursor !== null ? this._cursor.data : null;
      }),
      (e.prototype._minNode = function (t) {
        for (; t.left !== null; ) this._ancestors.push(t), (t = t.left);
        this._cursor = t;
      }),
      (e.prototype._maxNode = function (t) {
        for (; t.right !== null; ) this._ancestors.push(t), (t = t.right);
        this._cursor = t;
      }),
      e
    );
  })();
  al.Iterator = NT;
  var Dm = (function () {
      function e(t) {
        (this.data = t),
          (this.left = null),
          (this.right = null),
          (this.red = !0);
      }
      return (
        (e.prototype.get_child = function (t) {
          return t ? this.right : this.left;
        }),
        (e.prototype.set_child = function (t, n) {
          t ? (this.right = n) : (this.left = n);
        }),
        e
      );
    })(),
    U4 = (function (e) {
      q4(t, e);
      function t(n) {
        var i = e.call(this) || this;
        return (i._root = null), (i._comparator = n), (i.size = 0), i;
      }
      return (
        (t.prototype.insert = function (n) {
          var i = !1;
          if (this._root === null)
            (this._root = new Dm(n)), (i = !0), this.size++;
          else {
            var r = new Dm(void 0),
              a = !1,
              o = !1,
              s = null,
              l = r,
              c = null,
              u = this._root;
            for (l.right = this._root; ; ) {
              if (
                (u === null
                  ? ((u = new Dm(n)), c.set_child(a, u), (i = !0), this.size++)
                  : t.is_red(u.left) &&
                    t.is_red(u.right) &&
                    ((u.red = !0), (u.left.red = !1), (u.right.red = !1)),
                t.is_red(u) && t.is_red(c))
              ) {
                var d = l.right === s;
                u === c.get_child(o)
                  ? l.set_child(d, t.single_rotate(s, !o))
                  : l.set_child(d, t.double_rotate(s, !o));
              }
              var h = this._comparator(u.data, n);
              if (h === 0) break;
              (o = a),
                (a = h < 0),
                s !== null && (l = s),
                (s = c),
                (c = u),
                (u = u.get_child(a));
            }
            this._root = r.right;
          }
          return (this._root.red = !1), i;
        }),
        (t.prototype.remove = function (n) {
          if (this._root === null) return !1;
          var i = new Dm(void 0),
            r = i;
          r.right = this._root;
          for (
            var a = null, o = null, s = null, l = !0;
            r.get_child(l) !== null;

          ) {
            var c = l;
            (o = a), (a = r), (r = r.get_child(l));
            var u = this._comparator(n, r.data);
            if (
              ((l = u > 0),
              u === 0 && (s = r),
              !t.is_red(r) && !t.is_red(r.get_child(l)))
            ) {
              if (t.is_red(r.get_child(!l))) {
                var d = t.single_rotate(r, l);
                a.set_child(c, d), (a = d);
              } else if (!t.is_red(r.get_child(!l))) {
                var h = a.get_child(!c);
                if (h !== null)
                  if (!t.is_red(h.get_child(!c)) && !t.is_red(h.get_child(c)))
                    (a.red = !1), (h.red = !0), (r.red = !0);
                  else {
                    var p = o.right === a;
                    t.is_red(h.get_child(c))
                      ? o.set_child(p, t.double_rotate(a, c))
                      : t.is_red(h.get_child(!c)) &&
                        o.set_child(p, t.single_rotate(a, c));
                    var m = o.get_child(p);
                    (m.red = !0),
                      (r.red = !0),
                      (m.left.red = !1),
                      (m.right.red = !1);
                  }
              }
            }
          }
          return (
            s !== null &&
              ((s.data = r.data),
              a.set_child(a.right === r, r.get_child(r.left === null)),
              this.size--),
            (this._root = i.right),
            this._root !== null && (this._root.red = !1),
            s !== null
          );
        }),
        (t.is_red = function (n) {
          return n !== null && n.red;
        }),
        (t.single_rotate = function (n, i) {
          var r = n.get_child(!i);
          return (
            n.set_child(!i, r.get_child(i)),
            r.set_child(i, n),
            (n.red = !0),
            (r.red = !1),
            r
          );
        }),
        (t.double_rotate = function (n, i) {
          return (
            n.set_child(!i, t.single_rotate(n.get_child(!i), !i)),
            t.single_rotate(n, i)
          );
        }),
        t
      );
    })(LT);
  al.RBTree = U4;
});
var Dc = Ni((tr) => {
  'use strict';
  var H4 =
    (tr && tr.__extends) ||
    (function () {
      var e = function (t, n) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, r) {
                i.__proto__ = r;
              }) ||
            function (i, r) {
              for (var a in r) r.hasOwnProperty(a) && (i[a] = r[a]);
            }),
          e(t, n)
        );
      };
      return function (t, n) {
        e(t, n);
        function i() {
          this.constructor = t;
        }
        t.prototype =
          n === null
            ? Object.create(n)
            : ((i.prototype = n.prototype), new i());
      };
    })();
  Object.defineProperty(tr, '__esModule', { value: !0 });
  var no = Sm(),
    W4 = M0();
  function Qd(e) {
    return (
      (e.bounds =
        typeof e.leaves < 'u'
          ? e.leaves.reduce(function (t, n) {
              return n.bounds.union(t);
            }, Go.empty())
          : Go.empty()),
      typeof e.groups < 'u' &&
        (e.bounds = e.groups.reduce(function (t, n) {
          return Qd(n).union(t);
        }, e.bounds)),
      (e.bounds = e.bounds.inflate(e.padding)),
      e.bounds
    );
  }
  tr.computeGroupBounds = Qd;
  var Go = (function () {
    function e(t, n, i, r) {
      (this.x = t), (this.X = n), (this.y = i), (this.Y = r);
    }
    return (
      (e.empty = function () {
        return new e(
          Number.POSITIVE_INFINITY,
          Number.NEGATIVE_INFINITY,
          Number.POSITIVE_INFINITY,
          Number.NEGATIVE_INFINITY
        );
      }),
      (e.prototype.cx = function () {
        return (this.x + this.X) / 2;
      }),
      (e.prototype.cy = function () {
        return (this.y + this.Y) / 2;
      }),
      (e.prototype.overlapX = function (t) {
        var n = this.cx(),
          i = t.cx();
        return n <= i && t.x < this.X
          ? this.X - t.x
          : i <= n && this.x < t.X
            ? t.X - this.x
            : 0;
      }),
      (e.prototype.overlapY = function (t) {
        var n = this.cy(),
          i = t.cy();
        return n <= i && t.y < this.Y
          ? this.Y - t.y
          : i <= n && this.y < t.Y
            ? t.Y - this.y
            : 0;
      }),
      (e.prototype.setXCentre = function (t) {
        var n = t - this.cx();
        (this.x += n), (this.X += n);
      }),
      (e.prototype.setYCentre = function (t) {
        var n = t - this.cy();
        (this.y += n), (this.Y += n);
      }),
      (e.prototype.width = function () {
        return this.X - this.x;
      }),
      (e.prototype.height = function () {
        return this.Y - this.y;
      }),
      (e.prototype.union = function (t) {
        return new e(
          Math.min(this.x, t.x),
          Math.max(this.X, t.X),
          Math.min(this.y, t.y),
          Math.max(this.Y, t.Y)
        );
      }),
      (e.prototype.lineIntersections = function (t, n, i, r) {
        for (
          var a = [
              [this.x, this.y, this.X, this.y],
              [this.X, this.y, this.X, this.Y],
              [this.X, this.Y, this.x, this.Y],
              [this.x, this.Y, this.x, this.y],
            ],
            o = [],
            s = 0;
          s < 4;
          ++s
        ) {
          var l = e.lineIntersection(
            t,
            n,
            i,
            r,
            a[s][0],
            a[s][1],
            a[s][2],
            a[s][3]
          );
          l !== null && o.push({ x: l.x, y: l.y });
        }
        return o;
      }),
      (e.prototype.rayIntersection = function (t, n) {
        var i = this.lineIntersections(this.cx(), this.cy(), t, n);
        return i.length > 0 ? i[0] : null;
      }),
      (e.prototype.vertices = function () {
        return [
          { x: this.x, y: this.y },
          { x: this.X, y: this.y },
          { x: this.X, y: this.Y },
          { x: this.x, y: this.Y },
        ];
      }),
      (e.lineIntersection = function (t, n, i, r, a, o, s, l) {
        var c = i - t,
          u = s - a,
          d = r - n,
          h = l - o,
          p = h * c - u * d;
        if (p == 0) return null;
        var m = t - a,
          _ = n - o,
          v = u * _ - h * m,
          y = v / p,
          w = c * _ - d * m,
          x = w / p;
        return y >= 0 && y <= 1 && x >= 0 && x <= 1
          ? { x: t + y * c, y: n + y * d }
          : null;
      }),
      (e.prototype.inflate = function (t) {
        return new e(this.x - t, this.X + t, this.y - t, this.Y + t);
      }),
      e
    );
  })();
  tr.Rectangle = Go;
  function $4(e, t, n) {
    var i = e.rayIntersection(t.cx(), t.cy()) || { x: e.cx(), y: e.cy() },
      r = t.rayIntersection(e.cx(), e.cy()) || { x: t.cx(), y: t.cy() },
      a = r.x - i.x,
      o = r.y - i.y,
      s = Math.sqrt(a * a + o * o),
      l = s - n;
    return {
      sourceIntersection: i,
      targetIntersection: r,
      arrowStart: { x: i.x + (l * a) / s, y: i.y + (l * o) / s },
    };
  }
  tr.makeEdgeBetween = $4;
  function G4(e, t, n) {
    var i = t.rayIntersection(e.x, e.y);
    i || (i = { x: t.cx(), y: t.cy() });
    var r = i.x - e.x,
      a = i.y - e.y,
      o = Math.sqrt(r * r + a * a);
    return { x: i.x - (n * r) / o, y: i.y - (n * a) / o };
  }
  tr.makeEdgeTo = G4;
  var Y4 = (function () {
      function e(t, n, i) {
        (this.v = t),
          (this.r = n),
          (this.pos = i),
          (this.prev = A0()),
          (this.next = A0());
      }
      return e;
    })(),
    FT = (function () {
      function e(t, n, i) {
        (this.isOpen = t), (this.v = n), (this.pos = i);
      }
      return e;
    })();
  function K4(e, t) {
    return e.pos > t.pos
      ? 1
      : e.pos < t.pos || e.isOpen
        ? -1
        : t.isOpen
          ? 1
          : 0;
  }
  function A0() {
    return new W4.RBTree(function (e, t) {
      return e.pos - t.pos;
    });
  }
  var BT = {
      getCentre: function (e) {
        return e.cx();
      },
      getOpen: function (e) {
        return e.y;
      },
      getClose: function (e) {
        return e.Y;
      },
      getSize: function (e) {
        return e.width();
      },
      makeRect: function (e, t, n, i) {
        return new Go(n - i / 2, n + i / 2, e, t);
      },
      findNeighbours: X4,
    },
    zT = {
      getCentre: function (e) {
        return e.cy();
      },
      getOpen: function (e) {
        return e.x;
      },
      getClose: function (e) {
        return e.X;
      },
      getSize: function (e) {
        return e.height();
      },
      makeRect: function (e, t, n, i) {
        return new Go(e, t, n - i / 2, n + i / 2);
      },
      findNeighbours: Z4,
    };
  function I0(e, t, n, i) {
    i === void 0 && (i = !1);
    var r = e.padding,
      a = typeof e.groups < 'u' ? e.groups.length : 0,
      o = typeof e.leaves < 'u' ? e.leaves.length : 0,
      s = a
        ? e.groups.reduce(function (S, g) {
            return S.concat(I0(g, t, n, !0));
          }, [])
        : [],
      l = (i ? 2 : 0) + o + a,
      c = new Array(l),
      u = new Array(l),
      d = 0,
      h = function (S, g) {
        (u[d] = S), (c[d++] = g);
      };
    if (i) {
      var p = e.bounds,
        m = t.getCentre(p),
        _ = t.getSize(p) / 2,
        v = t.getOpen(p),
        y = t.getClose(p),
        w = m - _ + r / 2,
        x = m + _ - r / 2;
      (e.minVar.desiredPosition = w),
        h(t.makeRect(v, y, w, r), e.minVar),
        (e.maxVar.desiredPosition = x),
        h(t.makeRect(v, y, x, r), e.maxVar);
    }
    o &&
      e.leaves.forEach(function (S) {
        return h(S.bounds, S.variable);
      }),
      a &&
        e.groups.forEach(function (S) {
          var g = S.bounds;
          h(
            t.makeRect(
              t.getOpen(g),
              t.getClose(g),
              t.getCentre(g),
              t.getSize(g)
            ),
            S.minVar
          );
        });
    var C = R0(u, c, t, n);
    return (
      a &&
        (c.forEach(function (S) {
          (S.cOut = []), (S.cIn = []);
        }),
        C.forEach(function (S) {
          S.left.cOut.push(S), S.right.cIn.push(S);
        }),
        e.groups.forEach(function (S) {
          var g = (S.padding - t.getSize(S.bounds)) / 2;
          S.minVar.cIn.forEach(function (D) {
            return (D.gap += g);
          }),
            S.minVar.cOut.forEach(function (D) {
              (D.left = S.maxVar), (D.gap += g);
            });
        })),
      s.concat(C)
    );
  }
  function R0(e, t, n, i) {
    var r,
      a = e.length,
      o = 2 * a;
    console.assert(t.length >= a);
    var s = new Array(o);
    for (r = 0; r < a; ++r) {
      var l = e[r],
        c = new Y4(t[r], l, n.getCentre(l));
      (s[r] = new FT(!0, c, n.getOpen(l))),
        (s[r + a] = new FT(!1, c, n.getClose(l)));
    }
    s.sort(K4);
    var u = new Array(),
      d = A0();
    for (r = 0; r < o; ++r) {
      var h = s[r],
        c = h.v;
      if (h.isOpen) d.insert(c), n.findNeighbours(c, d);
      else {
        d.remove(c);
        var p = function (v, y) {
            var w = (n.getSize(v.r) + n.getSize(y.r)) / 2 + i;
            u.push(new no.Constraint(v.v, y.v, w));
          },
          m = function (v, y, w) {
            for (var x, C = c[v].iterator(); (x = C[v]()) !== null; )
              w(x, c), x[y].remove(c);
          };
        m('prev', 'next', function (v, y) {
          return p(v, y);
        }),
          m('next', 'prev', function (v, y) {
            return p(y, v);
          });
      }
    }
    return console.assert(d.size === 0), u;
  }
  function X4(e, t) {
    var n = function (i, r) {
      for (var a = t.findIter(e), o; (o = a[i]()) !== null; ) {
        var s = o.r.overlapX(e.r);
        if (
          ((s <= 0 || s <= o.r.overlapY(e.r)) &&
            (e[i].insert(o), o[r].insert(e)),
          s <= 0)
        )
          break;
      }
    };
    n('next', 'prev'), n('prev', 'next');
  }
  function Z4(e, t) {
    var n = function (i, r) {
      var a = t.findIter(e)[i]();
      a !== null && a.r.overlapX(e.r) > 0 && (e[i].insert(a), a[r].insert(e));
    };
    n('next', 'prev'), n('prev', 'next');
  }
  function VT(e, t) {
    return R0(e, t, BT, 1e-6);
  }
  tr.generateXConstraints = VT;
  function jT(e, t) {
    return R0(e, t, zT, 1e-6);
  }
  tr.generateYConstraints = jT;
  function qT(e) {
    return I0(e, BT, 1e-6);
  }
  tr.generateXGroupConstraints = qT;
  function UT(e) {
    return I0(e, zT, 1e-6);
  }
  tr.generateYGroupConstraints = UT;
  function Q4(e) {
    var t = e.map(function (r) {
        return new no.Variable(r.cx());
      }),
      n = VT(e, t),
      i = new no.Solver(t, n);
    i.solve(),
      t.forEach(function (r, a) {
        return e[a].setXCentre(r.position());
      }),
      (t = e.map(function (r) {
        return new no.Variable(r.cy());
      })),
      (n = jT(e, t)),
      (i = new no.Solver(t, n)),
      i.solve(),
      t.forEach(function (r, a) {
        return e[a].setYCentre(r.position());
      });
  }
  tr.removeOverlaps = Q4;
  var Tm = (function (e) {
    H4(t, e);
    function t(n, i) {
      var r = e.call(this, 0, i) || this;
      return (r.index = n), r;
    }
    return t;
  })(no.Variable);
  tr.IndexedVariable = Tm;
  var J4 = (function () {
    function e(t, n, i, r, a) {
      var o = this;
      if (
        (i === void 0 && (i = null),
        r === void 0 && (r = null),
        a === void 0 && (a = !1),
        (this.nodes = t),
        (this.groups = n),
        (this.rootGroup = i),
        (this.avoidOverlaps = a),
        (this.variables = t.map(function (l, c) {
          return (l.variable = new Tm(c, 1));
        })),
        r && this.createConstraints(r),
        a && i && typeof i.groups < 'u')
      ) {
        t.forEach(function (l) {
          if (!l.width || !l.height) {
            l.bounds = new Go(l.x, l.x, l.y, l.y);
            return;
          }
          var c = l.width / 2,
            u = l.height / 2;
          l.bounds = new Go(l.x - c, l.x + c, l.y - u, l.y + u);
        }),
          Qd(i);
        var s = t.length;
        n.forEach(function (l) {
          (o.variables[s] = l.minVar =
            new Tm(s++, typeof l.stiffness < 'u' ? l.stiffness : 0.01)),
            (o.variables[s] = l.maxVar =
              new Tm(s++, typeof l.stiffness < 'u' ? l.stiffness : 0.01));
        });
      }
    }
    return (
      (e.prototype.createSeparation = function (t) {
        return new no.Constraint(
          this.nodes[t.left].variable,
          this.nodes[t.right].variable,
          t.gap,
          typeof t.equality < 'u' ? t.equality : !1
        );
      }),
      (e.prototype.makeFeasible = function (t) {
        var n = this;
        if (this.avoidOverlaps) {
          var i = 'x',
            r = 'width';
          t.axis === 'x' && ((i = 'y'), (r = 'height'));
          var a = t.offsets
              .map(function (s) {
                return n.nodes[s.node];
              })
              .sort(function (s, l) {
                return s[i] - l[i];
              }),
            o = null;
          a.forEach(function (s) {
            if (o) {
              var l = o[i] + o[r];
              l > s[i] && (s[i] = l);
            }
            o = s;
          });
        }
      }),
      (e.prototype.createAlignment = function (t) {
        var n = this,
          i = this.nodes[t.offsets[0].node].variable;
        this.makeFeasible(t);
        var r = t.axis === 'x' ? this.xConstraints : this.yConstraints;
        t.offsets.slice(1).forEach(function (a) {
          var o = n.nodes[a.node].variable;
          r.push(new no.Constraint(i, o, a.offset, !0));
        });
      }),
      (e.prototype.createConstraints = function (t) {
        var n = this,
          i = function (r) {
            return typeof r.type > 'u' || r.type === 'separation';
          };
        (this.xConstraints = t
          .filter(function (r) {
            return r.axis === 'x' && i(r);
          })
          .map(function (r) {
            return n.createSeparation(r);
          })),
          (this.yConstraints = t
            .filter(function (r) {
              return r.axis === 'y' && i(r);
            })
            .map(function (r) {
              return n.createSeparation(r);
            })),
          t
            .filter(function (r) {
              return r.type === 'alignment';
            })
            .forEach(function (r) {
              return n.createAlignment(r);
            });
      }),
      (e.prototype.setupVariablesAndBounds = function (t, n, i, r) {
        this.nodes.forEach(function (a, o) {
          a.fixed
            ? ((a.variable.weight = a.fixedWeight ? a.fixedWeight : 1e3),
              (i[o] = r(a)))
            : (a.variable.weight = 1);
          var s = (a.width || 0) / 2,
            l = (a.height || 0) / 2,
            c = t[o],
            u = n[o];
          a.bounds = new Go(c - s, c + s, u - l, u + l);
        });
      }),
      (e.prototype.xProject = function (t, n, i) {
        (!this.rootGroup && !(this.avoidOverlaps || this.xConstraints)) ||
          this.project(
            t,
            n,
            t,
            i,
            function (r) {
              return r.px;
            },
            this.xConstraints,
            qT,
            function (r) {
              return r.bounds.setXCentre(
                (i[r.variable.index] = r.variable.position())
              );
            },
            function (r) {
              var a = (i[r.minVar.index] = r.minVar.position()),
                o = (i[r.maxVar.index] = r.maxVar.position()),
                s = r.padding / 2;
              (r.bounds.x = a - s), (r.bounds.X = o + s);
            }
          );
      }),
      (e.prototype.yProject = function (t, n, i) {
        (!this.rootGroup && !this.yConstraints) ||
          this.project(
            t,
            n,
            n,
            i,
            function (r) {
              return r.py;
            },
            this.yConstraints,
            UT,
            function (r) {
              return r.bounds.setYCentre(
                (i[r.variable.index] = r.variable.position())
              );
            },
            function (r) {
              var a = (i[r.minVar.index] = r.minVar.position()),
                o = (i[r.maxVar.index] = r.maxVar.position()),
                s = r.padding / 2;
              (r.bounds.y = a - s), (r.bounds.Y = o + s);
            }
          );
      }),
      (e.prototype.projectFunctions = function () {
        var t = this;
        return [
          function (n, i, r) {
            return t.xProject(n, i, r);
          },
          function (n, i, r) {
            return t.yProject(n, i, r);
          },
        ];
      }),
      (e.prototype.project = function (t, n, i, r, a, o, s, l, c) {
        this.setupVariablesAndBounds(t, n, r, a),
          this.rootGroup &&
            this.avoidOverlaps &&
            (Qd(this.rootGroup), (o = o.concat(s(this.rootGroup)))),
          this.solve(this.variables, o, i, r),
          this.nodes.forEach(l),
          this.rootGroup &&
            this.avoidOverlaps &&
            (this.groups.forEach(c), Qd(this.rootGroup));
      }),
      (e.prototype.solve = function (t, n, i, r) {
        var a = new no.Solver(t, n);
        a.setStartingPositions(i), a.setDesiredPositions(r), a.solve();
      }),
      e
    );
  })();
  tr.Projection = J4;
});
var O0 = Ni((Mm) => {
  'use strict';
  Object.defineProperty(Mm, '__esModule', { value: !0 });
  var HT = (function () {
    function e(t) {
      (this.elem = t), (this.subheaps = []);
    }
    return (
      (e.prototype.toString = function (t) {
        for (var n = '', i = !1, r = 0; r < this.subheaps.length; ++r) {
          var a = this.subheaps[r];
          if (!a.elem) {
            i = !1;
            continue;
          }
          i && (n = n + ','), (n = n + a.toString(t)), (i = !0);
        }
        return (
          n !== '' && (n = '(' + n + ')'), (this.elem ? t(this.elem) : '') + n
        );
      }),
      (e.prototype.forEach = function (t) {
        this.empty() ||
          (t(this.elem, this),
          this.subheaps.forEach(function (n) {
            return n.forEach(t);
          }));
      }),
      (e.prototype.count = function () {
        return this.empty()
          ? 0
          : 1 +
              this.subheaps.reduce(function (t, n) {
                return t + n.count();
              }, 0);
      }),
      (e.prototype.min = function () {
        return this.elem;
      }),
      (e.prototype.empty = function () {
        return this.elem == null;
      }),
      (e.prototype.contains = function (t) {
        if (this === t) return !0;
        for (var n = 0; n < this.subheaps.length; n++)
          if (this.subheaps[n].contains(t)) return !0;
        return !1;
      }),
      (e.prototype.isHeap = function (t) {
        var n = this;
        return this.subheaps.every(function (i) {
          return t(n.elem, i.elem) && i.isHeap(t);
        });
      }),
      (e.prototype.insert = function (t, n) {
        return this.merge(new e(t), n);
      }),
      (e.prototype.merge = function (t, n) {
        return this.empty()
          ? t
          : t.empty()
            ? this
            : n(this.elem, t.elem)
              ? (this.subheaps.push(t), this)
              : (t.subheaps.push(this), t);
      }),
      (e.prototype.removeMin = function (t) {
        return this.empty() ? null : this.mergePairs(t);
      }),
      (e.prototype.mergePairs = function (t) {
        if (this.subheaps.length == 0) return new e(null);
        if (this.subheaps.length == 1) return this.subheaps[0];
        var n = this.subheaps.pop().merge(this.subheaps.pop(), t),
          i = this.mergePairs(t);
        return n.merge(i, t);
      }),
      (e.prototype.decreaseKey = function (t, n, i, r) {
        var a = t.removeMin(r);
        (t.elem = a.elem),
          (t.subheaps = a.subheaps),
          i !== null && a.elem !== null && i(t.elem, t);
        var o = new e(n);
        return i !== null && i(n, o), this.merge(o, r);
      }),
      e
    );
  })();
  Mm.PairingHeap = HT;
  var tU = (function () {
    function e(t) {
      this.lessThan = t;
    }
    return (
      (e.prototype.top = function () {
        return this.empty() ? null : this.root.elem;
      }),
      (e.prototype.push = function () {
        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
        for (var i, r = 0, a; (a = t[r]); ++r)
          (i = new HT(a)),
            (this.root = this.empty() ? i : this.root.merge(i, this.lessThan));
        return i;
      }),
      (e.prototype.empty = function () {
        return !this.root || !this.root.elem;
      }),
      (e.prototype.isHeap = function () {
        return this.root.isHeap(this.lessThan);
      }),
      (e.prototype.forEach = function (t) {
        this.root.forEach(t);
      }),
      (e.prototype.pop = function () {
        if (this.empty()) return null;
        var t = this.root.min();
        return (this.root = this.root.removeMin(this.lessThan)), t;
      }),
      (e.prototype.reduceKey = function (t, n, i) {
        i === void 0 && (i = null),
          (this.root = this.root.decreaseKey(t, n, i, this.lessThan));
      }),
      (e.prototype.toString = function (t) {
        return this.root.toString(t);
      }),
      (e.prototype.count = function () {
        return this.root.count();
      }),
      e
    );
  })();
  Mm.PriorityQueue = tU;
});
var Jd = Ni((P0) => {
  'use strict';
  Object.defineProperty(P0, '__esModule', { value: !0 });
  var WT = O0(),
    $T = (function () {
      function e(t, n) {
        (this.id = t), (this.distance = n);
      }
      return e;
    })(),
    eU = (function () {
      function e(t) {
        (this.id = t), (this.neighbours = []);
      }
      return e;
    })(),
    GT = (function () {
      function e(t, n, i) {
        (this.node = t), (this.prev = n), (this.d = i);
      }
      return e;
    })(),
    iU = (function () {
      function e(t, n, i, r, a) {
        (this.n = t), (this.es = n), (this.neighbours = new Array(this.n));
        for (var o = this.n; o--; ) this.neighbours[o] = new eU(o);
        for (o = this.es.length; o--; ) {
          var s = this.es[o],
            l = i(s),
            c = r(s),
            u = a(s);
          this.neighbours[l].neighbours.push(new $T(c, u)),
            this.neighbours[c].neighbours.push(new $T(l, u));
        }
      }
      return (
        (e.prototype.DistanceMatrix = function () {
          for (var t = new Array(this.n), n = 0; n < this.n; ++n)
            t[n] = this.dijkstraNeighbours(n);
          return t;
        }),
        (e.prototype.DistancesFromNode = function (t) {
          return this.dijkstraNeighbours(t);
        }),
        (e.prototype.PathFromNodeToNode = function (t, n) {
          return this.dijkstraNeighbours(t, n);
        }),
        (e.prototype.PathFromNodeToNodeWithPrevCost = function (t, n, i) {
          var r = new WT.PriorityQueue(function (_, v) {
              return _.d <= v.d;
            }),
            a = this.neighbours[t],
            o = new GT(a, null, 0),
            s = {};
          for (
            r.push(o);
            !r.empty() && ((o = r.pop()), (a = o.node), a.id !== n);

          )
            for (var l = a.neighbours.length; l--; ) {
              var c = a.neighbours[l],
                u = this.neighbours[c.id];
              if (!(o.prev && u.id === o.prev.node.id)) {
                var d = u.id + ',' + a.id;
                if (!(d in s && s[d] <= o.d)) {
                  var h = o.prev ? i(o.prev.node.id, a.id, u.id) : 0,
                    p = o.d + c.distance + h;
                  (s[d] = p), r.push(new GT(u, o, p));
                }
              }
            }
          for (var m = []; o.prev; ) (o = o.prev), m.push(o.node.id);
          return m;
        }),
        (e.prototype.dijkstraNeighbours = function (t, n) {
          n === void 0 && (n = -1);
          for (
            var i = new WT.PriorityQueue(function (h, p) {
                return h.d <= p.d;
              }),
              r = this.neighbours.length,
              a = new Array(r);
            r--;

          ) {
            var o = this.neighbours[r];
            (o.d = r === t ? 0 : Number.POSITIVE_INFINITY), (o.q = i.push(o));
          }
          for (; !i.empty(); ) {
            var s = i.pop();
            if (((a[s.id] = s.d), s.id === n)) {
              for (var l = [], c = s; typeof c.prev < 'u'; )
                l.push(c.prev.id), (c = c.prev);
              return l;
            }
            for (r = s.neighbours.length; r--; ) {
              var u = s.neighbours[r],
                c = this.neighbours[u.id],
                d = s.d + u.distance;
              s.d !== Number.MAX_VALUE &&
                c.d > d &&
                ((c.d = d),
                (c.prev = s),
                i.reduceKey(c.q, c, function (p, m) {
                  return (p.q = m);
                }));
            }
          }
          return a;
        }),
        e
      );
    })();
  P0.Calculator = iU;
});
var B0 = Ni((qi) => {
  'use strict';
  var KT =
    (qi && qi.__extends) ||
    (function () {
      var e = function (t, n) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, r) {
                i.__proto__ = r;
              }) ||
            function (i, r) {
              for (var a in r) r.hasOwnProperty(a) && (i[a] = r[a]);
            }),
          e(t, n)
        );
      };
      return function (t, n) {
        e(t, n);
        function i() {
          this.constructor = t;
        }
        t.prototype =
          n === null
            ? Object.create(n)
            : ((i.prototype = n.prototype), new i());
      };
    })();
  Object.defineProperty(qi, '__esModule', { value: !0 });
  var nU = Dc(),
    N0 = (function () {
      function e() {}
      return e;
    })();
  qi.Point = N0;
  var F0 = (function () {
    function e(t, n, i, r) {
      (this.x1 = t), (this.y1 = n), (this.x2 = i), (this.y2 = r);
    }
    return e;
  })();
  qi.LineSegment = F0;
  var rU = (function (e) {
    KT(t, e);
    function t() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return t;
  })(N0);
  qi.PolyPoint = rU;
  function yr(e, t, n) {
    return (t.x - e.x) * (n.y - e.y) - (n.x - e.x) * (t.y - e.y);
  }
  qi.isLeft = yr;
  function oa(e, t, n) {
    return yr(e, t, n) > 0;
  }
  function Fr(e, t, n) {
    return yr(e, t, n) < 0;
  }
  function aU(e) {
    var t = e.slice(0).sort(function (h, p) {
        return h.x !== p.x ? p.x - h.x : p.y - h.y;
      }),
      n = e.length,
      i,
      r = 0,
      a = t[0].x;
    for (i = 1; i < n && t[i].x === a; ++i);
    var o = i - 1,
      s = [];
    if ((s.push(t[r]), o === n - 1)) t[o].y !== t[r].y && s.push(t[o]);
    else {
      var l,
        c = n - 1,
        u = t[n - 1].x;
      for (i = n - 2; i >= 0 && t[i].x === u; i--);
      for (l = i + 1, i = o; ++i <= l; )
        if (!(yr(t[r], t[l], t[i]) >= 0 && i < l)) {
          for (
            ;
            s.length > 1 && !(yr(s[s.length - 2], s[s.length - 1], t[i]) > 0);

          )
            s.length -= 1;
          i != r && s.push(t[i]);
        }
      c != l && s.push(t[c]);
      var d = s.length;
      for (i = l; --i >= o; )
        if (!(yr(t[c], t[o], t[i]) >= 0 && i > o)) {
          for (
            ;
            s.length > d && !(yr(s[s.length - 2], s[s.length - 1], t[i]) > 0);

          )
            s.length -= 1;
          i != r && s.push(t[i]);
        }
    }
    return s;
  }
  qi.ConvexHull = aU;
  function oU(e, t, n) {
    t.slice(0)
      .sort(function (i, r) {
        return (
          Math.atan2(i.y - e.y, i.x - e.x) - Math.atan2(r.y - e.y, r.x - e.x)
        );
      })
      .forEach(n);
  }
  qi.clockwiseRadialSweep = oU;
  function sU(e, t) {
    var n = t.slice(0);
    return n.push(t[0]), { rtan: Im(e, n), ltan: Rm(e, n) };
  }
  function Im(e, t) {
    var n = t.length - 1,
      i,
      r,
      a,
      o,
      s;
    if (Fr(e, t[1], t[0]) && !oa(e, t[n - 1], t[0])) return 0;
    for (i = 0, r = n; ; ) {
      if (r - i === 1) return oa(e, t[i], t[r]) ? i : r;
      if (
        ((a = Math.floor((i + r) / 2)),
        (s = Fr(e, t[a + 1], t[a])),
        s && !oa(e, t[a - 1], t[a]))
      )
        return a;
      (o = oa(e, t[i + 1], t[i])),
        o
          ? s || oa(e, t[i], t[a])
            ? (r = a)
            : (i = a)
          : s && Fr(e, t[i], t[a])
            ? (r = a)
            : (i = a);
    }
  }
  function Rm(e, t) {
    var n = t.length - 1,
      i,
      r,
      a,
      o,
      s;
    if (oa(e, t[n - 1], t[0]) && !Fr(e, t[1], t[0])) return 0;
    for (i = 0, r = n; ; ) {
      if (r - i === 1) return Fr(e, t[i], t[r]) ? i : r;
      if (
        ((a = Math.floor((i + r) / 2)),
        (s = Fr(e, t[a + 1], t[a])),
        oa(e, t[a - 1], t[a]) && !s)
      )
        return a;
      (o = Fr(e, t[i + 1], t[i])),
        o
          ? s
            ? Fr(e, t[i], t[a])
              ? (r = a)
              : (i = a)
            : (r = a)
          : s
            ? (i = a)
            : oa(e, t[i], t[a])
              ? (r = a)
              : (i = a);
    }
  }
  function Om(e, t, n, i, r, a) {
    var o, s;
    (o = n(t[0], e)), (s = i(e[o], t));
    for (var l = !1; !l; ) {
      for (l = !0; o === e.length - 1 && (o = 0), !r(t[s], e[o], e[o + 1]); )
        ++o;
      for (; s === 0 && (s = t.length - 1), !a(e[o], t[s], t[s - 1]); )
        --s, (l = !1);
    }
    return { t1: o, t2: s };
  }
  qi.tangent_PolyPolyC = Om;
  function lU(e, t) {
    var n = XT(t, e);
    return { t1: n.t2, t2: n.t1 };
  }
  qi.LRtangent_PolyPolyC = lU;
  function XT(e, t) {
    return Om(e, t, Im, Rm, oa, Fr);
  }
  qi.RLtangent_PolyPolyC = XT;
  function cU(e, t) {
    return Om(e, t, Rm, Rm, Fr, Fr);
  }
  qi.LLtangent_PolyPolyC = cU;
  function uU(e, t) {
    return Om(e, t, Im, Im, oa, oa);
  }
  qi.RRtangent_PolyPolyC = uU;
  var th = (function () {
    function e(t, n) {
      (this.t1 = t), (this.t2 = n);
    }
    return e;
  })();
  qi.BiTangent = th;
  var ZT = (function () {
    function e() {}
    return e;
  })();
  qi.BiTangents = ZT;
  var dU = (function (e) {
    KT(t, e);
    function t() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return t;
  })(N0);
  qi.TVGPoint = dU;
  var L0 = (function () {
    function e(t, n, i, r) {
      (this.id = t),
        (this.polyid = n),
        (this.polyvertid = i),
        (this.p = r),
        (r.vv = this);
    }
    return e;
  })();
  qi.VisibilityVertex = L0;
  var Am = (function () {
    function e(t, n) {
      (this.source = t), (this.target = n);
    }
    return (
      (e.prototype.length = function () {
        var t = this.source.p.x - this.target.p.x,
          n = this.source.p.y - this.target.p.y;
        return Math.sqrt(t * t + n * n);
      }),
      e
    );
  })();
  qi.VisibilityEdge = Am;
  var hU = (function () {
    function e(t, n) {
      if (((this.P = t), (this.V = []), (this.E = []), n))
        (this.V = n.V.slice(0)), (this.E = n.E.slice(0));
      else {
        for (var i = t.length, r = 0; r < i; r++) {
          for (var a = t[r], o = 0; o < a.length; ++o) {
            var s = a[o],
              l = new L0(this.V.length, r, o, s);
            this.V.push(l), o > 0 && this.E.push(new Am(a[o - 1].vv, l));
          }
          a.length > 1 && this.E.push(new Am(a[0].vv, a[a.length - 1].vv));
        }
        for (var r = 0; r < i - 1; r++)
          for (var c = t[r], o = r + 1; o < i; o++) {
            var u = t[o],
              d = JT(c, u);
            for (var h in d) {
              var p = d[h],
                m = c[p.t1],
                _ = u[p.t2];
              this.addEdgeIfVisible(m, _, r, o);
            }
          }
      }
    }
    return (
      (e.prototype.addEdgeIfVisible = function (t, n, i, r) {
        this.intersectsPolys(new F0(t.x, t.y, n.x, n.y), i, r) ||
          this.E.push(new Am(t.vv, n.vv));
      }),
      (e.prototype.addPoint = function (t, n) {
        var i = this.P.length;
        this.V.push(new L0(this.V.length, i, 0, t));
        for (var r = 0; r < i; ++r)
          if (r !== n) {
            var a = this.P[r],
              o = sU(t, a);
            this.addEdgeIfVisible(t, a[o.ltan], n, r),
              this.addEdgeIfVisible(t, a[o.rtan], n, r);
          }
        return t.vv;
      }),
      (e.prototype.intersectsPolys = function (t, n, i) {
        for (var r = 0, a = this.P.length; r < a; ++r)
          if (r != n && r != i && QT(t, this.P[r]).length > 0) return !0;
        return !1;
      }),
      e
    );
  })();
  qi.TangentVisibilityGraph = hU;
  function QT(e, t) {
    for (var n = [], i = 1, r = t.length; i < r; ++i) {
      var a = nU.Rectangle.lineIntersection(
        e.x1,
        e.y1,
        e.x2,
        e.y2,
        t[i - 1].x,
        t[i - 1].y,
        t[i].x,
        t[i].y
      );
      a && n.push(a);
    }
    return n;
  }
  function JT(e, t) {
    for (
      var n = e.length - 1, i = t.length - 1, r = new ZT(), a = 0;
      a < n;
      ++a
    )
      for (var o = 0; o < i; ++o) {
        var s = e[a == 0 ? n - 1 : a - 1],
          l = e[a],
          c = e[a + 1],
          u = t[o == 0 ? i - 1 : o - 1],
          d = t[o],
          h = t[o + 1],
          p = yr(s, l, d),
          m = yr(l, u, d),
          _ = yr(l, d, h),
          v = yr(u, d, l),
          y = yr(d, s, l),
          w = yr(d, l, c);
        p >= 0 && m >= 0 && _ < 0 && v >= 0 && y >= 0 && w < 0
          ? (r.ll = new th(a, o))
          : p <= 0 && m <= 0 && _ > 0 && v <= 0 && y <= 0 && w > 0
            ? (r.rr = new th(a, o))
            : p <= 0 && m > 0 && _ <= 0 && v >= 0 && y < 0 && w >= 0
              ? (r.rl = new th(a, o))
              : p >= 0 &&
                m < 0 &&
                _ >= 0 &&
                v <= 0 &&
                y > 0 &&
                w <= 0 &&
                (r.lr = new th(a, o));
      }
    return r;
  }
  qi.tangents = JT;
  function fU(e, t) {
    for (var n = 1, i = t.length; n < i; ++n)
      if (Fr(t[n - 1], t[n], e)) return !1;
    return !0;
  }
  function YT(e, t) {
    return !e.every(function (n) {
      return !fU(n, t);
    });
  }
  function pU(e, t) {
    if (YT(e, t) || YT(t, e)) return !0;
    for (var n = 1, i = e.length; n < i; ++n) {
      var r = e[n],
        a = e[n - 1];
      if (QT(new F0(a.x, a.y, r.x, r.y), t).length > 0) return !0;
    }
    return !1;
  }
  qi.polysOverlap = pU;
});
var z0 = Ni((Pm) => {
  'use strict';
  Object.defineProperty(Pm, '__esModule', { value: !0 });
  var Br = {
    PADDING: 10,
    GOLDEN_SECTION: (1 + Math.sqrt(5)) / 2,
    FLOAT_EPSILON: 1e-4,
    MAX_INERATIONS: 100,
  };
  function mU(e, t, n, d, u, a) {
    u === void 0 && (u = 1), a === void 0 && (a = !0);
    var o = 0,
      s = 0,
      l = t,
      c = n,
      u = typeof u < 'u' ? u : 1,
      d = typeof d < 'u' ? d : 0,
      h = 0,
      p = 0,
      m = 0,
      _ = 0,
      v = [];
    if (e.length == 0) return;
    y(e), x(e, u), a && w(e);
    function y(T) {
      T.forEach(function (R) {
        O(R);
      });
      function O(R) {
        var P = Number.MAX_VALUE,
          L = Number.MAX_VALUE,
          V = 0,
          B = 0;
        R.array.forEach(function (q) {
          var U = typeof q.width < 'u' ? q.width : d,
            W = typeof q.height < 'u' ? q.height : d;
          (U /= 2),
            (W /= 2),
            (V = Math.max(q.x + U, V)),
            (P = Math.min(q.x - U, P)),
            (B = Math.max(q.y + W, B)),
            (L = Math.min(q.y - W, L));
        }),
          (R.width = V - P),
          (R.height = B - L);
      }
    }
    function w(T) {
      T.forEach(function (O) {
        var R = { x: 0, y: 0 };
        O.array.forEach(function (V) {
          (R.x += V.x), (R.y += V.y);
        }),
          (R.x /= O.array.length),
          (R.y /= O.array.length);
        var P = { x: R.x - O.width / 2, y: R.y - O.height / 2 },
          L = { x: O.x - P.x + l / 2 - h / 2, y: O.y - P.y + c / 2 - p / 2 };
        O.array.forEach(function (V) {
          (V.x += L.x), (V.y += L.y);
        });
      });
    }
    function x(T, O) {
      var R = Number.POSITIVE_INFINITY,
        P = 0;
      T.sort(function (J, dt) {
        return dt.height - J.height;
      }),
        (m = T.reduce(function (J, dt) {
          return J.width < dt.width ? J.width : dt.width;
        }));
      for (
        var L = (rt = m),
          V = (nt = g(T)),
          B = 0,
          q = Number.MAX_VALUE,
          U = Number.MAX_VALUE,
          W = -1,
          Z = Number.MAX_VALUE,
          it = Number.MAX_VALUE;
        Z > m || it > Br.FLOAT_EPSILON;

      ) {
        if (W != 1)
          var rt = V - (V - L) / Br.GOLDEN_SECTION,
            q = C(T, rt);
        if (W != 0)
          var nt = L + (V - L) / Br.GOLDEN_SECTION,
            U = C(T, nt);
        if (
          ((Z = Math.abs(rt - nt)),
          (it = Math.abs(q - U)),
          q < R && ((R = q), (P = rt)),
          U < R && ((R = U), (P = nt)),
          q > U
            ? ((L = rt), (rt = nt), (q = U), (W = 1))
            : ((V = nt), (nt = rt), (U = q), (W = 0)),
          B++ > 100)
        )
          break;
      }
      C(T, P);
    }
    function C(T, O) {
      (v = []), (h = 0), (p = 0), (_ = s);
      for (var R = 0; R < T.length; R++) {
        var P = T[R];
        S(P, O);
      }
      return Math.abs(D() - u);
    }
    function S(T, O) {
      for (var R = void 0, P = 0; P < v.length; P++)
        if (
          v[P].space_left >= T.height &&
          v[P].x + v[P].width + T.width + Br.PADDING - O <= Br.FLOAT_EPSILON
        ) {
          R = v[P];
          break;
        }
      v.push(T),
        R !== void 0
          ? ((T.x = R.x + R.width + Br.PADDING),
            (T.y = R.bottom),
            (T.space_left = T.height),
            (T.bottom = T.y),
            (R.space_left -= T.height + Br.PADDING),
            (R.bottom += T.height + Br.PADDING))
          : ((T.y = _),
            (_ += T.height + Br.PADDING),
            (T.x = o),
            (T.bottom = T.y),
            (T.space_left = T.height)),
        T.y + T.height - p > -Br.FLOAT_EPSILON && (p = T.y + T.height - s),
        T.x + T.width - h > -Br.FLOAT_EPSILON && (h = T.x + T.width - o);
    }
    function g(T) {
      var O = 0;
      return (
        T.forEach(function (R) {
          return (O += R.width + Br.PADDING);
        }),
        O
      );
    }
    function D() {
      return h / p;
    }
  }
  Pm.applyPacking = mU;
  function gU(e, t) {
    for (var n = {}, i = {}, r = [], a = 0, o = 0; o < t.length; o++) {
      var s = t[o],
        l = s.source,
        c = s.target;
      i[l.index] ? i[l.index].push(c) : (i[l.index] = [c]),
        i[c.index] ? i[c.index].push(l) : (i[c.index] = [l]);
    }
    for (var o = 0; o < e.length; o++) {
      var u = e[o];
      n[u.index] || d(u, !0);
    }
    function d(h, p) {
      if (n[h.index] === void 0) {
        p && (a++, r.push({ array: [] })),
          (n[h.index] = a),
          r[a - 1].array.push(h);
        var m = i[h.index];
        if (m) for (var _ = 0; _ < m.length; _++) d(m[_], !1);
      }
    }
    return r;
  }
  Pm.separateGraphs = gU;
});
var Tc = Ni((ih) => {
  'use strict';
  Object.defineProperty(ih, '__esModule', { value: !0 });
  var vU = E0(),
    V0 = wm(),
    Lm = km(),
    Nm = Dc(),
    tM = Jd(),
    eM = B0(),
    iM = z0(),
    eh;
  (function (e) {
    (e[(e.start = 0)] = 'start'),
      (e[(e.tick = 1)] = 'tick'),
      (e[(e.end = 2)] = 'end');
  })((eh = ih.EventType || (ih.EventType = {})));
  function Fm(e) {
    return typeof e.leaves < 'u' || typeof e.groups < 'u';
  }
  var bU = (function () {
    function e() {
      var t = this;
      (this._canvasSize = [1, 1]),
        (this._linkDistance = 20),
        (this._defaultNodeSize = 10),
        (this._linkLengthCalculator = null),
        (this._linkType = null),
        (this._avoidOverlaps = !1),
        (this._handleDisconnected = !0),
        (this._running = !1),
        (this._nodes = []),
        (this._groups = []),
        (this._rootGroup = null),
        (this._links = []),
        (this._constraints = []),
        (this._distanceMatrix = null),
        (this._descent = null),
        (this._directedLinkConstraints = null),
        (this._threshold = 0.01),
        (this._visibilityGraph = null),
        (this._groupCompactness = 1e-6),
        (this.event = null),
        (this.linkAccessor = {
          getSourceIndex: e.getSourceIndex,
          getTargetIndex: e.getTargetIndex,
          setLength: e.setLinkLength,
          getType: function (n) {
            return typeof t._linkType == 'function' ? t._linkType(n) : 0;
          },
        });
    }
    return (
      (e.prototype.on = function (t, n) {
        return (
          this.event || (this.event = {}),
          typeof t == 'string' ? (this.event[eh[t]] = n) : (this.event[t] = n),
          this
        );
      }),
      (e.prototype.trigger = function (t) {
        this.event && typeof this.event[t.type] < 'u' && this.event[t.type](t);
      }),
      (e.prototype.kick = function () {
        for (; !this.tick(); );
      }),
      (e.prototype.tick = function () {
        if (this._alpha < this._threshold)
          return (
            (this._running = !1),
            this.trigger({
              type: eh.end,
              alpha: (this._alpha = 0),
              stress: this._lastStress,
            }),
            !0
          );
        var t = this._nodes.length,
          n = this._links.length,
          i,
          r;
        for (this._descent.locks.clear(), r = 0; r < t; ++r)
          if (((i = this._nodes[r]), i.fixed)) {
            (typeof i.px > 'u' || typeof i.py > 'u') &&
              ((i.px = i.x), (i.py = i.y));
            var a = [i.px, i.py];
            this._descent.locks.add(r, a);
          }
        var o = this._descent.rungeKutta();
        return (
          o === 0
            ? (this._alpha = 0)
            : typeof this._lastStress < 'u' && (this._alpha = o),
          (this._lastStress = o),
          this.updateNodePositions(),
          this.trigger({
            type: eh.tick,
            alpha: this._alpha,
            stress: this._lastStress,
          }),
          !1
        );
      }),
      (e.prototype.updateNodePositions = function () {
        for (
          var t = this._descent.x[0],
            n = this._descent.x[1],
            i,
            r = this._nodes.length;
          r--;

        )
          (i = this._nodes[r]), (i.x = t[r]), (i.y = n[r]);
      }),
      (e.prototype.nodes = function (t) {
        if (!t) {
          if (this._nodes.length === 0 && this._links.length > 0) {
            var n = 0;
            this._links.forEach(function (r) {
              n = Math.max(n, r.source, r.target);
            }),
              (this._nodes = new Array(++n));
            for (var i = 0; i < n; ++i) this._nodes[i] = {};
          }
          return this._nodes;
        }
        return (this._nodes = t), this;
      }),
      (e.prototype.groups = function (t) {
        var n = this;
        return t
          ? ((this._groups = t),
            (this._rootGroup = {}),
            this._groups.forEach(function (i) {
              typeof i.padding > 'u' && (i.padding = 1),
                typeof i.leaves < 'u' &&
                  i.leaves.forEach(function (r, a) {
                    typeof r == 'number' &&
                      ((i.leaves[a] = n._nodes[r]).parent = i);
                  }),
                typeof i.groups < 'u' &&
                  i.groups.forEach(function (r, a) {
                    typeof r == 'number' &&
                      ((i.groups[a] = n._groups[r]).parent = i);
                  });
            }),
            (this._rootGroup.leaves = this._nodes.filter(function (i) {
              return typeof i.parent > 'u';
            })),
            (this._rootGroup.groups = this._groups.filter(function (i) {
              return typeof i.parent > 'u';
            })),
            this)
          : this._groups;
      }),
      (e.prototype.powerGraphGroups = function (t) {
        var n = vU.getGroups(
          this._nodes,
          this._links,
          this.linkAccessor,
          this._rootGroup
        );
        return this.groups(n.groups), t(n), this;
      }),
      (e.prototype.avoidOverlaps = function (t) {
        return arguments.length
          ? ((this._avoidOverlaps = t), this)
          : this._avoidOverlaps;
      }),
      (e.prototype.handleDisconnected = function (t) {
        return arguments.length
          ? ((this._handleDisconnected = t), this)
          : this._handleDisconnected;
      }),
      (e.prototype.flowLayout = function (t, n) {
        return (
          arguments.length || (t = 'y'),
          (this._directedLinkConstraints = {
            axis: t,
            getMinSeparation:
              typeof n == 'number'
                ? function () {
                    return n;
                  }
                : n,
          }),
          this
        );
      }),
      (e.prototype.links = function (t) {
        return arguments.length ? ((this._links = t), this) : this._links;
      }),
      (e.prototype.constraints = function (t) {
        return arguments.length
          ? ((this._constraints = t), this)
          : this._constraints;
      }),
      (e.prototype.distanceMatrix = function (t) {
        return arguments.length
          ? ((this._distanceMatrix = t), this)
          : this._distanceMatrix;
      }),
      (e.prototype.size = function (t) {
        return t ? ((this._canvasSize = t), this) : this._canvasSize;
      }),
      (e.prototype.defaultNodeSize = function (t) {
        return t ? ((this._defaultNodeSize = t), this) : this._defaultNodeSize;
      }),
      (e.prototype.groupCompactness = function (t) {
        return t
          ? ((this._groupCompactness = t), this)
          : this._groupCompactness;
      }),
      (e.prototype.linkDistance = function (t) {
        return t
          ? ((this._linkDistance = typeof t == 'function' ? t : +t),
            (this._linkLengthCalculator = null),
            this)
          : this._linkDistance;
      }),
      (e.prototype.linkType = function (t) {
        return (this._linkType = t), this;
      }),
      (e.prototype.convergenceThreshold = function (t) {
        return t
          ? ((this._threshold = typeof t == 'function' ? t : +t), this)
          : this._threshold;
      }),
      (e.prototype.alpha = function (t) {
        return arguments.length
          ? ((t = +t),
            this._alpha
              ? t > 0
                ? (this._alpha = t)
                : (this._alpha = 0)
              : t > 0 &&
                (this._running ||
                  ((this._running = !0),
                  this.trigger({ type: eh.start, alpha: (this._alpha = t) }),
                  this.kick())),
            this)
          : this._alpha;
      }),
      (e.prototype.getLinkLength = function (t) {
        return typeof this._linkDistance == 'function'
          ? +this._linkDistance(t)
          : this._linkDistance;
      }),
      (e.setLinkLength = function (t, n) {
        t.length = n;
      }),
      (e.prototype.getLinkType = function (t) {
        return typeof this._linkType == 'function' ? this._linkType(t) : 0;
      }),
      (e.prototype.symmetricDiffLinkLengths = function (t, n) {
        var i = this;
        return (
          n === void 0 && (n = 1),
          this.linkDistance(function (r) {
            return t * r.length;
          }),
          (this._linkLengthCalculator = function () {
            return V0.symmetricDiffLinkLengths(i._links, i.linkAccessor, n);
          }),
          this
        );
      }),
      (e.prototype.jaccardLinkLengths = function (t, n) {
        var i = this;
        return (
          n === void 0 && (n = 1),
          this.linkDistance(function (r) {
            return t * r.length;
          }),
          (this._linkLengthCalculator = function () {
            return V0.jaccardLinkLengths(i._links, i.linkAccessor, n);
          }),
          this
        );
      }),
      (e.prototype.start = function (t, n, i, r, a, o) {
        var s = this;
        t === void 0 && (t = 0),
          n === void 0 && (n = 0),
          i === void 0 && (i = 0),
          r === void 0 && (r = 0),
          a === void 0 && (a = !0),
          o === void 0 && (o = !0);
        var l,
          c,
          u = this.nodes().length,
          d = u + 2 * this._groups.length,
          h = this._links.length,
          p = this._canvasSize[0],
          m = this._canvasSize[1],
          _ = new Array(d),
          v = new Array(d),
          y = null,
          w = this._avoidOverlaps;
        this._nodes.forEach(function (R, P) {
          (R.index = P),
            typeof R.x > 'u' && ((R.x = p / 2), (R.y = m / 2)),
            (_[P] = R.x),
            (v[P] = R.y);
        }),
          this._linkLengthCalculator && this._linkLengthCalculator();
        var x;
        this._distanceMatrix
          ? (x = this._distanceMatrix)
          : ((x = new tM.Calculator(
              d,
              this._links,
              e.getSourceIndex,
              e.getTargetIndex,
              function (R) {
                return s.getLinkLength(R);
              }
            ).DistanceMatrix()),
            (y = Lm.Descent.createSquareMatrix(d, function () {
              return 2;
            })),
            this._links.forEach(function (R) {
              typeof R.source == 'number' && (R.source = s._nodes[R.source]),
                typeof R.target == 'number' && (R.target = s._nodes[R.target]);
            }),
            this._links.forEach(function (R) {
              var P = e.getSourceIndex(R),
                L = e.getTargetIndex(R);
              y[P][L] = y[L][P] = R.weight || 1;
            }));
        var C = Lm.Descent.createSquareMatrix(d, function (R, P) {
          return x[R][P];
        });
        if (this._rootGroup && typeof this._rootGroup.groups < 'u') {
          var l = u,
            S = function (P, L, V, B) {
              (y[P][L] = y[L][P] = V), (C[P][L] = C[L][P] = B);
            };
          this._groups.forEach(function (P) {
            S(l, l + 1, s._groupCompactness, 0.1),
              (_[l] = 0),
              (v[l++] = 0),
              (_[l] = 0),
              (v[l++] = 0);
          });
        } else this._rootGroup = { leaves: this._nodes, groups: [] };
        var g = this._constraints || [];
        this._directedLinkConstraints &&
          ((this.linkAccessor.getMinSeparation =
            this._directedLinkConstraints.getMinSeparation),
          (g = g.concat(
            V0.generateDirectedEdgeConstraints(
              u,
              this._links,
              this._directedLinkConstraints.axis,
              this.linkAccessor
            )
          ))),
          this.avoidOverlaps(!1),
          (this._descent = new Lm.Descent([_, v], C)),
          this._descent.locks.clear();
        for (var l = 0; l < u; ++l) {
          var D = this._nodes[l];
          if (D.fixed) {
            (D.px = D.x), (D.py = D.y);
            var T = [D.x, D.y];
            this._descent.locks.add(l, T);
          }
        }
        if (
          ((this._descent.threshold = this._threshold),
          this.initialLayout(t, _, v),
          g.length > 0 &&
            (this._descent.project = new Nm.Projection(
              this._nodes,
              this._groups,
              this._rootGroup,
              g
            ).projectFunctions()),
          this._descent.run(n),
          this.separateOverlappingComponents(p, m, o),
          this.avoidOverlaps(w),
          w &&
            (this._nodes.forEach(function (R, P) {
              (R.x = _[P]), (R.y = v[P]);
            }),
            (this._descent.project = new Nm.Projection(
              this._nodes,
              this._groups,
              this._rootGroup,
              g,
              !0
            ).projectFunctions()),
            this._nodes.forEach(function (R, P) {
              (_[P] = R.x), (v[P] = R.y);
            })),
          (this._descent.G = y),
          this._descent.run(i),
          r)
        ) {
          (this._descent.snapStrength = 1e3),
            (this._descent.snapGridSize = this._nodes[0].width),
            (this._descent.numGridSnapNodes = u),
            (this._descent.scaleSnapByMaxH = u != d);
          var O = Lm.Descent.createSquareMatrix(d, function (R, P) {
            return R >= u || P >= u ? y[R][P] : 0;
          });
          (this._descent.G = O), this._descent.run(r);
        }
        return (
          this.updateNodePositions(),
          this.separateOverlappingComponents(p, m, o),
          a ? this.resume() : this
        );
      }),
      (e.prototype.initialLayout = function (t, n, i) {
        if (this._groups.length > 0 && t > 0) {
          var r = this._nodes.length,
            a = this._links.map(function (s) {
              return { source: s.source.index, target: s.target.index };
            }),
            o = this._nodes.map(function (s) {
              return { index: s.index };
            });
          this._groups.forEach(function (s, l) {
            o.push({ index: (s.index = r + l) });
          }),
            this._groups.forEach(function (s, l) {
              typeof s.leaves < 'u' &&
                s.leaves.forEach(function (c) {
                  return a.push({ source: s.index, target: c.index });
                }),
                typeof s.groups < 'u' &&
                  s.groups.forEach(function (c) {
                    return a.push({ source: s.index, target: c.index });
                  });
            }),
            new e()
              .size(this.size())
              .nodes(o)
              .links(a)
              .avoidOverlaps(!1)
              .linkDistance(this.linkDistance())
              .symmetricDiffLinkLengths(5)
              .convergenceThreshold(1e-4)
              .start(t, 0, 0, 0, !1),
            this._nodes.forEach(function (s) {
              (n[s.index] = o[s.index].x), (i[s.index] = o[s.index].y);
            });
        } else this._descent.run(t);
      }),
      (e.prototype.separateOverlappingComponents = function (t, n, i) {
        var r = this;
        if (
          (i === void 0 && (i = !0),
          !this._distanceMatrix && this._handleDisconnected)
        ) {
          var a = this._descent.x[0],
            o = this._descent.x[1];
          this._nodes.forEach(function (l, c) {
            (l.x = a[c]), (l.y = o[c]);
          });
          var s = iM.separateGraphs(this._nodes, this._links);
          iM.applyPacking(s, t, n, this._defaultNodeSize, 1, i),
            this._nodes.forEach(function (l, c) {
              (r._descent.x[0][c] = l.x),
                (r._descent.x[1][c] = l.y),
                l.bounds &&
                  (l.bounds.setXCentre(l.x), l.bounds.setYCentre(l.y));
            });
        }
      }),
      (e.prototype.resume = function () {
        return this.alpha(0.1);
      }),
      (e.prototype.stop = function () {
        return this.alpha(0);
      }),
      (e.prototype.prepareEdgeRouting = function (t) {
        t === void 0 && (t = 0),
          (this._visibilityGraph = new eM.TangentVisibilityGraph(
            this._nodes.map(function (n) {
              return n.bounds.inflate(-t).vertices();
            })
          ));
      }),
      (e.prototype.routeEdge = function (t, n, i) {
        n === void 0 && (n = 5);
        var r = [],
          a = new eM.TangentVisibilityGraph(this._visibilityGraph.P, {
            V: this._visibilityGraph.V,
            E: this._visibilityGraph.E,
          }),
          o = { x: t.source.x, y: t.source.y },
          s = { x: t.target.x, y: t.target.y },
          l = a.addPoint(o, t.source.index),
          c = a.addPoint(s, t.target.index);
        a.addEdgeIfVisible(o, s, t.source.index, t.target.index),
          typeof i < 'u' && i(a);
        var u = function (C) {
            return C.source.id;
          },
          d = function (C) {
            return C.target.id;
          },
          h = function (C) {
            return C.length();
          },
          p = new tM.Calculator(a.V.length, a.E, u, d, h),
          m = p.PathFromNodeToNode(l.id, c.id);
        if (m.length === 1 || m.length === a.V.length) {
          var _ = Nm.makeEdgeBetween(
            t.source.innerBounds,
            t.target.innerBounds,
            n
          );
          r = [_.sourceIntersection, _.arrowStart];
        } else {
          for (
            var v = m.length - 2,
              y = a.V[m[v]].p,
              w = a.V[m[0]].p,
              r = [t.source.innerBounds.rayIntersection(y.x, y.y)],
              x = v;
            x >= 0;
            --x
          )
            r.push(a.V[m[x]].p);
          r.push(Nm.makeEdgeTo(w, t.target.innerBounds, n));
        }
        return r;
      }),
      (e.getSourceIndex = function (t) {
        return typeof t.source == 'number' ? t.source : t.source.index;
      }),
      (e.getTargetIndex = function (t) {
        return typeof t.target == 'number' ? t.target : t.target.index;
      }),
      (e.linkId = function (t) {
        return e.getSourceIndex(t) + '-' + e.getTargetIndex(t);
      }),
      (e.dragStart = function (t) {
        Fm(t)
          ? e.storeOffset(t, e.dragOrigin(t))
          : (e.stopNode(t), (t.fixed |= 2));
      }),
      (e.stopNode = function (t) {
        (t.px = t.x), (t.py = t.y);
      }),
      (e.storeOffset = function (t, n) {
        typeof t.leaves < 'u' &&
          t.leaves.forEach(function (i) {
            (i.fixed |= 2),
              e.stopNode(i),
              (i._dragGroupOffsetX = i.x - n.x),
              (i._dragGroupOffsetY = i.y - n.y);
          }),
          typeof t.groups < 'u' &&
            t.groups.forEach(function (i) {
              return e.storeOffset(i, n);
            });
      }),
      (e.dragOrigin = function (t) {
        return Fm(t) ? { x: t.bounds.cx(), y: t.bounds.cy() } : t;
      }),
      (e.drag = function (t, n) {
        Fm(t)
          ? (typeof t.leaves < 'u' &&
              t.leaves.forEach(function (i) {
                t.bounds.setXCentre(n.x),
                  t.bounds.setYCentre(n.y),
                  (i.px = i._dragGroupOffsetX + n.x),
                  (i.py = i._dragGroupOffsetY + n.y);
              }),
            typeof t.groups < 'u' &&
              t.groups.forEach(function (i) {
                return e.drag(i, n);
              }))
          : ((t.px = n.x), (t.py = n.y));
      }),
      (e.dragEnd = function (t) {
        Fm(t)
          ? (typeof t.leaves < 'u' &&
              t.leaves.forEach(function (n) {
                e.dragEnd(n),
                  delete n._dragGroupOffsetX,
                  delete n._dragGroupOffsetY;
              }),
            typeof t.groups < 'u' && t.groups.forEach(e.dragEnd))
          : (t.fixed &= -7);
      }),
      (e.mouseOver = function (t) {
        (t.fixed |= 4), (t.px = t.x), (t.py = t.y);
      }),
      (e.mouseOut = function (t) {
        t.fixed &= -5;
      }),
      e
    );
  })();
  ih.Layout = bU;
});
var rM = Ni((Mc) => {
  'use strict';
  var yU =
    (Mc && Mc.__extends) ||
    (function () {
      var e = function (t, n) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, r) {
                i.__proto__ = r;
              }) ||
            function (i, r) {
              for (var a in r) r.hasOwnProperty(a) && (i[a] = r[a]);
            }),
          e(t, n)
        );
      };
      return function (t, n) {
        e(t, n);
        function i() {
          this.constructor = t;
        }
        t.prototype =
          n === null
            ? Object.create(n)
            : ((i.prototype = n.prototype), new i());
      };
    })();
  Object.defineProperty(Mc, '__esModule', { value: !0 });
  var j0 = Tc(),
    nM = (function (e) {
      yU(t, e);
      function t(n) {
        var i = e.call(this) || this,
          r = i,
          a = n;
        return (
          a.trigger && (i.trigger = a.trigger),
          a.kick && (i.kick = a.kick),
          a.drag && (i.drag = a.drag),
          a.on && (i.on = a.on),
          (i.dragstart = i.dragStart = j0.Layout.dragStart),
          (i.dragend = i.dragEnd = j0.Layout.dragEnd),
          i
        );
      }
      return (
        (t.prototype.trigger = function (n) {}),
        (t.prototype.kick = function () {}),
        (t.prototype.drag = function () {}),
        (t.prototype.on = function (n, i) {
          return this;
        }),
        t
      );
    })(j0.Layout);
  Mc.LayoutAdaptor = nM;
  function _U(e) {
    return new nM(e);
  }
  Mc.adaptor = _U;
});
var oM = Ni((Ac) => {
  'use strict';
  var xU =
    (Ac && Ac.__extends) ||
    (function () {
      var e = function (t, n) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, r) {
                i.__proto__ = r;
              }) ||
            function (i, r) {
              for (var a in r) r.hasOwnProperty(a) && (i[a] = r[a]);
            }),
          e(t, n)
        );
      };
      return function (t, n) {
        e(t, n);
        function i() {
          this.constructor = t;
        }
        t.prototype =
          n === null
            ? Object.create(n)
            : ((i.prototype = n.prototype), new i());
      };
    })();
  Object.defineProperty(Ac, '__esModule', { value: !0 });
  var _r = Tc(),
    aM = (function (e) {
      xU(t, e);
      function t() {
        var n = e.call(this) || this;
        n.event = d3.dispatch(
          _r.EventType[_r.EventType.start],
          _r.EventType[_r.EventType.tick],
          _r.EventType[_r.EventType.end]
        );
        var i = n,
          r;
        return (
          (n.drag = function () {
            if (!a)
              var a = d3.behavior
                .drag()
                .origin(_r.Layout.dragOrigin)
                .on('dragstart.d3adaptor', _r.Layout.dragStart)
                .on('drag.d3adaptor', function (o) {
                  _r.Layout.drag(o, d3.event), i.resume();
                })
                .on('dragend.d3adaptor', _r.Layout.dragEnd);
            if (!arguments.length) return a;
            this.call(a);
          }),
          n
        );
      }
      return (
        (t.prototype.trigger = function (n) {
          var i = {
            type: _r.EventType[n.type],
            alpha: n.alpha,
            stress: n.stress,
          };
          this.event[i.type](i);
        }),
        (t.prototype.kick = function () {
          var n = this;
          d3.timer(function () {
            return e.prototype.tick.call(n);
          });
        }),
        (t.prototype.on = function (n, i) {
          return (
            typeof n == 'string'
              ? this.event.on(n, i)
              : this.event.on(_r.EventType[n], i),
            this
          );
        }),
        t
      );
    })(_r.Layout);
  Ac.D3StyleLayoutAdaptor = aM;
  function wU() {
    return new aM();
  }
  Ac.d3adaptor = wU;
});
var sM = Ni((nh) => {
  'use strict';
  var kU =
    (nh && nh.__extends) ||
    (function () {
      var e = function (t, n) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, r) {
                i.__proto__ = r;
              }) ||
            function (i, r) {
              for (var a in r) r.hasOwnProperty(a) && (i[a] = r[a]);
            }),
          e(t, n)
        );
      };
      return function (t, n) {
        e(t, n);
        function i() {
          this.constructor = t;
        }
        t.prototype =
          n === null
            ? Object.create(n)
            : ((i.prototype = n.prototype), new i());
      };
    })();
  Object.defineProperty(nh, '__esModule', { value: !0 });
  var xr = Tc(),
    CU = (function (e) {
      kU(t, e);
      function t(n) {
        var i = e.call(this) || this;
        (i.d3Context = n),
          (i.event = n.dispatch(
            xr.EventType[xr.EventType.start],
            xr.EventType[xr.EventType.tick],
            xr.EventType[xr.EventType.end]
          ));
        var r = i,
          a;
        return (
          (i.drag = function () {
            if (!o)
              var o = n
                .drag()
                .subject(xr.Layout.dragOrigin)
                .on('start.d3adaptor', xr.Layout.dragStart)
                .on('drag.d3adaptor', function (s) {
                  xr.Layout.drag(s, n.event), r.resume();
                })
                .on('end.d3adaptor', xr.Layout.dragEnd);
            if (!arguments.length) return o;
            arguments[0].call(o);
          }),
          i
        );
      }
      return (
        (t.prototype.trigger = function (n) {
          var i = {
            type: xr.EventType[n.type],
            alpha: n.alpha,
            stress: n.stress,
          };
          this.event.call(i.type, i);
        }),
        (t.prototype.kick = function () {
          var n = this,
            i = this.d3Context.timer(function () {
              return e.prototype.tick.call(n) && i.stop();
            });
        }),
        (t.prototype.on = function (n, i) {
          return (
            typeof n == 'string'
              ? this.event.on(n, i)
              : this.event.on(xr.EventType[n], i),
            this
          );
        }),
        t
      );
    })(xr.Layout);
  nh.D3StyleLayoutAdaptor = CU;
});
var lM = Ni((q0) => {
  'use strict';
  Object.defineProperty(q0, '__esModule', { value: !0 });
  var EU = oM(),
    SU = sM();
  function DU(e) {
    return !e || TU(e)
      ? new EU.D3StyleLayoutAdaptor()
      : new SU.D3StyleLayoutAdaptor(e);
  }
  q0.d3adaptor = DU;
  function TU(e) {
    var t = /^3\./;
    return e.version && e.version.match(t) !== null;
  }
});
var $0 = Ni((Ic) => {
  'use strict';
  Object.defineProperty(Ic, '__esModule', { value: !0 });
  var MU = Dc(),
    U0 = Sm(),
    AU = Jd(),
    cM = (function () {
      function e(t, n, i) {
        (this.id = t),
          (this.rect = n),
          (this.children = i),
          (this.leaf = typeof i > 'u' || i.length === 0);
      }
      return e;
    })();
  Ic.NodeWrapper = cM;
  var H0 = (function () {
    function e(t, n, i, r, a) {
      r === void 0 && (r = null),
        a === void 0 && (a = null),
        (this.id = t),
        (this.x = n),
        (this.y = i),
        (this.node = r),
        (this.line = a);
    }
    return e;
  })();
  Ic.Vert = H0;
  var W0 = (function () {
    function e(t, n) {
      (this.s = t), (this.t = n);
      var i = e.findMatch(t, n),
        r = n.slice(0).reverse(),
        a = e.findMatch(t, r);
      i.length >= a.length
        ? ((this.length = i.length),
          (this.si = i.si),
          (this.ti = i.ti),
          (this.reversed = !1))
        : ((this.length = a.length),
          (this.si = a.si),
          (this.ti = n.length - a.ti - a.length),
          (this.reversed = !0));
    }
    return (
      (e.findMatch = function (t, n) {
        for (
          var i = t.length,
            r = n.length,
            a = { length: 0, si: -1, ti: -1 },
            o = new Array(i),
            s = 0;
          s < i;
          s++
        ) {
          o[s] = new Array(r);
          for (var l = 0; l < r; l++)
            if (t[s] === n[l]) {
              var c = (o[s][l] = s === 0 || l === 0 ? 1 : o[s - 1][l - 1] + 1);
              c > a.length &&
                ((a.length = c), (a.si = s - c + 1), (a.ti = l - c + 1));
            } else o[s][l] = 0;
        }
        return a;
      }),
      (e.prototype.getSequence = function () {
        return this.length >= 0
          ? this.s.slice(this.si, this.si + this.length)
          : [];
      }),
      e
    );
  })();
  Ic.LongestCommonSubsequence = W0;
  var IU = (function () {
    function e(t, n, i) {
      var r = this;
      i === void 0 && (i = 12),
        (this.originalnodes = t),
        (this.groupPadding = i),
        (this.leaves = null),
        (this.nodes = t.map(function (_, v) {
          return new cM(v, n.getBounds(_), n.getChildren(_));
        })),
        (this.leaves = this.nodes.filter(function (_) {
          return _.leaf;
        })),
        (this.groups = this.nodes.filter(function (_) {
          return !_.leaf;
        })),
        (this.cols = this.getGridLines('x')),
        (this.rows = this.getGridLines('y')),
        this.groups.forEach(function (_) {
          return _.children.forEach(function (v) {
            return (r.nodes[v].parent = _);
          });
        }),
        (this.root = { children: [] }),
        this.nodes.forEach(function (_) {
          typeof _.parent > 'u' &&
            ((_.parent = r.root), r.root.children.push(_.id)),
            (_.ports = []);
        }),
        (this.backToFront = this.nodes.slice(0)),
        this.backToFront.sort(function (_, v) {
          return r.getDepth(_) - r.getDepth(v);
        });
      var a = this.backToFront
        .slice(0)
        .reverse()
        .filter(function (_) {
          return !_.leaf;
        });
      a.forEach(function (_) {
        var v = MU.Rectangle.empty();
        _.children.forEach(function (y) {
          return (v = v.union(r.nodes[y].rect));
        }),
          (_.rect = v.inflate(r.groupPadding));
      });
      var o = this.midPoints(
          this.cols.map(function (_) {
            return _.pos;
          })
        ),
        s = this.midPoints(
          this.rows.map(function (_) {
            return _.pos;
          })
        ),
        l = o[0],
        c = o[o.length - 1],
        u = s[0],
        d = s[s.length - 1],
        h = this.rows
          .map(function (_) {
            return { x1: l, x2: c, y1: _.pos, y2: _.pos };
          })
          .concat(
            s.map(function (_) {
              return { x1: l, x2: c, y1: _, y2: _ };
            })
          ),
        p = this.cols
          .map(function (_) {
            return { x1: _.pos, x2: _.pos, y1: u, y2: d };
          })
          .concat(
            o.map(function (_) {
              return { x1: _, x2: _, y1: u, y2: d };
            })
          ),
        m = h.concat(p);
      m.forEach(function (_) {
        return (_.verts = []);
      }),
        (this.verts = []),
        (this.edges = []),
        h.forEach(function (_) {
          return p.forEach(function (v) {
            var y = new H0(r.verts.length, v.x1, _.y1);
            _.verts.push(y), v.verts.push(y), r.verts.push(y);
            for (var w = r.backToFront.length; w-- > 0; ) {
              var x = r.backToFront[w],
                C = x.rect,
                S = Math.abs(y.x - C.cx()),
                g = Math.abs(y.y - C.cy());
              if (S < C.width() / 2 && g < C.height() / 2) {
                y.node = x;
                break;
              }
            }
          });
        }),
        m.forEach(function (_, v) {
          r.nodes.forEach(function (g, D) {
            g.rect
              .lineIntersections(_.x1, _.y1, _.x2, _.y2)
              .forEach(function (T, O) {
                var R = new H0(r.verts.length, T.x, T.y, g, _);
                r.verts.push(R), _.verts.push(R), g.ports.push(R);
              });
          });
          var y = Math.abs(_.y1 - _.y2) < 0.1,
            w = function (g, D) {
              return y ? D.x - g.x : D.y - g.y;
            };
          _.verts.sort(w);
          for (var x = 1; x < _.verts.length; x++) {
            var C = _.verts[x - 1],
              S = _.verts[x];
            (C.node && C.node === S.node && C.node.leaf) ||
              r.edges.push({
                source: C.id,
                target: S.id,
                length: Math.abs(w(C, S)),
              });
          }
        });
    }
    return (
      (e.prototype.avg = function (t) {
        return (
          t.reduce(function (n, i) {
            return n + i;
          }) / t.length
        );
      }),
      (e.prototype.getGridLines = function (t) {
        for (
          var n = [], i = this.leaves.slice(0, this.leaves.length);
          i.length > 0;

        ) {
          var r = i.filter(function (o) {
              return o.rect['overlap' + t.toUpperCase()](i[0].rect);
            }),
            a = {
              nodes: r,
              pos: this.avg(
                r.map(function (o) {
                  return o.rect['c' + t]();
                })
              ),
            };
          n.push(a),
            a.nodes.forEach(function (o) {
              return i.splice(i.indexOf(o), 1);
            });
        }
        return (
          n.sort(function (o, s) {
            return o.pos - s.pos;
          }),
          n
        );
      }),
      (e.prototype.getDepth = function (t) {
        for (var n = 0; t.parent !== this.root; ) n++, (t = t.parent);
        return n;
      }),
      (e.prototype.midPoints = function (t) {
        for (var n = t[1] - t[0], i = [t[0] - n / 2], r = 1; r < t.length; r++)
          i.push((t[r] + t[r - 1]) / 2);
        return i.push(t[t.length - 1] + n / 2), i;
      }),
      (e.prototype.findLineage = function (t) {
        var n = [t];
        do (t = t.parent), n.push(t);
        while (t !== this.root);
        return n.reverse();
      }),
      (e.prototype.findAncestorPathBetween = function (t, n) {
        for (
          var i = this.findLineage(t), r = this.findLineage(n), a = 0;
          i[a] === r[a];

        )
          a++;
        return {
          commonAncestor: i[a - 1],
          lineages: i.slice(a).concat(r.slice(a)),
        };
      }),
      (e.prototype.siblingObstacles = function (t, n) {
        var i = this,
          r = this.findAncestorPathBetween(t, n),
          a = {};
        r.lineages.forEach(function (s) {
          return (a[s.id] = {});
        });
        var o = r.commonAncestor.children.filter(function (s) {
          return !(s in a);
        });
        return (
          r.lineages
            .filter(function (s) {
              return s.parent !== r.commonAncestor;
            })
            .forEach(function (s) {
              return (o = o.concat(
                s.parent.children.filter(function (l) {
                  return l !== s.id;
                })
              ));
            }),
          o.map(function (s) {
            return i.nodes[s];
          })
        );
      }),
      (e.getSegmentSets = function (t, n, i) {
        for (var r = [], a = 0; a < t.length; a++)
          for (var o = t[a], s = 0; s < o.length; s++) {
            var l = o[s];
            (l.edgeid = a), (l.i = s);
            var c = l[1][n] - l[0][n];
            Math.abs(c) < 0.1 && r.push(l);
          }
        r.sort(function (p, m) {
          return p[0][n] - m[0][n];
        });
        for (var u = [], d = null, h = 0; h < r.length; h++) {
          var l = r[h];
          (!d || Math.abs(l[0][n] - d.pos) > 0.1) &&
            ((d = { pos: l[0][n], segments: [] }), u.push(d)),
            d.segments.push(l);
        }
        return u;
      }),
      (e.nudgeSegs = function (t, n, i, r, a, o) {
        var s = r.length;
        if (!(s <= 1)) {
          for (
            var l = r.map(function (x) {
                return new U0.Variable(x[0][t]);
              }),
              c = [],
              u = 0;
            u < s;
            u++
          )
            for (var d = 0; d < s; d++)
              if (u !== d) {
                var h = r[u],
                  p = r[d],
                  m = h.edgeid,
                  _ = p.edgeid,
                  v = -1,
                  y = -1;
                t == 'x'
                  ? a(m, _) &&
                    (h[0][n] < h[1][n]
                      ? ((v = d), (y = u))
                      : ((v = u), (y = d)))
                  : a(m, _) &&
                    (h[0][n] < h[1][n]
                      ? ((v = u), (y = d))
                      : ((v = d), (y = u))),
                  v >= 0 && c.push(new U0.Constraint(l[v], l[y], o));
              }
          var w = new U0.Solver(l, c);
          w.solve(),
            l.forEach(function (x, C) {
              var S = r[C],
                g = x.position();
              S[0][t] = S[1][t] = g;
              var D = i[S.edgeid];
              S.i > 0 && (D[S.i - 1][1][t] = g),
                S.i < D.length - 1 && (D[S.i + 1][0][t] = g);
            });
        }
      }),
      (e.nudgeSegments = function (t, n, i, r, a) {
        for (var o = e.getSegmentSets(t, n, i), s = 0; s < o.length; s++) {
          for (var l = o[s], c = [], u = 0; u < l.segments.length; u++) {
            var d = l.segments[u];
            c.push({ type: 0, s: d, pos: Math.min(d[0][i], d[1][i]) }),
              c.push({ type: 1, s: d, pos: Math.max(d[0][i], d[1][i]) });
          }
          c.sort(function (m, _) {
            return m.pos - _.pos + m.type - _.type;
          });
          var h = [],
            p = 0;
          c.forEach(function (m) {
            m.type === 0 ? (h.push(m.s), p++) : p--,
              p == 0 && (e.nudgeSegs(n, i, t, h, r, a), (h = []));
          });
        }
      }),
      (e.prototype.routeEdges = function (t, n, i, r) {
        var a = this,
          o = t.map(function (c) {
            return a.route(i(c), r(c));
          }),
          s = e.orderEdges(o),
          l = o.map(function (c) {
            return e.makeSegments(c);
          });
        return (
          e.nudgeSegments(l, 'x', 'y', s, n),
          e.nudgeSegments(l, 'y', 'x', s, n),
          e.unreverseEdges(l, o),
          l
        );
      }),
      (e.unreverseEdges = function (t, n) {
        t.forEach(function (i, r) {
          var a = n[r];
          a.reversed &&
            (i.reverse(),
            i.forEach(function (o) {
              o.reverse();
            }));
        });
      }),
      (e.angleBetween2Lines = function (t, n) {
        var i = Math.atan2(t[0].y - t[1].y, t[0].x - t[1].x),
          r = Math.atan2(n[0].y - n[1].y, n[0].x - n[1].x),
          a = i - r;
        return (a > Math.PI || a < -Math.PI) && (a = r - i), a;
      }),
      (e.isLeft = function (t, n, i) {
        return (n.x - t.x) * (i.y - t.y) - (n.y - t.y) * (i.x - t.x) <= 0;
      }),
      (e.getOrder = function (t) {
        for (var n = {}, i = 0; i < t.length; i++) {
          var r = t[i];
          typeof n[r.l] > 'u' && (n[r.l] = {}), (n[r.l][r.r] = !0);
        }
        return function (a, o) {
          return typeof n[a] < 'u' && n[a][o];
        };
      }),
      (e.orderEdges = function (t) {
        for (var n = [], i = 0; i < t.length - 1; i++)
          for (var r = i + 1; r < t.length; r++) {
            var a = t[i],
              o = t[r],
              s = new W0(a, o),
              l,
              c,
              u;
            if (s.length !== 0) {
              if (
                (s.reversed &&
                  (o.reverse(), (o.reversed = !0), (s = new W0(a, o))),
                (s.si <= 0 || s.ti <= 0) &&
                  (s.si + s.length >= a.length || s.ti + s.length >= o.length))
              ) {
                n.push({ l: i, r });
                continue;
              }
              s.si + s.length >= a.length || s.ti + s.length >= o.length
                ? ((l = a[s.si + 1]), (u = a[s.si - 1]), (c = o[s.ti - 1]))
                : ((l = a[s.si + s.length - 2]),
                  (c = a[s.si + s.length]),
                  (u = o[s.ti + s.length])),
                e.isLeft(l, c, u)
                  ? n.push({ l: r, r: i })
                  : n.push({ l: i, r });
            }
          }
        return e.getOrder(n);
      }),
      (e.makeSegments = function (t) {
        function n(c) {
          return { x: c.x, y: c.y };
        }
        for (
          var i = function (c, u, d) {
              return (
                Math.abs(
                  (u.x - c.x) * (d.y - c.y) - (u.y - c.y) * (d.x - c.x)
                ) < 0.001
              );
            },
            r = [],
            a = n(t[0]),
            o = 1;
          o < t.length;
          o++
        ) {
          var s = n(t[o]),
            l = o < t.length - 1 ? t[o + 1] : null;
          (!l || !i(a, s, l)) && (r.push([a, s]), (a = s));
        }
        return r;
      }),
      (e.prototype.route = function (t, n) {
        var i = this,
          r = this.nodes[t],
          a = this.nodes[n];
        this.obstacles = this.siblingObstacles(r, a);
        var o = {};
        this.obstacles.forEach(function (y) {
          return (o[y.id] = y);
        }),
          (this.passableEdges = this.edges.filter(function (y) {
            var w = i.verts[y.source],
              x = i.verts[y.target];
            return !((w.node && w.node.id in o) || (x.node && x.node.id in o));
          }));
        for (var s = 1; s < r.ports.length; s++) {
          var l = r.ports[0].id,
            c = r.ports[s].id;
          this.passableEdges.push({ source: l, target: c, length: 0 });
        }
        for (var s = 1; s < a.ports.length; s++) {
          var l = a.ports[0].id,
            c = a.ports[s].id;
          this.passableEdges.push({ source: l, target: c, length: 0 });
        }
        var u = function (y) {
            return y.source;
          },
          d = function (y) {
            return y.target;
          },
          h = function (y) {
            return y.length;
          },
          p = new AU.Calculator(this.verts.length, this.passableEdges, u, d, h),
          m = function (y, w, x) {
            var C = i.verts[y],
              S = i.verts[w],
              g = i.verts[x],
              D = Math.abs(g.x - C.x),
              T = Math.abs(g.y - C.y);
            return (C.node === r && C.node === S.node) ||
              (S.node === a && S.node === g.node)
              ? 0
              : D > 1 && T > 1
                ? 1e3
                : 0;
          },
          _ = p.PathFromNodeToNodeWithPrevCost(r.ports[0].id, a.ports[0].id, m),
          v = _.reverse().map(function (y) {
            return i.verts[y];
          });
        return (
          v.push(this.nodes[a.id].ports[0]),
          v.filter(function (y, w) {
            return !(
              (w < v.length - 1 && v[w + 1].node === r && y.node === r) ||
              (w > 0 && y.node === a && v[w - 1].node === a)
            );
          })
        );
      }),
      (e.getRoutePath = function (t, n, i, r) {
        var a = {
          routepath: 'M ' + t[0][0].x + ' ' + t[0][0].y + ' ',
          arrowpath: '',
        };
        if (t.length > 1)
          for (var o = 0; o < t.length; o++) {
            var s = t[o],
              l = s[1].x,
              c = s[1].y,
              u = l - s[0].x,
              d = c - s[0].y;
            if (o < t.length - 1) {
              Math.abs(u) > 0
                ? (l -= (u / Math.abs(u)) * n)
                : (c -= (d / Math.abs(d)) * n),
                (a.routepath += 'L ' + l + ' ' + c + ' ');
              var h = t[o + 1],
                p = h[0].x,
                m = h[0].y,
                _ = h[1].x,
                v = h[1].y;
              (u = _ - p), (d = v - m);
              var y = e.angleBetween2Lines(s, h) < 0 ? 1 : 0,
                w,
                x;
              Math.abs(u) > 0
                ? ((w = p + (u / Math.abs(u)) * n), (x = m))
                : ((w = p), (x = m + (d / Math.abs(d)) * n));
              var C = Math.abs(w - l),
                S = Math.abs(x - c);
              a.routepath +=
                'A ' + C + ' ' + S + ' 0 0 ' + y + ' ' + w + ' ' + x + ' ';
            } else {
              var g = [l, c],
                D,
                T;
              Math.abs(u) > 0
                ? ((l -= (u / Math.abs(u)) * r),
                  (D = [l, c + i]),
                  (T = [l, c - i]))
                : ((c -= (d / Math.abs(d)) * r),
                  (D = [l + i, c]),
                  (T = [l - i, c])),
                (a.routepath += 'L ' + l + ' ' + c + ' '),
                r > 0 &&
                  (a.arrowpath =
                    'M ' +
                    g[0] +
                    ' ' +
                    g[1] +
                    ' L ' +
                    D[0] +
                    ' ' +
                    D[1] +
                    ' L ' +
                    T[0] +
                    ' ' +
                    T[1]);
            }
          }
        else {
          var s = t[0],
            l = s[1].x,
            c = s[1].y,
            u = l - s[0].x,
            d = c - s[0].y,
            g = [l, c],
            D,
            T;
          Math.abs(u) > 0
            ? ((l -= (u / Math.abs(u)) * r), (D = [l, c + i]), (T = [l, c - i]))
            : ((c -= (d / Math.abs(d)) * r),
              (D = [l + i, c]),
              (T = [l - i, c])),
            (a.routepath += 'L ' + l + ' ' + c + ' '),
            r > 0 &&
              (a.arrowpath =
                'M ' +
                g[0] +
                ' ' +
                g[1] +
                ' L ' +
                D[0] +
                ' ' +
                D[1] +
                ' L ' +
                T[0] +
                ' ' +
                T[1]);
        }
        return a;
      }),
      e
    );
  })();
  Ic.GridRouter = IU;
});
var uM = Ni((rh) => {
  'use strict';
  Object.defineProperty(rh, '__esModule', { value: !0 });
  var RU = Jd(),
    G0 = km(),
    OU = Dc(),
    PU = wm(),
    LU = (function () {
      function e(t, n) {
        (this.source = t), (this.target = n);
      }
      return (
        (e.prototype.actualLength = function (t) {
          var n = this;
          return Math.sqrt(
            t.reduce(function (i, r) {
              var a = r[n.target] - r[n.source];
              return i + a * a;
            }, 0)
          );
        }),
        e
      );
    })();
  rh.Link3D = LU;
  var NU = (function () {
    function e(t, n, i) {
      t === void 0 && (t = 0),
        n === void 0 && (n = 0),
        i === void 0 && (i = 0),
        (this.x = t),
        (this.y = n),
        (this.z = i);
    }
    return e;
  })();
  rh.Node3D = NU;
  var FU = (function () {
    function e(t, n, i) {
      var r = this;
      i === void 0 && (i = 1),
        (this.nodes = t),
        (this.links = n),
        (this.idealLinkLength = i),
        (this.constraints = null),
        (this.useJaccardLinkLengths = !0),
        (this.result = new Array(e.k));
      for (var a = 0; a < e.k; ++a) this.result[a] = new Array(t.length);
      t.forEach(function (o, s) {
        for (var l = 0, c = e.dims; l < c.length; l++) {
          var u = c[l];
          typeof o[u] > 'u' && (o[u] = Math.random());
        }
        (r.result[0][s] = o.x), (r.result[1][s] = o.y), (r.result[2][s] = o.z);
      });
    }
    return (
      (e.prototype.linkLength = function (t) {
        return t.actualLength(this.result);
      }),
      (e.prototype.start = function (t) {
        var n = this;
        t === void 0 && (t = 100);
        var i = this.nodes.length,
          r = new BU();
        this.useJaccardLinkLengths && PU.jaccardLinkLengths(this.links, r, 1.5),
          this.links.forEach(function (u) {
            return (u.length *= n.idealLinkLength);
          });
        var a = new RU.Calculator(
            i,
            this.links,
            function (u) {
              return u.source;
            },
            function (u) {
              return u.target;
            },
            function (u) {
              return u.length;
            }
          ).DistanceMatrix(),
          o = G0.Descent.createSquareMatrix(i, function (u, d) {
            return a[u][d];
          }),
          s = G0.Descent.createSquareMatrix(i, function () {
            return 2;
          });
        this.links.forEach(function (u) {
          var d = u.source,
            h = u.target;
          return (s[d][h] = s[h][d] = 1);
        }),
          (this.descent = new G0.Descent(this.result, o)),
          (this.descent.threshold = 0.001),
          (this.descent.G = s),
          this.constraints &&
            (this.descent.project = new OU.Projection(
              this.nodes,
              null,
              null,
              this.constraints
            ).projectFunctions());
        for (var l = 0; l < this.nodes.length; l++) {
          var c = this.nodes[l];
          c.fixed && this.descent.locks.add(l, [c.x, c.y, c.z]);
        }
        return this.descent.run(t), this;
      }),
      (e.prototype.tick = function () {
        this.descent.locks.clear();
        for (var t = 0; t < this.nodes.length; t++) {
          var n = this.nodes[t];
          n.fixed && this.descent.locks.add(t, [n.x, n.y, n.z]);
        }
        return this.descent.rungeKutta();
      }),
      (e.dims = ['x', 'y', 'z']),
      (e.k = e.dims.length),
      e
    );
  })();
  rh.Layout3D = FU;
  var BU = (function () {
    function e() {}
    return (
      (e.prototype.getSourceIndex = function (t) {
        return t.source;
      }),
      (e.prototype.getTargetIndex = function (t) {
        return t.target;
      }),
      (e.prototype.getLength = function (t) {
        return t.length;
      }),
      (e.prototype.setLength = function (t, n) {
        t.length = n;
      }),
      e
    );
  })();
});
var dM = Ni((Bm) => {
  'use strict';
  Object.defineProperty(Bm, '__esModule', { value: !0 });
  var Y0 = Tc(),
    zU = $0();
  function VU(e, t, n, i) {
    e.cola.start(0, 0, 0, 10, !1);
    var r = jU(e.cola.nodes(), e.cola.groups(), n, i);
    return r.routeEdges(
      e.powerGraph.powerEdges,
      t,
      function (a) {
        return a.source.routerNode.id;
      },
      function (a) {
        return a.target.routerNode.id;
      }
    );
  }
  Bm.gridify = VU;
  function jU(e, t, n, i) {
    e.forEach(function (a) {
      a.routerNode = { name: a.name, bounds: a.bounds.inflate(-n) };
    }),
      t.forEach(function (a) {
        a.routerNode = {
          bounds: a.bounds.inflate(-i),
          children: (typeof a.groups < 'u'
            ? a.groups.map(function (o) {
                return e.length + o.id;
              })
            : []
          ).concat(
            typeof a.leaves < 'u'
              ? a.leaves.map(function (o) {
                  return o.index;
                })
              : []
          ),
        };
      });
    var r = e.concat(t).map(function (a, o) {
      return (a.routerNode.id = o), a.routerNode;
    });
    return new zU.GridRouter(
      r,
      {
        getChildren: function (a) {
          return a.children;
        },
        getBounds: function (a) {
          return a.bounds;
        },
      },
      n - i
    );
  }
  function qU(e, t, n) {
    var i;
    e.nodes.forEach(function (s, l) {
      return (s.index = l);
    }),
      new Y0.Layout()
        .avoidOverlaps(!1)
        .nodes(e.nodes)
        .links(e.links)
        .powerGraphGroups(function (s) {
          (i = s),
            i.groups.forEach(function (l) {
              return (l.padding = n);
            });
        });
    var r = e.nodes.length,
      a = [],
      o = e.nodes.slice(0);
    return (
      o.forEach(function (s, l) {
        return (s.index = l);
      }),
      i.groups.forEach(function (s) {
        var l = (s.index = s.id + r);
        o.push(s),
          typeof s.leaves < 'u' &&
            s.leaves.forEach(function (c) {
              return a.push({ source: l, target: c.index });
            }),
          typeof s.groups < 'u' &&
            s.groups.forEach(function (c) {
              return a.push({ source: l, target: c.id + r });
            });
      }),
      i.powerEdges.forEach(function (s) {
        a.push({ source: s.source.index, target: s.target.index });
      }),
      new Y0.Layout()
        .size(t)
        .nodes(o)
        .links(a)
        .avoidOverlaps(!1)
        .linkDistance(30)
        .symmetricDiffLinkLengths(5)
        .convergenceThreshold(1e-4)
        .start(100, 0, 0, 0, !1),
      {
        cola: new Y0.Layout()
          .convergenceThreshold(0.001)
          .size(t)
          .avoidOverlaps(!0)
          .nodes(e.nodes)
          .links(e.links)
          .groupCompactness(1e-4)
          .linkDistance(30)
          .symmetricDiffLinkLengths(5)
          .powerGraphGroups(function (s) {
            (i = s),
              i.groups.forEach(function (l) {
                l.padding = n;
              });
          })
          .start(50, 0, 100, 0, !1),
        powerGraph: i,
      }
    );
  }
  Bm.powerGraphGridLayout = qU;
});
var K0 = Ni((zm) => {
  'use strict';
  function Wn(e) {
    for (var t in e) zm.hasOwnProperty(t) || (zm[t] = e[t]);
  }
  Object.defineProperty(zm, '__esModule', { value: !0 });
  Wn(rM());
  Wn(lM());
  Wn(km());
  Wn(B0());
  Wn($0());
  Wn(z0());
  Wn(Tc());
  Wn(uM());
  Wn(wm());
  Wn(E0());
  Wn(O0());
  Wn(M0());
  Wn(Dc());
  Wn(Jd());
  Wn(Sm());
  Wn(dM());
});
var hM = Ni((ah, X0) => {
  (function (t, n) {
    typeof ah == 'object' && typeof X0 == 'object'
      ? (X0.exports = n(K0()))
      : typeof define == 'function' && define.amd
        ? define(['webcola'], n)
        : typeof ah == 'object'
          ? (ah.cytoscapeCola = n(K0()))
          : (t.cytoscapeCola = n(t.webcola));
  })(ah, function (e) {
    return (function (t) {
      var n = {};
      function i(r) {
        if (n[r]) return n[r].exports;
        var a = (n[r] = { i: r, l: !1, exports: {} });
        return t[r].call(a.exports, a, a.exports, i), (a.l = !0), a.exports;
      }
      return (
        (i.m = t),
        (i.c = n),
        (i.i = function (r) {
          return r;
        }),
        (i.d = function (r, a, o) {
          i.o(r, a) ||
            Object.defineProperty(r, a, {
              configurable: !1,
              enumerable: !0,
              get: o,
            });
        }),
        (i.n = function (r) {
          var a =
            r && r.__esModule
              ? function () {
                  return r.default;
                }
              : function () {
                  return r;
                };
          return i.d(a, 'a', a), a;
        }),
        (i.o = function (r, a) {
          return Object.prototype.hasOwnProperty.call(r, a);
        }),
        (i.p = ''),
        i((i.s = 3))
      );
    })([
      function (t, n, i) {
        'use strict';
        var r =
            typeof Symbol == 'function' && typeof Symbol.iterator == 'symbol'
              ? function (v) {
                  return typeof v;
                }
              : function (v) {
                  return v &&
                    typeof Symbol == 'function' &&
                    v.constructor === Symbol &&
                    v !== Symbol.prototype
                    ? 'symbol'
                    : typeof v;
                },
          a = i(1),
          o = i(2),
          s = i(5) || (typeof window < 'u' ? window.cola : null),
          l = i(4),
          c = function (y) {
            return (typeof y > 'u' ? 'undefined' : r(y)) === r('');
          },
          u = function (y) {
            return (typeof y > 'u' ? 'undefined' : r(y)) === r(0);
          },
          d = function (y) {
            return y != null && (typeof y > 'u' ? 'undefined' : r(y)) === r({});
          },
          h = function (y) {
            return (
              y != null &&
              (typeof y > 'u' ? 'undefined' : r(y)) === r(function () {})
            );
          },
          p = function () {},
          m = function (y, w) {
            if (h(y)) {
              var x = y;
              return x.apply(w, [w]);
            } else return y;
          };
        function _(v) {
          this.options = a({}, o, v);
        }
        (_.prototype.run = function () {
          var v = this,
            y = this.options;
          v.manuallyStopped = !1;
          var w = y.cy,
            x = y.eles,
            C = x.nodes(),
            S = x.edges(),
            g = !1,
            D = function (lt) {
              return lt.isParent();
            },
            T = C.filter(D),
            O = C.subtract(T),
            R = y.boundingBox || { x1: 0, y1: 0, w: w.width(), h: w.height() };
          R.x2 === void 0 && (R.x2 = R.x1 + R.w),
            R.w === void 0 && (R.w = R.x2 - R.x1),
            R.y2 === void 0 && (R.y2 = R.y1 + R.h),
            R.h === void 0 && (R.h = R.y2 - R.y1);
          var P = function () {
              for (var lt = 0; lt < C.length; lt++) {
                var ot = C[lt],
                  Mt = ot.layoutDimensions(y),
                  Vt = ot.scratch('cola');
                if (!Vt.updatedDims) {
                  var Ot = m(y.nodeSpacing, ot);
                  (Vt.width = Mt.w + 2 * Ot), (Vt.height = Mt.h + 2 * Ot);
                }
              }
              C.positions(function (Lt) {
                var Ut = Lt.scratch().cola,
                  Wt = void 0;
                return (
                  !Lt.grabbed() &&
                    O.contains(Lt) &&
                    ((Wt = { x: R.x1 + Ut.x, y: R.y1 + Ut.y }),
                    (!u(Wt.x) || !u(Wt.y)) && (Wt = void 0)),
                  Wt
                );
              }),
                C.updateCompoundBounds(),
                g || (V(), (g = !0)),
                y.fit && w.fit(y.padding);
            },
            L = function () {
              y.ungrabifyWhileSimulating && U.grabify(),
                w.off('destroy', W),
                C.off('grab free position', Z),
                C.off('lock unlock', it),
                v.one('layoutstop', y.stop),
                v.trigger({ type: 'layoutstop', layout: v });
            },
            V = function () {
              v.one('layoutready', y.ready),
                v.trigger({ type: 'layoutready', layout: v });
            },
            B = y.refresh;
          y.refresh < 0 ? (B = 1) : (B = Math.max(1, B));
          var q = (v.adaptor = s.adaptor({
            trigger: function (lt) {
              var ot = s.EventType ? s.EventType.tick : null,
                Mt = s.EventType ? s.EventType.end : null;
              switch (lt.type) {
                case 'tick':
                case ot:
                  y.animate && P();
                  break;
                case 'end':
                case Mt:
                  P(), y.infinite || L();
                  break;
              }
            },
            kick: function () {
              var lt = !0,
                ot = function () {
                  if (v.manuallyStopped) return L(), !0;
                  var Lt = q.tick();
                  return (
                    !y.infinite &&
                      !lt &&
                      q.convergenceThreshold(y.convergenceThreshold),
                    (lt = !1),
                    Lt && y.infinite && q.resume(),
                    Lt
                  );
                },
                Mt = function () {
                  for (var Lt = void 0, Ut = 0; Ut < B && !Lt; Ut++)
                    Lt = Lt || ot();
                  return Lt;
                };
              if (y.animate) {
                var Vt = function Ot() {
                  Mt() || l(Ot);
                };
                l(Vt);
              } else for (; !ot(); );
            },
            on: p,
            drag: p,
          }));
          v.adaptor = q;
          var U = C.filter(':grabbable');
          y.ungrabifyWhileSimulating && U.ungrabify();
          var W = void 0;
          w.one(
            'destroy',
            (W = function () {
              v.stop();
            })
          );
          var Z = void 0;
          C.on(
            'grab free position',
            (Z = function (lt) {
              var ot = this,
                Mt = ot.scratch().cola,
                Vt = ot.position(),
                Ot = lt.cyTarget === ot || lt.target === ot;
              if (Ot)
                switch (lt.type) {
                  case 'grab':
                    q.dragstart(Mt);
                    break;
                  case 'free':
                    q.dragend(Mt);
                    break;
                  case 'position':
                    (Mt.px !== Vt.x - R.x1 || Mt.py !== Vt.y - R.y1) &&
                      ((Mt.px = Vt.x - R.x1), (Mt.py = Vt.y - R.y1));
                    break;
                }
            })
          );
          var it = void 0;
          C.on(
            'lock unlock',
            (it = function () {
              var lt = this,
                ot = lt.scratch().cola;
              (ot.fixed = lt.locked()),
                lt.locked() ? q.dragstart(ot) : q.dragend(ot);
            })
          ),
            q.nodes(
              O.map(function (K, lt) {
                var ot = m(y.nodeSpacing, K),
                  Mt = K.position(),
                  Vt = K.layoutDimensions(y),
                  Ot = (K.scratch().cola = {
                    x:
                      (y.randomize && !K.locked()) || Mt.x === void 0
                        ? Math.round(Math.random() * R.w)
                        : Mt.x,
                    y:
                      (y.randomize && !K.locked()) || Mt.y === void 0
                        ? Math.round(Math.random() * R.h)
                        : Mt.y,
                    width: Vt.w + 2 * ot,
                    height: Vt.h + 2 * ot,
                    index: lt,
                    fixed: K.locked(),
                  });
                return Ot;
              })
            );
          var rt = [];
          if (y.alignment) {
            if (y.alignment.vertical) {
              var nt = y.alignment.vertical;
              nt.forEach(function (K) {
                var lt = [];
                K.forEach(function (ot) {
                  var Mt = ot.node,
                    Vt = Mt.scratch().cola,
                    Ot = Vt.index;
                  lt.push({ node: Ot, offset: ot.offset ? ot.offset : 0 });
                }),
                  rt.push({ type: 'alignment', axis: 'x', offsets: lt });
              });
            }
            if (y.alignment.horizontal) {
              var J = y.alignment.horizontal;
              J.forEach(function (K) {
                var lt = [];
                K.forEach(function (ot) {
                  var Mt = ot.node,
                    Vt = Mt.scratch().cola,
                    Ot = Vt.index;
                  lt.push({ node: Ot, offset: ot.offset ? ot.offset : 0 });
                }),
                  rt.push({ type: 'alignment', axis: 'y', offsets: lt });
              });
            }
          }
          y.gapInequalities &&
            y.gapInequalities.forEach(function (K) {
              var lt = K.left.scratch().cola.index,
                ot = K.right.scratch().cola.index;
              rt.push({
                axis: K.axis,
                left: lt,
                right: ot,
                gap: K.gap,
                equality: K.equality,
              });
            }),
            rt.length > 0 && q.constraints(rt),
            q.groups(
              T.map(function (K, lt) {
                var ot = m(y.nodeSpacing, K),
                  Mt = function (Jt) {
                    return parseFloat(K.style('padding-' + Jt));
                  },
                  Vt = Mt('left') + ot,
                  Ot = Mt('right') + ot,
                  Lt = Mt('top') + ot,
                  Ut = Mt('bottom') + ot;
                return (
                  (K.scratch().cola = {
                    index: lt,
                    padding: Math.max(Vt, Ot, Lt, Ut),
                    leaves: K.children()
                      .intersection(O)
                      .map(function (Wt) {
                        return Wt[0].scratch().cola.index;
                      }),
                    fixed: K.locked(),
                  }),
                  K
                );
              }).map(function (K) {
                return (
                  (K.scratch().cola.groups = K.children()
                    .intersection(T)
                    .map(function (lt) {
                      return lt.scratch().cola.index;
                    })),
                  K.scratch().cola
                );
              })
            );
          var dt = void 0,
            yt = void 0;
          y.edgeLength != null
            ? ((dt = y.edgeLength), (yt = 'linkDistance'))
            : y.edgeSymDiffLength != null
              ? ((dt = y.edgeSymDiffLength), (yt = 'symmetricDiffLinkLengths'))
              : y.edgeJaccardLength != null
                ? ((dt = y.edgeJaccardLength), (yt = 'jaccardLinkLengths'))
                : ((dt = 100), (yt = 'linkDistance'));
          var wt = function (lt) {
            return lt.calcLength;
          };
          if (
            (q.links(
              S.stdFilter(function (K) {
                return O.contains(K.source()) && O.contains(K.target());
              }).map(function (K) {
                var lt = (K.scratch().cola = {
                  source: K.source()[0].scratch().cola.index,
                  target: K.target()[0].scratch().cola.index,
                });
                return dt != null && (lt.calcLength = m(dt, K)), lt;
              })
            ),
            q.size([R.w, R.h]),
            dt != null && q[yt](wt),
            y.flow)
          ) {
            var bt = void 0,
              At = 'y',
              _t = 50;
            c(y.flow)
              ? (bt = { axis: y.flow, minSeparation: _t })
              : u(y.flow)
                ? (bt = { axis: At, minSeparation: y.flow })
                : d(y.flow)
                  ? ((bt = y.flow),
                    (bt.axis = bt.axis || At),
                    (bt.minSeparation =
                      bt.minSeparation != null ? bt.minSeparation : _t))
                  : (bt = { axis: At, minSeparation: _t }),
              q.flowLayout(bt.axis, bt.minSeparation);
          }
          return (
            v.trigger({ type: 'layoutstart', layout: v }),
            q
              .avoidOverlaps(y.avoidOverlap)
              .handleDisconnected(y.handleDisconnected)
              .start(
                y.unconstrIter,
                y.userConstIter,
                y.allConstIter,
                void 0,
                void 0,
                y.centerGraph
              ),
            y.infinite ||
              setTimeout(function () {
                v.manuallyStopped || q.stop();
              }, y.maxSimulationTime),
            this
          );
        }),
          (_.prototype.stop = function () {
            return (
              this.adaptor &&
                ((this.manuallyStopped = !0), this.adaptor.stop()),
              this
            );
          }),
          (t.exports = _);
      },
      function (t, n, i) {
        'use strict';
        t.exports =
          Object.assign != null
            ? Object.assign.bind(Object)
            : function (r) {
                for (
                  var a = arguments.length, o = Array(a > 1 ? a - 1 : 0), s = 1;
                  s < a;
                  s++
                )
                  o[s - 1] = arguments[s];
                return (
                  o
                    .filter(function (l) {
                      return l != null;
                    })
                    .forEach(function (l) {
                      Object.keys(l).forEach(function (c) {
                        return (r[c] = l[c]);
                      });
                    }),
                  r
                );
              };
      },
      function (t, n, i) {
        'use strict';
        var r = {
          animate: !0,
          refresh: 1,
          maxSimulationTime: 4e3,
          ungrabifyWhileSimulating: !1,
          fit: !0,
          padding: 30,
          boundingBox: void 0,
          nodeDimensionsIncludeLabels: !1,
          ready: function () {},
          stop: function () {},
          randomize: !1,
          avoidOverlap: !0,
          handleDisconnected: !0,
          convergenceThreshold: 0.01,
          nodeSpacing: function (o) {
            return 10;
          },
          flow: void 0,
          alignment: void 0,
          gapInequalities: void 0,
          centerGraph: !0,
          edgeLength: void 0,
          edgeSymDiffLength: void 0,
          edgeJaccardLength: void 0,
          unconstrIter: void 0,
          userConstIter: void 0,
          allConstIter: void 0,
          infinite: !1,
        };
        t.exports = r;
      },
      function (t, n, i) {
        'use strict';
        var r = i(0),
          a = function (s) {
            s && s('layout', 'cola', r);
          };
        typeof cytoscape < 'u' && a(cytoscape), (t.exports = a);
      },
      function (t, n, i) {
        'use strict';
        var r =
            typeof Symbol == 'function' && typeof Symbol.iterator == 'symbol'
              ? function (o) {
                  return typeof o;
                }
              : function (o) {
                  return o &&
                    typeof Symbol == 'function' &&
                    o.constructor === Symbol &&
                    o !== Symbol.prototype
                    ? 'symbol'
                    : typeof o;
                },
          a = void 0;
        (typeof window > 'u' ? 'undefined' : r(window)) !== 'undefined'
          ? (a =
              window.requestAnimationFrame ||
              window.webkitRequestAnimationFrame ||
              window.mozRequestAnimationFrame ||
              window.msRequestAnimationFrame ||
              function (o) {
                return setTimeout(o, 16);
              })
          : (a = function (s) {
              s();
            }),
          (t.exports = a);
      },
      function (t, n) {
        t.exports = e;
      },
    ]);
  });
});
var pM = Ni((fM, Vm) => {
  (function (e, t) {
    'use strict';
    typeof Vm == 'object' && typeof Vm.exports == 'object'
      ? (Vm.exports = e.document
          ? t(e, !0)
          : function (n) {
              if (!n.document)
                throw new Error('jQuery requires a window with a document');
              return t(n);
            })
      : t(e);
  })(typeof window < 'u' ? window : fM, function (e, t) {
    'use strict';
    var n = [],
      i = Object.getPrototypeOf,
      r = n.slice,
      a = n.flat
        ? function (f) {
            return n.flat.call(f);
          }
        : function (f) {
            return n.concat.apply([], f);
          },
      o = n.push,
      s = n.indexOf,
      l = {},
      c = l.toString,
      u = l.hasOwnProperty,
      d = u.toString,
      h = d.call(Object),
      p = {},
      m = function (b) {
        return (
          typeof b == 'function' &&
          typeof b.nodeType != 'number' &&
          typeof b.item != 'function'
        );
      },
      _ = function (b) {
        return b != null && b === b.window;
      },
      v = e.document,
      y = { type: !0, src: !0, nonce: !0, noModule: !0 };
    function w(f, b, k) {
      k = k || v;
      var E,
        A,
        I = k.createElement('script');
      if (((I.text = f), b))
        for (E in y)
          (A = b[E] || (b.getAttribute && b.getAttribute(E))),
            A && I.setAttribute(E, A);
      k.head.appendChild(I).parentNode.removeChild(I);
    }
    function x(f) {
      return f == null
        ? f + ''
        : typeof f == 'object' || typeof f == 'function'
          ? l[c.call(f)] || 'object'
          : typeof f;
    }
    var C = '3.7.1',
      S = /HTML$/i,
      g = function (f, b) {
        return new g.fn.init(f, b);
      };
    (g.fn = g.prototype =
      {
        jquery: C,
        constructor: g,
        length: 0,
        toArray: function () {
          return r.call(this);
        },
        get: function (f) {
          return f == null
            ? r.call(this)
            : f < 0
              ? this[f + this.length]
              : this[f];
        },
        pushStack: function (f) {
          var b = g.merge(this.constructor(), f);
          return (b.prevObject = this), b;
        },
        each: function (f) {
          return g.each(this, f);
        },
        map: function (f) {
          return this.pushStack(
            g.map(this, function (b, k) {
              return f.call(b, k, b);
            })
          );
        },
        slice: function () {
          return this.pushStack(r.apply(this, arguments));
        },
        first: function () {
          return this.eq(0);
        },
        last: function () {
          return this.eq(-1);
        },
        even: function () {
          return this.pushStack(
            g.grep(this, function (f, b) {
              return (b + 1) % 2;
            })
          );
        },
        odd: function () {
          return this.pushStack(
            g.grep(this, function (f, b) {
              return b % 2;
            })
          );
        },
        eq: function (f) {
          var b = this.length,
            k = +f + (f < 0 ? b : 0);
          return this.pushStack(k >= 0 && k < b ? [this[k]] : []);
        },
        end: function () {
          return this.prevObject || this.constructor();
        },
        push: o,
        sort: n.sort,
        splice: n.splice,
      }),
      (g.extend = g.fn.extend =
        function () {
          var f,
            b,
            k,
            E,
            A,
            I,
            F = arguments[0] || {},
            X = 1,
            G = arguments.length,
            et = !1;
          for (
            typeof F == 'boolean' && ((et = F), (F = arguments[X] || {}), X++),
              typeof F != 'object' && !m(F) && (F = {}),
              X === G && ((F = this), X--);
            X < G;
            X++
          )
            if ((f = arguments[X]) != null)
              for (b in f)
                (E = f[b]),
                  !(b === '__proto__' || F === E) &&
                    (et && E && (g.isPlainObject(E) || (A = Array.isArray(E)))
                      ? ((k = F[b]),
                        A && !Array.isArray(k)
                          ? (I = [])
                          : !A && !g.isPlainObject(k)
                            ? (I = {})
                            : (I = k),
                        (A = !1),
                        (F[b] = g.extend(et, I, E)))
                      : E !== void 0 && (F[b] = E));
          return F;
        }),
      g.extend({
        expando: 'jQuery' + (C + Math.random()).replace(/\D/g, ''),
        isReady: !0,
        error: function (f) {
          throw new Error(f);
        },
        noop: function () {},
        isPlainObject: function (f) {
          var b, k;
          return !f || c.call(f) !== '[object Object]'
            ? !1
            : ((b = i(f)),
              b
                ? ((k = u.call(b, 'constructor') && b.constructor),
                  typeof k == 'function' && d.call(k) === h)
                : !0);
        },
        isEmptyObject: function (f) {
          var b;
          for (b in f) return !1;
          return !0;
        },
        globalEval: function (f, b, k) {
          w(f, { nonce: b && b.nonce }, k);
        },
        each: function (f, b) {
          var k,
            E = 0;
          if (D(f))
            for (k = f.length; E < k && b.call(f[E], E, f[E]) !== !1; E++);
          else for (E in f) if (b.call(f[E], E, f[E]) === !1) break;
          return f;
        },
        text: function (f) {
          var b,
            k = '',
            E = 0,
            A = f.nodeType;
          if (!A) for (; (b = f[E++]); ) k += g.text(b);
          return A === 1 || A === 11
            ? f.textContent
            : A === 9
              ? f.documentElement.textContent
              : A === 3 || A === 4
                ? f.nodeValue
                : k;
        },
        makeArray: function (f, b) {
          var k = b || [];
          return (
            f != null &&
              (D(Object(f))
                ? g.merge(k, typeof f == 'string' ? [f] : f)
                : o.call(k, f)),
            k
          );
        },
        inArray: function (f, b, k) {
          return b == null ? -1 : s.call(b, f, k);
        },
        isXMLDoc: function (f) {
          var b = f && f.namespaceURI,
            k = f && (f.ownerDocument || f).documentElement;
          return !S.test(b || (k && k.nodeName) || 'HTML');
        },
        merge: function (f, b) {
          for (var k = +b.length, E = 0, A = f.length; E < k; E++)
            f[A++] = b[E];
          return (f.length = A), f;
        },
        grep: function (f, b, k) {
          for (var E, A = [], I = 0, F = f.length, X = !k; I < F; I++)
            (E = !b(f[I], I)), E !== X && A.push(f[I]);
          return A;
        },
        map: function (f, b, k) {
          var E,
            A,
            I = 0,
            F = [];
          if (D(f))
            for (E = f.length; I < E; I++)
              (A = b(f[I], I, k)), A != null && F.push(A);
          else for (I in f) (A = b(f[I], I, k)), A != null && F.push(A);
          return a(F);
        },
        guid: 1,
        support: p,
      }),
      typeof Symbol == 'function' &&
        (g.fn[Symbol.iterator] = n[Symbol.iterator]),
      g.each(
        'Boolean Number String Function Array Date RegExp Object Error Symbol'.split(
          ' '
        ),
        function (f, b) {
          l['[object ' + b + ']'] = b.toLowerCase();
        }
      );
    function D(f) {
      var b = !!f && 'length' in f && f.length,
        k = x(f);
      return m(f) || _(f)
        ? !1
        : k === 'array' ||
            b === 0 ||
            (typeof b == 'number' && b > 0 && b - 1 in f);
    }
    function T(f, b) {
      return f.nodeName && f.nodeName.toLowerCase() === b.toLowerCase();
    }
    var O = n.pop,
      R = n.sort,
      P = n.splice,
      L = '[\\x20\\t\\r\\n\\f]',
      V = new RegExp('^' + L + '+|((?:^|[^\\\\])(?:\\\\.)*)' + L + '+$', 'g');
    g.contains = function (f, b) {
      var k = b && b.parentNode;
      return (
        f === k ||
        !!(
          k &&
          k.nodeType === 1 &&
          (f.contains
            ? f.contains(k)
            : f.compareDocumentPosition && f.compareDocumentPosition(k) & 16)
        )
      );
    };
    var B = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;
    function q(f, b) {
      return b
        ? f === '\0'
          ? '\uFFFD'
          : f.slice(0, -1) +
            '\\' +
            f.charCodeAt(f.length - 1).toString(16) +
            ' '
        : '\\' + f;
    }
    g.escapeSelector = function (f) {
      return (f + '').replace(B, q);
    };
    var U = v,
      W = o;
    (function () {
      var f,
        b,
        k,
        E,
        A,
        I = W,
        F,
        X,
        G,
        et,
        xt,
        Dt = g.expando,
        ht = 0,
        Nt = 0,
        we = Lh(),
        He = Lh(),
        Me = Lh(),
        xn = Lh(),
        sn = function (H, Q) {
          return H === Q && (A = !0), 0;
        },
        ca =
          'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
        ua =
          '(?:\\\\[\\da-fA-F]{1,6}' +
          L +
          '?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+',
        Be =
          '\\[' +
          L +
          '*(' +
          ua +
          ')(?:' +
          L +
          '*([*^$|!~]?=)' +
          L +
          `*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(` +
          ua +
          '))|)' +
          L +
          '*\\]',
        ds =
          ':(' +
          ua +
          `)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|` +
          Be +
          ')*)|.*)\\)|)',
        We = new RegExp(L + '+', 'g'),
        $i = new RegExp('^' + L + '*,' + L + '*'),
        Yc = new RegExp('^' + L + '*([>+~]|' + L + ')' + L + '*'),
        tv = new RegExp(L + '|>'),
        da = new RegExp(ds),
        Kc = new RegExp('^' + ua + '$'),
        ha = {
          ID: new RegExp('^#(' + ua + ')'),
          CLASS: new RegExp('^\\.(' + ua + ')'),
          TAG: new RegExp('^(' + ua + '|[*])'),
          ATTR: new RegExp('^' + Be),
          PSEUDO: new RegExp('^' + ds),
          CHILD: new RegExp(
            '^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(' +
              L +
              '*(even|odd|(([+-]|)(\\d*)n|)' +
              L +
              '*(?:([+-]|)' +
              L +
              '*(\\d+)|))' +
              L +
              '*\\)|)',
            'i'
          ),
          bool: new RegExp('^(?:' + ca + ')$', 'i'),
          needsContext: new RegExp(
            '^' +
              L +
              '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(' +
              L +
              '*((?:-\\d)?\\d*)' +
              L +
              '*\\)|)(?=[^-]|$)',
            'i'
          ),
        },
        ho = /^(?:input|select|textarea|button)$/i,
        fo = /^h\d$/i,
        Er = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        ev = /[+~]/,
        Oa = new RegExp(
          '\\\\[\\da-fA-F]{1,6}' + L + '?|\\\\([^\\r\\n\\f])',
          'g'
        ),
        Pa = function (H, Q) {
          var ut = '0x' + H.slice(1) - 65536;
          return (
            Q ||
            (ut < 0
              ? String.fromCharCode(ut + 65536)
              : String.fromCharCode((ut >> 10) | 55296, (ut & 1023) | 56320))
          );
        },
        cR = function () {
          po();
        },
        uR = Fh(
          function (H) {
            return H.disabled === !0 && T(H, 'fieldset');
          },
          { dir: 'parentNode', next: 'legend' }
        );
      function dR() {
        try {
          return F.activeElement;
        } catch {}
      }
      try {
        I.apply((n = r.call(U.childNodes)), U.childNodes),
          n[U.childNodes.length].nodeType;
      } catch {
        I = {
          apply: function (Q, ut) {
            W.apply(Q, r.call(ut));
          },
          call: function (Q) {
            W.apply(Q, r.call(arguments, 1));
          },
        };
      }
      function di(H, Q, ut, pt) {
        var St,
          jt,
          Xt,
          oe,
          Zt,
          Pe,
          xe,
          ke = Q && Q.ownerDocument,
          Le = Q ? Q.nodeType : 9;
        if (
          ((ut = ut || []),
          typeof H != 'string' || !H || (Le !== 1 && Le !== 9 && Le !== 11))
        )
          return ut;
        if (!pt && (po(Q), (Q = Q || F), G)) {
          if (Le !== 11 && (Zt = Er.exec(H)))
            if ((St = Zt[1])) {
              if (Le === 9)
                if ((Xt = Q.getElementById(St))) {
                  if (Xt.id === St) return I.call(ut, Xt), ut;
                } else return ut;
              else if (
                ke &&
                (Xt = ke.getElementById(St)) &&
                di.contains(Q, Xt) &&
                Xt.id === St
              )
                return I.call(ut, Xt), ut;
            } else {
              if (Zt[2]) return I.apply(ut, Q.getElementsByTagName(H)), ut;
              if ((St = Zt[3]) && Q.getElementsByClassName)
                return I.apply(ut, Q.getElementsByClassName(St)), ut;
            }
          if (!xn[H + ' '] && (!et || !et.test(H))) {
            if (((xe = H), (ke = Q), Le === 1 && (tv.test(H) || Yc.test(H)))) {
              for (
                ke = (ev.test(H) && iv(Q.parentNode)) || Q,
                  (ke != Q || !p.scope) &&
                    ((oe = Q.getAttribute('id'))
                      ? (oe = g.escapeSelector(oe))
                      : Q.setAttribute('id', (oe = Dt))),
                  Pe = Xc(H),
                  jt = Pe.length;
                jt--;

              )
                Pe[jt] = (oe ? '#' + oe : ':scope') + ' ' + Nh(Pe[jt]);
              xe = Pe.join(',');
            }
            try {
              return I.apply(ut, ke.querySelectorAll(xe)), ut;
            } catch {
              xn(H, !0);
            } finally {
              oe === Dt && Q.removeAttribute('id');
            }
          }
        }
        return sx(H.replace(V, '$1'), Q, ut, pt);
      }
      function Lh() {
        var H = [];
        function Q(ut, pt) {
          return (
            H.push(ut + ' ') > b.cacheLength && delete Q[H.shift()],
            (Q[ut + ' '] = pt)
          );
        }
        return Q;
      }
      function Ur(H) {
        return (H[Dt] = !0), H;
      }
      function gl(H) {
        var Q = F.createElement('fieldset');
        try {
          return !!H(Q);
        } catch {
          return !1;
        } finally {
          Q.parentNode && Q.parentNode.removeChild(Q), (Q = null);
        }
      }
      function hR(H) {
        return function (Q) {
          return T(Q, 'input') && Q.type === H;
        };
      }
      function fR(H) {
        return function (Q) {
          return (T(Q, 'input') || T(Q, 'button')) && Q.type === H;
        };
      }
      function ax(H) {
        return function (Q) {
          return 'form' in Q
            ? Q.parentNode && Q.disabled === !1
              ? 'label' in Q
                ? 'label' in Q.parentNode
                  ? Q.parentNode.disabled === H
                  : Q.disabled === H
                : Q.isDisabled === H || (Q.isDisabled !== !H && uR(Q) === H)
              : Q.disabled === H
            : 'label' in Q
              ? Q.disabled === H
              : !1;
        };
      }
      function hs(H) {
        return Ur(function (Q) {
          return (
            (Q = +Q),
            Ur(function (ut, pt) {
              for (var St, jt = H([], ut.length, Q), Xt = jt.length; Xt--; )
                ut[(St = jt[Xt])] && (ut[St] = !(pt[St] = ut[St]));
            })
          );
        });
      }
      function iv(H) {
        return H && typeof H.getElementsByTagName < 'u' && H;
      }
      function po(H) {
        var Q,
          ut = H ? H.ownerDocument || H : U;
        return (
          ut == F ||
            ut.nodeType !== 9 ||
            !ut.documentElement ||
            ((F = ut),
            (X = F.documentElement),
            (G = !g.isXMLDoc(F)),
            (xt = X.matches || X.webkitMatchesSelector || X.msMatchesSelector),
            X.msMatchesSelector &&
              U != F &&
              (Q = F.defaultView) &&
              Q.top !== Q &&
              Q.addEventListener('unload', cR),
            (p.getById = gl(function (pt) {
              return (
                (X.appendChild(pt).id = g.expando),
                !F.getElementsByName || !F.getElementsByName(g.expando).length
              );
            })),
            (p.disconnectedMatch = gl(function (pt) {
              return xt.call(pt, '*');
            })),
            (p.scope = gl(function () {
              return F.querySelectorAll(':scope');
            })),
            (p.cssHas = gl(function () {
              try {
                return F.querySelector(':has(*,:jqfake)'), !1;
              } catch {
                return !0;
              }
            })),
            p.getById
              ? ((b.filter.ID = function (pt) {
                  var St = pt.replace(Oa, Pa);
                  return function (jt) {
                    return jt.getAttribute('id') === St;
                  };
                }),
                (b.find.ID = function (pt, St) {
                  if (typeof St.getElementById < 'u' && G) {
                    var jt = St.getElementById(pt);
                    return jt ? [jt] : [];
                  }
                }))
              : ((b.filter.ID = function (pt) {
                  var St = pt.replace(Oa, Pa);
                  return function (jt) {
                    var Xt =
                      typeof jt.getAttributeNode < 'u' &&
                      jt.getAttributeNode('id');
                    return Xt && Xt.value === St;
                  };
                }),
                (b.find.ID = function (pt, St) {
                  if (typeof St.getElementById < 'u' && G) {
                    var jt,
                      Xt,
                      oe,
                      Zt = St.getElementById(pt);
                    if (Zt) {
                      if (
                        ((jt = Zt.getAttributeNode('id')),
                        jt && jt.value === pt)
                      )
                        return [Zt];
                      for (
                        oe = St.getElementsByName(pt), Xt = 0;
                        (Zt = oe[Xt++]);

                      )
                        if (
                          ((jt = Zt.getAttributeNode('id')),
                          jt && jt.value === pt)
                        )
                          return [Zt];
                    }
                    return [];
                  }
                })),
            (b.find.TAG = function (pt, St) {
              return typeof St.getElementsByTagName < 'u'
                ? St.getElementsByTagName(pt)
                : St.querySelectorAll(pt);
            }),
            (b.find.CLASS = function (pt, St) {
              if (typeof St.getElementsByClassName < 'u' && G)
                return St.getElementsByClassName(pt);
            }),
            (et = []),
            gl(function (pt) {
              var St;
              (X.appendChild(pt).innerHTML =
                "<a id='" +
                Dt +
                "' href='' disabled='disabled'></a><select id='" +
                Dt +
                "-\r\\' disabled='disabled'><option selected=''></option></select>"),
                pt.querySelectorAll('[selected]').length ||
                  et.push('\\[' + L + '*(?:value|' + ca + ')'),
                pt.querySelectorAll('[id~=' + Dt + '-]').length ||
                  et.push('~='),
                pt.querySelectorAll('a#' + Dt + '+*').length ||
                  et.push('.#.+[+~]'),
                pt.querySelectorAll(':checked').length || et.push(':checked'),
                (St = F.createElement('input')),
                St.setAttribute('type', 'hidden'),
                pt.appendChild(St).setAttribute('name', 'D'),
                (X.appendChild(pt).disabled = !0),
                pt.querySelectorAll(':disabled').length !== 2 &&
                  et.push(':enabled', ':disabled'),
                (St = F.createElement('input')),
                St.setAttribute('name', ''),
                pt.appendChild(St),
                pt.querySelectorAll("[name='']").length ||
                  et.push('\\[' + L + '*name' + L + '*=' + L + `*(?:''|"")`);
            }),
            p.cssHas || et.push(':has'),
            (et = et.length && new RegExp(et.join('|'))),
            (sn = function (pt, St) {
              if (pt === St) return (A = !0), 0;
              var jt =
                !pt.compareDocumentPosition - !St.compareDocumentPosition;
              return (
                jt ||
                ((jt =
                  (pt.ownerDocument || pt) == (St.ownerDocument || St)
                    ? pt.compareDocumentPosition(St)
                    : 1),
                jt & 1 ||
                (!p.sortDetached && St.compareDocumentPosition(pt) === jt)
                  ? pt === F || (pt.ownerDocument == U && di.contains(U, pt))
                    ? -1
                    : St === F || (St.ownerDocument == U && di.contains(U, St))
                      ? 1
                      : E
                        ? s.call(E, pt) - s.call(E, St)
                        : 0
                  : jt & 4
                    ? -1
                    : 1)
              );
            })),
          F
        );
      }
      (di.matches = function (H, Q) {
        return di(H, null, null, Q);
      }),
        (di.matchesSelector = function (H, Q) {
          if ((po(H), G && !xn[Q + ' '] && (!et || !et.test(Q))))
            try {
              var ut = xt.call(H, Q);
              if (
                ut ||
                p.disconnectedMatch ||
                (H.document && H.document.nodeType !== 11)
              )
                return ut;
            } catch {
              xn(Q, !0);
            }
          return di(Q, F, null, [H]).length > 0;
        }),
        (di.contains = function (H, Q) {
          return (H.ownerDocument || H) != F && po(H), g.contains(H, Q);
        }),
        (di.attr = function (H, Q) {
          (H.ownerDocument || H) != F && po(H);
          var ut = b.attrHandle[Q.toLowerCase()],
            pt =
              ut && u.call(b.attrHandle, Q.toLowerCase())
                ? ut(H, Q, !G)
                : void 0;
          return pt !== void 0 ? pt : H.getAttribute(Q);
        }),
        (di.error = function (H) {
          throw new Error('Syntax error, unrecognized expression: ' + H);
        }),
        (g.uniqueSort = function (H) {
          var Q,
            ut = [],
            pt = 0,
            St = 0;
          if (
            ((A = !p.sortStable),
            (E = !p.sortStable && r.call(H, 0)),
            R.call(H, sn),
            A)
          ) {
            for (; (Q = H[St++]); ) Q === H[St] && (pt = ut.push(St));
            for (; pt--; ) P.call(H, ut[pt], 1);
          }
          return (E = null), H;
        }),
        (g.fn.uniqueSort = function () {
          return this.pushStack(g.uniqueSort(r.apply(this)));
        }),
        (b = g.expr =
          {
            cacheLength: 50,
            createPseudo: Ur,
            match: ha,
            attrHandle: {},
            find: {},
            relative: {
              '>': { dir: 'parentNode', first: !0 },
              ' ': { dir: 'parentNode' },
              '+': { dir: 'previousSibling', first: !0 },
              '~': { dir: 'previousSibling' },
            },
            preFilter: {
              ATTR: function (H) {
                return (
                  (H[1] = H[1].replace(Oa, Pa)),
                  (H[3] = (H[3] || H[4] || H[5] || '').replace(Oa, Pa)),
                  H[2] === '~=' && (H[3] = ' ' + H[3] + ' '),
                  H.slice(0, 4)
                );
              },
              CHILD: function (H) {
                return (
                  (H[1] = H[1].toLowerCase()),
                  H[1].slice(0, 3) === 'nth'
                    ? (H[3] || di.error(H[0]),
                      (H[4] = +(H[4]
                        ? H[5] + (H[6] || 1)
                        : 2 * (H[3] === 'even' || H[3] === 'odd'))),
                      (H[5] = +(H[7] + H[8] || H[3] === 'odd')))
                    : H[3] && di.error(H[0]),
                  H
                );
              },
              PSEUDO: function (H) {
                var Q,
                  ut = !H[6] && H[2];
                return ha.CHILD.test(H[0])
                  ? null
                  : (H[3]
                      ? (H[2] = H[4] || H[5] || '')
                      : ut &&
                        da.test(ut) &&
                        (Q = Xc(ut, !0)) &&
                        (Q = ut.indexOf(')', ut.length - Q) - ut.length) &&
                        ((H[0] = H[0].slice(0, Q)), (H[2] = ut.slice(0, Q))),
                    H.slice(0, 3));
              },
            },
            filter: {
              TAG: function (H) {
                var Q = H.replace(Oa, Pa).toLowerCase();
                return H === '*'
                  ? function () {
                      return !0;
                    }
                  : function (ut) {
                      return T(ut, Q);
                    };
              },
              CLASS: function (H) {
                var Q = we[H + ' '];
                return (
                  Q ||
                  ((Q = new RegExp('(^|' + L + ')' + H + '(' + L + '|$)')) &&
                    we(H, function (ut) {
                      return Q.test(
                        (typeof ut.className == 'string' && ut.className) ||
                          (typeof ut.getAttribute < 'u' &&
                            ut.getAttribute('class')) ||
                          ''
                      );
                    }))
                );
              },
              ATTR: function (H, Q, ut) {
                return function (pt) {
                  var St = di.attr(pt, H);
                  return St == null
                    ? Q === '!='
                    : Q
                      ? ((St += ''),
                        Q === '='
                          ? St === ut
                          : Q === '!='
                            ? St !== ut
                            : Q === '^='
                              ? ut && St.indexOf(ut) === 0
                              : Q === '*='
                                ? ut && St.indexOf(ut) > -1
                                : Q === '$='
                                  ? ut && St.slice(-ut.length) === ut
                                  : Q === '~='
                                    ? (' ' + St.replace(We, ' ') + ' ').indexOf(
                                        ut
                                      ) > -1
                                    : Q === '|='
                                      ? St === ut ||
                                        St.slice(0, ut.length + 1) === ut + '-'
                                      : !1)
                      : !0;
                };
              },
              CHILD: function (H, Q, ut, pt, St) {
                var jt = H.slice(0, 3) !== 'nth',
                  Xt = H.slice(-4) !== 'last',
                  oe = Q === 'of-type';
                return pt === 1 && St === 0
                  ? function (Zt) {
                      return !!Zt.parentNode;
                    }
                  : function (Zt, Pe, xe) {
                      var ke,
                        Le,
                        ve,
                        ki,
                        ir,
                        Nn = jt !== Xt ? 'nextSibling' : 'previousSibling',
                        Sr = Zt.parentNode,
                        fa = oe && Zt.nodeName.toLowerCase(),
                        vl = !xe && !oe,
                        Gn = !1;
                      if (Sr) {
                        if (jt) {
                          for (; Nn; ) {
                            for (ve = Zt; (ve = ve[Nn]); )
                              if (oe ? T(ve, fa) : ve.nodeType === 1) return !1;
                            ir = Nn = H === 'only' && !ir && 'nextSibling';
                          }
                          return !0;
                        }
                        if (
                          ((ir = [Xt ? Sr.firstChild : Sr.lastChild]), Xt && vl)
                        ) {
                          for (
                            Le = Sr[Dt] || (Sr[Dt] = {}),
                              ke = Le[H] || [],
                              ki = ke[0] === ht && ke[1],
                              Gn = ki && ke[2],
                              ve = ki && Sr.childNodes[ki];
                            (ve =
                              (++ki && ve && ve[Nn]) ||
                              (Gn = ki = 0) ||
                              ir.pop());

                          )
                            if (ve.nodeType === 1 && ++Gn && ve === Zt) {
                              Le[H] = [ht, ki, Gn];
                              break;
                            }
                        } else if (
                          (vl &&
                            ((Le = Zt[Dt] || (Zt[Dt] = {})),
                            (ke = Le[H] || []),
                            (ki = ke[0] === ht && ke[1]),
                            (Gn = ki)),
                          Gn === !1)
                        )
                          for (
                            ;
                            (ve =
                              (++ki && ve && ve[Nn]) ||
                              (Gn = ki = 0) ||
                              ir.pop()) &&
                            !(
                              (oe ? T(ve, fa) : ve.nodeType === 1) &&
                              ++Gn &&
                              (vl &&
                                ((Le = ve[Dt] || (ve[Dt] = {})),
                                (Le[H] = [ht, Gn])),
                              ve === Zt)
                            );

                          );
                        return (
                          (Gn -= St),
                          Gn === pt || (Gn % pt === 0 && Gn / pt >= 0)
                        );
                      }
                    };
              },
              PSEUDO: function (H, Q) {
                var ut,
                  pt =
                    b.pseudos[H] ||
                    b.setFilters[H.toLowerCase()] ||
                    di.error('unsupported pseudo: ' + H);
                return pt[Dt]
                  ? pt(Q)
                  : pt.length > 1
                    ? ((ut = [H, H, '', Q]),
                      b.setFilters.hasOwnProperty(H.toLowerCase())
                        ? Ur(function (St, jt) {
                            for (var Xt, oe = pt(St, Q), Zt = oe.length; Zt--; )
                              (Xt = s.call(St, oe[Zt])),
                                (St[Xt] = !(jt[Xt] = oe[Zt]));
                          })
                        : function (St) {
                            return pt(St, 0, ut);
                          })
                    : pt;
              },
            },
            pseudos: {
              not: Ur(function (H) {
                var Q = [],
                  ut = [],
                  pt = ov(H.replace(V, '$1'));
                return pt[Dt]
                  ? Ur(function (St, jt, Xt, oe) {
                      for (
                        var Zt, Pe = pt(St, null, oe, []), xe = St.length;
                        xe--;

                      )
                        (Zt = Pe[xe]) && (St[xe] = !(jt[xe] = Zt));
                    })
                  : function (St, jt, Xt) {
                      return (
                        (Q[0] = St),
                        pt(Q, null, Xt, ut),
                        (Q[0] = null),
                        !ut.pop()
                      );
                    };
              }),
              has: Ur(function (H) {
                return function (Q) {
                  return di(H, Q).length > 0;
                };
              }),
              contains: Ur(function (H) {
                return (
                  (H = H.replace(Oa, Pa)),
                  function (Q) {
                    return (Q.textContent || g.text(Q)).indexOf(H) > -1;
                  }
                );
              }),
              lang: Ur(function (H) {
                return (
                  Kc.test(H || '') || di.error('unsupported lang: ' + H),
                  (H = H.replace(Oa, Pa).toLowerCase()),
                  function (Q) {
                    var ut;
                    do
                      if (
                        (ut = G
                          ? Q.lang
                          : Q.getAttribute('xml:lang') ||
                            Q.getAttribute('lang'))
                      )
                        return (
                          (ut = ut.toLowerCase()),
                          ut === H || ut.indexOf(H + '-') === 0
                        );
                    while ((Q = Q.parentNode) && Q.nodeType === 1);
                    return !1;
                  }
                );
              }),
              target: function (H) {
                var Q = e.location && e.location.hash;
                return Q && Q.slice(1) === H.id;
              },
              root: function (H) {
                return H === X;
              },
              focus: function (H) {
                return (
                  H === dR() &&
                  F.hasFocus() &&
                  !!(H.type || H.href || ~H.tabIndex)
                );
              },
              enabled: ax(!1),
              disabled: ax(!0),
              checked: function (H) {
                return (
                  (T(H, 'input') && !!H.checked) ||
                  (T(H, 'option') && !!H.selected)
                );
              },
              selected: function (H) {
                return (
                  H.parentNode && H.parentNode.selectedIndex, H.selected === !0
                );
              },
              empty: function (H) {
                for (H = H.firstChild; H; H = H.nextSibling)
                  if (H.nodeType < 6) return !1;
                return !0;
              },
              parent: function (H) {
                return !b.pseudos.empty(H);
              },
              header: function (H) {
                return fo.test(H.nodeName);
              },
              input: function (H) {
                return ho.test(H.nodeName);
              },
              button: function (H) {
                return (T(H, 'input') && H.type === 'button') || T(H, 'button');
              },
              text: function (H) {
                var Q;
                return (
                  T(H, 'input') &&
                  H.type === 'text' &&
                  ((Q = H.getAttribute('type')) == null ||
                    Q.toLowerCase() === 'text')
                );
              },
              first: hs(function () {
                return [0];
              }),
              last: hs(function (H, Q) {
                return [Q - 1];
              }),
              eq: hs(function (H, Q, ut) {
                return [ut < 0 ? ut + Q : ut];
              }),
              even: hs(function (H, Q) {
                for (var ut = 0; ut < Q; ut += 2) H.push(ut);
                return H;
              }),
              odd: hs(function (H, Q) {
                for (var ut = 1; ut < Q; ut += 2) H.push(ut);
                return H;
              }),
              lt: hs(function (H, Q, ut) {
                var pt;
                for (
                  ut < 0 ? (pt = ut + Q) : ut > Q ? (pt = Q) : (pt = ut);
                  --pt >= 0;

                )
                  H.push(pt);
                return H;
              }),
              gt: hs(function (H, Q, ut) {
                for (var pt = ut < 0 ? ut + Q : ut; ++pt < Q; ) H.push(pt);
                return H;
              }),
            },
          }),
        (b.pseudos.nth = b.pseudos.eq);
      for (f in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 })
        b.pseudos[f] = hR(f);
      for (f in { submit: !0, reset: !0 }) b.pseudos[f] = fR(f);
      function ox() {}
      (ox.prototype = b.filters = b.pseudos), (b.setFilters = new ox());
      function Xc(H, Q) {
        var ut,
          pt,
          St,
          jt,
          Xt,
          oe,
          Zt,
          Pe = He[H + ' '];
        if (Pe) return Q ? 0 : Pe.slice(0);
        for (Xt = H, oe = [], Zt = b.preFilter; Xt; ) {
          (!ut || (pt = $i.exec(Xt))) &&
            (pt && (Xt = Xt.slice(pt[0].length) || Xt), oe.push((St = []))),
            (ut = !1),
            (pt = Yc.exec(Xt)) &&
              ((ut = pt.shift()),
              St.push({ value: ut, type: pt[0].replace(V, ' ') }),
              (Xt = Xt.slice(ut.length)));
          for (jt in b.filter)
            (pt = ha[jt].exec(Xt)) &&
              (!Zt[jt] || (pt = Zt[jt](pt))) &&
              ((ut = pt.shift()),
              St.push({ value: ut, type: jt, matches: pt }),
              (Xt = Xt.slice(ut.length)));
          if (!ut) break;
        }
        return Q ? Xt.length : Xt ? di.error(H) : He(H, oe).slice(0);
      }
      function Nh(H) {
        for (var Q = 0, ut = H.length, pt = ''; Q < ut; Q++) pt += H[Q].value;
        return pt;
      }
      function Fh(H, Q, ut) {
        var pt = Q.dir,
          St = Q.next,
          jt = St || pt,
          Xt = ut && jt === 'parentNode',
          oe = Nt++;
        return Q.first
          ? function (Zt, Pe, xe) {
              for (; (Zt = Zt[pt]); )
                if (Zt.nodeType === 1 || Xt) return H(Zt, Pe, xe);
              return !1;
            }
          : function (Zt, Pe, xe) {
              var ke,
                Le,
                ve = [ht, oe];
              if (xe) {
                for (; (Zt = Zt[pt]); )
                  if ((Zt.nodeType === 1 || Xt) && H(Zt, Pe, xe)) return !0;
              } else
                for (; (Zt = Zt[pt]); )
                  if (Zt.nodeType === 1 || Xt)
                    if (((Le = Zt[Dt] || (Zt[Dt] = {})), St && T(Zt, St)))
                      Zt = Zt[pt] || Zt;
                    else {
                      if ((ke = Le[jt]) && ke[0] === ht && ke[1] === oe)
                        return (ve[2] = ke[2]);
                      if (((Le[jt] = ve), (ve[2] = H(Zt, Pe, xe)))) return !0;
                    }
              return !1;
            };
      }
      function nv(H) {
        return H.length > 1
          ? function (Q, ut, pt) {
              for (var St = H.length; St--; ) if (!H[St](Q, ut, pt)) return !1;
              return !0;
            }
          : H[0];
      }
      function pR(H, Q, ut) {
        for (var pt = 0, St = Q.length; pt < St; pt++) di(H, Q[pt], ut);
        return ut;
      }
      function Bh(H, Q, ut, pt, St) {
        for (
          var jt, Xt = [], oe = 0, Zt = H.length, Pe = Q != null;
          oe < Zt;
          oe++
        )
          (jt = H[oe]) &&
            (!ut || ut(jt, pt, St)) &&
            (Xt.push(jt), Pe && Q.push(oe));
        return Xt;
      }
      function rv(H, Q, ut, pt, St, jt) {
        return (
          pt && !pt[Dt] && (pt = rv(pt)),
          St && !St[Dt] && (St = rv(St, jt)),
          Ur(function (Xt, oe, Zt, Pe) {
            var xe,
              ke,
              Le,
              ve,
              ki = [],
              ir = [],
              Nn = oe.length,
              Sr = Xt || pR(Q || '*', Zt.nodeType ? [Zt] : Zt, []),
              fa = H && (Xt || !Q) ? Bh(Sr, ki, H, Zt, Pe) : Sr;
            if (
              (ut
                ? ((ve = St || (Xt ? H : Nn || pt) ? [] : oe),
                  ut(fa, ve, Zt, Pe))
                : (ve = fa),
              pt)
            )
              for (xe = Bh(ve, ir), pt(xe, [], Zt, Pe), ke = xe.length; ke--; )
                (Le = xe[ke]) && (ve[ir[ke]] = !(fa[ir[ke]] = Le));
            if (Xt) {
              if (St || H) {
                if (St) {
                  for (xe = [], ke = ve.length; ke--; )
                    (Le = ve[ke]) && xe.push((fa[ke] = Le));
                  St(null, (ve = []), xe, Pe);
                }
                for (ke = ve.length; ke--; )
                  (Le = ve[ke]) &&
                    (xe = St ? s.call(Xt, Le) : ki[ke]) > -1 &&
                    (Xt[xe] = !(oe[xe] = Le));
              }
            } else
              (ve = Bh(ve === oe ? ve.splice(Nn, ve.length) : ve)),
                St ? St(null, oe, ve, Pe) : I.apply(oe, ve);
          })
        );
      }
      function av(H) {
        for (
          var Q,
            ut,
            pt,
            St = H.length,
            jt = b.relative[H[0].type],
            Xt = jt || b.relative[' '],
            oe = jt ? 1 : 0,
            Zt = Fh(
              function (ke) {
                return ke === Q;
              },
              Xt,
              !0
            ),
            Pe = Fh(
              function (ke) {
                return s.call(Q, ke) > -1;
              },
              Xt,
              !0
            ),
            xe = [
              function (ke, Le, ve) {
                var ki =
                  (!jt && (ve || Le != k)) ||
                  ((Q = Le).nodeType ? Zt(ke, Le, ve) : Pe(ke, Le, ve));
                return (Q = null), ki;
              },
            ];
          oe < St;
          oe++
        )
          if ((ut = b.relative[H[oe].type])) xe = [Fh(nv(xe), ut)];
          else {
            if (
              ((ut = b.filter[H[oe].type].apply(null, H[oe].matches)), ut[Dt])
            ) {
              for (pt = ++oe; pt < St && !b.relative[H[pt].type]; pt++);
              return rv(
                oe > 1 && nv(xe),
                oe > 1 &&
                  Nh(
                    H.slice(0, oe - 1).concat({
                      value: H[oe - 2].type === ' ' ? '*' : '',
                    })
                  ).replace(V, '$1'),
                ut,
                oe < pt && av(H.slice(oe, pt)),
                pt < St && av((H = H.slice(pt))),
                pt < St && Nh(H)
              );
            }
            xe.push(ut);
          }
        return nv(xe);
      }
      function mR(H, Q) {
        var ut = Q.length > 0,
          pt = H.length > 0,
          St = function (jt, Xt, oe, Zt, Pe) {
            var xe,
              ke,
              Le,
              ve = 0,
              ki = '0',
              ir = jt && [],
              Nn = [],
              Sr = k,
              fa = jt || (pt && b.find.TAG('*', Pe)),
              vl = (ht += Sr == null ? 1 : Math.random() || 0.1),
              Gn = fa.length;
            for (
              Pe && (k = Xt == F || Xt || Pe);
              ki !== Gn && (xe = fa[ki]) != null;
              ki++
            ) {
              if (pt && xe) {
                for (
                  ke = 0, !Xt && xe.ownerDocument != F && (po(xe), (oe = !G));
                  (Le = H[ke++]);

                )
                  if (Le(xe, Xt || F, oe)) {
                    I.call(Zt, xe);
                    break;
                  }
                Pe && (ht = vl);
              }
              ut && ((xe = !Le && xe) && ve--, jt && ir.push(xe));
            }
            if (((ve += ki), ut && ki !== ve)) {
              for (ke = 0; (Le = Q[ke++]); ) Le(ir, Nn, Xt, oe);
              if (jt) {
                if (ve > 0)
                  for (; ki--; ) ir[ki] || Nn[ki] || (Nn[ki] = O.call(Zt));
                Nn = Bh(Nn);
              }
              I.apply(Zt, Nn),
                Pe &&
                  !jt &&
                  Nn.length > 0 &&
                  ve + Q.length > 1 &&
                  g.uniqueSort(Zt);
            }
            return Pe && ((ht = vl), (k = Sr)), ir;
          };
        return ut ? Ur(St) : St;
      }
      function ov(H, Q) {
        var ut,
          pt = [],
          St = [],
          jt = Me[H + ' '];
        if (!jt) {
          for (Q || (Q = Xc(H)), ut = Q.length; ut--; )
            (jt = av(Q[ut])), jt[Dt] ? pt.push(jt) : St.push(jt);
          (jt = Me(H, mR(St, pt))), (jt.selector = H);
        }
        return jt;
      }
      function sx(H, Q, ut, pt) {
        var St,
          jt,
          Xt,
          oe,
          Zt,
          Pe = typeof H == 'function' && H,
          xe = !pt && Xc((H = Pe.selector || H));
        if (((ut = ut || []), xe.length === 1)) {
          if (
            ((jt = xe[0] = xe[0].slice(0)),
            jt.length > 2 &&
              (Xt = jt[0]).type === 'ID' &&
              Q.nodeType === 9 &&
              G &&
              b.relative[jt[1].type])
          ) {
            if (
              ((Q = (b.find.ID(Xt.matches[0].replace(Oa, Pa), Q) || [])[0]), Q)
            )
              Pe && (Q = Q.parentNode);
            else return ut;
            H = H.slice(jt.shift().value.length);
          }
          for (
            St = ha.needsContext.test(H) ? 0 : jt.length;
            St-- && ((Xt = jt[St]), !b.relative[(oe = Xt.type)]);

          )
            if (
              (Zt = b.find[oe]) &&
              (pt = Zt(
                Xt.matches[0].replace(Oa, Pa),
                (ev.test(jt[0].type) && iv(Q.parentNode)) || Q
              ))
            ) {
              if ((jt.splice(St, 1), (H = pt.length && Nh(jt)), !H))
                return I.apply(ut, pt), ut;
              break;
            }
        }
        return (
          (Pe || ov(H, xe))(
            pt,
            Q,
            !G,
            ut,
            !Q || (ev.test(H) && iv(Q.parentNode)) || Q
          ),
          ut
        );
      }
      (p.sortStable = Dt.split('').sort(sn).join('') === Dt),
        po(),
        (p.sortDetached = gl(function (H) {
          return H.compareDocumentPosition(F.createElement('fieldset')) & 1;
        })),
        (g.find = di),
        (g.expr[':'] = g.expr.pseudos),
        (g.unique = g.uniqueSort),
        (di.compile = ov),
        (di.select = sx),
        (di.setDocument = po),
        (di.tokenize = Xc),
        (di.escape = g.escapeSelector),
        (di.getText = g.text),
        (di.isXML = g.isXMLDoc),
        (di.selectors = g.expr),
        (di.support = g.support),
        (di.uniqueSort = g.uniqueSort);
    })();
    var Z = function (f, b, k) {
        for (var E = [], A = k !== void 0; (f = f[b]) && f.nodeType !== 9; )
          if (f.nodeType === 1) {
            if (A && g(f).is(k)) break;
            E.push(f);
          }
        return E;
      },
      it = function (f, b) {
        for (var k = []; f; f = f.nextSibling)
          f.nodeType === 1 && f !== b && k.push(f);
        return k;
      },
      rt = g.expr.match.needsContext,
      nt = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
    function J(f, b, k) {
      return m(b)
        ? g.grep(f, function (E, A) {
            return !!b.call(E, A, E) !== k;
          })
        : b.nodeType
          ? g.grep(f, function (E) {
              return (E === b) !== k;
            })
          : typeof b != 'string'
            ? g.grep(f, function (E) {
                return s.call(b, E) > -1 !== k;
              })
            : g.filter(b, f, k);
    }
    (g.filter = function (f, b, k) {
      var E = b[0];
      return (
        k && (f = ':not(' + f + ')'),
        b.length === 1 && E.nodeType === 1
          ? g.find.matchesSelector(E, f)
            ? [E]
            : []
          : g.find.matches(
              f,
              g.grep(b, function (A) {
                return A.nodeType === 1;
              })
            )
      );
    }),
      g.fn.extend({
        find: function (f) {
          var b,
            k,
            E = this.length,
            A = this;
          if (typeof f != 'string')
            return this.pushStack(
              g(f).filter(function () {
                for (b = 0; b < E; b++) if (g.contains(A[b], this)) return !0;
              })
            );
          for (k = this.pushStack([]), b = 0; b < E; b++) g.find(f, A[b], k);
          return E > 1 ? g.uniqueSort(k) : k;
        },
        filter: function (f) {
          return this.pushStack(J(this, f || [], !1));
        },
        not: function (f) {
          return this.pushStack(J(this, f || [], !0));
        },
        is: function (f) {
          return !!J(
            this,
            typeof f == 'string' && rt.test(f) ? g(f) : f || [],
            !1
          ).length;
        },
      });
    var dt,
      yt = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
      wt = (g.fn.init = function (f, b, k) {
        var E, A;
        if (!f) return this;
        if (((k = k || dt), typeof f == 'string'))
          if (
            (f[0] === '<' && f[f.length - 1] === '>' && f.length >= 3
              ? (E = [null, f, null])
              : (E = yt.exec(f)),
            E && (E[1] || !b))
          )
            if (E[1]) {
              if (
                ((b = b instanceof g ? b[0] : b),
                g.merge(
                  this,
                  g.parseHTML(
                    E[1],
                    b && b.nodeType ? b.ownerDocument || b : v,
                    !0
                  )
                ),
                nt.test(E[1]) && g.isPlainObject(b))
              )
                for (E in b) m(this[E]) ? this[E](b[E]) : this.attr(E, b[E]);
              return this;
            } else
              return (
                (A = v.getElementById(E[2])),
                A && ((this[0] = A), (this.length = 1)),
                this
              );
          else
            return !b || b.jquery
              ? (b || k).find(f)
              : this.constructor(b).find(f);
        else {
          if (f.nodeType) return (this[0] = f), (this.length = 1), this;
          if (m(f)) return k.ready !== void 0 ? k.ready(f) : f(g);
        }
        return g.makeArray(f, this);
      });
    (wt.prototype = g.fn), (dt = g(v));
    var bt = /^(?:parents|prev(?:Until|All))/,
      At = { children: !0, contents: !0, next: !0, prev: !0 };
    g.fn.extend({
      has: function (f) {
        var b = g(f, this),
          k = b.length;
        return this.filter(function () {
          for (var E = 0; E < k; E++) if (g.contains(this, b[E])) return !0;
        });
      },
      closest: function (f, b) {
        var k,
          E = 0,
          A = this.length,
          I = [],
          F = typeof f != 'string' && g(f);
        if (!rt.test(f)) {
          for (; E < A; E++)
            for (k = this[E]; k && k !== b; k = k.parentNode)
              if (
                k.nodeType < 11 &&
                (F
                  ? F.index(k) > -1
                  : k.nodeType === 1 && g.find.matchesSelector(k, f))
              ) {
                I.push(k);
                break;
              }
        }
        return this.pushStack(I.length > 1 ? g.uniqueSort(I) : I);
      },
      index: function (f) {
        return f
          ? typeof f == 'string'
            ? s.call(g(f), this[0])
            : s.call(this, f.jquery ? f[0] : f)
          : this[0] && this[0].parentNode
            ? this.first().prevAll().length
            : -1;
      },
      add: function (f, b) {
        return this.pushStack(g.uniqueSort(g.merge(this.get(), g(f, b))));
      },
      addBack: function (f) {
        return this.add(
          f == null ? this.prevObject : this.prevObject.filter(f)
        );
      },
    });
    function _t(f, b) {
      for (; (f = f[b]) && f.nodeType !== 1; );
      return f;
    }
    g.each(
      {
        parent: function (f) {
          var b = f.parentNode;
          return b && b.nodeType !== 11 ? b : null;
        },
        parents: function (f) {
          return Z(f, 'parentNode');
        },
        parentsUntil: function (f, b, k) {
          return Z(f, 'parentNode', k);
        },
        next: function (f) {
          return _t(f, 'nextSibling');
        },
        prev: function (f) {
          return _t(f, 'previousSibling');
        },
        nextAll: function (f) {
          return Z(f, 'nextSibling');
        },
        prevAll: function (f) {
          return Z(f, 'previousSibling');
        },
        nextUntil: function (f, b, k) {
          return Z(f, 'nextSibling', k);
        },
        prevUntil: function (f, b, k) {
          return Z(f, 'previousSibling', k);
        },
        siblings: function (f) {
          return it((f.parentNode || {}).firstChild, f);
        },
        children: function (f) {
          return it(f.firstChild);
        },
        contents: function (f) {
          return f.contentDocument != null && i(f.contentDocument)
            ? f.contentDocument
            : (T(f, 'template') && (f = f.content || f),
              g.merge([], f.childNodes));
        },
      },
      function (f, b) {
        g.fn[f] = function (k, E) {
          var A = g.map(this, b, k);
          return (
            f.slice(-5) !== 'Until' && (E = k),
            E && typeof E == 'string' && (A = g.filter(E, A)),
            this.length > 1 &&
              (At[f] || g.uniqueSort(A), bt.test(f) && A.reverse()),
            this.pushStack(A)
          );
        };
      }
    );
    var K = /[^\x20\t\r\n\f]+/g;
    function lt(f) {
      var b = {};
      return (
        g.each(f.match(K) || [], function (k, E) {
          b[E] = !0;
        }),
        b
      );
    }
    g.Callbacks = function (f) {
      f = typeof f == 'string' ? lt(f) : g.extend({}, f);
      var b,
        k,
        E,
        A,
        I = [],
        F = [],
        X = -1,
        G = function () {
          for (A = A || f.once, E = b = !0; F.length; X = -1)
            for (k = F.shift(); ++X < I.length; )
              I[X].apply(k[0], k[1]) === !1 &&
                f.stopOnFalse &&
                ((X = I.length), (k = !1));
          f.memory || (k = !1), (b = !1), A && (k ? (I = []) : (I = ''));
        },
        et = {
          add: function () {
            return (
              I &&
                (k && !b && ((X = I.length - 1), F.push(k)),
                (function xt(Dt) {
                  g.each(Dt, function (ht, Nt) {
                    m(Nt)
                      ? (!f.unique || !et.has(Nt)) && I.push(Nt)
                      : Nt && Nt.length && x(Nt) !== 'string' && xt(Nt);
                  });
                })(arguments),
                k && !b && G()),
              this
            );
          },
          remove: function () {
            return (
              g.each(arguments, function (xt, Dt) {
                for (var ht; (ht = g.inArray(Dt, I, ht)) > -1; )
                  I.splice(ht, 1), ht <= X && X--;
              }),
              this
            );
          },
          has: function (xt) {
            return xt ? g.inArray(xt, I) > -1 : I.length > 0;
          },
          empty: function () {
            return I && (I = []), this;
          },
          disable: function () {
            return (A = F = []), (I = k = ''), this;
          },
          disabled: function () {
            return !I;
          },
          lock: function () {
            return (A = F = []), !k && !b && (I = k = ''), this;
          },
          locked: function () {
            return !!A;
          },
          fireWith: function (xt, Dt) {
            return (
              A ||
                ((Dt = Dt || []),
                (Dt = [xt, Dt.slice ? Dt.slice() : Dt]),
                F.push(Dt),
                b || G()),
              this
            );
          },
          fire: function () {
            return et.fireWith(this, arguments), this;
          },
          fired: function () {
            return !!E;
          },
        };
      return et;
    };
    function ot(f) {
      return f;
    }
    function Mt(f) {
      throw f;
    }
    function Vt(f, b, k, E) {
      var A;
      try {
        f && m((A = f.promise))
          ? A.call(f).done(b).fail(k)
          : f && m((A = f.then))
            ? A.call(f, b, k)
            : b.apply(void 0, [f].slice(E));
      } catch (I) {
        k.apply(void 0, [I]);
      }
    }
    g.extend({
      Deferred: function (f) {
        var b = [
            [
              'notify',
              'progress',
              g.Callbacks('memory'),
              g.Callbacks('memory'),
              2,
            ],
            [
              'resolve',
              'done',
              g.Callbacks('once memory'),
              g.Callbacks('once memory'),
              0,
              'resolved',
            ],
            [
              'reject',
              'fail',
              g.Callbacks('once memory'),
              g.Callbacks('once memory'),
              1,
              'rejected',
            ],
          ],
          k = 'pending',
          E = {
            state: function () {
              return k;
            },
            always: function () {
              return A.done(arguments).fail(arguments), this;
            },
            catch: function (I) {
              return E.then(null, I);
            },
            pipe: function () {
              var I = arguments;
              return g
                .Deferred(function (F) {
                  g.each(b, function (X, G) {
                    var et = m(I[G[4]]) && I[G[4]];
                    A[G[1]](function () {
                      var xt = et && et.apply(this, arguments);
                      xt && m(xt.promise)
                        ? xt
                            .promise()
                            .progress(F.notify)
                            .done(F.resolve)
                            .fail(F.reject)
                        : F[G[0] + 'With'](this, et ? [xt] : arguments);
                    });
                  }),
                    (I = null);
                })
                .promise();
            },
            then: function (I, F, X) {
              var G = 0;
              function et(xt, Dt, ht, Nt) {
                return function () {
                  var we = this,
                    He = arguments,
                    Me = function () {
                      var sn, ca;
                      if (!(xt < G)) {
                        if (((sn = ht.apply(we, He)), sn === Dt.promise()))
                          throw new TypeError('Thenable self-resolution');
                        (ca =
                          sn &&
                          (typeof sn == 'object' || typeof sn == 'function') &&
                          sn.then),
                          m(ca)
                            ? Nt
                              ? ca.call(
                                  sn,
                                  et(G, Dt, ot, Nt),
                                  et(G, Dt, Mt, Nt)
                                )
                              : (G++,
                                ca.call(
                                  sn,
                                  et(G, Dt, ot, Nt),
                                  et(G, Dt, Mt, Nt),
                                  et(G, Dt, ot, Dt.notifyWith)
                                ))
                            : (ht !== ot && ((we = void 0), (He = [sn])),
                              (Nt || Dt.resolveWith)(we, He));
                      }
                    },
                    xn = Nt
                      ? Me
                      : function () {
                          try {
                            Me();
                          } catch (sn) {
                            g.Deferred.exceptionHook &&
                              g.Deferred.exceptionHook(sn, xn.error),
                              xt + 1 >= G &&
                                (ht !== Mt && ((we = void 0), (He = [sn])),
                                Dt.rejectWith(we, He));
                          }
                        };
                  xt
                    ? xn()
                    : (g.Deferred.getErrorHook
                        ? (xn.error = g.Deferred.getErrorHook())
                        : g.Deferred.getStackHook &&
                          (xn.error = g.Deferred.getStackHook()),
                      e.setTimeout(xn));
                };
              }
              return g
                .Deferred(function (xt) {
                  b[0][3].add(et(0, xt, m(X) ? X : ot, xt.notifyWith)),
                    b[1][3].add(et(0, xt, m(I) ? I : ot)),
                    b[2][3].add(et(0, xt, m(F) ? F : Mt));
                })
                .promise();
            },
            promise: function (I) {
              return I != null ? g.extend(I, E) : E;
            },
          },
          A = {};
        return (
          g.each(b, function (I, F) {
            var X = F[2],
              G = F[5];
            (E[F[1]] = X.add),
              G &&
                X.add(
                  function () {
                    k = G;
                  },
                  b[3 - I][2].disable,
                  b[3 - I][3].disable,
                  b[0][2].lock,
                  b[0][3].lock
                ),
              X.add(F[3].fire),
              (A[F[0]] = function () {
                return (
                  A[F[0] + 'With'](this === A ? void 0 : this, arguments), this
                );
              }),
              (A[F[0] + 'With'] = X.fireWith);
          }),
          E.promise(A),
          f && f.call(A, A),
          A
        );
      },
      when: function (f) {
        var b = arguments.length,
          k = b,
          E = Array(k),
          A = r.call(arguments),
          I = g.Deferred(),
          F = function (X) {
            return function (G) {
              (E[X] = this),
                (A[X] = arguments.length > 1 ? r.call(arguments) : G),
                --b || I.resolveWith(E, A);
            };
          };
        if (
          b <= 1 &&
          (Vt(f, I.done(F(k)).resolve, I.reject, !b),
          I.state() === 'pending' || m(A[k] && A[k].then))
        )
          return I.then();
        for (; k--; ) Vt(A[k], F(k), I.reject);
        return I.promise();
      },
    });
    var Ot = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    (g.Deferred.exceptionHook = function (f, b) {
      e.console &&
        e.console.warn &&
        f &&
        Ot.test(f.name) &&
        e.console.warn('jQuery.Deferred exception: ' + f.message, f.stack, b);
    }),
      (g.readyException = function (f) {
        e.setTimeout(function () {
          throw f;
        });
      });
    var Lt = g.Deferred();
    (g.fn.ready = function (f) {
      return (
        Lt.then(f).catch(function (b) {
          g.readyException(b);
        }),
        this
      );
    }),
      g.extend({
        isReady: !1,
        readyWait: 1,
        ready: function (f) {
          (f === !0 ? --g.readyWait : g.isReady) ||
            ((g.isReady = !0),
            !(f !== !0 && --g.readyWait > 0) && Lt.resolveWith(v, [g]));
        },
      }),
      (g.ready.then = Lt.then);
    function Ut() {
      v.removeEventListener('DOMContentLoaded', Ut),
        e.removeEventListener('load', Ut),
        g.ready();
    }
    v.readyState === 'complete' ||
    (v.readyState !== 'loading' && !v.documentElement.doScroll)
      ? e.setTimeout(g.ready)
      : (v.addEventListener('DOMContentLoaded', Ut),
        e.addEventListener('load', Ut));
    var Wt = function (f, b, k, E, A, I, F) {
        var X = 0,
          G = f.length,
          et = k == null;
        if (x(k) === 'object') {
          A = !0;
          for (X in k) Wt(f, b, X, k[X], !0, I, F);
        } else if (
          E !== void 0 &&
          ((A = !0),
          m(E) || (F = !0),
          et &&
            (F
              ? (b.call(f, E), (b = null))
              : ((et = b),
                (b = function (xt, Dt, ht) {
                  return et.call(g(xt), ht);
                }))),
          b)
        )
          for (; X < G; X++) b(f[X], k, F ? E : E.call(f[X], X, b(f[X], k)));
        return A ? f : et ? b.call(f) : G ? b(f[0], k) : I;
      },
      Jt = /^-ms-/,
      le = /-([a-z])/g;
    function Fe(f, b) {
      return b.toUpperCase();
    }
    function _e(f) {
      return f.replace(Jt, 'ms-').replace(le, Fe);
    }
    var ce = function (f) {
      return f.nodeType === 1 || f.nodeType === 9 || !+f.nodeType;
    };
    function Ee() {
      this.expando = g.expando + Ee.uid++;
    }
    (Ee.uid = 1),
      (Ee.prototype = {
        cache: function (f) {
          var b = f[this.expando];
          return (
            b ||
              ((b = {}),
              ce(f) &&
                (f.nodeType
                  ? (f[this.expando] = b)
                  : Object.defineProperty(f, this.expando, {
                      value: b,
                      configurable: !0,
                    }))),
            b
          );
        },
        set: function (f, b, k) {
          var E,
            A = this.cache(f);
          if (typeof b == 'string') A[_e(b)] = k;
          else for (E in b) A[_e(E)] = b[E];
          return A;
        },
        get: function (f, b) {
          return b === void 0
            ? this.cache(f)
            : f[this.expando] && f[this.expando][_e(b)];
        },
        access: function (f, b, k) {
          return b === void 0 || (b && typeof b == 'string' && k === void 0)
            ? this.get(f, b)
            : (this.set(f, b, k), k !== void 0 ? k : b);
        },
        remove: function (f, b) {
          var k,
            E = f[this.expando];
          if (E !== void 0) {
            if (b !== void 0)
              for (
                Array.isArray(b)
                  ? (b = b.map(_e))
                  : ((b = _e(b)), (b = (b in E) ? [b] : b.match(K) || [])),
                  k = b.length;
                k--;

              )
                delete E[b[k]];
            (b === void 0 || g.isEmptyObject(E)) &&
              (f.nodeType
                ? (f[this.expando] = void 0)
                : delete f[this.expando]);
          }
        },
        hasData: function (f) {
          var b = f[this.expando];
          return b !== void 0 && !g.isEmptyObject(b);
        },
      });
    var st = new Ee(),
      z = new Ee(),
      ct = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
      Ct = /[A-Z]/g;
    function gt(f) {
      return f === 'true'
        ? !0
        : f === 'false'
          ? !1
          : f === 'null'
            ? null
            : f === +f + ''
              ? +f
              : ct.test(f)
                ? JSON.parse(f)
                : f;
    }
    function vt(f, b, k) {
      var E;
      if (k === void 0 && f.nodeType === 1)
        if (
          ((E = 'data-' + b.replace(Ct, '-$&').toLowerCase()),
          (k = f.getAttribute(E)),
          typeof k == 'string')
        ) {
          try {
            k = gt(k);
          } catch {}
          z.set(f, b, k);
        } else k = void 0;
      return k;
    }
    g.extend({
      hasData: function (f) {
        return z.hasData(f) || st.hasData(f);
      },
      data: function (f, b, k) {
        return z.access(f, b, k);
      },
      removeData: function (f, b) {
        z.remove(f, b);
      },
      _data: function (f, b, k) {
        return st.access(f, b, k);
      },
      _removeData: function (f, b) {
        st.remove(f, b);
      },
    }),
      g.fn.extend({
        data: function (f, b) {
          var k,
            E,
            A,
            I = this[0],
            F = I && I.attributes;
          if (f === void 0) {
            if (
              this.length &&
              ((A = z.get(I)), I.nodeType === 1 && !st.get(I, 'hasDataAttrs'))
            ) {
              for (k = F.length; k--; )
                F[k] &&
                  ((E = F[k].name),
                  E.indexOf('data-') === 0 &&
                    ((E = _e(E.slice(5))), vt(I, E, A[E])));
              st.set(I, 'hasDataAttrs', !0);
            }
            return A;
          }
          return typeof f == 'object'
            ? this.each(function () {
                z.set(this, f);
              })
            : Wt(
                this,
                function (X) {
                  var G;
                  if (I && X === void 0)
                    return (
                      (G = z.get(I, f)),
                      G !== void 0 || ((G = vt(I, f)), G !== void 0)
                        ? G
                        : void 0
                    );
                  this.each(function () {
                    z.set(this, f, X);
                  });
                },
                null,
                b,
                arguments.length > 1,
                null,
                !0
              );
        },
        removeData: function (f) {
          return this.each(function () {
            z.remove(this, f);
          });
        },
      }),
      g.extend({
        queue: function (f, b, k) {
          var E;
          if (f)
            return (
              (b = (b || 'fx') + 'queue'),
              (E = st.get(f, b)),
              k &&
                (!E || Array.isArray(k)
                  ? (E = st.access(f, b, g.makeArray(k)))
                  : E.push(k)),
              E || []
            );
        },
        dequeue: function (f, b) {
          b = b || 'fx';
          var k = g.queue(f, b),
            E = k.length,
            A = k.shift(),
            I = g._queueHooks(f, b),
            F = function () {
              g.dequeue(f, b);
            };
          A === 'inprogress' && ((A = k.shift()), E--),
            A &&
              (b === 'fx' && k.unshift('inprogress'),
              delete I.stop,
              A.call(f, F, I)),
            !E && I && I.empty.fire();
        },
        _queueHooks: function (f, b) {
          var k = b + 'queueHooks';
          return (
            st.get(f, k) ||
            st.access(f, k, {
              empty: g.Callbacks('once memory').add(function () {
                st.remove(f, [b + 'queue', k]);
              }),
            })
          );
        },
      }),
      g.fn.extend({
        queue: function (f, b) {
          var k = 2;
          return (
            typeof f != 'string' && ((b = f), (f = 'fx'), k--),
            arguments.length < k
              ? g.queue(this[0], f)
              : b === void 0
                ? this
                : this.each(function () {
                    var E = g.queue(this, f, b);
                    g._queueHooks(this, f),
                      f === 'fx' && E[0] !== 'inprogress' && g.dequeue(this, f);
                  })
          );
        },
        dequeue: function (f) {
          return this.each(function () {
            g.dequeue(this, f);
          });
        },
        clearQueue: function (f) {
          return this.queue(f || 'fx', []);
        },
        promise: function (f, b) {
          var k,
            E = 1,
            A = g.Deferred(),
            I = this,
            F = this.length,
            X = function () {
              --E || A.resolveWith(I, [I]);
            };
          for (
            typeof f != 'string' && ((b = f), (f = void 0)), f = f || 'fx';
            F--;

          )
            (k = st.get(I[F], f + 'queueHooks')),
              k && k.empty && (E++, k.empty.add(X));
          return X(), A.promise(b);
        },
      });
    var Ft = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
      mt = new RegExp('^(?:([+-])=|)(' + Ft + ')([a-z%]*)$', 'i'),
      Pt = ['Top', 'Right', 'Bottom', 'Left'],
      te = v.documentElement,
      ne = function (f) {
        return g.contains(f.ownerDocument, f);
      },
      ie = { composed: !0 };
    te.getRootNode &&
      (ne = function (f) {
        return (
          g.contains(f.ownerDocument, f) ||
          f.getRootNode(ie) === f.ownerDocument
        );
      });
    var pe = function (f, b) {
      return (
        (f = b || f),
        f.style.display === 'none' ||
          (f.style.display === '' && ne(f) && g.css(f, 'display') === 'none')
      );
    };
    function Kt(f, b, k, E) {
      var A,
        I,
        F = 20,
        X = E
          ? function () {
              return E.cur();
            }
          : function () {
              return g.css(f, b, '');
            },
        G = X(),
        et = (k && k[3]) || (g.cssNumber[b] ? '' : 'px'),
        xt =
          f.nodeType &&
          (g.cssNumber[b] || (et !== 'px' && +G)) &&
          mt.exec(g.css(f, b));
      if (xt && xt[3] !== et) {
        for (G = G / 2, et = et || xt[3], xt = +G || 1; F--; )
          g.style(f, b, xt + et),
            (1 - I) * (1 - (I = X() / G || 0.5)) <= 0 && (F = 0),
            (xt = xt / I);
        (xt = xt * 2), g.style(f, b, xt + et), (k = k || []);
      }
      return (
        k &&
          ((xt = +xt || +G || 0),
          (A = k[1] ? xt + (k[1] + 1) * k[2] : +k[2]),
          E && ((E.unit = et), (E.start = xt), (E.end = A))),
        A
      );
    }
    var ae = {};
    function ei(f) {
      var b,
        k = f.ownerDocument,
        E = f.nodeName,
        A = ae[E];
      return (
        A ||
        ((b = k.body.appendChild(k.createElement(E))),
        (A = g.css(b, 'display')),
        b.parentNode.removeChild(b),
        A === 'none' && (A = 'block'),
        (ae[E] = A),
        A)
      );
    }
    function Ce(f, b) {
      for (var k, E, A = [], I = 0, F = f.length; I < F; I++)
        (E = f[I]),
          E.style &&
            ((k = E.style.display),
            b
              ? (k === 'none' &&
                  ((A[I] = st.get(E, 'display') || null),
                  A[I] || (E.style.display = '')),
                E.style.display === '' && pe(E) && (A[I] = ei(E)))
              : k !== 'none' && ((A[I] = 'none'), st.set(E, 'display', k)));
      for (I = 0; I < F; I++) A[I] != null && (f[I].style.display = A[I]);
      return f;
    }
    g.fn.extend({
      show: function () {
        return Ce(this, !0);
      },
      hide: function () {
        return Ce(this);
      },
      toggle: function (f) {
        return typeof f == 'boolean'
          ? f
            ? this.show()
            : this.hide()
          : this.each(function () {
              pe(this) ? g(this).show() : g(this).hide();
            });
      },
    });
    var Di = /^(?:checkbox|radio)$/i,
      ui = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
      Ti = /^$|^module$|\/(?:java|ecma)script/i;
    (function () {
      var f = v.createDocumentFragment(),
        b = f.appendChild(v.createElement('div')),
        k = v.createElement('input');
      k.setAttribute('type', 'radio'),
        k.setAttribute('checked', 'checked'),
        k.setAttribute('name', 't'),
        b.appendChild(k),
        (p.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked),
        (b.innerHTML = '<textarea>x</textarea>'),
        (p.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue),
        (b.innerHTML = '<option></option>'),
        (p.option = !!b.lastChild);
    })();
    var ii = {
      thead: [1, '<table>', '</table>'],
      col: [2, '<table><colgroup>', '</colgroup></table>'],
      tr: [2, '<table><tbody>', '</tbody></table>'],
      td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],
      _default: [0, '', ''],
    };
    (ii.tbody = ii.tfoot = ii.colgroup = ii.caption = ii.thead),
      (ii.th = ii.td),
      p.option ||
        (ii.optgroup = ii.option =
          [1, "<select multiple='multiple'>", '</select>']);
    function Ue(f, b) {
      var k;
      return (
        typeof f.getElementsByTagName < 'u'
          ? (k = f.getElementsByTagName(b || '*'))
          : typeof f.querySelectorAll < 'u'
            ? (k = f.querySelectorAll(b || '*'))
            : (k = []),
        b === void 0 || (b && T(f, b)) ? g.merge([f], k) : k
      );
    }
    function Hi(f, b) {
      for (var k = 0, E = f.length; k < E; k++)
        st.set(f[k], 'globalEval', !b || st.get(b[k], 'globalEval'));
    }
    var M = /<|&#?\w+;/;
    function N(f, b, k, E, A) {
      for (
        var I,
          F,
          X,
          G,
          et,
          xt,
          Dt = b.createDocumentFragment(),
          ht = [],
          Nt = 0,
          we = f.length;
        Nt < we;
        Nt++
      )
        if (((I = f[Nt]), I || I === 0))
          if (x(I) === 'object') g.merge(ht, I.nodeType ? [I] : I);
          else if (!M.test(I)) ht.push(b.createTextNode(I));
          else {
            for (
              F = F || Dt.appendChild(b.createElement('div')),
                X = (ui.exec(I) || ['', ''])[1].toLowerCase(),
                G = ii[X] || ii._default,
                F.innerHTML = G[1] + g.htmlPrefilter(I) + G[2],
                xt = G[0];
              xt--;

            )
              F = F.lastChild;
            g.merge(ht, F.childNodes),
              (F = Dt.firstChild),
              (F.textContent = '');
          }
      for (Dt.textContent = '', Nt = 0; (I = ht[Nt++]); ) {
        if (E && g.inArray(I, E) > -1) {
          A && A.push(I);
          continue;
        }
        if (
          ((et = ne(I)), (F = Ue(Dt.appendChild(I), 'script')), et && Hi(F), k)
        )
          for (xt = 0; (I = F[xt++]); ) Ti.test(I.type || '') && k.push(I);
      }
      return Dt;
    }
    var j = /^([^.]*)(?:\.(.+)|)/;
    function Y() {
      return !0;
    }
    function $() {
      return !1;
    }
    function tt(f, b, k, E, A, I) {
      var F, X;
      if (typeof b == 'object') {
        typeof k != 'string' && ((E = E || k), (k = void 0));
        for (X in b) tt(f, X, k, E, b[X], I);
        return f;
      }
      if (
        (E == null && A == null
          ? ((A = k), (E = k = void 0))
          : A == null &&
            (typeof k == 'string'
              ? ((A = E), (E = void 0))
              : ((A = E), (E = k), (k = void 0))),
        A === !1)
      )
        A = $;
      else if (!A) return f;
      return (
        I === 1 &&
          ((F = A),
          (A = function (G) {
            return g().off(G), F.apply(this, arguments);
          }),
          (A.guid = F.guid || (F.guid = g.guid++))),
        f.each(function () {
          g.event.add(this, b, A, E, k);
        })
      );
    }
    g.event = {
      global: {},
      add: function (f, b, k, E, A) {
        var I,
          F,
          X,
          G,
          et,
          xt,
          Dt,
          ht,
          Nt,
          we,
          He,
          Me = st.get(f);
        if (ce(f))
          for (
            k.handler && ((I = k), (k = I.handler), (A = I.selector)),
              A && g.find.matchesSelector(te, A),
              k.guid || (k.guid = g.guid++),
              (G = Me.events) || (G = Me.events = Object.create(null)),
              (F = Me.handle) ||
                (F = Me.handle =
                  function (xn) {
                    return typeof g < 'u' && g.event.triggered !== xn.type
                      ? g.event.dispatch.apply(f, arguments)
                      : void 0;
                  }),
              b = (b || '').match(K) || [''],
              et = b.length;
            et--;

          )
            (X = j.exec(b[et]) || []),
              (Nt = He = X[1]),
              (we = (X[2] || '').split('.').sort()),
              Nt &&
                ((Dt = g.event.special[Nt] || {}),
                (Nt = (A ? Dt.delegateType : Dt.bindType) || Nt),
                (Dt = g.event.special[Nt] || {}),
                (xt = g.extend(
                  {
                    type: Nt,
                    origType: He,
                    data: E,
                    handler: k,
                    guid: k.guid,
                    selector: A,
                    needsContext: A && g.expr.match.needsContext.test(A),
                    namespace: we.join('.'),
                  },
                  I
                )),
                (ht = G[Nt]) ||
                  ((ht = G[Nt] = []),
                  (ht.delegateCount = 0),
                  (!Dt.setup || Dt.setup.call(f, E, we, F) === !1) &&
                    f.addEventListener &&
                    f.addEventListener(Nt, F)),
                Dt.add &&
                  (Dt.add.call(f, xt),
                  xt.handler.guid || (xt.handler.guid = k.guid)),
                A ? ht.splice(ht.delegateCount++, 0, xt) : ht.push(xt),
                (g.event.global[Nt] = !0));
      },
      remove: function (f, b, k, E, A) {
        var I,
          F,
          X,
          G,
          et,
          xt,
          Dt,
          ht,
          Nt,
          we,
          He,
          Me = st.hasData(f) && st.get(f);
        if (!(!Me || !(G = Me.events))) {
          for (b = (b || '').match(K) || [''], et = b.length; et--; ) {
            if (
              ((X = j.exec(b[et]) || []),
              (Nt = He = X[1]),
              (we = (X[2] || '').split('.').sort()),
              !Nt)
            ) {
              for (Nt in G) g.event.remove(f, Nt + b[et], k, E, !0);
              continue;
            }
            for (
              Dt = g.event.special[Nt] || {},
                Nt = (E ? Dt.delegateType : Dt.bindType) || Nt,
                ht = G[Nt] || [],
                X =
                  X[2] &&
                  new RegExp('(^|\\.)' + we.join('\\.(?:.*\\.|)') + '(\\.|$)'),
                F = I = ht.length;
              I--;

            )
              (xt = ht[I]),
                (A || He === xt.origType) &&
                  (!k || k.guid === xt.guid) &&
                  (!X || X.test(xt.namespace)) &&
                  (!E || E === xt.selector || (E === '**' && xt.selector)) &&
                  (ht.splice(I, 1),
                  xt.selector && ht.delegateCount--,
                  Dt.remove && Dt.remove.call(f, xt));
            F &&
              !ht.length &&
              ((!Dt.teardown || Dt.teardown.call(f, we, Me.handle) === !1) &&
                g.removeEvent(f, Nt, Me.handle),
              delete G[Nt]);
          }
          g.isEmptyObject(G) && st.remove(f, 'handle events');
        }
      },
      dispatch: function (f) {
        var b,
          k,
          E,
          A,
          I,
          F,
          X = new Array(arguments.length),
          G = g.event.fix(f),
          et = (st.get(this, 'events') || Object.create(null))[G.type] || [],
          xt = g.event.special[G.type] || {};
        for (X[0] = G, b = 1; b < arguments.length; b++) X[b] = arguments[b];
        if (
          ((G.delegateTarget = this),
          !(xt.preDispatch && xt.preDispatch.call(this, G) === !1))
        ) {
          for (
            F = g.event.handlers.call(this, G, et), b = 0;
            (A = F[b++]) && !G.isPropagationStopped();

          )
            for (
              G.currentTarget = A.elem, k = 0;
              (I = A.handlers[k++]) && !G.isImmediatePropagationStopped();

            )
              (!G.rnamespace ||
                I.namespace === !1 ||
                G.rnamespace.test(I.namespace)) &&
                ((G.handleObj = I),
                (G.data = I.data),
                (E = (
                  (g.event.special[I.origType] || {}).handle || I.handler
                ).apply(A.elem, X)),
                E !== void 0 &&
                  (G.result = E) === !1 &&
                  (G.preventDefault(), G.stopPropagation()));
          return xt.postDispatch && xt.postDispatch.call(this, G), G.result;
        }
      },
      handlers: function (f, b) {
        var k,
          E,
          A,
          I,
          F,
          X = [],
          G = b.delegateCount,
          et = f.target;
        if (G && et.nodeType && !(f.type === 'click' && f.button >= 1)) {
          for (; et !== this; et = et.parentNode || this)
            if (
              et.nodeType === 1 &&
              !(f.type === 'click' && et.disabled === !0)
            ) {
              for (I = [], F = {}, k = 0; k < G; k++)
                (E = b[k]),
                  (A = E.selector + ' '),
                  F[A] === void 0 &&
                    (F[A] = E.needsContext
                      ? g(A, this).index(et) > -1
                      : g.find(A, this, null, [et]).length),
                  F[A] && I.push(E);
              I.length && X.push({ elem: et, handlers: I });
            }
        }
        return (
          (et = this),
          G < b.length && X.push({ elem: et, handlers: b.slice(G) }),
          X
        );
      },
      addProp: function (f, b) {
        Object.defineProperty(g.Event.prototype, f, {
          enumerable: !0,
          configurable: !0,
          get: m(b)
            ? function () {
                if (this.originalEvent) return b(this.originalEvent);
              }
            : function () {
                if (this.originalEvent) return this.originalEvent[f];
              },
          set: function (k) {
            Object.defineProperty(this, f, {
              enumerable: !0,
              configurable: !0,
              writable: !0,
              value: k,
            });
          },
        });
      },
      fix: function (f) {
        return f[g.expando] ? f : new g.Event(f);
      },
      special: {
        load: { noBubble: !0 },
        click: {
          setup: function (f) {
            var b = this || f;
            return (
              Di.test(b.type) && b.click && T(b, 'input') && at(b, 'click', !0),
              !1
            );
          },
          trigger: function (f) {
            var b = this || f;
            return (
              Di.test(b.type) && b.click && T(b, 'input') && at(b, 'click'), !0
            );
          },
          _default: function (f) {
            var b = f.target;
            return (
              (Di.test(b.type) &&
                b.click &&
                T(b, 'input') &&
                st.get(b, 'click')) ||
              T(b, 'a')
            );
          },
        },
        beforeunload: {
          postDispatch: function (f) {
            f.result !== void 0 &&
              f.originalEvent &&
              (f.originalEvent.returnValue = f.result);
          },
        },
      },
    };
    function at(f, b, k) {
      if (!k) {
        st.get(f, b) === void 0 && g.event.add(f, b, Y);
        return;
      }
      st.set(f, b, !1),
        g.event.add(f, b, {
          namespace: !1,
          handler: function (E) {
            var A,
              I = st.get(this, b);
            if (E.isTrigger & 1 && this[b]) {
              if (I)
                (g.event.special[b] || {}).delegateType && E.stopPropagation();
              else if (
                ((I = r.call(arguments)),
                st.set(this, b, I),
                this[b](),
                (A = st.get(this, b)),
                st.set(this, b, !1),
                I !== A)
              )
                return E.stopImmediatePropagation(), E.preventDefault(), A;
            } else
              I &&
                (st.set(this, b, g.event.trigger(I[0], I.slice(1), this)),
                E.stopPropagation(),
                (E.isImmediatePropagationStopped = Y));
          },
        });
    }
    (g.removeEvent = function (f, b, k) {
      f.removeEventListener && f.removeEventListener(b, k);
    }),
      (g.Event = function (f, b) {
        if (!(this instanceof g.Event)) return new g.Event(f, b);
        f && f.type
          ? ((this.originalEvent = f),
            (this.type = f.type),
            (this.isDefaultPrevented =
              f.defaultPrevented ||
              (f.defaultPrevented === void 0 && f.returnValue === !1)
                ? Y
                : $),
            (this.target =
              f.target && f.target.nodeType === 3
                ? f.target.parentNode
                : f.target),
            (this.currentTarget = f.currentTarget),
            (this.relatedTarget = f.relatedTarget))
          : (this.type = f),
          b && g.extend(this, b),
          (this.timeStamp = (f && f.timeStamp) || Date.now()),
          (this[g.expando] = !0);
      }),
      (g.Event.prototype = {
        constructor: g.Event,
        isDefaultPrevented: $,
        isPropagationStopped: $,
        isImmediatePropagationStopped: $,
        isSimulated: !1,
        preventDefault: function () {
          var f = this.originalEvent;
          (this.isDefaultPrevented = Y),
            f && !this.isSimulated && f.preventDefault();
        },
        stopPropagation: function () {
          var f = this.originalEvent;
          (this.isPropagationStopped = Y),
            f && !this.isSimulated && f.stopPropagation();
        },
        stopImmediatePropagation: function () {
          var f = this.originalEvent;
          (this.isImmediatePropagationStopped = Y),
            f && !this.isSimulated && f.stopImmediatePropagation(),
            this.stopPropagation();
        },
      }),
      g.each(
        {
          altKey: !0,
          bubbles: !0,
          cancelable: !0,
          changedTouches: !0,
          ctrlKey: !0,
          detail: !0,
          eventPhase: !0,
          metaKey: !0,
          pageX: !0,
          pageY: !0,
          shiftKey: !0,
          view: !0,
          char: !0,
          code: !0,
          charCode: !0,
          key: !0,
          keyCode: !0,
          button: !0,
          buttons: !0,
          clientX: !0,
          clientY: !0,
          offsetX: !0,
          offsetY: !0,
          pointerId: !0,
          pointerType: !0,
          screenX: !0,
          screenY: !0,
          targetTouches: !0,
          toElement: !0,
          touches: !0,
          which: !0,
        },
        g.event.addProp
      ),
      g.each({ focus: 'focusin', blur: 'focusout' }, function (f, b) {
        function k(E) {
          if (v.documentMode) {
            var A = st.get(this, 'handle'),
              I = g.event.fix(E);
            (I.type = E.type === 'focusin' ? 'focus' : 'blur'),
              (I.isSimulated = !0),
              A(E),
              I.target === I.currentTarget && A(I);
          } else g.event.simulate(b, E.target, g.event.fix(E));
        }
        (g.event.special[f] = {
          setup: function () {
            var E;
            if ((at(this, f, !0), v.documentMode))
              (E = st.get(this, b)),
                E || this.addEventListener(b, k),
                st.set(this, b, (E || 0) + 1);
            else return !1;
          },
          trigger: function () {
            return at(this, f), !0;
          },
          teardown: function () {
            var E;
            if (v.documentMode)
              (E = st.get(this, b) - 1),
                E
                  ? st.set(this, b, E)
                  : (this.removeEventListener(b, k), st.remove(this, b));
            else return !1;
          },
          _default: function (E) {
            return st.get(E.target, f);
          },
          delegateType: b,
        }),
          (g.event.special[b] = {
            setup: function () {
              var E = this.ownerDocument || this.document || this,
                A = v.documentMode ? this : E,
                I = st.get(A, b);
              I ||
                (v.documentMode
                  ? this.addEventListener(b, k)
                  : E.addEventListener(f, k, !0)),
                st.set(A, b, (I || 0) + 1);
            },
            teardown: function () {
              var E = this.ownerDocument || this.document || this,
                A = v.documentMode ? this : E,
                I = st.get(A, b) - 1;
              I
                ? st.set(A, b, I)
                : (v.documentMode
                    ? this.removeEventListener(b, k)
                    : E.removeEventListener(f, k, !0),
                  st.remove(A, b));
            },
          });
      }),
      g.each(
        {
          mouseenter: 'mouseover',
          mouseleave: 'mouseout',
          pointerenter: 'pointerover',
          pointerleave: 'pointerout',
        },
        function (f, b) {
          g.event.special[f] = {
            delegateType: b,
            bindType: b,
            handle: function (k) {
              var E,
                A = this,
                I = k.relatedTarget,
                F = k.handleObj;
              return (
                (!I || (I !== A && !g.contains(A, I))) &&
                  ((k.type = F.origType),
                  (E = F.handler.apply(this, arguments)),
                  (k.type = b)),
                E
              );
            },
          };
        }
      ),
      g.fn.extend({
        on: function (f, b, k, E) {
          return tt(this, f, b, k, E);
        },
        one: function (f, b, k, E) {
          return tt(this, f, b, k, E, 1);
        },
        off: function (f, b, k) {
          var E, A;
          if (f && f.preventDefault && f.handleObj)
            return (
              (E = f.handleObj),
              g(f.delegateTarget).off(
                E.namespace ? E.origType + '.' + E.namespace : E.origType,
                E.selector,
                E.handler
              ),
              this
            );
          if (typeof f == 'object') {
            for (A in f) this.off(A, b, f[A]);
            return this;
          }
          return (
            (b === !1 || typeof b == 'function') && ((k = b), (b = void 0)),
            k === !1 && (k = $),
            this.each(function () {
              g.event.remove(this, f, k, b);
            })
          );
        },
      });
    var ft = /<script|<style|<link/i,
      kt = /checked\s*(?:[^=]|=\s*.checked.)/i,
      Et = /^\s*<!\[CDATA\[|\]\]>\s*$/g;
    function Rt(f, b) {
      return (
        (T(f, 'table') &&
          T(b.nodeType !== 11 ? b : b.firstChild, 'tr') &&
          g(f).children('tbody')[0]) ||
        f
      );
    }
    function Gt(f) {
      return (f.type = (f.getAttribute('type') !== null) + '/' + f.type), f;
    }
    function zt(f) {
      return (
        (f.type || '').slice(0, 5) === 'true/'
          ? (f.type = f.type.slice(5))
          : f.removeAttribute('type'),
        f
      );
    }
    function ue(f, b) {
      var k, E, A, I, F, X, G;
      if (b.nodeType === 1) {
        if (st.hasData(f) && ((I = st.get(f)), (G = I.events), G)) {
          st.remove(b, 'handle events');
          for (A in G)
            for (k = 0, E = G[A].length; k < E; k++) g.event.add(b, A, G[A][k]);
        }
        z.hasData(f) && ((F = z.access(f)), (X = g.extend({}, F)), z.set(b, X));
      }
    }
    function me(f, b) {
      var k = b.nodeName.toLowerCase();
      k === 'input' && Di.test(f.type)
        ? (b.checked = f.checked)
        : (k === 'input' || k === 'textarea') &&
          (b.defaultValue = f.defaultValue);
    }
    function Yt(f, b, k, E) {
      b = a(b);
      var A,
        I,
        F,
        X,
        G,
        et,
        xt = 0,
        Dt = f.length,
        ht = Dt - 1,
        Nt = b[0],
        we = m(Nt);
      if (
        we ||
        (Dt > 1 && typeof Nt == 'string' && !p.checkClone && kt.test(Nt))
      )
        return f.each(function (He) {
          var Me = f.eq(He);
          we && (b[0] = Nt.call(this, He, Me.html())), Yt(Me, b, k, E);
        });
      if (
        Dt &&
        ((A = N(b, f[0].ownerDocument, !1, f, E)),
        (I = A.firstChild),
        A.childNodes.length === 1 && (A = I),
        I || E)
      ) {
        for (F = g.map(Ue(A, 'script'), Gt), X = F.length; xt < Dt; xt++)
          (G = A),
            xt !== ht &&
              ((G = g.clone(G, !0, !0)), X && g.merge(F, Ue(G, 'script'))),
            k.call(f[xt], G, xt);
        if (X)
          for (
            et = F[F.length - 1].ownerDocument, g.map(F, zt), xt = 0;
            xt < X;
            xt++
          )
            (G = F[xt]),
              Ti.test(G.type || '') &&
                !st.access(G, 'globalEval') &&
                g.contains(et, G) &&
                (G.src && (G.type || '').toLowerCase() !== 'module'
                  ? g._evalUrl &&
                    !G.noModule &&
                    g._evalUrl(
                      G.src,
                      { nonce: G.nonce || G.getAttribute('nonce') },
                      et
                    )
                  : w(G.textContent.replace(Et, ''), G, et));
      }
      return f;
    }
    function ye(f, b, k) {
      for (var E, A = b ? g.filter(b, f) : f, I = 0; (E = A[I]) != null; I++)
        !k && E.nodeType === 1 && g.cleanData(Ue(E)),
          E.parentNode &&
            (k && ne(E) && Hi(Ue(E, 'script')), E.parentNode.removeChild(E));
      return f;
    }
    g.extend({
      htmlPrefilter: function (f) {
        return f;
      },
      clone: function (f, b, k) {
        var E,
          A,
          I,
          F,
          X = f.cloneNode(!0),
          G = ne(f);
        if (
          !p.noCloneChecked &&
          (f.nodeType === 1 || f.nodeType === 11) &&
          !g.isXMLDoc(f)
        )
          for (F = Ue(X), I = Ue(f), E = 0, A = I.length; E < A; E++)
            me(I[E], F[E]);
        if (b)
          if (k)
            for (
              I = I || Ue(f), F = F || Ue(X), E = 0, A = I.length;
              E < A;
              E++
            )
              ue(I[E], F[E]);
          else ue(f, X);
        return (
          (F = Ue(X, 'script')), F.length > 0 && Hi(F, !G && Ue(f, 'script')), X
        );
      },
      cleanData: function (f) {
        for (
          var b, k, E, A = g.event.special, I = 0;
          (k = f[I]) !== void 0;
          I++
        )
          if (ce(k)) {
            if ((b = k[st.expando])) {
              if (b.events)
                for (E in b.events)
                  A[E] ? g.event.remove(k, E) : g.removeEvent(k, E, b.handle);
              k[st.expando] = void 0;
            }
            k[z.expando] && (k[z.expando] = void 0);
          }
      },
    }),
      g.fn.extend({
        detach: function (f) {
          return ye(this, f, !0);
        },
        remove: function (f) {
          return ye(this, f);
        },
        text: function (f) {
          return Wt(
            this,
            function (b) {
              return b === void 0
                ? g.text(this)
                : this.empty().each(function () {
                    (this.nodeType === 1 ||
                      this.nodeType === 11 ||
                      this.nodeType === 9) &&
                      (this.textContent = b);
                  });
            },
            null,
            f,
            arguments.length
          );
        },
        append: function () {
          return Yt(this, arguments, function (f) {
            if (
              this.nodeType === 1 ||
              this.nodeType === 11 ||
              this.nodeType === 9
            ) {
              var b = Rt(this, f);
              b.appendChild(f);
            }
          });
        },
        prepend: function () {
          return Yt(this, arguments, function (f) {
            if (
              this.nodeType === 1 ||
              this.nodeType === 11 ||
              this.nodeType === 9
            ) {
              var b = Rt(this, f);
              b.insertBefore(f, b.firstChild);
            }
          });
        },
        before: function () {
          return Yt(this, arguments, function (f) {
            this.parentNode && this.parentNode.insertBefore(f, this);
          });
        },
        after: function () {
          return Yt(this, arguments, function (f) {
            this.parentNode &&
              this.parentNode.insertBefore(f, this.nextSibling);
          });
        },
        empty: function () {
          for (var f, b = 0; (f = this[b]) != null; b++)
            f.nodeType === 1 && (g.cleanData(Ue(f, !1)), (f.textContent = ''));
          return this;
        },
        clone: function (f, b) {
          return (
            (f = f ?? !1),
            (b = b ?? f),
            this.map(function () {
              return g.clone(this, f, b);
            })
          );
        },
        html: function (f) {
          return Wt(
            this,
            function (b) {
              var k = this[0] || {},
                E = 0,
                A = this.length;
              if (b === void 0 && k.nodeType === 1) return k.innerHTML;
              if (
                typeof b == 'string' &&
                !ft.test(b) &&
                !ii[(ui.exec(b) || ['', ''])[1].toLowerCase()]
              ) {
                b = g.htmlPrefilter(b);
                try {
                  for (; E < A; E++)
                    (k = this[E] || {}),
                      k.nodeType === 1 &&
                        (g.cleanData(Ue(k, !1)), (k.innerHTML = b));
                  k = 0;
                } catch {}
              }
              k && this.empty().append(b);
            },
            null,
            f,
            arguments.length
          );
        },
        replaceWith: function () {
          var f = [];
          return Yt(
            this,
            arguments,
            function (b) {
              var k = this.parentNode;
              g.inArray(this, f) < 0 &&
                (g.cleanData(Ue(this)), k && k.replaceChild(b, this));
            },
            f
          );
        },
      }),
      g.each(
        {
          appendTo: 'append',
          prependTo: 'prepend',
          insertBefore: 'before',
          insertAfter: 'after',
          replaceAll: 'replaceWith',
        },
        function (f, b) {
          g.fn[f] = function (k) {
            for (var E, A = [], I = g(k), F = I.length - 1, X = 0; X <= F; X++)
              (E = X === F ? this : this.clone(!0)),
                g(I[X])[b](E),
                o.apply(A, E.get());
            return this.pushStack(A);
          };
        }
      );
    var fe = new RegExp('^(' + Ft + ')(?!px)[a-z%]+$', 'i'),
      Wi = /^--/,
      Ji = function (f) {
        var b = f.ownerDocument.defaultView;
        return (!b || !b.opener) && (b = e), b.getComputedStyle(f);
      },
      Pn = function (f, b, k) {
        var E,
          A,
          I = {};
        for (A in b) (I[A] = f.style[A]), (f.style[A] = b[A]);
        E = k.call(f);
        for (A in b) f.style[A] = I[A];
        return E;
      },
      kr = new RegExp(Pt.join('|'), 'i');
    (function () {
      function f() {
        if (et) {
          (G.style.cssText =
            'position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0'),
            (et.style.cssText =
              'position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%'),
            te.appendChild(G).appendChild(et);
          var xt = e.getComputedStyle(et);
          (k = xt.top !== '1%'),
            (X = b(xt.marginLeft) === 12),
            (et.style.right = '60%'),
            (I = b(xt.right) === 36),
            (E = b(xt.width) === 36),
            (et.style.position = 'absolute'),
            (A = b(et.offsetWidth / 3) === 12),
            te.removeChild(G),
            (et = null);
        }
      }
      function b(xt) {
        return Math.round(parseFloat(xt));
      }
      var k,
        E,
        A,
        I,
        F,
        X,
        G = v.createElement('div'),
        et = v.createElement('div');
      et.style &&
        ((et.style.backgroundClip = 'content-box'),
        (et.cloneNode(!0).style.backgroundClip = ''),
        (p.clearCloneStyle = et.style.backgroundClip === 'content-box'),
        g.extend(p, {
          boxSizingReliable: function () {
            return f(), E;
          },
          pixelBoxStyles: function () {
            return f(), I;
          },
          pixelPosition: function () {
            return f(), k;
          },
          reliableMarginLeft: function () {
            return f(), X;
          },
          scrollboxSize: function () {
            return f(), A;
          },
          reliableTrDimensions: function () {
            var xt, Dt, ht, Nt;
            return (
              F == null &&
                ((xt = v.createElement('table')),
                (Dt = v.createElement('tr')),
                (ht = v.createElement('div')),
                (xt.style.cssText =
                  'position:absolute;left:-11111px;border-collapse:separate'),
                (Dt.style.cssText = 'box-sizing:content-box;border:1px solid'),
                (Dt.style.height = '1px'),
                (ht.style.height = '9px'),
                (ht.style.display = 'block'),
                te.appendChild(xt).appendChild(Dt).appendChild(ht),
                (Nt = e.getComputedStyle(Dt)),
                (F =
                  parseInt(Nt.height, 10) +
                    parseInt(Nt.borderTopWidth, 10) +
                    parseInt(Nt.borderBottomWidth, 10) ===
                  Dt.offsetHeight),
                te.removeChild(xt)),
              F
            );
          },
        }));
    })();
    function rn(f, b, k) {
      var E,
        A,
        I,
        F,
        X = Wi.test(b),
        G = f.style;
      return (
        (k = k || Ji(f)),
        k &&
          ((F = k.getPropertyValue(b) || k[b]),
          X && F && (F = F.replace(V, '$1') || void 0),
          F === '' && !ne(f) && (F = g.style(f, b)),
          !p.pixelBoxStyles() &&
            fe.test(F) &&
            kr.test(b) &&
            ((E = G.width),
            (A = G.minWidth),
            (I = G.maxWidth),
            (G.minWidth = G.maxWidth = G.width = F),
            (F = k.width),
            (G.width = E),
            (G.minWidth = A),
            (G.maxWidth = I))),
        F !== void 0 ? F + '' : F
      );
    }
    function en(f, b) {
      return {
        get: function () {
          if (f()) {
            delete this.get;
            return;
          }
          return (this.get = b).apply(this, arguments);
        },
      };
    }
    var an = ['Webkit', 'Moz', 'ms'],
      Mi = v.createElement('div').style,
      ur = {};
    function Cr(f) {
      for (var b = f[0].toUpperCase() + f.slice(1), k = an.length; k--; )
        if (((f = an[k] + b), f in Mi)) return f;
    }
    function jr(f) {
      var b = g.cssProps[f] || ur[f];
      return b || (f in Mi ? f : (ur[f] = Cr(f) || f));
    }
    var Ln = /^(none|table(?!-c[ea]).+)/,
      is = { position: 'absolute', visibility: 'hidden', display: 'block' },
      wi = { letterSpacing: '0', fontWeight: '400' };
    function ns(f, b, k) {
      var E = mt.exec(b);
      return E ? Math.max(0, E[2] - (k || 0)) + (E[3] || 'px') : b;
    }
    function ml(f, b, k, E, A, I) {
      var F = b === 'width' ? 1 : 0,
        X = 0,
        G = 0,
        et = 0;
      if (k === (E ? 'border' : 'content')) return 0;
      for (; F < 4; F += 2)
        k === 'margin' && (et += g.css(f, k + Pt[F], !0, A)),
          E
            ? (k === 'content' && (G -= g.css(f, 'padding' + Pt[F], !0, A)),
              k !== 'margin' &&
                (G -= g.css(f, 'border' + Pt[F] + 'Width', !0, A)))
            : ((G += g.css(f, 'padding' + Pt[F], !0, A)),
              k !== 'padding'
                ? (G += g.css(f, 'border' + Pt[F] + 'Width', !0, A))
                : (X += g.css(f, 'border' + Pt[F] + 'Width', !0, A)));
      return (
        !E &&
          I >= 0 &&
          (G +=
            Math.max(
              0,
              Math.ceil(
                f['offset' + b[0].toUpperCase() + b.slice(1)] - I - G - X - 0.5
              )
            ) || 0),
        G + et
      );
    }
    function rs(f, b, k) {
      var E = Ji(f),
        A = !p.boxSizingReliable() || k,
        I = A && g.css(f, 'boxSizing', !1, E) === 'border-box',
        F = I,
        X = rn(f, b, E),
        G = 'offset' + b[0].toUpperCase() + b.slice(1);
      if (fe.test(X)) {
        if (!k) return X;
        X = 'auto';
      }
      return (
        ((!p.boxSizingReliable() && I) ||
          (!p.reliableTrDimensions() && T(f, 'tr')) ||
          X === 'auto' ||
          (!parseFloat(X) && g.css(f, 'display', !1, E) === 'inline')) &&
          f.getClientRects().length &&
          ((I = g.css(f, 'boxSizing', !1, E) === 'border-box'),
          (F = G in f),
          F && (X = f[G])),
        (X = parseFloat(X) || 0),
        X + ml(f, b, k || (I ? 'border' : 'content'), F, E, X) + 'px'
      );
    }
    g.extend({
      cssHooks: {
        opacity: {
          get: function (f, b) {
            if (b) {
              var k = rn(f, 'opacity');
              return k === '' ? '1' : k;
            }
          },
        },
      },
      cssNumber: {
        animationIterationCount: !0,
        aspectRatio: !0,
        borderImageSlice: !0,
        columnCount: !0,
        flexGrow: !0,
        flexShrink: !0,
        fontWeight: !0,
        gridArea: !0,
        gridColumn: !0,
        gridColumnEnd: !0,
        gridColumnStart: !0,
        gridRow: !0,
        gridRowEnd: !0,
        gridRowStart: !0,
        lineHeight: !0,
        opacity: !0,
        order: !0,
        orphans: !0,
        scale: !0,
        widows: !0,
        zIndex: !0,
        zoom: !0,
        fillOpacity: !0,
        floodOpacity: !0,
        stopOpacity: !0,
        strokeMiterlimit: !0,
        strokeOpacity: !0,
      },
      cssProps: {},
      style: function (f, b, k, E) {
        if (!(!f || f.nodeType === 3 || f.nodeType === 8 || !f.style)) {
          var A,
            I,
            F,
            X = _e(b),
            G = Wi.test(b),
            et = f.style;
          if (
            (G || (b = jr(X)),
            (F = g.cssHooks[b] || g.cssHooks[X]),
            k !== void 0)
          ) {
            if (
              ((I = typeof k),
              I === 'string' &&
                (A = mt.exec(k)) &&
                A[1] &&
                ((k = Kt(f, b, A)), (I = 'number')),
              k == null || k !== k)
            )
              return;
            I === 'number' &&
              !G &&
              (k += (A && A[3]) || (g.cssNumber[X] ? '' : 'px')),
              !p.clearCloneStyle &&
                k === '' &&
                b.indexOf('background') === 0 &&
                (et[b] = 'inherit'),
              (!F || !('set' in F) || (k = F.set(f, k, E)) !== void 0) &&
                (G ? et.setProperty(b, k) : (et[b] = k));
          } else
            return F && 'get' in F && (A = F.get(f, !1, E)) !== void 0
              ? A
              : et[b];
        }
      },
      css: function (f, b, k, E) {
        var A,
          I,
          F,
          X = _e(b),
          G = Wi.test(b);
        return (
          G || (b = jr(X)),
          (F = g.cssHooks[b] || g.cssHooks[X]),
          F && 'get' in F && (A = F.get(f, !0, k)),
          A === void 0 && (A = rn(f, b, E)),
          A === 'normal' && b in wi && (A = wi[b]),
          k === '' || k
            ? ((I = parseFloat(A)), k === !0 || isFinite(I) ? I || 0 : A)
            : A
        );
      },
    }),
      g.each(['height', 'width'], function (f, b) {
        g.cssHooks[b] = {
          get: function (k, E, A) {
            if (E)
              return Ln.test(g.css(k, 'display')) &&
                (!k.getClientRects().length || !k.getBoundingClientRect().width)
                ? Pn(k, is, function () {
                    return rs(k, b, A);
                  })
                : rs(k, b, A);
          },
          set: function (k, E, A) {
            var I,
              F = Ji(k),
              X = !p.scrollboxSize() && F.position === 'absolute',
              G = X || A,
              et = G && g.css(k, 'boxSizing', !1, F) === 'border-box',
              xt = A ? ml(k, b, A, et, F) : 0;
            return (
              et &&
                X &&
                (xt -= Math.ceil(
                  k['offset' + b[0].toUpperCase() + b.slice(1)] -
                    parseFloat(F[b]) -
                    ml(k, b, 'border', !1, F) -
                    0.5
                )),
              xt &&
                (I = mt.exec(E)) &&
                (I[3] || 'px') !== 'px' &&
                ((k.style[b] = E), (E = g.css(k, b))),
              ns(k, E, xt)
            );
          },
        };
      }),
      (g.cssHooks.marginLeft = en(p.reliableMarginLeft, function (f, b) {
        if (b)
          return (
            (parseFloat(rn(f, 'marginLeft')) ||
              f.getBoundingClientRect().left -
                Pn(f, { marginLeft: 0 }, function () {
                  return f.getBoundingClientRect().left;
                })) + 'px'
          );
      })),
      g.each({ margin: '', padding: '', border: 'Width' }, function (f, b) {
        (g.cssHooks[f + b] = {
          expand: function (k) {
            for (
              var E = 0, A = {}, I = typeof k == 'string' ? k.split(' ') : [k];
              E < 4;
              E++
            )
              A[f + Pt[E] + b] = I[E] || I[E - 2] || I[0];
            return A;
          },
        }),
          f !== 'margin' && (g.cssHooks[f + b].set = ns);
      }),
      g.fn.extend({
        css: function (f, b) {
          return Wt(
            this,
            function (k, E, A) {
              var I,
                F,
                X = {},
                G = 0;
              if (Array.isArray(E)) {
                for (I = Ji(k), F = E.length; G < F; G++)
                  X[E[G]] = g.css(k, E[G], !1, I);
                return X;
              }
              return A !== void 0 ? g.style(k, E, A) : g.css(k, E);
            },
            f,
            b,
            arguments.length > 1
          );
        },
      });
    function on(f, b, k, E, A) {
      return new on.prototype.init(f, b, k, E, A);
    }
    (g.Tween = on),
      (on.prototype = {
        constructor: on,
        init: function (f, b, k, E, A, I) {
          (this.elem = f),
            (this.prop = k),
            (this.easing = A || g.easing._default),
            (this.options = b),
            (this.start = this.now = this.cur()),
            (this.end = E),
            (this.unit = I || (g.cssNumber[k] ? '' : 'px'));
        },
        cur: function () {
          var f = on.propHooks[this.prop];
          return f && f.get ? f.get(this) : on.propHooks._default.get(this);
        },
        run: function (f) {
          var b,
            k = on.propHooks[this.prop];
          return (
            this.options.duration
              ? (this.pos = b =
                  g.easing[this.easing](
                    f,
                    this.options.duration * f,
                    0,
                    1,
                    this.options.duration
                  ))
              : (this.pos = b = f),
            (this.now = (this.end - this.start) * b + this.start),
            this.options.step &&
              this.options.step.call(this.elem, this.now, this),
            k && k.set ? k.set(this) : on.propHooks._default.set(this),
            this
          );
        },
      }),
      (on.prototype.init.prototype = on.prototype),
      (on.propHooks = {
        _default: {
          get: function (f) {
            var b;
            return f.elem.nodeType !== 1 ||
              (f.elem[f.prop] != null && f.elem.style[f.prop] == null)
              ? f.elem[f.prop]
              : ((b = g.css(f.elem, f.prop, '')), !b || b === 'auto' ? 0 : b);
          },
          set: function (f) {
            g.fx.step[f.prop]
              ? g.fx.step[f.prop](f)
              : f.elem.nodeType === 1 &&
                  (g.cssHooks[f.prop] || f.elem.style[jr(f.prop)] != null)
                ? g.style(f.elem, f.prop, f.now + f.unit)
                : (f.elem[f.prop] = f.now);
          },
        },
      }),
      (on.propHooks.scrollTop = on.propHooks.scrollLeft =
        {
          set: function (f) {
            f.elem.nodeType && f.elem.parentNode && (f.elem[f.prop] = f.now);
          },
        }),
      (g.easing = {
        linear: function (f) {
          return f;
        },
        swing: function (f) {
          return 0.5 - Math.cos(f * Math.PI) / 2;
        },
        _default: 'swing',
      }),
      (g.fx = on.prototype.init),
      (g.fx.step = {});
    var er,
      dr,
      Hc = /^(?:toggle|show|hide)$/,
      $g = /queueHooks$/;
    function as() {
      dr &&
        (v.hidden === !1 && e.requestAnimationFrame
          ? e.requestAnimationFrame(as)
          : e.setTimeout(as, g.fx.interval),
        g.fx.tick());
    }
    function Ph() {
      return (
        e.setTimeout(function () {
          er = void 0;
        }),
        (er = Date.now())
      );
    }
    function os(f, b) {
      var k,
        E = 0,
        A = { height: f };
      for (b = b ? 1 : 0; E < 4; E += 2 - b)
        (k = Pt[E]), (A['margin' + k] = A['padding' + k] = f);
      return b && (A.opacity = A.width = f), A;
    }
    function ss(f, b, k) {
      for (
        var E,
          A = (qr.tweeners[b] || []).concat(qr.tweeners['*']),
          I = 0,
          F = A.length;
        I < F;
        I++
      )
        if ((E = A[I].call(k, b, f))) return E;
    }
    function ls(f, b, k) {
      var E,
        A,
        I,
        F,
        X,
        G,
        et,
        xt,
        Dt = 'width' in b || 'height' in b,
        ht = this,
        Nt = {},
        we = f.style,
        He = f.nodeType && pe(f),
        Me = st.get(f, 'fxshow');
      k.queue ||
        ((F = g._queueHooks(f, 'fx')),
        F.unqueued == null &&
          ((F.unqueued = 0),
          (X = F.empty.fire),
          (F.empty.fire = function () {
            F.unqueued || X();
          })),
        F.unqueued++,
        ht.always(function () {
          ht.always(function () {
            F.unqueued--, g.queue(f, 'fx').length || F.empty.fire();
          });
        }));
      for (E in b)
        if (((A = b[E]), Hc.test(A))) {
          if (
            (delete b[E],
            (I = I || A === 'toggle'),
            A === (He ? 'hide' : 'show'))
          )
            if (A === 'show' && Me && Me[E] !== void 0) He = !0;
            else continue;
          Nt[E] = (Me && Me[E]) || g.style(f, E);
        }
      if (((G = !g.isEmptyObject(b)), !(!G && g.isEmptyObject(Nt)))) {
        Dt &&
          f.nodeType === 1 &&
          ((k.overflow = [we.overflow, we.overflowX, we.overflowY]),
          (et = Me && Me.display),
          et == null && (et = st.get(f, 'display')),
          (xt = g.css(f, 'display')),
          xt === 'none' &&
            (et
              ? (xt = et)
              : (Ce([f], !0),
                (et = f.style.display || et),
                (xt = g.css(f, 'display')),
                Ce([f]))),
          (xt === 'inline' || (xt === 'inline-block' && et != null)) &&
            g.css(f, 'float') === 'none' &&
            (G ||
              (ht.done(function () {
                we.display = et;
              }),
              et == null &&
                ((xt = we.display), (et = xt === 'none' ? '' : xt))),
            (we.display = 'inline-block'))),
          k.overflow &&
            ((we.overflow = 'hidden'),
            ht.always(function () {
              (we.overflow = k.overflow[0]),
                (we.overflowX = k.overflow[1]),
                (we.overflowY = k.overflow[2]);
            })),
          (G = !1);
        for (E in Nt)
          G ||
            (Me
              ? 'hidden' in Me && (He = Me.hidden)
              : (Me = st.access(f, 'fxshow', { display: et })),
            I && (Me.hidden = !He),
            He && Ce([f], !0),
            ht.done(function () {
              He || Ce([f]), st.remove(f, 'fxshow');
              for (E in Nt) g.style(f, E, Nt[E]);
            })),
            (G = ss(He ? Me[E] : 0, E, ht)),
            E in Me ||
              ((Me[E] = G.start), He && ((G.end = G.start), (G.start = 0)));
      }
    }
    function uo(f, b) {
      var k, E, A, I, F;
      for (k in f)
        if (
          ((E = _e(k)),
          (A = b[E]),
          (I = f[k]),
          Array.isArray(I) && ((A = I[1]), (I = f[k] = I[0])),
          k !== E && ((f[E] = I), delete f[k]),
          (F = g.cssHooks[E]),
          F && 'expand' in F)
        ) {
          (I = F.expand(I)), delete f[E];
          for (k in I) k in f || ((f[k] = I[k]), (b[k] = A));
        } else b[E] = A;
    }
    function qr(f, b, k) {
      var E,
        A,
        I = 0,
        F = qr.prefilters.length,
        X = g.Deferred().always(function () {
          delete G.elem;
        }),
        G = function () {
          if (A) return !1;
          for (
            var Dt = er || Ph(),
              ht = Math.max(0, et.startTime + et.duration - Dt),
              Nt = ht / et.duration || 0,
              we = 1 - Nt,
              He = 0,
              Me = et.tweens.length;
            He < Me;
            He++
          )
            et.tweens[He].run(we);
          return (
            X.notifyWith(f, [et, we, ht]),
            we < 1 && Me
              ? ht
              : (Me || X.notifyWith(f, [et, 1, 0]), X.resolveWith(f, [et]), !1)
          );
        },
        et = X.promise({
          elem: f,
          props: g.extend({}, b),
          opts: g.extend(
            !0,
            { specialEasing: {}, easing: g.easing._default },
            k
          ),
          originalProperties: b,
          originalOptions: k,
          startTime: er || Ph(),
          duration: k.duration,
          tweens: [],
          createTween: function (Dt, ht) {
            var Nt = g.Tween(
              f,
              et.opts,
              Dt,
              ht,
              et.opts.specialEasing[Dt] || et.opts.easing
            );
            return et.tweens.push(Nt), Nt;
          },
          stop: function (Dt) {
            var ht = 0,
              Nt = Dt ? et.tweens.length : 0;
            if (A) return this;
            for (A = !0; ht < Nt; ht++) et.tweens[ht].run(1);
            return (
              Dt
                ? (X.notifyWith(f, [et, 1, 0]), X.resolveWith(f, [et, Dt]))
                : X.rejectWith(f, [et, Dt]),
              this
            );
          },
        }),
        xt = et.props;
      for (uo(xt, et.opts.specialEasing); I < F; I++)
        if (((E = qr.prefilters[I].call(et, f, xt, et.opts)), E))
          return (
            m(E.stop) &&
              (g._queueHooks(et.elem, et.opts.queue).stop = E.stop.bind(E)),
            E
          );
      return (
        g.map(xt, ss, et),
        m(et.opts.start) && et.opts.start.call(f, et),
        et
          .progress(et.opts.progress)
          .done(et.opts.done, et.opts.complete)
          .fail(et.opts.fail)
          .always(et.opts.always),
        g.fx.timer(g.extend(G, { elem: f, anim: et, queue: et.opts.queue })),
        et
      );
    }
    (g.Animation = g.extend(qr, {
      tweeners: {
        '*': [
          function (f, b) {
            var k = this.createTween(f, b);
            return Kt(k.elem, f, mt.exec(b), k), k;
          },
        ],
      },
      tweener: function (f, b) {
        m(f) ? ((b = f), (f = ['*'])) : (f = f.match(K));
        for (var k, E = 0, A = f.length; E < A; E++)
          (k = f[E]),
            (qr.tweeners[k] = qr.tweeners[k] || []),
            qr.tweeners[k].unshift(b);
      },
      prefilters: [ls],
      prefilter: function (f, b) {
        b ? qr.prefilters.unshift(f) : qr.prefilters.push(f);
      },
    })),
      (g.speed = function (f, b, k) {
        var E =
          f && typeof f == 'object'
            ? g.extend({}, f)
            : {
                complete: k || (!k && b) || (m(f) && f),
                duration: f,
                easing: (k && b) || (b && !m(b) && b),
              };
        return (
          g.fx.off
            ? (E.duration = 0)
            : typeof E.duration != 'number' &&
              (E.duration in g.fx.speeds
                ? (E.duration = g.fx.speeds[E.duration])
                : (E.duration = g.fx.speeds._default)),
          (E.queue == null || E.queue === !0) && (E.queue = 'fx'),
          (E.old = E.complete),
          (E.complete = function () {
            m(E.old) && E.old.call(this), E.queue && g.dequeue(this, E.queue);
          }),
          E
        );
      }),
      g.fn.extend({
        fadeTo: function (f, b, k, E) {
          return this.filter(pe)
            .css('opacity', 0)
            .show()
            .end()
            .animate({ opacity: b }, f, k, E);
        },
        animate: function (f, b, k, E) {
          var A = g.isEmptyObject(f),
            I = g.speed(b, k, E),
            F = function () {
              var X = qr(this, g.extend({}, f), I);
              (A || st.get(this, 'finish')) && X.stop(!0);
            };
          return (
            (F.finish = F),
            A || I.queue === !1 ? this.each(F) : this.queue(I.queue, F)
          );
        },
        stop: function (f, b, k) {
          var E = function (A) {
            var I = A.stop;
            delete A.stop, I(k);
          };
          return (
            typeof f != 'string' && ((k = b), (b = f), (f = void 0)),
            b && this.queue(f || 'fx', []),
            this.each(function () {
              var A = !0,
                I = f != null && f + 'queueHooks',
                F = g.timers,
                X = st.get(this);
              if (I) X[I] && X[I].stop && E(X[I]);
              else for (I in X) X[I] && X[I].stop && $g.test(I) && E(X[I]);
              for (I = F.length; I--; )
                F[I].elem === this &&
                  (f == null || F[I].queue === f) &&
                  (F[I].anim.stop(k), (A = !1), F.splice(I, 1));
              (A || !k) && g.dequeue(this, f);
            })
          );
        },
        finish: function (f) {
          return (
            f !== !1 && (f = f || 'fx'),
            this.each(function () {
              var b,
                k = st.get(this),
                E = k[f + 'queue'],
                A = k[f + 'queueHooks'],
                I = g.timers,
                F = E ? E.length : 0;
              for (
                k.finish = !0,
                  g.queue(this, f, []),
                  A && A.stop && A.stop.call(this, !0),
                  b = I.length;
                b--;

              )
                I[b].elem === this &&
                  I[b].queue === f &&
                  (I[b].anim.stop(!0), I.splice(b, 1));
              for (b = 0; b < F; b++)
                E[b] && E[b].finish && E[b].finish.call(this);
              delete k.finish;
            })
          );
        },
      }),
      g.each(['toggle', 'show', 'hide'], function (f, b) {
        var k = g.fn[b];
        g.fn[b] = function (E, A, I) {
          return E == null || typeof E == 'boolean'
            ? k.apply(this, arguments)
            : this.animate(os(b, !0), E, A, I);
        };
      }),
      g.each(
        {
          slideDown: os('show'),
          slideUp: os('hide'),
          slideToggle: os('toggle'),
          fadeIn: { opacity: 'show' },
          fadeOut: { opacity: 'hide' },
          fadeToggle: { opacity: 'toggle' },
        },
        function (f, b) {
          g.fn[f] = function (k, E, A) {
            return this.animate(b, k, E, A);
          };
        }
      ),
      (g.timers = []),
      (g.fx.tick = function () {
        var f,
          b = 0,
          k = g.timers;
        for (er = Date.now(); b < k.length; b++)
          (f = k[b]), !f() && k[b] === f && k.splice(b--, 1);
        k.length || g.fx.stop(), (er = void 0);
      }),
      (g.fx.timer = function (f) {
        g.timers.push(f), g.fx.start();
      }),
      (g.fx.interval = 13),
      (g.fx.start = function () {
        dr || ((dr = !0), as());
      }),
      (g.fx.stop = function () {
        dr = null;
      }),
      (g.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
      (g.fn.delay = function (f, b) {
        return (
          (f = (g.fx && g.fx.speeds[f]) || f),
          (b = b || 'fx'),
          this.queue(b, function (k, E) {
            var A = e.setTimeout(k, f);
            E.stop = function () {
              e.clearTimeout(A);
            };
          })
        );
      }),
      (function () {
        var f = v.createElement('input'),
          b = v.createElement('select'),
          k = b.appendChild(v.createElement('option'));
        (f.type = 'checkbox'),
          (p.checkOn = f.value !== ''),
          (p.optSelected = k.selected),
          (f = v.createElement('input')),
          (f.value = 't'),
          (f.type = 'radio'),
          (p.radioValue = f.value === 't');
      })();
    var K_,
      Wc = g.expr.attrHandle;
    g.fn.extend({
      attr: function (f, b) {
        return Wt(this, g.attr, f, b, arguments.length > 1);
      },
      removeAttr: function (f) {
        return this.each(function () {
          g.removeAttr(this, f);
        });
      },
    }),
      g.extend({
        attr: function (f, b, k) {
          var E,
            A,
            I = f.nodeType;
          if (!(I === 3 || I === 8 || I === 2)) {
            if (typeof f.getAttribute > 'u') return g.prop(f, b, k);
            if (
              ((I !== 1 || !g.isXMLDoc(f)) &&
                (A =
                  g.attrHooks[b.toLowerCase()] ||
                  (g.expr.match.bool.test(b) ? K_ : void 0)),
              k !== void 0)
            ) {
              if (k === null) {
                g.removeAttr(f, b);
                return;
              }
              return A && 'set' in A && (E = A.set(f, k, b)) !== void 0
                ? E
                : (f.setAttribute(b, k + ''), k);
            }
            return A && 'get' in A && (E = A.get(f, b)) !== null
              ? E
              : ((E = g.find.attr(f, b)), E ?? void 0);
          }
        },
        attrHooks: {
          type: {
            set: function (f, b) {
              if (!p.radioValue && b === 'radio' && T(f, 'input')) {
                var k = f.value;
                return f.setAttribute('type', b), k && (f.value = k), b;
              }
            },
          },
        },
        removeAttr: function (f, b) {
          var k,
            E = 0,
            A = b && b.match(K);
          if (A && f.nodeType === 1)
            for (; (k = A[E++]); ) f.removeAttribute(k);
        },
      }),
      (K_ = {
        set: function (f, b, k) {
          return b === !1 ? g.removeAttr(f, k) : f.setAttribute(k, k), k;
        },
      }),
      g.each(g.expr.match.bool.source.match(/\w+/g), function (f, b) {
        var k = Wc[b] || g.find.attr;
        Wc[b] = function (E, A, I) {
          var F,
            X,
            G = A.toLowerCase();
          return (
            I ||
              ((X = Wc[G]),
              (Wc[G] = F),
              (F = k(E, A, I) != null ? G : null),
              (Wc[G] = X)),
            F
          );
        };
      });
    var HI = /^(?:input|select|textarea|button)$/i,
      WI = /^(?:a|area)$/i;
    g.fn.extend({
      prop: function (f, b) {
        return Wt(this, g.prop, f, b, arguments.length > 1);
      },
      removeProp: function (f) {
        return this.each(function () {
          delete this[g.propFix[f] || f];
        });
      },
    }),
      g.extend({
        prop: function (f, b, k) {
          var E,
            A,
            I = f.nodeType;
          if (!(I === 3 || I === 8 || I === 2))
            return (
              (I !== 1 || !g.isXMLDoc(f)) &&
                ((b = g.propFix[b] || b), (A = g.propHooks[b])),
              k !== void 0
                ? A && 'set' in A && (E = A.set(f, k, b)) !== void 0
                  ? E
                  : (f[b] = k)
                : A && 'get' in A && (E = A.get(f, b)) !== null
                  ? E
                  : f[b]
            );
        },
        propHooks: {
          tabIndex: {
            get: function (f) {
              var b = g.find.attr(f, 'tabindex');
              return b
                ? parseInt(b, 10)
                : HI.test(f.nodeName) || (WI.test(f.nodeName) && f.href)
                  ? 0
                  : -1;
            },
          },
        },
        propFix: { for: 'htmlFor', class: 'className' },
      }),
      p.optSelected ||
        (g.propHooks.selected = {
          get: function (f) {
            var b = f.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex, null;
          },
          set: function (f) {
            var b = f.parentNode;
            b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex);
          },
        }),
      g.each(
        [
          'tabIndex',
          'readOnly',
          'maxLength',
          'cellSpacing',
          'cellPadding',
          'rowSpan',
          'colSpan',
          'useMap',
          'frameBorder',
          'contentEditable',
        ],
        function () {
          g.propFix[this.toLowerCase()] = this;
        }
      );
    function cs(f) {
      var b = f.match(K) || [];
      return b.join(' ');
    }
    function us(f) {
      return (f.getAttribute && f.getAttribute('class')) || '';
    }
    function Gg(f) {
      return Array.isArray(f)
        ? f
        : typeof f == 'string'
          ? f.match(K) || []
          : [];
    }
    g.fn.extend({
      addClass: function (f) {
        var b, k, E, A, I, F;
        return m(f)
          ? this.each(function (X) {
              g(this).addClass(f.call(this, X, us(this)));
            })
          : ((b = Gg(f)),
            b.length
              ? this.each(function () {
                  if (
                    ((E = us(this)),
                    (k = this.nodeType === 1 && ' ' + cs(E) + ' '),
                    k)
                  ) {
                    for (I = 0; I < b.length; I++)
                      (A = b[I]),
                        k.indexOf(' ' + A + ' ') < 0 && (k += A + ' ');
                    (F = cs(k)), E !== F && this.setAttribute('class', F);
                  }
                })
              : this);
      },
      removeClass: function (f) {
        var b, k, E, A, I, F;
        return m(f)
          ? this.each(function (X) {
              g(this).removeClass(f.call(this, X, us(this)));
            })
          : arguments.length
            ? ((b = Gg(f)),
              b.length
                ? this.each(function () {
                    if (
                      ((E = us(this)),
                      (k = this.nodeType === 1 && ' ' + cs(E) + ' '),
                      k)
                    ) {
                      for (I = 0; I < b.length; I++)
                        for (A = b[I]; k.indexOf(' ' + A + ' ') > -1; )
                          k = k.replace(' ' + A + ' ', ' ');
                      (F = cs(k)), E !== F && this.setAttribute('class', F);
                    }
                  })
                : this)
            : this.attr('class', '');
      },
      toggleClass: function (f, b) {
        var k,
          E,
          A,
          I,
          F = typeof f,
          X = F === 'string' || Array.isArray(f);
        return m(f)
          ? this.each(function (G) {
              g(this).toggleClass(f.call(this, G, us(this), b), b);
            })
          : typeof b == 'boolean' && X
            ? b
              ? this.addClass(f)
              : this.removeClass(f)
            : ((k = Gg(f)),
              this.each(function () {
                if (X)
                  for (I = g(this), A = 0; A < k.length; A++)
                    (E = k[A]),
                      I.hasClass(E) ? I.removeClass(E) : I.addClass(E);
                else
                  (f === void 0 || F === 'boolean') &&
                    ((E = us(this)),
                    E && st.set(this, '__className__', E),
                    this.setAttribute &&
                      this.setAttribute(
                        'class',
                        E || f === !1 ? '' : st.get(this, '__className__') || ''
                      ));
              }));
      },
      hasClass: function (f) {
        var b,
          k,
          E = 0;
        for (b = ' ' + f + ' '; (k = this[E++]); )
          if (k.nodeType === 1 && (' ' + cs(us(k)) + ' ').indexOf(b) > -1)
            return !0;
        return !1;
      },
    });
    var $I = /\r/g;
    g.fn.extend({
      val: function (f) {
        var b,
          k,
          E,
          A = this[0];
        return arguments.length
          ? ((E = m(f)),
            this.each(function (I) {
              var F;
              this.nodeType === 1 &&
                (E ? (F = f.call(this, I, g(this).val())) : (F = f),
                F == null
                  ? (F = '')
                  : typeof F == 'number'
                    ? (F += '')
                    : Array.isArray(F) &&
                      (F = g.map(F, function (X) {
                        return X == null ? '' : X + '';
                      })),
                (b =
                  g.valHooks[this.type] ||
                  g.valHooks[this.nodeName.toLowerCase()]),
                (!b || !('set' in b) || b.set(this, F, 'value') === void 0) &&
                  (this.value = F));
            }))
          : A
            ? ((b = g.valHooks[A.type] || g.valHooks[A.nodeName.toLowerCase()]),
              b && 'get' in b && (k = b.get(A, 'value')) !== void 0
                ? k
                : ((k = A.value),
                  typeof k == 'string' ? k.replace($I, '') : (k ?? '')))
            : void 0;
      },
    }),
      g.extend({
        valHooks: {
          option: {
            get: function (f) {
              var b = g.find.attr(f, 'value');
              return b ?? cs(g.text(f));
            },
          },
          select: {
            get: function (f) {
              var b,
                k,
                E,
                A = f.options,
                I = f.selectedIndex,
                F = f.type === 'select-one',
                X = F ? null : [],
                G = F ? I + 1 : A.length;
              for (I < 0 ? (E = G) : (E = F ? I : 0); E < G; E++)
                if (
                  ((k = A[E]),
                  (k.selected || E === I) &&
                    !k.disabled &&
                    (!k.parentNode.disabled || !T(k.parentNode, 'optgroup')))
                ) {
                  if (((b = g(k).val()), F)) return b;
                  X.push(b);
                }
              return X;
            },
            set: function (f, b) {
              for (
                var k, E, A = f.options, I = g.makeArray(b), F = A.length;
                F--;

              )
                (E = A[F]),
                  (E.selected = g.inArray(g.valHooks.option.get(E), I) > -1) &&
                    (k = !0);
              return k || (f.selectedIndex = -1), I;
            },
          },
        },
      }),
      g.each(['radio', 'checkbox'], function () {
        (g.valHooks[this] = {
          set: function (f, b) {
            if (Array.isArray(b))
              return (f.checked = g.inArray(g(f).val(), b) > -1);
          },
        }),
          p.checkOn ||
            (g.valHooks[this].get = function (f) {
              return f.getAttribute('value') === null ? 'on' : f.value;
            });
      });
    var $c = e.location,
      X_ = { guid: Date.now() },
      Yg = /\?/;
    g.parseXML = function (f) {
      var b, k;
      if (!f || typeof f != 'string') return null;
      try {
        b = new e.DOMParser().parseFromString(f, 'text/xml');
      } catch {}
      return (
        (k = b && b.getElementsByTagName('parsererror')[0]),
        (!b || k) &&
          g.error(
            'Invalid XML: ' +
              (k
                ? g.map(k.childNodes, function (E) {
                    return E.textContent;
                  }).join(`
`)
                : f)
          ),
        b
      );
    };
    var Z_ = /^(?:focusinfocus|focusoutblur)$/,
      Q_ = function (f) {
        f.stopPropagation();
      };
    g.extend(g.event, {
      trigger: function (f, b, k, E) {
        var A,
          I,
          F,
          X,
          G,
          et,
          xt,
          Dt,
          ht = [k || v],
          Nt = u.call(f, 'type') ? f.type : f,
          we = u.call(f, 'namespace') ? f.namespace.split('.') : [];
        if (
          ((I = Dt = F = k = k || v),
          !(k.nodeType === 3 || k.nodeType === 8) &&
            !Z_.test(Nt + g.event.triggered) &&
            (Nt.indexOf('.') > -1 &&
              ((we = Nt.split('.')), (Nt = we.shift()), we.sort()),
            (G = Nt.indexOf(':') < 0 && 'on' + Nt),
            (f = f[g.expando] ? f : new g.Event(Nt, typeof f == 'object' && f)),
            (f.isTrigger = E ? 2 : 3),
            (f.namespace = we.join('.')),
            (f.rnamespace = f.namespace
              ? new RegExp('(^|\\.)' + we.join('\\.(?:.*\\.|)') + '(\\.|$)')
              : null),
            (f.result = void 0),
            f.target || (f.target = k),
            (b = b == null ? [f] : g.makeArray(b, [f])),
            (xt = g.event.special[Nt] || {}),
            !(!E && xt.trigger && xt.trigger.apply(k, b) === !1)))
        ) {
          if (!E && !xt.noBubble && !_(k)) {
            for (
              X = xt.delegateType || Nt, Z_.test(X + Nt) || (I = I.parentNode);
              I;
              I = I.parentNode
            )
              ht.push(I), (F = I);
            F === (k.ownerDocument || v) &&
              ht.push(F.defaultView || F.parentWindow || e);
          }
          for (A = 0; (I = ht[A++]) && !f.isPropagationStopped(); )
            (Dt = I),
              (f.type = A > 1 ? X : xt.bindType || Nt),
              (et =
                (st.get(I, 'events') || Object.create(null))[f.type] &&
                st.get(I, 'handle')),
              et && et.apply(I, b),
              (et = G && I[G]),
              et &&
                et.apply &&
                ce(I) &&
                ((f.result = et.apply(I, b)),
                f.result === !1 && f.preventDefault());
          return (
            (f.type = Nt),
            !E &&
              !f.isDefaultPrevented() &&
              (!xt._default || xt._default.apply(ht.pop(), b) === !1) &&
              ce(k) &&
              G &&
              m(k[Nt]) &&
              !_(k) &&
              ((F = k[G]),
              F && (k[G] = null),
              (g.event.triggered = Nt),
              f.isPropagationStopped() && Dt.addEventListener(Nt, Q_),
              k[Nt](),
              f.isPropagationStopped() && Dt.removeEventListener(Nt, Q_),
              (g.event.triggered = void 0),
              F && (k[G] = F)),
            f.result
          );
        }
      },
      simulate: function (f, b, k) {
        var E = g.extend(new g.Event(), k, { type: f, isSimulated: !0 });
        g.event.trigger(E, null, b);
      },
    }),
      g.fn.extend({
        trigger: function (f, b) {
          return this.each(function () {
            g.event.trigger(f, b, this);
          });
        },
        triggerHandler: function (f, b) {
          var k = this[0];
          if (k) return g.event.trigger(f, b, k, !0);
        },
      });
    var GI = /\[\]$/,
      J_ = /\r?\n/g,
      YI = /^(?:submit|button|image|reset|file)$/i,
      KI = /^(?:input|select|textarea|keygen)/i;
    function Kg(f, b, k, E) {
      var A;
      if (Array.isArray(b))
        g.each(b, function (I, F) {
          k || GI.test(f)
            ? E(f, F)
            : Kg(
                f + '[' + (typeof F == 'object' && F != null ? I : '') + ']',
                F,
                k,
                E
              );
        });
      else if (!k && x(b) === 'object')
        for (A in b) Kg(f + '[' + A + ']', b[A], k, E);
      else E(f, b);
    }
    (g.param = function (f, b) {
      var k,
        E = [],
        A = function (I, F) {
          var X = m(F) ? F() : F;
          E[E.length] =
            encodeURIComponent(I) + '=' + encodeURIComponent(X ?? '');
        };
      if (f == null) return '';
      if (Array.isArray(f) || (f.jquery && !g.isPlainObject(f)))
        g.each(f, function () {
          A(this.name, this.value);
        });
      else for (k in f) Kg(k, f[k], b, A);
      return E.join('&');
    }),
      g.fn.extend({
        serialize: function () {
          return g.param(this.serializeArray());
        },
        serializeArray: function () {
          return this.map(function () {
            var f = g.prop(this, 'elements');
            return f ? g.makeArray(f) : this;
          })
            .filter(function () {
              var f = this.type;
              return (
                this.name &&
                !g(this).is(':disabled') &&
                KI.test(this.nodeName) &&
                !YI.test(f) &&
                (this.checked || !Di.test(f))
              );
            })
            .map(function (f, b) {
              var k = g(this).val();
              return k == null
                ? null
                : Array.isArray(k)
                  ? g.map(k, function (E) {
                      return {
                        name: b.name,
                        value: E.replace(
                          J_,
                          `\r
`
                        ),
                      };
                    })
                  : {
                      name: b.name,
                      value: k.replace(
                        J_,
                        `\r
`
                      ),
                    };
            })
            .get();
        },
      });
    var XI = /%20/g,
      ZI = /#.*$/,
      QI = /([?&])_=[^&]*/,
      JI = /^(.*?):[ \t]*([^\r\n]*)$/gm,
      tR = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
      eR = /^(?:GET|HEAD)$/,
      iR = /^\/\//,
      tx = {},
      Xg = {},
      ex = '*/'.concat('*'),
      Zg = v.createElement('a');
    Zg.href = $c.href;
    function ix(f) {
      return function (b, k) {
        typeof b != 'string' && ((k = b), (b = '*'));
        var E,
          A = 0,
          I = b.toLowerCase().match(K) || [];
        if (m(k))
          for (; (E = I[A++]); )
            E[0] === '+'
              ? ((E = E.slice(1) || '*'), (f[E] = f[E] || []).unshift(k))
              : (f[E] = f[E] || []).push(k);
      };
    }
    function nx(f, b, k, E) {
      var A = {},
        I = f === Xg;
      function F(X) {
        var G;
        return (
          (A[X] = !0),
          g.each(f[X] || [], function (et, xt) {
            var Dt = xt(b, k, E);
            if (typeof Dt == 'string' && !I && !A[Dt])
              return b.dataTypes.unshift(Dt), F(Dt), !1;
            if (I) return !(G = Dt);
          }),
          G
        );
      }
      return F(b.dataTypes[0]) || (!A['*'] && F('*'));
    }
    function Qg(f, b) {
      var k,
        E,
        A = g.ajaxSettings.flatOptions || {};
      for (k in b) b[k] !== void 0 && ((A[k] ? f : E || (E = {}))[k] = b[k]);
      return E && g.extend(!0, f, E), f;
    }
    function nR(f, b, k) {
      for (var E, A, I, F, X = f.contents, G = f.dataTypes; G[0] === '*'; )
        G.shift(),
          E === void 0 &&
            (E = f.mimeType || b.getResponseHeader('Content-Type'));
      if (E) {
        for (A in X)
          if (X[A] && X[A].test(E)) {
            G.unshift(A);
            break;
          }
      }
      if (G[0] in k) I = G[0];
      else {
        for (A in k) {
          if (!G[0] || f.converters[A + ' ' + G[0]]) {
            I = A;
            break;
          }
          F || (F = A);
        }
        I = I || F;
      }
      if (I) return I !== G[0] && G.unshift(I), k[I];
    }
    function rR(f, b, k, E) {
      var A,
        I,
        F,
        X,
        G,
        et = {},
        xt = f.dataTypes.slice();
      if (xt[1]) for (F in f.converters) et[F.toLowerCase()] = f.converters[F];
      for (I = xt.shift(); I; )
        if (
          (f.responseFields[I] && (k[f.responseFields[I]] = b),
          !G && E && f.dataFilter && (b = f.dataFilter(b, f.dataType)),
          (G = I),
          (I = xt.shift()),
          I)
        ) {
          if (I === '*') I = G;
          else if (G !== '*' && G !== I) {
            if (((F = et[G + ' ' + I] || et['* ' + I]), !F)) {
              for (A in et)
                if (
                  ((X = A.split(' ')),
                  X[1] === I &&
                    ((F = et[G + ' ' + X[0]] || et['* ' + X[0]]), F))
                ) {
                  F === !0
                    ? (F = et[A])
                    : et[A] !== !0 && ((I = X[0]), xt.unshift(X[1]));
                  break;
                }
            }
            if (F !== !0)
              if (F && f.throws) b = F(b);
              else
                try {
                  b = F(b);
                } catch (Dt) {
                  return {
                    state: 'parsererror',
                    error: F ? Dt : 'No conversion from ' + G + ' to ' + I,
                  };
                }
          }
        }
      return { state: 'success', data: b };
    }
    g.extend({
      active: 0,
      lastModified: {},
      etag: {},
      ajaxSettings: {
        url: $c.href,
        type: 'GET',
        isLocal: tR.test($c.protocol),
        global: !0,
        processData: !0,
        async: !0,
        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
        accepts: {
          '*': ex,
          text: 'text/plain',
          html: 'text/html',
          xml: 'application/xml, text/xml',
          json: 'application/json, text/javascript',
        },
        contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
        responseFields: {
          xml: 'responseXML',
          text: 'responseText',
          json: 'responseJSON',
        },
        converters: {
          '* text': String,
          'text html': !0,
          'text json': JSON.parse,
          'text xml': g.parseXML,
        },
        flatOptions: { url: !0, context: !0 },
      },
      ajaxSetup: function (f, b) {
        return b ? Qg(Qg(f, g.ajaxSettings), b) : Qg(g.ajaxSettings, f);
      },
      ajaxPrefilter: ix(tx),
      ajaxTransport: ix(Xg),
      ajax: function (f, b) {
        typeof f == 'object' && ((b = f), (f = void 0)), (b = b || {});
        var k,
          E,
          A,
          I,
          F,
          X,
          G,
          et,
          xt,
          Dt,
          ht = g.ajaxSetup({}, b),
          Nt = ht.context || ht,
          we = ht.context && (Nt.nodeType || Nt.jquery) ? g(Nt) : g.event,
          He = g.Deferred(),
          Me = g.Callbacks('once memory'),
          xn = ht.statusCode || {},
          sn = {},
          ca = {},
          ua = 'canceled',
          Be = {
            readyState: 0,
            getResponseHeader: function (We) {
              var $i;
              if (G) {
                if (!I)
                  for (I = {}; ($i = JI.exec(A)); )
                    I[$i[1].toLowerCase() + ' '] = (
                      I[$i[1].toLowerCase() + ' '] || []
                    ).concat($i[2]);
                $i = I[We.toLowerCase() + ' '];
              }
              return $i == null ? null : $i.join(', ');
            },
            getAllResponseHeaders: function () {
              return G ? A : null;
            },
            setRequestHeader: function (We, $i) {
              return (
                G == null &&
                  ((We = ca[We.toLowerCase()] = ca[We.toLowerCase()] || We),
                  (sn[We] = $i)),
                this
              );
            },
            overrideMimeType: function (We) {
              return G == null && (ht.mimeType = We), this;
            },
            statusCode: function (We) {
              var $i;
              if (We)
                if (G) Be.always(We[Be.status]);
                else for ($i in We) xn[$i] = [xn[$i], We[$i]];
              return this;
            },
            abort: function (We) {
              var $i = We || ua;
              return k && k.abort($i), ds(0, $i), this;
            },
          };
        if (
          (He.promise(Be),
          (ht.url = ((f || ht.url || $c.href) + '').replace(
            iR,
            $c.protocol + '//'
          )),
          (ht.type = b.method || b.type || ht.method || ht.type),
          (ht.dataTypes = (ht.dataType || '*').toLowerCase().match(K) || ['']),
          ht.crossDomain == null)
        ) {
          X = v.createElement('a');
          try {
            (X.href = ht.url),
              (X.href = X.href),
              (ht.crossDomain =
                Zg.protocol + '//' + Zg.host != X.protocol + '//' + X.host);
          } catch {
            ht.crossDomain = !0;
          }
        }
        if (
          (ht.data &&
            ht.processData &&
            typeof ht.data != 'string' &&
            (ht.data = g.param(ht.data, ht.traditional)),
          nx(tx, ht, b, Be),
          G)
        )
          return Be;
        (et = g.event && ht.global),
          et && g.active++ === 0 && g.event.trigger('ajaxStart'),
          (ht.type = ht.type.toUpperCase()),
          (ht.hasContent = !eR.test(ht.type)),
          (E = ht.url.replace(ZI, '')),
          ht.hasContent
            ? ht.data &&
              ht.processData &&
              (ht.contentType || '').indexOf(
                'application/x-www-form-urlencoded'
              ) === 0 &&
              (ht.data = ht.data.replace(XI, '+'))
            : ((Dt = ht.url.slice(E.length)),
              ht.data &&
                (ht.processData || typeof ht.data == 'string') &&
                ((E += (Yg.test(E) ? '&' : '?') + ht.data), delete ht.data),
              ht.cache === !1 &&
                ((E = E.replace(QI, '$1')),
                (Dt = (Yg.test(E) ? '&' : '?') + '_=' + X_.guid++ + Dt)),
              (ht.url = E + Dt)),
          ht.ifModified &&
            (g.lastModified[E] &&
              Be.setRequestHeader('If-Modified-Since', g.lastModified[E]),
            g.etag[E] && Be.setRequestHeader('If-None-Match', g.etag[E])),
          ((ht.data && ht.hasContent && ht.contentType !== !1) ||
            b.contentType) &&
            Be.setRequestHeader('Content-Type', ht.contentType),
          Be.setRequestHeader(
            'Accept',
            ht.dataTypes[0] && ht.accepts[ht.dataTypes[0]]
              ? ht.accepts[ht.dataTypes[0]] +
                  (ht.dataTypes[0] !== '*' ? ', ' + ex + '; q=0.01' : '')
              : ht.accepts['*']
          );
        for (xt in ht.headers) Be.setRequestHeader(xt, ht.headers[xt]);
        if (ht.beforeSend && (ht.beforeSend.call(Nt, Be, ht) === !1 || G))
          return Be.abort();
        if (
          ((ua = 'abort'),
          Me.add(ht.complete),
          Be.done(ht.success),
          Be.fail(ht.error),
          (k = nx(Xg, ht, b, Be)),
          !k)
        )
          ds(-1, 'No Transport');
        else {
          if (((Be.readyState = 1), et && we.trigger('ajaxSend', [Be, ht]), G))
            return Be;
          ht.async &&
            ht.timeout > 0 &&
            (F = e.setTimeout(function () {
              Be.abort('timeout');
            }, ht.timeout));
          try {
            (G = !1), k.send(sn, ds);
          } catch (We) {
            if (G) throw We;
            ds(-1, We);
          }
        }
        function ds(We, $i, Yc, tv) {
          var da,
            Kc,
            ha,
            ho,
            fo,
            Er = $i;
          G ||
            ((G = !0),
            F && e.clearTimeout(F),
            (k = void 0),
            (A = tv || ''),
            (Be.readyState = We > 0 ? 4 : 0),
            (da = (We >= 200 && We < 300) || We === 304),
            Yc && (ho = nR(ht, Be, Yc)),
            !da &&
              g.inArray('script', ht.dataTypes) > -1 &&
              g.inArray('json', ht.dataTypes) < 0 &&
              (ht.converters['text script'] = function () {}),
            (ho = rR(ht, ho, Be, da)),
            da
              ? (ht.ifModified &&
                  ((fo = Be.getResponseHeader('Last-Modified')),
                  fo && (g.lastModified[E] = fo),
                  (fo = Be.getResponseHeader('etag')),
                  fo && (g.etag[E] = fo)),
                We === 204 || ht.type === 'HEAD'
                  ? (Er = 'nocontent')
                  : We === 304
                    ? (Er = 'notmodified')
                    : ((Er = ho.state),
                      (Kc = ho.data),
                      (ha = ho.error),
                      (da = !ha)))
              : ((ha = Er),
                (We || !Er) && ((Er = 'error'), We < 0 && (We = 0))),
            (Be.status = We),
            (Be.statusText = ($i || Er) + ''),
            da
              ? He.resolveWith(Nt, [Kc, Er, Be])
              : He.rejectWith(Nt, [Be, Er, ha]),
            Be.statusCode(xn),
            (xn = void 0),
            et &&
              we.trigger(da ? 'ajaxSuccess' : 'ajaxError', [
                Be,
                ht,
                da ? Kc : ha,
              ]),
            Me.fireWith(Nt, [Be, Er]),
            et &&
              (we.trigger('ajaxComplete', [Be, ht]),
              --g.active || g.event.trigger('ajaxStop')));
        }
        return Be;
      },
      getJSON: function (f, b, k) {
        return g.get(f, b, k, 'json');
      },
      getScript: function (f, b) {
        return g.get(f, void 0, b, 'script');
      },
    }),
      g.each(['get', 'post'], function (f, b) {
        g[b] = function (k, E, A, I) {
          return (
            m(E) && ((I = I || A), (A = E), (E = void 0)),
            g.ajax(
              g.extend(
                { url: k, type: b, dataType: I, data: E, success: A },
                g.isPlainObject(k) && k
              )
            )
          );
        };
      }),
      g.ajaxPrefilter(function (f) {
        var b;
        for (b in f.headers)
          b.toLowerCase() === 'content-type' &&
            (f.contentType = f.headers[b] || '');
      }),
      (g._evalUrl = function (f, b, k) {
        return g.ajax({
          url: f,
          type: 'GET',
          dataType: 'script',
          cache: !0,
          async: !1,
          global: !1,
          converters: { 'text script': function () {} },
          dataFilter: function (E) {
            g.globalEval(E, b, k);
          },
        });
      }),
      g.fn.extend({
        wrapAll: function (f) {
          var b;
          return (
            this[0] &&
              (m(f) && (f = f.call(this[0])),
              (b = g(f, this[0].ownerDocument).eq(0).clone(!0)),
              this[0].parentNode && b.insertBefore(this[0]),
              b
                .map(function () {
                  for (var k = this; k.firstElementChild; )
                    k = k.firstElementChild;
                  return k;
                })
                .append(this)),
            this
          );
        },
        wrapInner: function (f) {
          return m(f)
            ? this.each(function (b) {
                g(this).wrapInner(f.call(this, b));
              })
            : this.each(function () {
                var b = g(this),
                  k = b.contents();
                k.length ? k.wrapAll(f) : b.append(f);
              });
        },
        wrap: function (f) {
          var b = m(f);
          return this.each(function (k) {
            g(this).wrapAll(b ? f.call(this, k) : f);
          });
        },
        unwrap: function (f) {
          return (
            this.parent(f)
              .not('body')
              .each(function () {
                g(this).replaceWith(this.childNodes);
              }),
            this
          );
        },
      }),
      (g.expr.pseudos.hidden = function (f) {
        return !g.expr.pseudos.visible(f);
      }),
      (g.expr.pseudos.visible = function (f) {
        return !!(f.offsetWidth || f.offsetHeight || f.getClientRects().length);
      }),
      (g.ajaxSettings.xhr = function () {
        try {
          return new e.XMLHttpRequest();
        } catch {}
      });
    var aR = { 0: 200, 1223: 204 },
      Gc = g.ajaxSettings.xhr();
    (p.cors = !!Gc && 'withCredentials' in Gc),
      (p.ajax = Gc = !!Gc),
      g.ajaxTransport(function (f) {
        var b, k;
        if (p.cors || (Gc && !f.crossDomain))
          return {
            send: function (E, A) {
              var I,
                F = f.xhr();
              if (
                (F.open(f.type, f.url, f.async, f.username, f.password),
                f.xhrFields)
              )
                for (I in f.xhrFields) F[I] = f.xhrFields[I];
              f.mimeType &&
                F.overrideMimeType &&
                F.overrideMimeType(f.mimeType),
                !f.crossDomain &&
                  !E['X-Requested-With'] &&
                  (E['X-Requested-With'] = 'XMLHttpRequest');
              for (I in E) F.setRequestHeader(I, E[I]);
              (b = function (X) {
                return function () {
                  b &&
                    ((b =
                      k =
                      F.onload =
                      F.onerror =
                      F.onabort =
                      F.ontimeout =
                      F.onreadystatechange =
                        null),
                    X === 'abort'
                      ? F.abort()
                      : X === 'error'
                        ? typeof F.status != 'number'
                          ? A(0, 'error')
                          : A(F.status, F.statusText)
                        : A(
                            aR[F.status] || F.status,
                            F.statusText,
                            (F.responseType || 'text') !== 'text' ||
                              typeof F.responseText != 'string'
                              ? { binary: F.response }
                              : { text: F.responseText },
                            F.getAllResponseHeaders()
                          ));
                };
              }),
                (F.onload = b()),
                (k = F.onerror = F.ontimeout = b('error')),
                F.onabort !== void 0
                  ? (F.onabort = k)
                  : (F.onreadystatechange = function () {
                      F.readyState === 4 &&
                        e.setTimeout(function () {
                          b && k();
                        });
                    }),
                (b = b('abort'));
              try {
                F.send((f.hasContent && f.data) || null);
              } catch (X) {
                if (b) throw X;
              }
            },
            abort: function () {
              b && b();
            },
          };
      }),
      g.ajaxPrefilter(function (f) {
        f.crossDomain && (f.contents.script = !1);
      }),
      g.ajaxSetup({
        accepts: {
          script:
            'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript',
        },
        contents: { script: /\b(?:java|ecma)script\b/ },
        converters: {
          'text script': function (f) {
            return g.globalEval(f), f;
          },
        },
      }),
      g.ajaxPrefilter('script', function (f) {
        f.cache === void 0 && (f.cache = !1), f.crossDomain && (f.type = 'GET');
      }),
      g.ajaxTransport('script', function (f) {
        if (f.crossDomain || f.scriptAttrs) {
          var b, k;
          return {
            send: function (E, A) {
              (b = g('<script>')
                .attr(f.scriptAttrs || {})
                .prop({ charset: f.scriptCharset, src: f.url })
                .on(
                  'load error',
                  (k = function (I) {
                    b.remove(),
                      (k = null),
                      I && A(I.type === 'error' ? 404 : 200, I.type);
                  })
                )),
                v.head.appendChild(b[0]);
            },
            abort: function () {
              k && k();
            },
          };
        }
      });
    var rx = [],
      Jg = /(=)\?(?=&|$)|\?\?/;
    g.ajaxSetup({
      jsonp: 'callback',
      jsonpCallback: function () {
        var f = rx.pop() || g.expando + '_' + X_.guid++;
        return (this[f] = !0), f;
      },
    }),
      g.ajaxPrefilter('json jsonp', function (f, b, k) {
        var E,
          A,
          I,
          F =
            f.jsonp !== !1 &&
            (Jg.test(f.url)
              ? 'url'
              : typeof f.data == 'string' &&
                (f.contentType || '').indexOf(
                  'application/x-www-form-urlencoded'
                ) === 0 &&
                Jg.test(f.data) &&
                'data');
        if (F || f.dataTypes[0] === 'jsonp')
          return (
            (E = f.jsonpCallback =
              m(f.jsonpCallback) ? f.jsonpCallback() : f.jsonpCallback),
            F
              ? (f[F] = f[F].replace(Jg, '$1' + E))
              : f.jsonp !== !1 &&
                (f.url += (Yg.test(f.url) ? '&' : '?') + f.jsonp + '=' + E),
            (f.converters['script json'] = function () {
              return I || g.error(E + ' was not called'), I[0];
            }),
            (f.dataTypes[0] = 'json'),
            (A = e[E]),
            (e[E] = function () {
              I = arguments;
            }),
            k.always(function () {
              A === void 0 ? g(e).removeProp(E) : (e[E] = A),
                f[E] && ((f.jsonpCallback = b.jsonpCallback), rx.push(E)),
                I && m(A) && A(I[0]),
                (I = A = void 0);
            }),
            'script'
          );
      }),
      (p.createHTMLDocument = (function () {
        var f = v.implementation.createHTMLDocument('').body;
        return (
          (f.innerHTML = '<form></form><form></form>'),
          f.childNodes.length === 2
        );
      })()),
      (g.parseHTML = function (f, b, k) {
        if (typeof f != 'string') return [];
        typeof b == 'boolean' && ((k = b), (b = !1));
        var E, A, I;
        return (
          b ||
            (p.createHTMLDocument
              ? ((b = v.implementation.createHTMLDocument('')),
                (E = b.createElement('base')),
                (E.href = v.location.href),
                b.head.appendChild(E))
              : (b = v)),
          (A = nt.exec(f)),
          (I = !k && []),
          A
            ? [b.createElement(A[1])]
            : ((A = N([f], b, I)),
              I && I.length && g(I).remove(),
              g.merge([], A.childNodes))
        );
      }),
      (g.fn.load = function (f, b, k) {
        var E,
          A,
          I,
          F = this,
          X = f.indexOf(' ');
        return (
          X > -1 && ((E = cs(f.slice(X))), (f = f.slice(0, X))),
          m(b)
            ? ((k = b), (b = void 0))
            : b && typeof b == 'object' && (A = 'POST'),
          F.length > 0 &&
            g
              .ajax({ url: f, type: A || 'GET', dataType: 'html', data: b })
              .done(function (G) {
                (I = arguments),
                  F.html(E ? g('<div>').append(g.parseHTML(G)).find(E) : G);
              })
              .always(
                k &&
                  function (G, et) {
                    F.each(function () {
                      k.apply(this, I || [G.responseText, et, G]);
                    });
                  }
              ),
          this
        );
      }),
      (g.expr.pseudos.animated = function (f) {
        return g.grep(g.timers, function (b) {
          return f === b.elem;
        }).length;
      }),
      (g.offset = {
        setOffset: function (f, b, k) {
          var E,
            A,
            I,
            F,
            X,
            G,
            et,
            xt = g.css(f, 'position'),
            Dt = g(f),
            ht = {};
          xt === 'static' && (f.style.position = 'relative'),
            (X = Dt.offset()),
            (I = g.css(f, 'top')),
            (G = g.css(f, 'left')),
            (et =
              (xt === 'absolute' || xt === 'fixed') &&
              (I + G).indexOf('auto') > -1),
            et
              ? ((E = Dt.position()), (F = E.top), (A = E.left))
              : ((F = parseFloat(I) || 0), (A = parseFloat(G) || 0)),
            m(b) && (b = b.call(f, k, g.extend({}, X))),
            b.top != null && (ht.top = b.top - X.top + F),
            b.left != null && (ht.left = b.left - X.left + A),
            'using' in b ? b.using.call(f, ht) : Dt.css(ht);
        },
      }),
      g.fn.extend({
        offset: function (f) {
          if (arguments.length)
            return f === void 0
              ? this
              : this.each(function (A) {
                  g.offset.setOffset(this, f, A);
                });
          var b,
            k,
            E = this[0];
          if (E)
            return E.getClientRects().length
              ? ((b = E.getBoundingClientRect()),
                (k = E.ownerDocument.defaultView),
                { top: b.top + k.pageYOffset, left: b.left + k.pageXOffset })
              : { top: 0, left: 0 };
        },
        position: function () {
          if (this[0]) {
            var f,
              b,
              k,
              E = this[0],
              A = { top: 0, left: 0 };
            if (g.css(E, 'position') === 'fixed') b = E.getBoundingClientRect();
            else {
              for (
                b = this.offset(),
                  k = E.ownerDocument,
                  f = E.offsetParent || k.documentElement;
                f &&
                (f === k.body || f === k.documentElement) &&
                g.css(f, 'position') === 'static';

              )
                f = f.parentNode;
              f &&
                f !== E &&
                f.nodeType === 1 &&
                ((A = g(f).offset()),
                (A.top += g.css(f, 'borderTopWidth', !0)),
                (A.left += g.css(f, 'borderLeftWidth', !0)));
            }
            return {
              top: b.top - A.top - g.css(E, 'marginTop', !0),
              left: b.left - A.left - g.css(E, 'marginLeft', !0),
            };
          }
        },
        offsetParent: function () {
          return this.map(function () {
            for (
              var f = this.offsetParent;
              f && g.css(f, 'position') === 'static';

            )
              f = f.offsetParent;
            return f || te;
          });
        },
      }),
      g.each(
        { scrollLeft: 'pageXOffset', scrollTop: 'pageYOffset' },
        function (f, b) {
          var k = b === 'pageYOffset';
          g.fn[f] = function (E) {
            return Wt(
              this,
              function (A, I, F) {
                var X;
                if (
                  (_(A) ? (X = A) : A.nodeType === 9 && (X = A.defaultView),
                  F === void 0)
                )
                  return X ? X[b] : A[I];
                X
                  ? X.scrollTo(k ? X.pageXOffset : F, k ? F : X.pageYOffset)
                  : (A[I] = F);
              },
              f,
              E,
              arguments.length
            );
          };
        }
      ),
      g.each(['top', 'left'], function (f, b) {
        g.cssHooks[b] = en(p.pixelPosition, function (k, E) {
          if (E)
            return (E = rn(k, b)), fe.test(E) ? g(k).position()[b] + 'px' : E;
        });
      }),
      g.each({ Height: 'height', Width: 'width' }, function (f, b) {
        g.each(
          { padding: 'inner' + f, content: b, '': 'outer' + f },
          function (k, E) {
            g.fn[E] = function (A, I) {
              var F = arguments.length && (k || typeof A != 'boolean'),
                X = k || (A === !0 || I === !0 ? 'margin' : 'border');
              return Wt(
                this,
                function (G, et, xt) {
                  var Dt;
                  return _(G)
                    ? E.indexOf('outer') === 0
                      ? G['inner' + f]
                      : G.document.documentElement['client' + f]
                    : G.nodeType === 9
                      ? ((Dt = G.documentElement),
                        Math.max(
                          G.body['scroll' + f],
                          Dt['scroll' + f],
                          G.body['offset' + f],
                          Dt['offset' + f],
                          Dt['client' + f]
                        ))
                      : xt === void 0
                        ? g.css(G, et, X)
                        : g.style(G, et, xt, X);
                },
                b,
                F ? A : void 0,
                F
              );
            };
          }
        );
      }),
      g.each(
        [
          'ajaxStart',
          'ajaxStop',
          'ajaxComplete',
          'ajaxError',
          'ajaxSuccess',
          'ajaxSend',
        ],
        function (f, b) {
          g.fn[b] = function (k) {
            return this.on(b, k);
          };
        }
      ),
      g.fn.extend({
        bind: function (f, b, k) {
          return this.on(f, null, b, k);
        },
        unbind: function (f, b) {
          return this.off(f, null, b);
        },
        delegate: function (f, b, k, E) {
          return this.on(b, f, k, E);
        },
        undelegate: function (f, b, k) {
          return arguments.length === 1
            ? this.off(f, '**')
            : this.off(b, f || '**', k);
        },
        hover: function (f, b) {
          return this.on('mouseenter', f).on('mouseleave', b || f);
        },
      }),
      g.each(
        'blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu'.split(
          ' '
        ),
        function (f, b) {
          g.fn[b] = function (k, E) {
            return arguments.length > 0
              ? this.on(b, null, k, E)
              : this.trigger(b);
          };
        }
      );
    var oR = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;
    (g.proxy = function (f, b) {
      var k, E, A;
      if ((typeof b == 'string' && ((k = f[b]), (b = f), (f = k)), !!m(f)))
        return (
          (E = r.call(arguments, 2)),
          (A = function () {
            return f.apply(b || this, E.concat(r.call(arguments)));
          }),
          (A.guid = f.guid = f.guid || g.guid++),
          A
        );
    }),
      (g.holdReady = function (f) {
        f ? g.readyWait++ : g.ready(!0);
      }),
      (g.isArray = Array.isArray),
      (g.parseJSON = JSON.parse),
      (g.nodeName = T),
      (g.isFunction = m),
      (g.isWindow = _),
      (g.camelCase = _e),
      (g.type = x),
      (g.now = Date.now),
      (g.isNumeric = function (f) {
        var b = g.type(f);
        return (b === 'number' || b === 'string') && !isNaN(f - parseFloat(f));
      }),
      (g.trim = function (f) {
        return f == null ? '' : (f + '').replace(oR, '$1');
      }),
      typeof define == 'function' &&
        define.amd &&
        define('jquery', [], function () {
          return g;
        });
    var sR = e.jQuery,
      lR = e.$;
    return (
      (g.noConflict = function (f) {
        return (
          e.$ === g && (e.$ = lR), f && e.jQuery === g && (e.jQuery = sR), g
        );
      }),
      typeof t > 'u' && (e.jQuery = e.$ = g),
      g
    );
  });
});
var mM = Ni(() => {
  (function (e, t, n) {
    (function (i) {
      'use strict';
      typeof define == 'function' && define.amd
        ? define(['jquery'], i)
        : jQuery && !jQuery.fn.qtip && i(jQuery);
    })(function (i) {
      'use strict';
      var r = !0,
        a = !1,
        o = null,
        s = 'x',
        l = 'y',
        c = 'width',
        u = 'height',
        d = 'top',
        h = 'left',
        p = 'bottom',
        m = 'right',
        _ = 'center',
        v = 'flip',
        y = 'flipinvert',
        w = 'shift',
        x,
        C,
        S,
        g,
        D = {},
        T = 'qtip',
        O = 'data-hasqtip',
        R = 'data-qtip-id',
        P = ['ui-widget', 'ui-tooltip'],
        L = '.' + T,
        V =
          'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(
            ' '
          ),
        B = T + '-fixed',
        q = T + '-default',
        U = T + '-focus',
        W = T + '-hover',
        Z = T + '-disabled',
        it = '_replacedByqTip',
        rt = 'oldtitle',
        nt,
        J = {
          ie: (function () {
            var M, N;
            for (
              M = 4, N = t.createElement('div');
              (N.innerHTML = '<!--[if gt IE ' + M + ']><i></i><![endif]-->') &&
              N.getElementsByTagName('i')[0];
              M += 1
            );
            return M > 4 ? M : NaN;
          })(),
          iOS:
            parseFloat(
              (
                '' +
                (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(
                  navigator.userAgent
                ) || [0, ''])[1]
              )
                .replace('undefined', '3_2')
                .replace('_', '.')
                .replace('_', '')
            ) || a,
        };
      function dt(M, N, j, Y) {
        (this.id = j),
          (this.target = M),
          (this.tooltip = o),
          (this.elements = { target: M }),
          (this._id = T + '-' + j),
          (this.timers = { img: {} }),
          (this.options = N),
          (this.plugins = {}),
          (this.cache = {
            event: {},
            target: i(),
            disabled: a,
            attr: Y,
            onTooltip: a,
            lastClass: '',
          }),
          (this.rendered =
            this.destroyed =
            this.disabled =
            this.waiting =
            this.hiddenDuringWait =
            this.positioning =
            this.triggering =
              a);
      }
      (C = dt.prototype),
        (C._when = function (M) {
          return i.when.apply(i, M);
        }),
        (C.render = function (M) {
          if (this.rendered || this.destroyed) return this;
          var N = this,
            j = this.options,
            Y = this.cache,
            $ = this.elements,
            tt = j.content.text,
            at = j.content.title,
            ft = j.content.button,
            kt = j.position,
            Et = [];
          return (
            i.attr(this.target[0], 'aria-describedby', this._id),
            (Y.posClass = this._createPosClass(
              (this.position = { my: kt.my, at: kt.at }).my
            )),
            (this.tooltip = $.tooltip =
              i('<div/>', {
                id: this._id,
                class: [T, q, j.style.classes, Y.posClass].join(' '),
                width: j.style.width || '',
                height: j.style.height || '',
                tracking: kt.target === 'mouse' && kt.adjust.mouse,
                role: 'alert',
                'aria-live': 'polite',
                'aria-atomic': a,
                'aria-describedby': this._id + '-content',
                'aria-hidden': r,
              })
                .toggleClass(Z, this.disabled)
                .attr(R, this.id)
                .data(T, this)
                .appendTo(kt.container)
                .append(
                  ($.content = i('<div />', {
                    class: T + '-content',
                    id: this._id + '-content',
                    'aria-atomic': r,
                  }))
                )),
            (this.rendered = -1),
            (this.positioning = r),
            at &&
              (this._createTitle(),
              i.isFunction(at) || Et.push(this._updateTitle(at, a))),
            ft && this._createButton(),
            i.isFunction(tt) || Et.push(this._updateContent(tt, a)),
            (this.rendered = r),
            this._setWidget(),
            i.each(D, function (Rt) {
              var Gt;
              this.initialize === 'render' &&
                (Gt = this(N)) &&
                (N.plugins[Rt] = Gt);
            }),
            this._unassignEvents(),
            this._assignEvents(),
            this._when(Et).then(function () {
              N._trigger('render'),
                (N.positioning = a),
                !N.hiddenDuringWait &&
                  (j.show.ready || M) &&
                  N.toggle(r, Y.event, a),
                (N.hiddenDuringWait = a);
            }),
            (x.api[this.id] = this),
            this
          );
        }),
        (C.destroy = function (M) {
          if (this.destroyed) return this.target;
          function N() {
            if (!this.destroyed) {
              this.destroyed = r;
              var j = this.target,
                Y = j.attr(rt),
                $;
              this.rendered &&
                this.tooltip.stop(1, 0).find('*').remove().end().remove(),
                i.each(this.plugins, function () {
                  this.destroy && this.destroy();
                });
              for ($ in this.timers)
                this.timers.hasOwnProperty($) && clearTimeout(this.timers[$]);
              j
                .removeData(T)
                .removeAttr(R)
                .removeAttr(O)
                .removeAttr('aria-describedby'),
                this.options.suppress && Y && j.attr('title', Y).removeAttr(rt),
                this._unassignEvents(),
                (this.options =
                  this.elements =
                  this.cache =
                  this.timers =
                  this.plugins =
                  this.mouse =
                    o),
                delete x.api[this.id];
            }
          }
          return (
            (M !== r || this.triggering === 'hide') && this.rendered
              ? (this.tooltip.one('tooltiphidden', i.proxy(N, this)),
                !this.triggering && this.hide())
              : N.call(this),
            this.target
          );
        });
      function yt(M) {
        return M === o || i.type(M) !== 'object';
      }
      function wt(M) {
        return !(
          i.isFunction(M) ||
          (M && M.attr) ||
          M.length ||
          (i.type(M) === 'object' && (M.jquery || M.then))
        );
      }
      function bt(M) {
        var N, j, Y, $;
        return yt(M)
          ? a
          : (yt(M.metadata) && (M.metadata = { type: M.metadata }),
            'content' in M &&
              ((N = M.content),
              yt(N) || N.jquery || N.done
                ? ((j = wt(N) ? a : N), (N = M.content = { text: j }))
                : (j = N.text),
              'ajax' in N &&
                ((Y = N.ajax),
                ($ = Y && Y.once !== a),
                delete N.ajax,
                (N.text = function (tt, at) {
                  var ft =
                      j ||
                      i(this).attr(at.options.content.attr) ||
                      'Loading...',
                    kt = i
                      .ajax(i.extend({}, Y, { context: at }))
                      .then(Y.success, o, Y.error)
                      .then(
                        function (Et) {
                          return Et && $ && at.set('content.text', Et), Et;
                        },
                        function (Et, Rt, Gt) {
                          at.destroyed ||
                            Et.status === 0 ||
                            at.set('content.text', Rt + ': ' + Gt);
                        }
                      );
                  return $ ? ft : (at.set('content.text', ft), kt);
                })),
              'title' in N &&
                (i.isPlainObject(N.title) &&
                  ((N.button = N.title.button), (N.title = N.title.text)),
                wt(N.title || a) && (N.title = a))),
            'position' in M &&
              yt(M.position) &&
              (M.position = { my: M.position, at: M.position }),
            'show' in M &&
              yt(M.show) &&
              (M.show = M.show.jquery
                ? { target: M.show }
                : M.show === r
                  ? { ready: r }
                  : { event: M.show }),
            'hide' in M &&
              yt(M.hide) &&
              (M.hide = M.hide.jquery ? { target: M.hide } : { event: M.hide }),
            'style' in M && yt(M.style) && (M.style = { classes: M.style }),
            i.each(D, function () {
              this.sanitize && this.sanitize(M);
            }),
            M);
      }
      g = C.checks = {
        builtin: {
          '^id$': function (M, N, j, Y) {
            var $ = j === r ? x.nextid : j,
              tt = T + '-' + $;
            $ !== a && $.length > 0 && !i('#' + tt).length
              ? ((this._id = tt),
                this.rendered &&
                  ((this.tooltip[0].id = this._id),
                  (this.elements.content[0].id = this._id + '-content'),
                  (this.elements.title[0].id = this._id + '-title')))
              : (M[N] = Y);
          },
          '^prerender': function (M, N, j) {
            j && !this.rendered && this.render(this.options.show.ready);
          },
          '^content.text$': function (M, N, j) {
            this._updateContent(j);
          },
          '^content.attr$': function (M, N, j, Y) {
            this.options.content.text === this.target.attr(Y) &&
              this._updateContent(this.target.attr(j));
          },
          '^content.title$': function (M, N, j) {
            if (!j) return this._removeTitle();
            j && !this.elements.title && this._createTitle(),
              this._updateTitle(j);
          },
          '^content.button$': function (M, N, j) {
            this._updateButton(j);
          },
          '^content.title.(text|button)$': function (M, N, j) {
            this.set('content.' + N, j);
          },
          '^position.(my|at)$': function (M, N, j) {
            typeof j == 'string' &&
              (this.position[N] = M[N] = new S(j, N === 'at'));
          },
          '^position.container$': function (M, N, j) {
            this.rendered && this.tooltip.appendTo(j);
          },
          '^show.ready$': function (M, N, j) {
            j && ((!this.rendered && this.render(r)) || this.toggle(r));
          },
          '^style.classes$': function (M, N, j, Y) {
            this.rendered && this.tooltip.removeClass(Y).addClass(j);
          },
          '^style.(width|height)': function (M, N, j) {
            this.rendered && this.tooltip.css(N, j);
          },
          '^style.widget|content.title': function () {
            this.rendered && this._setWidget();
          },
          '^style.def': function (M, N, j) {
            this.rendered && this.tooltip.toggleClass(q, !!j);
          },
          '^events.(render|show|move|hide|focus|blur)$': function (M, N, j) {
            this.rendered &&
              this.tooltip[(i.isFunction(j) ? '' : 'un') + 'bind'](
                'tooltip' + N,
                j
              );
          },
          '^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)':
            function () {
              if (this.rendered) {
                var M = this.options.position;
                this.tooltip.attr(
                  'tracking',
                  M.target === 'mouse' && M.adjust.mouse
                ),
                  this._unassignEvents(),
                  this._assignEvents();
              }
            },
        },
      };
      function At(M, N) {
        for (var j = 0, Y, $ = M, tt = N.split('.'); ($ = $[tt[j++]]); )
          j < tt.length && (Y = $);
        return [Y || M, tt.pop()];
      }
      C.get = function (M) {
        if (this.destroyed) return this;
        var N = At(this.options, M.toLowerCase()),
          j = N[0][N[1]];
        return j.precedance ? j.string() : j;
      };
      function _t(M, N) {
        var j, Y, $;
        for (j in this.checks)
          if (this.checks.hasOwnProperty(j))
            for (Y in this.checks[j])
              this.checks[j].hasOwnProperty(Y) &&
                ($ = new RegExp(Y, 'i').exec(M)) &&
                (N.push($),
                (j === 'builtin' || this.plugins[j]) &&
                  this.checks[j][Y].apply(this.plugins[j] || this, N));
      }
      var K =
          /^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,
        lt = /^prerender|show\.ready/i;
      (C.set = function (M, N) {
        if (this.destroyed) return this;
        var j = this.rendered,
          Y = a,
          $ = this.options,
          tt;
        return (
          typeof M == 'string'
            ? ((tt = M), (M = {}), (M[tt] = N))
            : (M = i.extend({}, M)),
          i.each(M, function (at, ft) {
            if (j && lt.test(at)) {
              delete M[at];
              return;
            }
            var kt = At($, at.toLowerCase()),
              Et;
            (Et = kt[0][kt[1]]),
              (kt[0][kt[1]] = ft && ft.nodeType ? i(ft) : ft),
              (Y = K.test(at) || Y),
              (M[at] = [kt[0], kt[1], ft, Et]);
          }),
          bt($),
          (this.positioning = r),
          i.each(M, i.proxy(_t, this)),
          (this.positioning = a),
          this.rendered &&
            this.tooltip[0].offsetWidth > 0 &&
            Y &&
            this.reposition(
              $.position.target === 'mouse' ? o : this.cache.event
            ),
          this
        );
      }),
        (C._update = function (M, N) {
          var j = this,
            Y = this.cache;
          return !this.rendered || !M
            ? a
            : (i.isFunction(M) &&
                (M = M.call(this.elements.target, Y.event, this) || ''),
              i.isFunction(M.then)
                ? ((Y.waiting = r),
                  M.then(
                    function ($) {
                      return (Y.waiting = a), j._update($, N);
                    },
                    o,
                    function ($) {
                      return j._update($, N);
                    }
                  ))
                : M === a || (!M && M !== '')
                  ? a
                  : (M.jquery && M.length > 0
                      ? N.empty().append(
                          M.css({ display: 'block', visibility: 'visible' })
                        )
                      : N.html(M),
                    this._waitForContent(N).then(function ($) {
                      j.rendered &&
                        j.tooltip[0].offsetWidth > 0 &&
                        j.reposition(Y.event, !$.length);
                    })));
        }),
        (C._waitForContent = function (M) {
          var N = this.cache;
          return (
            (N.waiting = r),
            (i.fn.imagesLoaded
              ? M.imagesLoaded()
              : new i.Deferred().resolve([])
            )
              .done(function () {
                N.waiting = a;
              })
              .promise()
          );
        }),
        (C._updateContent = function (M, N) {
          this._update(M, this.elements.content, N);
        }),
        (C._updateTitle = function (M, N) {
          this._update(M, this.elements.title, N) === a && this._removeTitle(a);
        }),
        (C._createTitle = function () {
          var M = this.elements,
            N = this._id + '-title';
          M.titlebar && this._removeTitle(),
            (M.titlebar = i('<div />', {
              class:
                T +
                '-titlebar ' +
                (this.options.style.widget ? Mt('header') : ''),
            })
              .append(
                (M.title = i('<div />', {
                  id: N,
                  class: T + '-title',
                  'aria-atomic': r,
                }))
              )
              .insertBefore(M.content)
              .delegate(
                '.qtip-close',
                'mousedown keydown mouseup keyup mouseout',
                function (j) {
                  i(this).toggleClass(
                    'ui-state-active ui-state-focus',
                    j.type.substr(-4) === 'down'
                  );
                }
              )
              .delegate('.qtip-close', 'mouseover mouseout', function (j) {
                i(this).toggleClass('ui-state-hover', j.type === 'mouseover');
              })),
            this.options.content.button && this._createButton();
        }),
        (C._removeTitle = function (M) {
          var N = this.elements;
          N.title &&
            (N.titlebar.remove(),
            (N.titlebar = N.title = N.button = o),
            M !== a && this.reposition());
        }),
        (C._createPosClass = function (M) {
          return T + '-pos-' + (M || this.options.position.my).abbrev();
        }),
        (C.reposition = function (M, N) {
          if (!this.rendered || this.positioning || this.destroyed) return this;
          this.positioning = r;
          var j = this.cache,
            Y = this.tooltip,
            $ = this.options.position,
            tt = $.target,
            at = $.my,
            ft = $.at,
            kt = $.viewport,
            Et = $.container,
            Rt = $.adjust,
            Gt = Rt.method.split(' '),
            zt = Y.outerWidth(a),
            ue = Y.outerHeight(a),
            me = 0,
            Yt = 0,
            ye = Y.css('position'),
            fe = { left: 0, top: 0 },
            Wi = Y[0].offsetWidth > 0,
            Ji = M && M.type === 'scroll',
            Pn = i(e),
            kr = Et[0].ownerDocument,
            rn = this.mouse,
            en,
            an,
            Mi,
            ur;
          if (i.isArray(tt) && tt.length === 2)
            (ft = { x: h, y: d }), (fe = { left: tt[0], top: tt[1] });
          else if (tt === 'mouse')
            (ft = { x: h, y: d }),
              (!Rt.mouse || this.options.hide.distance) &&
              j.origin &&
              j.origin.pageX
                ? (M = j.origin)
                : !M || (M && (M.type === 'resize' || M.type === 'scroll'))
                  ? (M = j.event)
                  : rn && rn.pageX && (M = rn),
              ye !== 'static' && (fe = Et.offset()),
              kr.body.offsetWidth !==
                (e.innerWidth || kr.documentElement.clientWidth) &&
                (an = i(t.body).offset()),
              (fe = {
                left: M.pageX - fe.left + ((an && an.left) || 0),
                top: M.pageY - fe.top + ((an && an.top) || 0),
              }),
              Rt.mouse &&
                Ji &&
                rn &&
                ((fe.left -= (rn.scrollX || 0) - Pn.scrollLeft()),
                (fe.top -= (rn.scrollY || 0) - Pn.scrollTop()));
          else {
            if (
              (tt === 'event'
                ? M && M.target && M.type !== 'scroll' && M.type !== 'resize'
                  ? (j.target = i(M.target))
                  : M.target || (j.target = this.elements.target)
                : tt !== 'event' &&
                  (j.target = i(tt.jquery ? tt : this.elements.target)),
              (tt = j.target),
              (tt = i(tt).eq(0)),
              tt.length === 0)
            )
              return this;
            tt[0] === t || tt[0] === e
              ? ((me = J.iOS ? e.innerWidth : tt.width()),
                (Yt = J.iOS ? e.innerHeight : tt.height()),
                tt[0] === e &&
                  (fe = {
                    top: (kt || tt).scrollTop(),
                    left: (kt || tt).scrollLeft(),
                  }))
              : D.imagemap && tt.is('area')
                ? (en = D.imagemap(this, tt, ft, D.viewport ? Gt : a))
                : D.svg && tt && tt[0].ownerSVGElement
                  ? (en = D.svg(this, tt, ft, D.viewport ? Gt : a))
                  : ((me = tt.outerWidth(a)),
                    (Yt = tt.outerHeight(a)),
                    (fe = tt.offset())),
              en &&
                ((me = en.width),
                (Yt = en.height),
                (an = en.offset),
                (fe = en.position)),
              (fe = this.reposition.offset(tt, fe, Et)),
              ((J.iOS > 3.1 && J.iOS < 4.1) ||
                (J.iOS >= 4.3 && J.iOS < 4.33) ||
                (!J.iOS && ye === 'fixed')) &&
                ((fe.left -= Pn.scrollLeft()), (fe.top -= Pn.scrollTop())),
              (!en || (en && en.adjustable !== a)) &&
                ((fe.left += ft.x === m ? me : ft.x === _ ? me / 2 : 0),
                (fe.top += ft.y === p ? Yt : ft.y === _ ? Yt / 2 : 0));
          }
          return (
            (fe.left += Rt.x + (at.x === m ? -zt : at.x === _ ? -zt / 2 : 0)),
            (fe.top += Rt.y + (at.y === p ? -ue : at.y === _ ? -ue / 2 : 0)),
            D.viewport
              ? ((Mi = fe.adjusted = D.viewport(this, fe, $, me, Yt, zt, ue)),
                an && Mi.left && (fe.left += an.left),
                an && Mi.top && (fe.top += an.top),
                Mi.my && (this.position.my = Mi.my))
              : (fe.adjusted = { left: 0, top: 0 }),
            j.posClass !== (ur = this._createPosClass(this.position.my)) &&
              ((j.posClass = ur), Y.removeClass(j.posClass).addClass(ur)),
            this._trigger('move', [fe, kt.elem || kt], M)
              ? (delete fe.adjusted,
                N === a ||
                !Wi ||
                isNaN(fe.left) ||
                isNaN(fe.top) ||
                tt === 'mouse' ||
                !i.isFunction($.effect)
                  ? Y.css(fe)
                  : i.isFunction($.effect) &&
                    ($.effect.call(Y, this, i.extend({}, fe)),
                    Y.queue(function (Cr) {
                      i(this).css({ opacity: '', height: '' }),
                        J.ie && this.style.removeAttribute('filter'),
                        Cr();
                    })),
                (this.positioning = a),
                this)
              : this
          );
        }),
        (C.reposition.offset = function (M, N, j) {
          if (!j[0]) return N;
          var Y = i(M[0].ownerDocument),
            $ = !!J.ie && t.compatMode !== 'CSS1Compat',
            tt = j[0],
            at,
            ft,
            kt,
            Et;
          function Rt(Gt, zt) {
            (N.left += zt * Gt.scrollLeft()), (N.top += zt * Gt.scrollTop());
          }
          do
            (ft = i.css(tt, 'position')) !== 'static' &&
              (ft === 'fixed'
                ? ((kt = tt.getBoundingClientRect()), Rt(Y, -1))
                : ((kt = i(tt).position()),
                  (kt.left += parseFloat(i.css(tt, 'borderLeftWidth')) || 0),
                  (kt.top += parseFloat(i.css(tt, 'borderTopWidth')) || 0)),
              (N.left -= kt.left + (parseFloat(i.css(tt, 'marginLeft')) || 0)),
              (N.top -= kt.top + (parseFloat(i.css(tt, 'marginTop')) || 0)),
              !at &&
                (Et = i.css(tt, 'overflow')) !== 'hidden' &&
                Et !== 'visible' &&
                (at = i(tt)));
          while ((tt = tt.offsetParent));
          return at && (at[0] !== Y[0] || $) && Rt(at, 1), N;
        });
      var ot = (S = C.reposition.Corner =
        function (M, N) {
          (M = ('' + M)
            .replace(/([A-Z])/, ' $1')
            .replace(/middle/gi, _)
            .toLowerCase()),
            (this.x = (M.match(/left|right/i) ||
              M.match(/center/) || ['inherit'])[0].toLowerCase()),
            (this.y = (M.match(/top|bottom|center/i) || [
              'inherit',
            ])[0].toLowerCase()),
            (this.forceY = !!N);
          var j = M.charAt(0);
          this.precedance = j === 't' || j === 'b' ? l : s;
        }).prototype;
      (ot.invert = function (M, N) {
        this[M] = this[M] === h ? m : this[M] === m ? h : N || this[M];
      }),
        (ot.string = function (M) {
          var N = this.x,
            j = this.y,
            Y =
              N !== j
                ? N === 'center' ||
                  (j !== 'center' && (this.precedance === l || this.forceY))
                  ? [j, N]
                  : [N, j]
                : [N];
          return M !== !1 ? Y.join(' ') : Y;
        }),
        (ot.abbrev = function () {
          var M = this.string(!1);
          return M[0].charAt(0) + ((M[1] && M[1].charAt(0)) || '');
        }),
        (ot.clone = function () {
          return new S(this.string(), this.forceY);
        }),
        (C.toggle = function (M, N) {
          var j = this.cache,
            Y = this.options,
            $ = this.tooltip;
          if (N) {
            if (
              /over|enter/.test(N.type) &&
              j.event &&
              /out|leave/.test(j.event.type) &&
              Y.show.target.add(N.target).length === Y.show.target.length &&
              $.has(N.relatedTarget).length
            )
              return this;
            j.event = i.event.fix(N);
          }
          if (
            (this.waiting && !M && (this.hiddenDuringWait = r), this.rendered)
          ) {
            if (this.destroyed || this.disabled) return this;
          } else return M ? this.render(1) : this;
          var tt = M ? 'show' : 'hide',
            at = this.options[tt],
            ft = this.options.position,
            kt = this.options.content,
            Et = this.tooltip.css('width'),
            Rt = this.tooltip.is(':visible'),
            Gt = M || at.target.length === 1,
            zt = !N || at.target.length < 2 || j.target[0] === N.target,
            ue,
            me,
            Yt;
          return (
            (typeof M).search('boolean|number') && (M = !Rt),
            (ue = !$.is(':animated') && Rt === M && zt),
            (me = ue ? o : !!this._trigger(tt, [90])),
            this.destroyed
              ? this
              : (me !== a && M && this.focus(N),
                !me || ue
                  ? this
                  : (i.attr($[0], 'aria-hidden', !M),
                    M
                      ? (this.mouse && (j.origin = i.event.fix(this.mouse)),
                        i.isFunction(kt.text) &&
                          this._updateContent(kt.text, a),
                        i.isFunction(kt.title) &&
                          this._updateTitle(kt.title, a),
                        !nt &&
                          ft.target === 'mouse' &&
                          ft.adjust.mouse &&
                          (i(t).bind('mousemove.' + T, this._storeMouse),
                          (nt = r)),
                        Et || $.css('width', $.outerWidth(a)),
                        this.reposition(N, arguments[2]),
                        Et || $.css('width', ''),
                        at.solo &&
                          (typeof at.solo == 'string'
                            ? i(at.solo)
                            : i(L, at.solo)
                          )
                            .not($)
                            .not(at.target)
                            .qtip('hide', new i.Event('tooltipsolo')))
                      : (clearTimeout(this.timers.show),
                        delete j.origin,
                        nt &&
                          !i(L + '[tracking="true"]:visible', at.solo).not($)
                            .length &&
                          (i(t).unbind('mousemove.' + T), (nt = a)),
                        this.blur(N)),
                    (Yt = i.proxy(function () {
                      M
                        ? (J.ie && $[0].style.removeAttribute('filter'),
                          $.css('overflow', ''),
                          typeof at.autofocus == 'string' &&
                            i(this.options.show.autofocus, $).focus(),
                          this.options.show.target.trigger(
                            'qtip-' + this.id + '-inactive'
                          ))
                        : $.css({
                            display: '',
                            visibility: '',
                            opacity: '',
                            left: '',
                            top: '',
                          }),
                        this._trigger(M ? 'visible' : 'hidden');
                    }, this)),
                    at.effect === a || Gt === a
                      ? ($[tt](), Yt())
                      : i.isFunction(at.effect)
                        ? ($.stop(1, 1),
                          at.effect.call($, this),
                          $.queue('fx', function (ye) {
                            Yt(), ye();
                          }))
                        : $.fadeTo(90, M ? 1 : 0, Yt),
                    M && at.target.trigger('qtip-' + this.id + '-inactive'),
                    this))
          );
        }),
        (C.show = function (M) {
          return this.toggle(r, M);
        }),
        (C.hide = function (M) {
          return this.toggle(a, M);
        }),
        (C.focus = function (M) {
          if (!this.rendered || this.destroyed) return this;
          var N = i(L),
            j = this.tooltip,
            Y = parseInt(j[0].style.zIndex, 10),
            $ = x.zindex + N.length;
          return (
            j.hasClass(U) ||
              (this._trigger('focus', [$], M) &&
                (Y !== $ &&
                  (N.each(function () {
                    this.style.zIndex > Y &&
                      (this.style.zIndex = this.style.zIndex - 1);
                  }),
                  N.filter('.' + U).qtip('blur', M)),
                (j.addClass(U)[0].style.zIndex = $))),
            this
          );
        }),
        (C.blur = function (M) {
          return !this.rendered || this.destroyed
            ? this
            : (this.tooltip.removeClass(U),
              this._trigger('blur', [this.tooltip.css('zIndex')], M),
              this);
        }),
        (C.disable = function (M) {
          return this.destroyed
            ? this
            : (M === 'toggle'
                ? (M = !(this.rendered
                    ? this.tooltip.hasClass(Z)
                    : this.disabled))
                : typeof M != 'boolean' && (M = r),
              this.rendered &&
                this.tooltip.toggleClass(Z, M).attr('aria-disabled', M),
              (this.disabled = !!M),
              this);
        }),
        (C.enable = function () {
          return this.disable(a);
        }),
        (C._createButton = function () {
          var M = this,
            N = this.elements,
            j = N.tooltip,
            Y = this.options.content.button,
            $ = typeof Y == 'string',
            tt = $ ? Y : 'Close tooltip';
          N.button && N.button.remove(),
            Y.jquery
              ? (N.button = Y)
              : (N.button = i('<a />', {
                  class:
                    'qtip-close ' +
                    (this.options.style.widget ? '' : T + '-icon'),
                  title: tt,
                  'aria-label': tt,
                }).prepend(
                  i('<span />', {
                    class: 'ui-icon ui-icon-close',
                    html: '&times;',
                  })
                )),
            N.button
              .appendTo(N.titlebar || j)
              .attr('role', 'button')
              .click(function (at) {
                return j.hasClass(Z) || M.hide(at), a;
              });
        }),
        (C._updateButton = function (M) {
          if (!this.rendered) return a;
          var N = this.elements.button;
          M ? this._createButton() : N.remove();
        });
      function Mt(M) {
        return P.concat('').join(M ? '-' + M + ' ' : ' ');
      }
      C._setWidget = function () {
        var M = this.options.style.widget,
          N = this.elements,
          j = N.tooltip,
          Y = j.hasClass(Z);
        j.removeClass(Z),
          (Z = M ? 'ui-state-disabled' : 'qtip-disabled'),
          j.toggleClass(Z, Y),
          j
            .toggleClass('ui-helper-reset ' + Mt(), M)
            .toggleClass(q, this.options.style.def && !M),
          N.content && N.content.toggleClass(Mt('content'), M),
          N.titlebar && N.titlebar.toggleClass(Mt('header'), M),
          N.button && N.button.toggleClass(T + '-icon', !M);
      };
      function Vt(M, N) {
        if (N > 0) return setTimeout(i.proxy(M, this), N);
        M.call(this);
      }
      function Ot(M) {
        this.tooltip.hasClass(Z) ||
          (clearTimeout(this.timers.show),
          clearTimeout(this.timers.hide),
          (this.timers.show = Vt.call(
            this,
            function () {
              this.toggle(r, M);
            },
            this.options.show.delay
          )));
      }
      function Lt(M) {
        if (!(this.tooltip.hasClass(Z) || this.destroyed)) {
          var N = i(M.relatedTarget),
            j = N.closest(L)[0] === this.tooltip[0],
            Y = N[0] === this.options.show.target[0];
          if (
            (clearTimeout(this.timers.show),
            clearTimeout(this.timers.hide),
            (this !== N[0] && this.options.position.target === 'mouse' && j) ||
              (this.options.hide.fixed &&
                /mouse(out|leave|move)/.test(M.type) &&
                (j || Y)))
          ) {
            try {
              M.preventDefault(), M.stopImmediatePropagation();
            } catch {}
            return;
          }
          this.timers.hide = Vt.call(
            this,
            function () {
              this.toggle(a, M);
            },
            this.options.hide.delay,
            this
          );
        }
      }
      function Ut(M) {
        this.tooltip.hasClass(Z) ||
          !this.options.hide.inactive ||
          (clearTimeout(this.timers.inactive),
          (this.timers.inactive = Vt.call(
            this,
            function () {
              this.hide(M);
            },
            this.options.hide.inactive
          )));
      }
      function Wt(M) {
        this.rendered && this.tooltip[0].offsetWidth > 0 && this.reposition(M);
      }
      (C._storeMouse = function (M) {
        return ((this.mouse = i.event.fix(M)).type = 'mousemove'), this;
      }),
        (C._bind = function (M, N, j, Y, $) {
          if (!(!M || !j || !N.length)) {
            var tt = '.' + this._id + (Y ? '-' + Y : '');
            return (
              i(M).bind(
                (N.split ? N : N.join(tt + ' ')) + tt,
                i.proxy(j, $ || this)
              ),
              this
            );
          }
        }),
        (C._unbind = function (M, N) {
          return M && i(M).unbind('.' + this._id + (N ? '-' + N : '')), this;
        });
      function Jt(M, N, j) {
        i(t.body).delegate(
          M,
          (N.split ? N : N.join('.' + T + ' ')) + '.' + T,
          function () {
            var Y = x.api[i.attr(this, R)];
            Y && !Y.disabled && j.apply(Y, arguments);
          }
        );
      }
      (C._trigger = function (M, N, j) {
        var Y = new i.Event('tooltip' + M);
        return (
          (Y.originalEvent = (j && i.extend({}, j)) || this.cache.event || o),
          (this.triggering = M),
          this.tooltip.trigger(Y, [this].concat(N || [])),
          (this.triggering = a),
          !Y.isDefaultPrevented()
        );
      }),
        (C._bindEvents = function (M, N, j, Y, $, tt) {
          var at = j.filter(Y).add(Y.filter(j)),
            ft = [];
          at.length &&
            (i.each(N, function (kt, Et) {
              var Rt = i.inArray(Et, M);
              Rt > -1 && ft.push(M.splice(Rt, 1)[0]);
            }),
            ft.length &&
              (this._bind(at, ft, function (kt) {
                var Et = this.rendered ? this.tooltip[0].offsetWidth > 0 : !1;
                (Et ? tt : $).call(this, kt);
              }),
              (j = j.not(at)),
              (Y = Y.not(at)))),
            this._bind(j, M, $),
            this._bind(Y, N, tt);
        }),
        (C._assignInitialEvents = function (M) {
          var N = this.options,
            j = N.show.target,
            Y = N.hide.target,
            $ = N.show.event ? i.trim('' + N.show.event).split(' ') : [],
            tt = N.hide.event ? i.trim('' + N.hide.event).split(' ') : [];
          this._bind(
            this.elements.target,
            ['remove', 'removeqtip'],
            function () {
              this.destroy(!0);
            },
            'destroy'
          ),
            /mouse(over|enter)/i.test(N.show.event) &&
              !/mouse(out|leave)/i.test(N.hide.event) &&
              tt.push('mouseleave'),
            this._bind(j, 'mousemove', function (ft) {
              this._storeMouse(ft), (this.cache.onTarget = r);
            });
          function at(ft) {
            if (this.disabled || this.destroyed) return a;
            (this.cache.event = ft && i.event.fix(ft)),
              (this.cache.target = ft && i(ft.target)),
              clearTimeout(this.timers.show),
              (this.timers.show = Vt.call(
                this,
                function () {
                  this.render(typeof ft == 'object' || N.show.ready);
                },
                N.prerender ? 0 : N.show.delay
              ));
          }
          this._bindEvents($, tt, j, Y, at, function () {
            if (!this.timers) return a;
            clearTimeout(this.timers.show);
          }),
            (N.show.ready || N.prerender) && at.call(this, M);
        }),
        (C._assignEvents = function () {
          var M = this,
            N = this.options,
            j = N.position,
            Y = this.tooltip,
            $ = N.show.target,
            tt = N.hide.target,
            at = j.container,
            ft = j.viewport,
            kt = i(t),
            Et = i(e),
            Rt = N.show.event ? i.trim('' + N.show.event).split(' ') : [],
            Gt = N.hide.event ? i.trim('' + N.hide.event).split(' ') : [];
          i.each(N.events, function (zt, ue) {
            M._bind(
              Y,
              zt === 'toggle'
                ? ['tooltipshow', 'tooltiphide']
                : ['tooltip' + zt],
              ue,
              null,
              Y
            );
          }),
            /mouse(out|leave)/i.test(N.hide.event) &&
              N.hide.leave === 'window' &&
              this._bind(kt, ['mouseout', 'blur'], function (zt) {
                !/select|option/.test(zt.target.nodeName) &&
                  !zt.relatedTarget &&
                  this.hide(zt);
              }),
            N.hide.fixed
              ? (tt = tt.add(Y.addClass(B)))
              : /mouse(over|enter)/i.test(N.show.event) &&
                this._bind(tt, 'mouseleave', function () {
                  clearTimeout(this.timers.show);
                }),
            ('' + N.hide.event).indexOf('unfocus') > -1 &&
              this._bind(
                at.closest('html'),
                ['mousedown', 'touchstart'],
                function (zt) {
                  var ue = i(zt.target),
                    me =
                      this.rendered &&
                      !this.tooltip.hasClass(Z) &&
                      this.tooltip[0].offsetWidth > 0,
                    Yt = ue.parents(L).filter(this.tooltip[0]).length > 0;
                  ue[0] !== this.target[0] &&
                    ue[0] !== this.tooltip[0] &&
                    !Yt &&
                    !this.target.has(ue[0]).length &&
                    me &&
                    this.hide(zt);
                }
              ),
            typeof N.hide.inactive == 'number' &&
              (this._bind($, 'qtip-' + this.id + '-inactive', Ut, 'inactive'),
              this._bind(tt.add(Y), x.inactiveEvents, Ut)),
            this._bindEvents(Rt, Gt, $, tt, Ot, Lt),
            this._bind($.add(Y), 'mousemove', function (zt) {
              if (typeof N.hide.distance == 'number') {
                var ue = this.cache.origin || {},
                  me = this.options.hide.distance,
                  Yt = Math.abs;
                (Yt(zt.pageX - ue.pageX) >= me ||
                  Yt(zt.pageY - ue.pageY) >= me) &&
                  this.hide(zt);
              }
              this._storeMouse(zt);
            }),
            j.target === 'mouse' &&
              j.adjust.mouse &&
              (N.hide.event &&
                this._bind($, ['mouseenter', 'mouseleave'], function (zt) {
                  if (!this.cache) return a;
                  this.cache.onTarget = zt.type === 'mouseenter';
                }),
              this._bind(kt, 'mousemove', function (zt) {
                this.rendered &&
                  this.cache.onTarget &&
                  !this.tooltip.hasClass(Z) &&
                  this.tooltip[0].offsetWidth > 0 &&
                  this.reposition(zt);
              })),
            (j.adjust.resize || ft.length) &&
              this._bind(i.event.special.resize ? ft : Et, 'resize', Wt),
            j.adjust.scroll && this._bind(Et.add(j.container), 'scroll', Wt);
        }),
        (C._unassignEvents = function () {
          var M = this.options,
            N = M.show.target,
            j = M.hide.target,
            Y = i.grep(
              [
                this.elements.target[0],
                this.rendered && this.tooltip[0],
                M.position.container[0],
                M.position.viewport[0],
                M.position.container.closest('html')[0],
                e,
                t,
              ],
              function ($) {
                return typeof $ == 'object';
              }
            );
          N && N.toArray && (Y = Y.concat(N.toArray())),
            j && j.toArray && (Y = Y.concat(j.toArray())),
            this._unbind(Y)._unbind(Y, 'destroy')._unbind(Y, 'inactive');
        }),
        i(function () {
          Jt(L, ['mouseenter', 'mouseleave'], function (M) {
            var N = M.type === 'mouseenter',
              j = i(M.currentTarget),
              Y = i(M.relatedTarget || M.target),
              $ = this.options;
            N
              ? (this.focus(M),
                j.hasClass(B) &&
                  !j.hasClass(Z) &&
                  clearTimeout(this.timers.hide))
              : $.position.target === 'mouse' &&
                $.position.adjust.mouse &&
                $.hide.event &&
                $.show.target &&
                !Y.closest($.show.target[0]).length &&
                this.hide(M),
              j.toggleClass(W, N);
          }),
            Jt('[' + R + ']', V, Ut);
        });
      function le(M, N, j) {
        var Y,
          $,
          tt,
          at,
          ft,
          kt = i(t.body),
          Et = M[0] === t ? kt : M,
          Rt = M.metadata ? M.metadata(j.metadata) : o,
          Gt = j.metadata.type === 'html5' && Rt ? Rt[j.metadata.name] : o,
          zt = M.data(j.metadata.name || 'qtipopts');
        try {
          zt = typeof zt == 'string' ? i.parseJSON(zt) : zt;
        } catch {}
        if (
          ((at = i.extend(
            r,
            {},
            x.defaults,
            j,
            typeof zt == 'object' ? bt(zt) : o,
            bt(Gt || Rt)
          )),
          ($ = at.position),
          (at.id = N),
          typeof at.content.text == 'boolean')
        )
          if (((tt = M.attr(at.content.attr)), at.content.attr !== a && tt))
            at.content.text = tt;
          else return a;
        if (
          ($.container.length || ($.container = kt),
          $.target === a && ($.target = Et),
          at.show.target === a && (at.show.target = Et),
          at.show.solo === r && (at.show.solo = $.container.closest('body')),
          at.hide.target === a && (at.hide.target = Et),
          at.position.viewport === r && (at.position.viewport = $.container),
          ($.container = $.container.eq(0)),
          ($.at = new S($.at, r)),
          ($.my = new S($.my)),
          M.data(T))
        ) {
          if (at.overwrite) M.qtip('destroy', !0);
          else if (at.overwrite === a) return a;
        }
        return (
          M.attr(O, N),
          at.suppress &&
            (ft = M.attr('title')) &&
            M.removeAttr('title').attr(rt, ft).attr('title', ''),
          (Y = new dt(M, at, N, !!tt)),
          M.data(T, Y),
          Y
        );
      }
      (x = i.fn.qtip =
        function (M, N, j) {
          var Y = ('' + M).toLowerCase(),
            $ = o,
            tt = i.makeArray(arguments).slice(1),
            at = tt[tt.length - 1],
            ft = this[0] ? i.data(this[0], T) : o;
          if ((!arguments.length && ft) || Y === 'api') return ft;
          if (typeof M == 'string')
            return (
              this.each(function () {
                var kt = i.data(this, T);
                if (!kt) return r;
                if (
                  (at && at.timeStamp && (kt.cache.event = at),
                  N && (Y === 'option' || Y === 'options'))
                )
                  if (j !== n || i.isPlainObject(N)) kt.set(N, j);
                  else return ($ = kt.get(N)), a;
                else kt[Y] && kt[Y].apply(kt, tt);
              }),
              $ !== o ? $ : this
            );
          if (typeof M == 'object' || !arguments.length)
            return (
              (ft = bt(i.extend(r, {}, M))),
              this.each(function (kt) {
                var Et, Rt;
                if (
                  ((Rt = i.isArray(ft.id) ? ft.id[kt] : ft.id),
                  (Rt =
                    !Rt || Rt === a || Rt.length < 1 || x.api[Rt]
                      ? x.nextid++
                      : Rt),
                  (Et = le(i(this), Rt, ft)),
                  Et === a)
                )
                  return r;
                (x.api[Rt] = Et),
                  i.each(D, function () {
                    this.initialize === 'initialize' && this(Et);
                  }),
                  Et._assignInitialEvents(at);
              })
            );
        }),
        (i.qtip = dt),
        (x.api = {}),
        i.each(
          {
            attr: function (M, N) {
              if (this.length) {
                var j = this[0],
                  Y = 'title',
                  $ = i.data(j, 'qtip');
                if (
                  M === Y &&
                  $ &&
                  $.options &&
                  typeof $ == 'object' &&
                  typeof $.options == 'object' &&
                  $.options.suppress
                )
                  return arguments.length < 2
                    ? i.attr(j, rt)
                    : ($ &&
                        $.options.content.attr === Y &&
                        $.cache.attr &&
                        $.set('content.text', N),
                      this.attr(rt, N));
              }
              return i.fn['attr' + it].apply(this, arguments);
            },
            clone: function (M) {
              var N = i.fn['clone' + it].apply(this, arguments);
              return (
                M ||
                  N.filter('[' + rt + ']')
                    .attr('title', function () {
                      return i.attr(this, rt);
                    })
                    .removeAttr(rt),
                N
              );
            },
          },
          function (M, N) {
            if (!N || i.fn[M + it]) return r;
            var j = (i.fn[M + it] = i.fn[M]);
            i.fn[M] = function () {
              return N.apply(this, arguments) || j.apply(this, arguments);
            };
          }
        ),
        i.ui ||
          ((i['cleanData' + it] = i.cleanData),
          (i.cleanData = function (M) {
            for (var N = 0, j; (j = i(M[N])).length; N++)
              if (j.attr(O))
                try {
                  j.triggerHandler('removeqtip');
                } catch {}
            i['cleanData' + it].apply(this, arguments);
          })),
        (x.version = '3.0.3'),
        (x.nextid = 0),
        (x.inactiveEvents = V),
        (x.zindex = 15e3),
        (x.defaults = {
          prerender: a,
          id: a,
          overwrite: r,
          suppress: r,
          content: { text: r, attr: 'title', title: a, button: a },
          position: {
            my: 'top left',
            at: 'bottom right',
            target: a,
            container: a,
            viewport: a,
            adjust: {
              x: 0,
              y: 0,
              mouse: r,
              scroll: r,
              resize: r,
              method: 'flipinvert flipinvert',
            },
            effect: function (M, N) {
              i(this).animate(N, { duration: 200, queue: a });
            },
          },
          show: {
            target: a,
            event: 'mouseenter',
            effect: r,
            delay: 90,
            solo: a,
            ready: a,
            autofocus: a,
          },
          hide: {
            target: a,
            event: 'mouseleave',
            effect: r,
            delay: 0,
            fixed: a,
            inactive: a,
            leave: 'window',
            distance: a,
          },
          style: { classes: '', widget: a, width: a, height: a, def: r },
          events: {
            render: o,
            move: o,
            show: o,
            hide: o,
            toggle: o,
            visible: o,
            hidden: o,
            focus: o,
            blur: o,
          },
        });
      var Fe,
        _e,
        ce,
        Ee,
        st,
        z = 'margin',
        ct = 'border',
        Ct = 'color',
        gt = 'background-color',
        vt = 'transparent',
        Ft = ' !important',
        mt = !!t.createElement('canvas').getContext,
        Pt = /rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i;
      function te(M) {
        return M.charAt(0).toUpperCase() + M.slice(1);
      }
      var ne = {},
        ie = ['Webkit', 'O', 'Moz', 'ms'];
      function pe(M, N) {
        var j = N.charAt(0).toUpperCase() + N.slice(1),
          Y = (N + ' ' + ie.join(j + ' ') + j).split(' '),
          $,
          tt,
          at = 0;
        if (ne[N]) return M.css(ne[N]);
        for (; ($ = Y[at++]); )
          if ((tt = M.css($)) !== n) return (ne[N] = $), tt;
      }
      function Kt(M, N) {
        return Math.ceil(parseFloat(pe(M, N)));
      }
      mt
        ? ((Ee = e.devicePixelRatio || 1),
          (st = (function () {
            var M = t.createElement('canvas').getContext('2d');
            return (
              M.backingStorePixelRatio ||
              M.webkitBackingStorePixelRatio ||
              M.mozBackingStorePixelRatio ||
              M.msBackingStorePixelRatio ||
              M.oBackingStorePixelRatio ||
              1
            );
          })()),
          (ce = Ee / st))
        : (_e = function (M, N, j) {
            return (
              '<qtipvml:' +
              M +
              ' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" ' +
              (N || '') +
              ' style="behavior: url(#default#VML); ' +
              (j || '') +
              '" />'
            );
          });
      function ae(M, N) {
        (this._ns = 'tip'),
          (this.options = N),
          (this.offset = N.offset),
          (this.size = [N.width, N.height]),
          (this.qtip = M),
          this.init(M);
      }
      i.extend(ae.prototype, {
        init: function (M) {
          var N, j;
          (j =
            this.element =
            M.elements.tip =
              i('<div />', { class: T + '-tip' }).prependTo(M.tooltip)),
            mt
              ? ((N = i('<canvas />')
                  .appendTo(this.element)[0]
                  .getContext('2d')),
                (N.lineJoin = 'miter'),
                (N.miterLimit = 1e5),
                N.save())
              : ((N = _e('shape', 'coordorigin="0,0"', 'position:absolute;')),
                this.element.html(N + N),
                M._bind(
                  i('*', j).add(j),
                  ['click', 'mousedown'],
                  function (Y) {
                    Y.stopPropagation();
                  },
                  this._ns
                )),
            M._bind(M.tooltip, 'tooltipmove', this.reposition, this._ns, this),
            this.create();
        },
        _swapDimensions: function () {
          (this.size[0] = this.options.height),
            (this.size[1] = this.options.width);
        },
        _resetDimensions: function () {
          (this.size[0] = this.options.width),
            (this.size[1] = this.options.height);
        },
        _useTitle: function (M) {
          var N = this.qtip.elements.titlebar;
          return (
            N &&
            (M.y === d ||
              (M.y === _ &&
                this.element.position().top +
                  this.size[1] / 2 +
                  this.options.offset <
                  N.outerHeight(r)))
          );
        },
        _parseCorner: function (M) {
          var N = this.qtip.options.position.my;
          return (
            M === a || N === a
              ? (M = a)
              : M === r
                ? (M = new S(N.string()))
                : M.string || ((M = new S(M)), (M.fixed = r)),
            M
          );
        },
        _parseWidth: function (M, N, j) {
          var Y = this.qtip.elements,
            $ = ct + te(N) + 'Width';
          return (
            (j
              ? Kt(j, $)
              : Kt(Y.content, $) ||
                Kt((this._useTitle(M) && Y.titlebar) || Y.content, $) ||
                Kt(Y.tooltip, $)) || 0
          );
        },
        _parseRadius: function (M) {
          var N = this.qtip.elements,
            j = ct + te(M.y) + te(M.x) + 'Radius';
          return J.ie < 9
            ? 0
            : Kt((this._useTitle(M) && N.titlebar) || N.content, j) ||
                Kt(N.tooltip, j) ||
                0;
        },
        _invalidColour: function (M, N, j) {
          var Y = M.css(N);
          return !Y || (j && Y === M.css(j)) || Pt.test(Y) ? a : Y;
        },
        _parseColours: function (M) {
          var N = this.qtip.elements,
            j = this.element.css('cssText', ''),
            Y = ct + te(M[M.precedance]) + te(Ct),
            $ = (this._useTitle(M) && N.titlebar) || N.content,
            tt = this._invalidColour,
            at = [];
          return (
            (at[0] =
              tt(j, gt) ||
              tt($, gt) ||
              tt(N.content, gt) ||
              tt(N.tooltip, gt) ||
              j.css(gt)),
            (at[1] =
              tt(j, Y, Ct) ||
              tt($, Y, Ct) ||
              tt(N.content, Y, Ct) ||
              tt(N.tooltip, Y, Ct) ||
              N.tooltip.css(Y)),
            i('*', j)
              .add(j)
              .css('cssText', gt + ':' + vt + Ft + ';' + ct + ':0' + Ft + ';'),
            at
          );
        },
        _calculateSize: function (M) {
          var N = M.precedance === l,
            j = this.options.width,
            Y = this.options.height,
            $ = M.abbrev() === 'c',
            tt = (N ? j : Y) * ($ ? 0.5 : 1),
            at = Math.pow,
            ft = Math.round,
            kt,
            Et,
            Rt,
            Gt = Math.sqrt(at(tt, 2) + at(Y, 2)),
            zt = [(this.border / tt) * Gt, (this.border / Y) * Gt];
          return (
            (zt[2] = Math.sqrt(at(zt[0], 2) - at(this.border, 2))),
            (zt[3] = Math.sqrt(at(zt[1], 2) - at(this.border, 2))),
            (kt = Gt + zt[2] + zt[3] + ($ ? 0 : zt[0])),
            (Et = kt / Gt),
            (Rt = [ft(Et * j), ft(Et * Y)]),
            N ? Rt : Rt.reverse()
          );
        },
        _calculateTip: function (M, N, j) {
          (j = j || 1), (N = N || this.size);
          var Y = N[0] * j,
            $ = N[1] * j,
            tt = Math.ceil(Y / 2),
            at = Math.ceil($ / 2),
            ft = {
              br: [0, 0, Y, $, Y, 0],
              bl: [0, 0, Y, 0, 0, $],
              tr: [0, $, Y, 0, Y, $],
              tl: [0, 0, 0, $, Y, $],
              tc: [0, $, tt, 0, Y, $],
              bc: [0, 0, Y, 0, tt, $],
              rc: [0, 0, Y, at, 0, $],
              lc: [Y, 0, Y, $, 0, at],
            };
          return (
            (ft.lt = ft.br),
            (ft.rt = ft.bl),
            (ft.lb = ft.tr),
            (ft.rb = ft.tl),
            ft[M.abbrev()]
          );
        },
        _drawCoords: function (M, N) {
          M.beginPath(),
            M.moveTo(N[0], N[1]),
            M.lineTo(N[2], N[3]),
            M.lineTo(N[4], N[5]),
            M.closePath();
        },
        create: function () {
          var M = (this.corner =
            (mt || J.ie) && this._parseCorner(this.options.corner));
          return (
            (this.enabled = !!this.corner && this.corner.abbrev() !== 'c'),
            this.enabled &&
              ((this.qtip.cache.corner = M.clone()), this.update()),
            this.element.toggle(this.enabled),
            this.corner
          );
        },
        update: function (M, N) {
          if (!this.enabled) return this;
          var j = this.qtip.elements,
            Y = this.element,
            $ = Y.children(),
            tt = this.options,
            at = this.size,
            ft = tt.mimic,
            kt = Math.round,
            Et,
            Rt,
            Gt,
            zt,
            ue,
            me,
            Yt,
            ye;
          M || (M = this.qtip.cache.corner || this.corner),
            ft === a
              ? (ft = M)
              : ((ft = new S(ft)),
                (ft.precedance = M.precedance),
                ft.x === 'inherit'
                  ? (ft.x = M.x)
                  : ft.y === 'inherit'
                    ? (ft.y = M.y)
                    : ft.x === ft.y && (ft[M.precedance] = M[M.precedance])),
            (Rt = ft.precedance),
            M.precedance === s
              ? this._swapDimensions()
              : this._resetDimensions(),
            (Et = this.color = this._parseColours(M)),
            Et[1] !== vt
              ? ((ye = this.border = this._parseWidth(M, M[M.precedance])),
                tt.border && ye < 1 && !Pt.test(Et[1]) && (Et[0] = Et[1]),
                (this.border = ye = tt.border !== r ? tt.border : ye))
              : (this.border = ye = 0),
            (Yt = this.size = this._calculateSize(M)),
            Y.css({ width: Yt[0], height: Yt[1], lineHeight: Yt[1] + 'px' }),
            M.precedance === l
              ? (me = [
                  kt(
                    ft.x === h
                      ? ye
                      : ft.x === m
                        ? Yt[0] - at[0] - ye
                        : (Yt[0] - at[0]) / 2
                  ),
                  kt(ft.y === d ? Yt[1] - at[1] : 0),
                ])
              : (me = [
                  kt(ft.x === h ? Yt[0] - at[0] : 0),
                  kt(
                    ft.y === d
                      ? ye
                      : ft.y === p
                        ? Yt[1] - at[1] - ye
                        : (Yt[1] - at[1]) / 2
                  ),
                ]),
            mt
              ? ((Gt = $[0].getContext('2d')),
                Gt.restore(),
                Gt.save(),
                Gt.clearRect(0, 0, 6e3, 6e3),
                (zt = this._calculateTip(ft, at, ce)),
                (ue = this._calculateTip(ft, this.size, ce)),
                $.attr(c, Yt[0] * ce).attr(u, Yt[1] * ce),
                $.css(c, Yt[0]).css(u, Yt[1]),
                this._drawCoords(Gt, ue),
                (Gt.fillStyle = Et[1]),
                Gt.fill(),
                Gt.translate(me[0] * ce, me[1] * ce),
                this._drawCoords(Gt, zt),
                (Gt.fillStyle = Et[0]),
                Gt.fill())
              : ((zt = this._calculateTip(ft)),
                (zt =
                  'm' +
                  zt[0] +
                  ',' +
                  zt[1] +
                  ' l' +
                  zt[2] +
                  ',' +
                  zt[3] +
                  ' ' +
                  zt[4] +
                  ',' +
                  zt[5] +
                  ' xe'),
                (me[2] =
                  ye && /^(r|b)/i.test(M.string()) ? (J.ie === 8 ? 2 : 1) : 0),
                $.css({
                  coordsize: Yt[0] + ye + ' ' + Yt[1] + ye,
                  antialias: '' + (ft.string().indexOf(_) > -1),
                  left: me[0] - me[2] * +(Rt === s),
                  top: me[1] - me[2] * +(Rt === l),
                  width: Yt[0] + ye,
                  height: Yt[1] + ye,
                }).each(function (fe) {
                  var Wi = i(this);
                  Wi[Wi.prop ? 'prop' : 'attr']({
                    coordsize: Yt[0] + ye + ' ' + Yt[1] + ye,
                    path: zt,
                    fillcolor: Et[0],
                    filled: !!fe,
                    stroked: !fe,
                  }).toggle(!!(ye || fe)),
                    !fe &&
                      Wi.html(
                        _e(
                          'stroke',
                          'weight="' +
                            ye * 2 +
                            'px" color="' +
                            Et[1] +
                            '" miterlimit="1000" joinstyle="miter"'
                        )
                      );
                })),
            e.opera &&
              setTimeout(function () {
                j.tip.css({ display: 'inline-block', visibility: 'visible' });
              }, 1),
            N !== a && this.calculate(M, Yt);
        },
        calculate: function (M, N) {
          if (!this.enabled) return a;
          var j = this,
            Y = this.qtip.elements,
            $ = this.element,
            tt = this.options.offset,
            at = {},
            ft,
            kt;
          return (
            (M = M || this.corner),
            (ft = M.precedance),
            (N = N || this._calculateSize(M)),
            (kt = [M.x, M.y]),
            ft === s && kt.reverse(),
            i.each(kt, function (Et, Rt) {
              var Gt, zt, ue;
              Rt === _
                ? ((Gt = ft === l ? h : d),
                  (at[Gt] = '50%'),
                  (at[z + '-' + Gt] =
                    -Math.round(N[ft === l ? 0 : 1] / 2) + tt))
                : ((Gt = j._parseWidth(M, Rt, Y.tooltip)),
                  (zt = j._parseWidth(M, Rt, Y.content)),
                  (ue = j._parseRadius(M)),
                  (at[Rt] = Math.max(
                    -j.border,
                    Et ? zt : tt + (ue > Gt ? ue : -Gt)
                  )));
            }),
            (at[M[ft]] -= N[ft === s ? 0 : 1]),
            $.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(
              at
            ),
            at
          );
        },
        reposition: function (M, N, j) {
          if (!this.enabled) return;
          var Y = N.cache,
            $ = this.corner.clone(),
            tt = j.adjusted,
            at = N.options.position.adjust.method.split(' '),
            ft = at[0],
            kt = at[1] || at[0],
            Et = { left: a, top: a, x: 0, y: 0 },
            Rt,
            Gt = {},
            zt;
          function ue(Yt, ye, fe, Wi, Ji) {
            Yt === w && $.precedance === ye && tt[Wi] && $[fe] !== _
              ? ($.precedance = $.precedance === s ? l : s)
              : Yt !== w &&
                tt[Wi] &&
                ($[ye] =
                  $[ye] === _
                    ? tt[Wi] > 0
                      ? Wi
                      : Ji
                    : $[ye] === Wi
                      ? Ji
                      : Wi);
          }
          function me(Yt, ye, fe) {
            $[Yt] === _
              ? (Gt[z + '-' + ye] = Et[Yt] = Rt[z + '-' + ye] - tt[ye])
              : ((zt = Rt[fe] !== n ? [tt[ye], -Rt[ye]] : [-tt[ye], Rt[ye]]),
                (Et[Yt] = Math.max(zt[0], zt[1])) > zt[0] &&
                  ((j[ye] -= tt[ye]), (Et[ye] = a)),
                (Gt[Rt[fe] !== n ? fe : ye] = Et[Yt]));
          }
          this.corner.fixed !== r &&
            (ue(ft, s, l, h, m),
            ue(kt, l, s, d, p),
            ($.string() !== Y.corner.string() ||
              Y.cornerTop !== tt.top ||
              Y.cornerLeft !== tt.left) &&
              this.update($, a)),
            (Rt = this.calculate($)),
            Rt.right !== n && (Rt.left = -Rt.right),
            Rt.bottom !== n && (Rt.top = -Rt.bottom),
            (Rt.user = this.offset),
            (Et.left = ft === w && !!tt.left),
            Et.left && me(s, h, m),
            (Et.top = kt === w && !!tt.top),
            Et.top && me(l, d, p),
            this.element
              .css(Gt)
              .toggle(
                !((Et.x && Et.y) || ($.x === _ && Et.y) || ($.y === _ && Et.x))
              ),
            (j.left -= Rt.left.charAt
              ? Rt.user
              : ft !== w || Et.top || (!Et.left && !Et.top)
                ? Rt.left + this.border
                : 0),
            (j.top -= Rt.top.charAt
              ? Rt.user
              : kt !== w || Et.left || (!Et.left && !Et.top)
                ? Rt.top + this.border
                : 0),
            (Y.cornerLeft = tt.left),
            (Y.cornerTop = tt.top),
            (Y.corner = $.clone());
        },
        destroy: function () {
          this.qtip._unbind(this.qtip.tooltip, this._ns),
            this.qtip.elements.tip &&
              this.qtip.elements.tip.find('*').remove().end().remove();
        },
      }),
        (Fe = D.tip =
          function (M) {
            return new ae(M, M.options.style.tip);
          }),
        (Fe.initialize = 'render'),
        (Fe.sanitize = function (M) {
          if (M.style && 'tip' in M.style) {
            var N = M.style.tip;
            typeof N != 'object' && (N = M.style.tip = { corner: N }),
              /string|boolean/i.test(typeof N.corner) || (N.corner = r);
          }
        }),
        (g.tip = {
          '^position.my|style.tip.(corner|mimic|border)$': function () {
            this.create(), this.qtip.reposition();
          },
          '^style.tip.(height|width)$': function (M) {
            (this.size = [M.width, M.height]),
              this.update(),
              this.qtip.reposition();
          },
          '^content.title|style.(classes|widget)$': function () {
            this.update();
          },
        }),
        i.extend(r, x.defaults, {
          style: {
            tip: {
              corner: r,
              mimic: a,
              width: 6,
              height: 6,
              border: r,
              offset: 0,
            },
          },
        });
      var ei,
        Ce,
        Di = 'qtip-modal',
        ui = '.' + Di;
      (Ce = function () {
        var M = this,
          N = {},
          j,
          Y,
          $;
        function tt(kt) {
          if (i.expr[':'].focusable) return i.expr[':'].focusable;
          var Et = !isNaN(i.attr(kt, 'tabindex')),
            Rt = kt.nodeName && kt.nodeName.toLowerCase(),
            Gt,
            zt,
            ue;
          return Rt === 'area'
            ? ((Gt = kt.parentNode),
              (zt = Gt.name),
              !kt.href || !zt || Gt.nodeName.toLowerCase() !== 'map'
                ? !1
                : ((ue = i('img[usemap=#' + zt + ']')[0]),
                  !!ue && ue.is(':visible')))
            : /input|select|textarea|button|object/.test(Rt)
              ? !kt.disabled
              : (Rt === 'a' && kt.href) || Et;
        }
        function at(kt) {
          N.length < 1 && kt.length ? kt.not('body').blur() : N.first().focus();
        }
        function ft(kt) {
          if ($.is(':visible')) {
            var Et = i(kt.target),
              Rt = j.tooltip,
              Gt = Et.closest(L),
              zt;
            (zt =
              Gt.length < 1
                ? a
                : parseInt(Gt[0].style.zIndex, 10) >
                  parseInt(Rt[0].style.zIndex, 10)),
              !zt && Et.closest(L)[0] !== Rt[0] && at(Et);
          }
        }
        i.extend(M, {
          init: function () {
            return (
              ($ = M.elem =
                i('<div />', {
                  id: 'qtip-overlay',
                  html: '<div></div>',
                  mousedown: function () {
                    return a;
                  },
                }).hide()),
              i(t.body).bind('focusin' + ui, ft),
              i(t).bind('keydown' + ui, function (kt) {
                j &&
                  j.options.show.modal.escape &&
                  kt.keyCode === 27 &&
                  j.hide(kt);
              }),
              $.bind('click' + ui, function (kt) {
                j && j.options.show.modal.blur && j.hide(kt);
              }),
              M
            );
          },
          update: function (kt) {
            (j = kt),
              kt.options.show.modal.stealfocus !== a
                ? (N = kt.tooltip.find('*').filter(function () {
                    return tt(this);
                  }))
                : (N = []);
          },
          toggle: function (kt, Et, Rt) {
            var Gt = kt.tooltip,
              zt = kt.options.show.modal,
              ue = zt.effect,
              me = Et ? 'show' : 'hide',
              Yt = $.is(':visible'),
              ye = i(ui).filter(':visible:not(:animated)').not(Gt);
            return (
              M.update(kt),
              Et && zt.stealfocus !== a && at(i(':focus')),
              $.toggleClass('blurs', zt.blur),
              Et && $.appendTo(t.body),
              ($.is(':animated') && Yt === Et && Y !== a) ||
                (!Et && ye.length) ||
                ($.stop(r, a),
                i.isFunction(ue)
                  ? ue.call($, Et)
                  : ue === a
                    ? $[me]()
                    : $.fadeTo(parseInt(Rt, 10) || 90, Et ? 1 : 0, function () {
                        Et || $.hide();
                      }),
                Et ||
                  $.queue(function (fe) {
                    $.css({ left: '', top: '' }),
                      i(ui).length || $.detach(),
                      fe();
                  }),
                (Y = Et),
                j.destroyed && (j = o)),
              M
            );
          },
        }),
          M.init();
      }),
        (Ce = new Ce());
      function Ti(M, N) {
        (this.options = N),
          (this._ns = '-modal'),
          (this.qtip = M),
          this.init(M);
      }
      i.extend(Ti.prototype, {
        init: function (M) {
          var N = M.tooltip;
          if (!this.options.on) return this;
          (M.elements.overlay = Ce.elem),
            N.addClass(Di).css('z-index', x.modal_zindex + i(ui).length),
            M._bind(
              N,
              ['tooltipshow', 'tooltiphide'],
              function (j, Y, $) {
                var tt = j.originalEvent;
                if (j.target === N[0])
                  if (
                    tt &&
                    j.type === 'tooltiphide' &&
                    /mouse(leave|enter)/.test(tt.type) &&
                    i(tt.relatedTarget).closest(Ce.elem[0]).length
                  )
                    try {
                      j.preventDefault();
                    } catch {}
                  else
                    (!tt || (tt && tt.type !== 'tooltipsolo')) &&
                      this.toggle(j, j.type === 'tooltipshow', $);
              },
              this._ns,
              this
            ),
            M._bind(
              N,
              'tooltipfocus',
              function (j, Y) {
                if (!(j.isDefaultPrevented() || j.target !== N[0])) {
                  var $ = i(ui),
                    tt = x.modal_zindex + $.length,
                    at = parseInt(N[0].style.zIndex, 10);
                  (Ce.elem[0].style.zIndex = tt - 1),
                    $.each(function () {
                      this.style.zIndex > at && (this.style.zIndex -= 1);
                    }),
                    $.filter('.' + U).qtip('blur', j.originalEvent),
                    (N.addClass(U)[0].style.zIndex = tt),
                    Ce.update(Y);
                  try {
                    j.preventDefault();
                  } catch {}
                }
              },
              this._ns,
              this
            ),
            M._bind(
              N,
              'tooltiphide',
              function (j) {
                j.target === N[0] &&
                  i(ui).filter(':visible').not(N).last().qtip('focus', j);
              },
              this._ns,
              this
            );
        },
        toggle: function (M, N, j) {
          if (M && M.isDefaultPrevented()) return this;
          Ce.toggle(this.qtip, !!N, j);
        },
        destroy: function () {
          this.qtip.tooltip.removeClass(Di),
            this.qtip._unbind(this.qtip.tooltip, this._ns),
            Ce.toggle(this.qtip, a),
            delete this.qtip.elements.overlay;
        },
      }),
        (ei = D.modal =
          function (M) {
            return new Ti(M, M.options.show.modal);
          }),
        (ei.sanitize = function (M) {
          M.show &&
            (typeof M.show.modal != 'object'
              ? (M.show.modal = { on: !!M.show.modal })
              : typeof M.show.modal.on > 'u' && (M.show.modal.on = r));
        }),
        (x.modal_zindex = x.zindex - 200),
        (ei.initialize = 'render'),
        (g.modal = {
          '^show.modal.(on|blur)$': function () {
            this.destroy(),
              this.init(),
              this.qtip.elems.overlay.toggle(
                this.qtip.tooltip[0].offsetWidth > 0
              );
          },
        }),
        i.extend(r, x.defaults, {
          show: {
            modal: { on: a, effect: r, blur: r, stealfocus: r, escape: r },
          },
        }),
        (D.viewport = function (M, N, j, Y, $, tt, at) {
          var ft = j.target,
            kt = M.elements.tooltip,
            Et = j.my,
            Rt = j.at,
            Gt = j.adjust,
            zt = Gt.method.split(' '),
            ue = zt[0],
            me = zt[1] || zt[0],
            Yt = j.viewport,
            ye = j.container,
            fe = { left: 0, top: 0 },
            Wi,
            Ji,
            Pn,
            kr,
            rn,
            en,
            an,
            Mi;
          if (
            !Yt.jquery ||
            ft[0] === e ||
            ft[0] === t.body ||
            Gt.method === 'none'
          )
            return fe;
          (Pn = ye.offset() || fe),
            (kr = ye.css('position') === 'static'),
            (Wi = kt.css('position') === 'fixed'),
            (rn = Yt[0] === e ? Yt.width() : Yt.outerWidth(a)),
            (en = Yt[0] === e ? Yt.height() : Yt.outerHeight(a)),
            (an = {
              left: Wi ? 0 : Yt.scrollLeft(),
              top: Wi ? 0 : Yt.scrollTop(),
            }),
            (Mi = Yt.offset() || fe);
          function ur(Cr, jr, Ln, is, wi, ns, ml, rs, on) {
            var er = N[wi],
              dr = Et[Cr],
              Hc = Rt[Cr],
              $g = Ln === w,
              as = dr === wi ? on : dr === ns ? -on : -on / 2,
              Ph = Hc === wi ? rs : Hc === ns ? -rs : -rs / 2,
              os = an[wi] + Mi[wi] - (kr ? 0 : Pn[wi]),
              ss = os - er,
              ls = er + on - (ml === c ? rn : en) - os,
              uo =
                as -
                (Et.precedance === Cr || dr === Et[jr] ? Ph : 0) -
                (Hc === _ ? rs / 2 : 0);
            return (
              $g
                ? ((uo = (dr === wi ? 1 : -1) * as),
                  (N[wi] += ss > 0 ? ss : ls > 0 ? -ls : 0),
                  (N[wi] = Math.max(
                    -Pn[wi] + Mi[wi],
                    er - uo,
                    Math.min(
                      Math.max(
                        -Pn[wi] + Mi[wi] + (ml === c ? rn : en),
                        er + uo
                      ),
                      N[wi],
                      dr === 'center' ? er - as : 1e9
                    )
                  )))
                : ((is *= Ln === y ? 2 : 0),
                  ss > 0 && (dr !== wi || ls > 0)
                    ? ((N[wi] -= uo + is), Ji.invert(Cr, wi))
                    : ls > 0 &&
                      (dr !== ns || ss > 0) &&
                      ((N[wi] -= (dr === _ ? -uo : uo) + is),
                      Ji.invert(Cr, ns)),
                  N[wi] < an[wi] &&
                    -N[wi] > ls &&
                    ((N[wi] = er), (Ji = Et.clone()))),
              N[wi] - er
            );
          }
          return (
            (ue !== 'shift' || me !== 'shift') && (Ji = Et.clone()),
            (fe = {
              left: ue !== 'none' ? ur(s, l, ue, Gt.x, h, m, c, Y, tt) : 0,
              top: me !== 'none' ? ur(l, s, me, Gt.y, d, p, u, $, at) : 0,
              my: Ji,
            }),
            fe
          );
        }),
        (D.polys = {
          polygon: function (M, N) {
            var j = {
                width: 0,
                height: 0,
                position: { top: 1e10, right: 0, bottom: 0, left: 1e10 },
                adjustable: a,
              },
              Y = 0,
              $,
              tt = [],
              at = 1,
              ft = 1,
              kt = 0,
              Et = 0,
              Rt,
              Gt;
            for (Y = M.length; Y--; )
              ($ = [parseInt(M[--Y], 10), parseInt(M[Y + 1], 10)]),
                $[0] > j.position.right && (j.position.right = $[0]),
                $[0] < j.position.left && (j.position.left = $[0]),
                $[1] > j.position.bottom && (j.position.bottom = $[1]),
                $[1] < j.position.top && (j.position.top = $[1]),
                tt.push($);
            if (
              ((Rt = j.width = Math.abs(j.position.right - j.position.left)),
              (Gt = j.height = Math.abs(j.position.bottom - j.position.top)),
              N.abbrev() === 'c')
            )
              j.position = {
                left: j.position.left + j.width / 2,
                top: j.position.top + j.height / 2,
              };
            else {
              for (; Rt > 0 && Gt > 0 && at > 0 && ft > 0; )
                for (
                  Rt = Math.floor(Rt / 2),
                    Gt = Math.floor(Gt / 2),
                    N.x === h
                      ? (at = Rt)
                      : N.x === m
                        ? (at = j.width - Rt)
                        : (at += Math.floor(Rt / 2)),
                    N.y === d
                      ? (ft = Gt)
                      : N.y === p
                        ? (ft = j.height - Gt)
                        : (ft += Math.floor(Gt / 2)),
                    Y = tt.length;
                  Y-- && !(tt.length < 2);

                )
                  (kt = tt[Y][0] - j.position.left),
                    (Et = tt[Y][1] - j.position.top),
                    ((N.x === h && kt >= at) ||
                      (N.x === m && kt <= at) ||
                      (N.x === _ && (kt < at || kt > j.width - at)) ||
                      (N.y === d && Et >= ft) ||
                      (N.y === p && Et <= ft) ||
                      (N.y === _ && (Et < ft || Et > j.height - ft))) &&
                      tt.splice(Y, 1);
              j.position = { left: tt[0][0], top: tt[0][1] };
            }
            return j;
          },
          rect: function (M, N, j, Y) {
            return {
              width: Math.abs(j - M),
              height: Math.abs(Y - N),
              position: { left: Math.min(M, j), top: Math.min(N, Y) },
            };
          },
          _angles: {
            tc: 3 / 2,
            tr: 7 / 4,
            tl: 5 / 4,
            bc: 1 / 2,
            br: 1 / 4,
            bl: 3 / 4,
            rc: 2,
            lc: 1,
            c: 0,
          },
          ellipse: function (M, N, j, Y, $) {
            var tt = D.polys._angles[$.abbrev()],
              at = tt === 0 ? 0 : j * Math.cos(tt * Math.PI),
              ft = Y * Math.sin(tt * Math.PI);
            return {
              width: j * 2 - Math.abs(at),
              height: Y * 2 - Math.abs(ft),
              position: { left: M + at, top: N + ft },
              adjustable: a,
            };
          },
          circle: function (M, N, j, Y) {
            return D.polys.ellipse(M, N, j, j, Y);
          },
        }),
        (D.svg = function (M, N, j) {
          for (
            var Y = N[0],
              $ = i(Y.ownerSVGElement),
              tt = Y.ownerDocument,
              at = (parseInt(N.css('stroke-width'), 10) || 0) / 2,
              ft,
              kt,
              Et,
              Rt,
              Gt,
              zt,
              ue,
              me,
              Yt;
            !Y.getBBox;

          )
            Y = Y.parentNode;
          if (!Y.getBBox || !Y.parentNode) return a;
          switch (Y.nodeName) {
            case 'ellipse':
            case 'circle':
              me = D.polys.ellipse(
                Y.cx.baseVal.value,
                Y.cy.baseVal.value,
                (Y.rx || Y.r).baseVal.value + at,
                (Y.ry || Y.r).baseVal.value + at,
                j
              );
              break;
            case 'line':
            case 'polygon':
            case 'polyline':
              for (
                ue = Y.points || [
                  { x: Y.x1.baseVal.value, y: Y.y1.baseVal.value },
                  { x: Y.x2.baseVal.value, y: Y.y2.baseVal.value },
                ],
                  me = [],
                  zt = -1,
                  Rt = ue.numberOfItems || ue.length;
                ++zt < Rt;

              )
                (Gt = ue.getItem ? ue.getItem(zt) : ue[zt]),
                  me.push.apply(me, [Gt.x, Gt.y]);
              me = D.polys.polygon(me, j);
              break;
            default:
              (me = Y.getBBox()),
                (me = {
                  width: me.width,
                  height: me.height,
                  position: { left: me.x, top: me.y },
                });
              break;
          }
          return (
            (Yt = me.position),
            ($ = $[0]),
            $.createSVGPoint &&
              ((kt = Y.getScreenCTM()),
              (ue = $.createSVGPoint()),
              (ue.x = Yt.left),
              (ue.y = Yt.top),
              (Et = ue.matrixTransform(kt)),
              (Yt.left = Et.x),
              (Yt.top = Et.y)),
            tt !== t &&
              M.position.target !== 'mouse' &&
              ((ft = i(
                (tt.defaultView || tt.parentWindow).frameElement
              ).offset()),
              ft && ((Yt.left += ft.left), (Yt.top += ft.top))),
            (tt = i(tt)),
            (Yt.left += tt.scrollLeft()),
            (Yt.top += tt.scrollTop()),
            me
          );
        }),
        (D.imagemap = function (M, N, j) {
          N.jquery || (N = i(N));
          var Y = (N.attr('shape') || 'rect')
              .toLowerCase()
              .replace('poly', 'polygon'),
            $ = i('img[usemap="#' + N.parent('map').attr('name') + '"]'),
            tt = i.trim(N.attr('coords')),
            at = tt.replace(/,$/, '').split(','),
            ft,
            kt,
            Et,
            Rt,
            Gt;
          if (!$.length) return a;
          if (Y === 'polygon') Rt = D.polys.polygon(at, j);
          else if (D.polys[Y]) {
            for (Et = -1, Gt = at.length, kt = []; ++Et < Gt; )
              kt.push(parseInt(at[Et], 10));
            Rt = D.polys[Y].apply(this, kt.concat(j));
          } else return a;
          return (
            (ft = $.offset()),
            (ft.left += Math.ceil(($.outerWidth(a) - $.width()) / 2)),
            (ft.top += Math.ceil(($.outerHeight(a) - $.height()) / 2)),
            (Rt.position.left += ft.left),
            (Rt.position.top += ft.top),
            Rt
          );
        });
      var ii,
        Ue = `<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:'';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>`;
      function Hi(M) {
        (this._ns = 'ie6'), (this.qtip = M), this.init(M);
      }
      i.extend(Hi.prototype, {
        _scroll: function () {
          var M = this.qtip.elements.overlay;
          M && (M[0].style.top = i(e).scrollTop() + 'px');
        },
        init: function (M) {
          var N = M.tooltip;
          i('select, object').length < 1 &&
            ((this.bgiframe = M.elements.bgiframe = i(Ue).appendTo(N)),
            M._bind(N, 'tooltipmove', this.adjustBGIFrame, this._ns, this)),
            (this.redrawContainer = i('<div/>', {
              id: T + '-rcontainer',
            }).appendTo(t.body)),
            M.elements.overlay &&
              M.elements.overlay.addClass('qtipmodal-ie6fix') &&
              (M._bind(e, ['scroll', 'resize'], this._scroll, this._ns, this),
              M._bind(N, ['tooltipshow'], this._scroll, this._ns, this)),
            this.redraw();
        },
        adjustBGIFrame: function () {
          var M = this.qtip.tooltip,
            N = { height: M.outerHeight(a), width: M.outerWidth(a) },
            j = this.qtip.plugins.tip,
            Y = this.qtip.elements.tip,
            $,
            tt;
          (tt = parseInt(M.css('borderLeftWidth'), 10) || 0),
            (tt = { left: -tt, top: -tt }),
            j &&
              Y &&
              (($ = j.corner.precedance === 'x' ? [c, h] : [u, d]),
              (tt[$[1]] -= Y[$[0]]())),
            this.bgiframe.css(tt).css(N);
        },
        redraw: function () {
          if (this.qtip.rendered < 1 || this.drawing) return this;
          var M = this.qtip.tooltip,
            N = this.qtip.options.style,
            j = this.qtip.options.position.container,
            Y,
            $,
            tt,
            at;
          return (
            (this.qtip.drawing = 1),
            N.height && M.css(u, N.height),
            N.width
              ? M.css(c, N.width)
              : (M.css(c, '').appendTo(this.redrawContainer),
                ($ = M.width()),
                $ % 2 < 1 && ($ += 1),
                (tt = M.css('maxWidth') || ''),
                (at = M.css('minWidth') || ''),
                (Y = (tt + at).indexOf('%') > -1 ? j.width() / 100 : 0),
                (tt = (tt.indexOf('%') > -1 ? Y : 1 * parseInt(tt, 10)) || $),
                (at = (at.indexOf('%') > -1 ? Y : 1 * parseInt(at, 10)) || 0),
                ($ = tt + at ? Math.min(Math.max($, at), tt) : $),
                M.css(c, Math.round($)).appendTo(j)),
            (this.drawing = 0),
            this
          );
        },
        destroy: function () {
          this.bgiframe && this.bgiframe.remove(),
            this.qtip._unbind([e, this.qtip.tooltip], this._ns);
        },
      }),
        (ii = D.ie6 =
          function (M) {
            return J.ie === 6 ? new Hi(M) : a;
          }),
        (ii.initialize = 'render'),
        (g.ie6 = {
          '^content|style$': function () {
            this.redraw();
          },
        });
    });
  })(window, document);
});
var gM = Ni((bet, jm) => {
  (function (e, t) {
    'use strict';
    var n = function (h) {
        return h != null && typeof h == 'object';
      },
      i = function (h) {
        return h != null && typeof h == 'function';
      },
      r = function (h) {
        return h != null && typeof h == 'number';
      },
      a = function (h) {
        return h != null && typeof h == 'string';
      },
      o = function (h) {
        return h === void 0;
      },
      s = function (h, p) {
        return i(h)
          ? function (m, _) {
              return h.apply(p, [m, _]);
            }
          : h;
      },
      l = function (h) {
        return h && h[0] === window ? void 0 : h;
      },
      c = function (h, p, m) {
        var _ = !0,
          v = !0;
        return (
          m === !1
            ? (_ = !1)
            : n(m) &&
              ((_ = 'leading' in m ? m.leading : _),
              (v = 'trailing' in m ? m.trailing : v)),
          (m = m || {}),
          (m.leading = _),
          (m.maxWait = p),
          (m.trailing = v),
          u(h, p, m)
        );
      },
      u = function (h, p, m) {
        var _,
          v,
          y,
          w,
          x,
          C,
          S,
          g = 0,
          D = !1,
          T = !0;
        if (i(h)) {
          if (((p = Math.max(0, p) || 0), m === !0)) {
            var O = !0;
            T = !1;
          } else
            n(m) &&
              ((O = m.leading),
              (D = 'maxWait' in m && (Math.max(p, m.maxWait) || 0)),
              (T = 'trailing' in m ? m.trailing : T));
          var R = function () {
              var L = p - (Date.now() - w);
              if (L <= 0) {
                v && clearTimeout(v);
                var V = S;
                (v = C = S = void 0),
                  V &&
                    ((g = Date.now()),
                    (y = h.apply(x, _)),
                    !C && !v && (_ = x = null));
              } else C = setTimeout(R, L);
            },
            P = function () {
              C && clearTimeout(C),
                (v = C = S = void 0),
                (T || D !== p) &&
                  ((g = Date.now()),
                  (y = h.apply(x, _)),
                  !C && !v && (_ = x = null));
            };
          return function () {
            if (
              ((_ = arguments),
              (w = Date.now()),
              (x = this),
              (S = T && (C || !O)),
              D === !1)
            )
              var L = O && !C;
            else {
              !v && !O && (g = w);
              var V = D - (w - g),
                B = V <= 0;
              B
                ? (v && (v = clearTimeout(v)), (g = w), (y = h.apply(x, _)))
                : v || (v = setTimeout(P, V));
            }
            return (
              B && C
                ? (C = clearTimeout(C))
                : !C && p !== D && (C = setTimeout(R, p)),
              L && ((B = !0), (y = h.apply(x, _))),
              B && !C && !v && (_ = x = null),
              y
            );
          };
        }
      };
    function d(h, p) {
      var m = p('<div></div>'),
        _ = 250;
      m.css({ 'z-index': -1, position: 'absolute' });
      function v(w, x) {
        var C = w.scratch().qtip,
          S = p.extend({}, x);
        S.id ||
          (S.id =
            'cy-qtip-target-' + (Date.now() + Math.round(Math.random() * 1e4))),
          C.$domEle || (C.$domEle = m),
          (S.position = S.position || {}),
          (S.position.container = l(S.position.container) || p(document.body)),
          (S.position.viewport = l(S.position.viewport) || p(document.body)),
          (S.position.target = [0, 0]),
          (S.position.my = S.position.my || 'top center'),
          (S.position.at = S.position.at || 'bottom center');
        var g = (S.position.adjust = S.position.adjust || {});
        return (
          (g.method = g.method || 'flip'),
          (g.mouse = !1),
          (S.show = S.show || {}),
          o(S.show.event) && (S.show.event = 'tap'),
          (S.hide = S.hide || {}),
          (S.hide.cyViewport =
            S.hide.cyViewport === void 0 ? !0 : S.hide.cyViewport),
          o(S.hide.event) && (S.hide.event = 'unfocus'),
          (S.overwrite = !1),
          S.content &&
            (i(S.content) || a(S.content)
              ? (S.content = s(S.content, w))
              : (S.content = {
                  text: s(S.content.text, w),
                  title: s(S.content.title, w),
                })),
          S
        );
      }
      function y(w, x, C) {
        var S = C,
          g = i(w.pan),
          D = !g,
          T = D && w.isNode(),
          O = g ? w : w.cy(),
          R = O.container().getBoundingClientRect(),
          P = T
            ? w.renderedPosition()
            : S
              ? S.renderedPosition || S.cyRenderedPosition
              : void 0;
        if (!(!P || P.x == null || isNaN(P.x))) {
          var L = T
            ? w.renderedBoundingBox({
                includeNodes: !0,
                includeEdges: !1,
                includeLabels: !1,
                includeShadows: !1,
              })
            : {
                x1: P.x - 1,
                x2: P.x + 1,
                w: 3,
                y1: P.y - 1,
                y2: P.y + 1,
                h: 3,
              };
          x.$domEle.parent().length === 0 && x.$domEle.appendTo(document.body),
            x.$domEle.css({
              width: L.w,
              height: L.h,
              top: L.y1 + R.top + window.pageYOffset,
              left: L.x1 + R.left + window.pageXOffset,
              position: 'absolute',
              'pointer-events': 'none',
              background: 'red',
              'z-index': 99999999,
              opacity: 0.5,
              visibility: 'hidden',
            }),
            x.api.set('position.target', x.$domEle);
        }
      }
      h('collection', 'qtip', function (w) {
        var x = this,
          C = this.cy(),
          S = C.container();
        if (w === 'api') {
          var g = this.scratch().qtip;
          return g ? g.api : null;
        }
        return (
          x.each(function (D, T) {
            r(D) && (D = T);
            var O = D.scratch(),
              R = (O.qtip = O.qtip || {}),
              P = v(D, w),
              L = P.position.adjust;
            R.$domEle.qtip(P);
            var V = (R.api = R.$domEle.qtip('api'));
            R.$domEle.removeData('qtip'),
              y(D, R),
              D.on(P.show.event, function (B) {
                y(D, R, B), V.show();
              }),
              D.on(P.hide.event, function (B) {
                V.hide();
              }),
              P.hide.cyViewport &&
                C.on(
                  'viewport',
                  u(
                    function () {
                      V.hide();
                    },
                    _,
                    { leading: !0 }
                  )
                ),
              P.position.adjust.cyViewport &&
                C.on(
                  'pan zoom',
                  u(
                    function (B) {
                      y(D, R, B), V.reposition();
                    },
                    _,
                    { trailing: !0 }
                  )
                );
          }),
          this
        );
      }),
        h('core', 'qtip', function (w) {
          var x = this,
            C = x.container();
          if (w === 'api') {
            var g = this.scratch().qtip;
            return g ? g.api : null;
          }
          var S = x.scratch(),
            g = (S.qtip = S.qtip || {}),
            D = v(x, w);
          g.$domEle.qtip(D);
          var T = (g.api = g.$domEle.qtip('api'));
          return (
            g.$domEle.removeData('qtip'),
            x.on(D.show.event, function (O) {
              (!D.show.cyBgOnly ||
                (D.show.cyBgOnly && (O.target === x || O.cyTarget === x))) &&
                (y(x, g, O), T.show());
            }),
            x.on(D.hide.event, function (O) {
              (!D.hide.cyBgOnly ||
                (D.hide.cyBgOnly && (O.target === x || O.cyTarget === x))) &&
                T.hide();
            }),
            D.hide.cyViewport &&
              x.on(
                'viewport',
                u(
                  function () {
                    T.hide();
                  },
                  _,
                  { leading: !0 }
                )
              ),
            this
          );
        });
    }
    typeof jm < 'u' && jm.exports
      ? (jm.exports = function (h) {
          var p = window.jQuery,
            m = window.$,
            _ = (window.jQuery = window.$ = pM()),
            v = mM();
          d(h, _), (window.jQuery = p), (window.$ = m);
        })
      : typeof define < 'u' &&
        define.amd &&
        define('cytoscape-qtip', function () {
          return d;
        }),
      e && t && d(t, e);
  })(
    typeof jQuery < 'u' ? jQuery : null,
    typeof cytoscape < 'u' ? cytoscape : null
  );
});
var pu = class {},
  rf = class {},
  za = class e {
    constructor(t) {
      (this.normalizedNames = new Map()),
        (this.lazyUpdate = null),
        t
          ? typeof t == 'string'
            ? (this.lazyInit = () => {
                (this.headers = new Map()),
                  t
                    .split(
                      `
`
                    )
                    .forEach((n) => {
                      let i = n.indexOf(':');
                      if (i > 0) {
                        let r = n.slice(0, i),
                          a = r.toLowerCase(),
                          o = n.slice(i + 1).trim();
                        this.maybeSetNormalizedName(r, a),
                          this.headers.has(a)
                            ? this.headers.get(a).push(o)
                            : this.headers.set(a, [o]);
                      }
                    });
              })
            : typeof Headers < 'u' && t instanceof Headers
              ? ((this.headers = new Map()),
                t.forEach((n, i) => {
                  this.setHeaderEntries(i, n);
                }))
              : (this.lazyInit = () => {
                  (this.headers = new Map()),
                    Object.entries(t).forEach(([n, i]) => {
                      this.setHeaderEntries(n, i);
                    });
                })
          : (this.headers = new Map());
    }
    has(t) {
      return this.init(), this.headers.has(t.toLowerCase());
    }
    get(t) {
      this.init();
      let n = this.headers.get(t.toLowerCase());
      return n && n.length > 0 ? n[0] : null;
    }
    keys() {
      return this.init(), Array.from(this.normalizedNames.values());
    }
    getAll(t) {
      return this.init(), this.headers.get(t.toLowerCase()) || null;
    }
    append(t, n) {
      return this.clone({ name: t, value: n, op: 'a' });
    }
    set(t, n) {
      return this.clone({ name: t, value: n, op: 's' });
    }
    delete(t, n) {
      return this.clone({ name: t, value: n, op: 'd' });
    }
    maybeSetNormalizedName(t, n) {
      this.normalizedNames.has(n) || this.normalizedNames.set(n, t);
    }
    init() {
      this.lazyInit &&
        (this.lazyInit instanceof e
          ? this.copyFrom(this.lazyInit)
          : this.lazyInit(),
        (this.lazyInit = null),
        this.lazyUpdate &&
          (this.lazyUpdate.forEach((t) => this.applyUpdate(t)),
          (this.lazyUpdate = null)));
    }
    copyFrom(t) {
      t.init(),
        Array.from(t.headers.keys()).forEach((n) => {
          this.headers.set(n, t.headers.get(n)),
            this.normalizedNames.set(n, t.normalizedNames.get(n));
        });
    }
    clone(t) {
      let n = new e();
      return (
        (n.lazyInit =
          this.lazyInit && this.lazyInit instanceof e ? this.lazyInit : this),
        (n.lazyUpdate = (this.lazyUpdate || []).concat([t])),
        n
      );
    }
    applyUpdate(t) {
      let n = t.name.toLowerCase();
      switch (t.op) {
        case 'a':
        case 's':
          let i = t.value;
          if ((typeof i == 'string' && (i = [i]), i.length === 0)) return;
          this.maybeSetNormalizedName(t.name, n);
          let r = (t.op === 'a' ? this.headers.get(n) : void 0) || [];
          r.push(...i), this.headers.set(n, r);
          break;
        case 'd':
          let a = t.value;
          if (!a) this.headers.delete(n), this.normalizedNames.delete(n);
          else {
            let o = this.headers.get(n);
            if (!o) return;
            (o = o.filter((s) => a.indexOf(s) === -1)),
              o.length === 0
                ? (this.headers.delete(n), this.normalizedNames.delete(n))
                : this.headers.set(n, o);
          }
          break;
      }
    }
    setHeaderEntries(t, n) {
      let i = (Array.isArray(n) ? n : [n]).map((a) => a.toString()),
        r = t.toLowerCase();
      this.headers.set(r, i), this.maybeSetNormalizedName(t, r);
    }
    forEach(t) {
      this.init(),
        Array.from(this.normalizedNames.keys()).forEach((n) =>
          t(this.normalizedNames.get(n), this.headers.get(n))
        );
    }
  };
var Mv = class {
  encodeKey(t) {
    return tw(t);
  }
  encodeValue(t) {
    return tw(t);
  }
  decodeKey(t) {
    return decodeURIComponent(t);
  }
  decodeValue(t) {
    return decodeURIComponent(t);
  }
};
function bR(e, t) {
  let n = new Map();
  return (
    e.length > 0 &&
      e
        .replace(/^\?/, '')
        .split('&')
        .forEach((r) => {
          let a = r.indexOf('='),
            [o, s] =
              a == -1
                ? [t.decodeKey(r), '']
                : [t.decodeKey(r.slice(0, a)), t.decodeValue(r.slice(a + 1))],
            l = n.get(o) || [];
          l.push(s), n.set(o, l);
        }),
    n
  );
}
var yR = /%(\d[a-f0-9])/gi,
  _R = {
    40: '@',
    '3A': ':',
    24: '$',
    '2C': ',',
    '3B': ';',
    '3D': '=',
    '3F': '?',
    '2F': '/',
  };
function tw(e) {
  return encodeURIComponent(e).replace(yR, (t, n) => _R[n] ?? t);
}
function nf(e) {
  return `${e}`;
}
var xo = class e {
  constructor(t = {}) {
    if (
      ((this.updates = null),
      (this.cloneFrom = null),
      (this.encoder = t.encoder || new Mv()),
      t.fromString)
    ) {
      if (t.fromObject)
        throw new Error('Cannot specify both fromString and fromObject.');
      this.map = bR(t.fromString, this.encoder);
    } else
      t.fromObject
        ? ((this.map = new Map()),
          Object.keys(t.fromObject).forEach((n) => {
            let i = t.fromObject[n],
              r = Array.isArray(i) ? i.map(nf) : [nf(i)];
            this.map.set(n, r);
          }))
        : (this.map = null);
  }
  has(t) {
    return this.init(), this.map.has(t);
  }
  get(t) {
    this.init();
    let n = this.map.get(t);
    return n ? n[0] : null;
  }
  getAll(t) {
    return this.init(), this.map.get(t) || null;
  }
  keys() {
    return this.init(), Array.from(this.map.keys());
  }
  append(t, n) {
    return this.clone({ param: t, value: n, op: 'a' });
  }
  appendAll(t) {
    let n = [];
    return (
      Object.keys(t).forEach((i) => {
        let r = t[i];
        Array.isArray(r)
          ? r.forEach((a) => {
              n.push({ param: i, value: a, op: 'a' });
            })
          : n.push({ param: i, value: r, op: 'a' });
      }),
      this.clone(n)
    );
  }
  set(t, n) {
    return this.clone({ param: t, value: n, op: 's' });
  }
  delete(t, n) {
    return this.clone({ param: t, value: n, op: 'd' });
  }
  toString() {
    return (
      this.init(),
      this.keys()
        .map((t) => {
          let n = this.encoder.encodeKey(t);
          return this.map
            .get(t)
            .map((i) => n + '=' + this.encoder.encodeValue(i))
            .join('&');
        })
        .filter((t) => t !== '')
        .join('&')
    );
  }
  clone(t) {
    let n = new e({ encoder: this.encoder });
    return (
      (n.cloneFrom = this.cloneFrom || this),
      (n.updates = (this.updates || []).concat(t)),
      n
    );
  }
  init() {
    this.map === null && (this.map = new Map()),
      this.cloneFrom !== null &&
        (this.cloneFrom.init(),
        this.cloneFrom
          .keys()
          .forEach((t) => this.map.set(t, this.cloneFrom.map.get(t))),
        this.updates.forEach((t) => {
          switch (t.op) {
            case 'a':
            case 's':
              let n = (t.op === 'a' ? this.map.get(t.param) : void 0) || [];
              n.push(nf(t.value)), this.map.set(t.param, n);
              break;
            case 'd':
              if (t.value !== void 0) {
                let i = this.map.get(t.param) || [],
                  r = i.indexOf(nf(t.value));
                r !== -1 && i.splice(r, 1),
                  i.length > 0
                    ? this.map.set(t.param, i)
                    : this.map.delete(t.param);
              } else {
                this.map.delete(t.param);
                break;
              }
          }
        }),
        (this.cloneFrom = this.updates = null));
  }
};
var Av = class {
  constructor() {
    this.map = new Map();
  }
  set(t, n) {
    return this.map.set(t, n), this;
  }
  get(t) {
    return (
      this.map.has(t) || this.map.set(t, t.defaultValue()), this.map.get(t)
    );
  }
  delete(t) {
    return this.map.delete(t), this;
  }
  has(t) {
    return this.map.has(t);
  }
  keys() {
    return this.map.keys();
  }
};
function xR(e) {
  switch (e) {
    case 'DELETE':
    case 'GET':
    case 'HEAD':
    case 'OPTIONS':
    case 'JSONP':
      return !1;
    default:
      return !0;
  }
}
function ew(e) {
  return typeof ArrayBuffer < 'u' && e instanceof ArrayBuffer;
}
function iw(e) {
  return typeof Blob < 'u' && e instanceof Blob;
}
function nw(e) {
  return typeof FormData < 'u' && e instanceof FormData;
}
function wR(e) {
  return typeof URLSearchParams < 'u' && e instanceof URLSearchParams;
}
var fu = class e {
    constructor(t, n, i, r) {
      (this.url = n),
        (this.body = null),
        (this.reportProgress = !1),
        (this.withCredentials = !1),
        (this.responseType = 'json'),
        (this.method = t.toUpperCase());
      let a;
      if (
        (xR(this.method) || r
          ? ((this.body = i !== void 0 ? i : null), (a = r))
          : (a = i),
        a &&
          ((this.reportProgress = !!a.reportProgress),
          (this.withCredentials = !!a.withCredentials),
          a.responseType && (this.responseType = a.responseType),
          a.headers && (this.headers = a.headers),
          a.context && (this.context = a.context),
          a.params && (this.params = a.params),
          (this.transferCache = a.transferCache)),
        (this.headers ??= new za()),
        (this.context ??= new Av()),
        !this.params)
      )
        (this.params = new xo()), (this.urlWithParams = n);
      else {
        let o = this.params.toString();
        if (o.length === 0) this.urlWithParams = n;
        else {
          let s = n.indexOf('?'),
            l = s === -1 ? '?' : s < n.length - 1 ? '&' : '';
          this.urlWithParams = n + l + o;
        }
      }
    }
    serializeBody() {
      return this.body === null
        ? null
        : typeof this.body == 'string' ||
            ew(this.body) ||
            iw(this.body) ||
            nw(this.body) ||
            wR(this.body)
          ? this.body
          : this.body instanceof xo
            ? this.body.toString()
            : typeof this.body == 'object' ||
                typeof this.body == 'boolean' ||
                Array.isArray(this.body)
              ? JSON.stringify(this.body)
              : this.body.toString();
    }
    detectContentTypeHeader() {
      return this.body === null || nw(this.body)
        ? null
        : iw(this.body)
          ? this.body.type || null
          : ew(this.body)
            ? null
            : typeof this.body == 'string'
              ? 'text/plain'
              : this.body instanceof xo
                ? 'application/x-www-form-urlencoded;charset=UTF-8'
                : typeof this.body == 'object' ||
                    typeof this.body == 'number' ||
                    typeof this.body == 'boolean'
                  ? 'application/json'
                  : null;
    }
    clone(t = {}) {
      let n = t.method || this.method,
        i = t.url || this.url,
        r = t.responseType || this.responseType,
        a = t.transferCache ?? this.transferCache,
        o = t.body !== void 0 ? t.body : this.body,
        s = t.withCredentials ?? this.withCredentials,
        l = t.reportProgress ?? this.reportProgress,
        c = t.headers || this.headers,
        u = t.params || this.params,
        d = t.context ?? this.context;
      return (
        t.setHeaders !== void 0 &&
          (c = Object.keys(t.setHeaders).reduce(
            (h, p) => h.set(p, t.setHeaders[p]),
            c
          )),
        t.setParams &&
          (u = Object.keys(t.setParams).reduce(
            (h, p) => h.set(p, t.setParams[p]),
            u
          )),
        new e(n, i, o, {
          params: u,
          headers: c,
          context: d,
          reportProgress: l,
          responseType: r,
          withCredentials: s,
          transferCache: a,
        })
      );
    }
  },
  wo = (function (e) {
    return (
      (e[(e.Sent = 0)] = 'Sent'),
      (e[(e.UploadProgress = 1)] = 'UploadProgress'),
      (e[(e.ResponseHeader = 2)] = 'ResponseHeader'),
      (e[(e.DownloadProgress = 3)] = 'DownloadProgress'),
      (e[(e.Response = 4)] = 'Response'),
      (e[(e.User = 5)] = 'User'),
      e
    );
  })(wo || {}),
  mu = class {
    constructor(t, n = 200, i = 'OK') {
      (this.headers = t.headers || new za()),
        (this.status = t.status !== void 0 ? t.status : n),
        (this.statusText = t.statusText || i),
        (this.url = t.url || null),
        (this.ok = this.status >= 200 && this.status < 300);
    }
  },
  af = class e extends mu {
    constructor(t = {}) {
      super(t), (this.type = wo.ResponseHeader);
    }
    clone(t = {}) {
      return new e({
        headers: t.headers || this.headers,
        status: t.status !== void 0 ? t.status : this.status,
        statusText: t.statusText || this.statusText,
        url: t.url || this.url || void 0,
      });
    }
  },
  gu = class e extends mu {
    constructor(t = {}) {
      super(t),
        (this.type = wo.Response),
        (this.body = t.body !== void 0 ? t.body : null);
    }
    clone(t = {}) {
      return new e({
        body: t.body !== void 0 ? t.body : this.body,
        headers: t.headers || this.headers,
        status: t.status !== void 0 ? t.status : this.status,
        statusText: t.statusText || this.statusText,
        url: t.url || this.url || void 0,
      });
    }
  },
  _o = class extends mu {
    constructor(t) {
      super(t, 0, 'Unknown Error'),
        (this.name = 'HttpErrorResponse'),
        (this.ok = !1),
        this.status >= 200 && this.status < 300
          ? (this.message = `Http failure during parsing for ${t.url || '(unknown url)'}`)
          : (this.message = `Http failure response for ${t.url || '(unknown url)'}: ${t.status} ${t.statusText}`),
        (this.error = t.error || null);
    }
  },
  sw = 200,
  kR = 204;
function Tv(e, t) {
  return {
    body: t,
    headers: e.headers,
    context: e.context,
    observe: e.observe,
    params: e.params,
    reportProgress: e.reportProgress,
    responseType: e.responseType,
    withCredentials: e.withCredentials,
    transferCache: e.transferCache,
  };
}
var Yr = (() => {
    let t = class t {
      constructor(i) {
        this.handler = i;
      }
      request(i, r, a = {}) {
        let o;
        if (i instanceof fu) o = i;
        else {
          let c;
          a.headers instanceof za ? (c = a.headers) : (c = new za(a.headers));
          let u;
          a.params &&
            (a.params instanceof xo
              ? (u = a.params)
              : (u = new xo({ fromObject: a.params }))),
            (o = new fu(i, r, a.body !== void 0 ? a.body : null, {
              headers: c,
              context: a.context,
              params: u,
              reportProgress: a.reportProgress,
              responseType: a.responseType || 'json',
              withCredentials: a.withCredentials,
              transferCache: a.transferCache,
            }));
        }
        let s = qt(o).pipe(Hr((c) => this.handler.handle(c)));
        if (i instanceof fu || a.observe === 'events') return s;
        let l = s.pipe(Fi((c) => c instanceof gu));
        switch (a.observe || 'body') {
          case 'body':
            switch (o.responseType) {
              case 'arraybuffer':
                return l.pipe(
                  re((c) => {
                    if (c.body !== null && !(c.body instanceof ArrayBuffer))
                      throw new Error('Response is not an ArrayBuffer.');
                    return c.body;
                  })
                );
              case 'blob':
                return l.pipe(
                  re((c) => {
                    if (c.body !== null && !(c.body instanceof Blob))
                      throw new Error('Response is not a Blob.');
                    return c.body;
                  })
                );
              case 'text':
                return l.pipe(
                  re((c) => {
                    if (c.body !== null && typeof c.body != 'string')
                      throw new Error('Response is not a string.');
                    return c.body;
                  })
                );
              case 'json':
              default:
                return l.pipe(re((c) => c.body));
            }
          case 'response':
            return l;
          default:
            throw new Error(
              `Unreachable: unhandled observe type ${a.observe}}`
            );
        }
      }
      delete(i, r = {}) {
        return this.request('DELETE', i, r);
      }
      get(i, r = {}) {
        return this.request('GET', i, r);
      }
      head(i, r = {}) {
        return this.request('HEAD', i, r);
      }
      jsonp(i, r) {
        return this.request('JSONP', i, {
          params: new xo().append(r, 'JSONP_CALLBACK'),
          observe: 'body',
          responseType: 'json',
        });
      }
      options(i, r = {}) {
        return this.request('OPTIONS', i, r);
      }
      patch(i, r, a = {}) {
        return this.request('PATCH', i, Tv(a, r));
      }
      post(i, r, a = {}) {
        return this.request('POST', i, Tv(a, r));
      }
      put(i, r, a = {}) {
        return this.request('PUT', i, Tv(a, r));
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(pu));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  CR = /^\)\]\}',?\n/,
  ER = 'X-Request-URL';
function rw(e) {
  if (e.url) return e.url;
  let t = ER.toLocaleLowerCase();
  return e.headers.get(t);
}
var SR = (() => {
    let t = class t {
      constructor() {
        (this.fetchImpl =
          It(Iv, { optional: !0 })?.fetch ?? fetch.bind(globalThis)),
          (this.ngZone = It(De));
      }
      handle(i) {
        return new Dr((r) => {
          let a = new AbortController();
          return (
            this.doRequest(i, a.signal, r).then(Rv, (o) =>
              r.error(new _o({ error: o }))
            ),
            () => a.abort()
          );
        });
      }
      doRequest(i, r, a) {
        return sv(this, null, function* () {
          let o = this.createRequestInit(i),
            s;
          try {
            let m = this.ngZone.runOutsideAngular(() =>
              this.fetchImpl(i.urlWithParams, Bt({ signal: r }, o))
            );
            DR(m), a.next({ type: wo.Sent }), (s = yield m);
          } catch (m) {
            a.error(
              new _o({
                error: m,
                status: m.status ?? 0,
                statusText: m.statusText,
                url: i.urlWithParams,
                headers: m.headers,
              })
            );
            return;
          }
          let l = new za(s.headers),
            c = s.statusText,
            u = rw(s) ?? i.urlWithParams,
            d = s.status,
            h = null;
          if (
            (i.reportProgress &&
              a.next(new af({ headers: l, status: d, statusText: c, url: u })),
            s.body)
          ) {
            let m = s.headers.get('content-length'),
              _ = [],
              v = s.body.getReader(),
              y = 0,
              w,
              x,
              C = typeof Zone < 'u' && Zone.current;
            yield this.ngZone.runOutsideAngular(() =>
              sv(this, null, function* () {
                for (;;) {
                  let { done: g, value: D } = yield v.read();
                  if (g) break;
                  if ((_.push(D), (y += D.length), i.reportProgress)) {
                    x =
                      i.responseType === 'text'
                        ? (x ?? '') +
                          (w ??= new TextDecoder()).decode(D, { stream: !0 })
                        : void 0;
                    let T = () =>
                      a.next({
                        type: wo.DownloadProgress,
                        total: m ? +m : void 0,
                        loaded: y,
                        partialText: x,
                      });
                    C ? C.run(T) : T();
                  }
                }
              })
            );
            let S = this.concatChunks(_, y);
            try {
              let g = s.headers.get('Content-Type') ?? '';
              h = this.parseBody(i, S, g);
            } catch (g) {
              a.error(
                new _o({
                  error: g,
                  headers: new za(s.headers),
                  status: s.status,
                  statusText: s.statusText,
                  url: rw(s) ?? i.urlWithParams,
                })
              );
              return;
            }
          }
          d === 0 && (d = h ? sw : 0),
            d >= 200 && d < 300
              ? (a.next(
                  new gu({
                    body: h,
                    headers: l,
                    status: d,
                    statusText: c,
                    url: u,
                  })
                ),
                a.complete())
              : a.error(
                  new _o({
                    error: h,
                    headers: l,
                    status: d,
                    statusText: c,
                    url: u,
                  })
                );
        });
      }
      parseBody(i, r, a) {
        switch (i.responseType) {
          case 'json':
            let o = new TextDecoder().decode(r).replace(CR, '');
            return o === '' ? null : JSON.parse(o);
          case 'text':
            return new TextDecoder().decode(r);
          case 'blob':
            return new Blob([r], { type: a });
          case 'arraybuffer':
            return r.buffer;
        }
      }
      createRequestInit(i) {
        let r = {},
          a = i.withCredentials ? 'include' : void 0;
        if (
          (i.headers.forEach((o, s) => (r[o] = s.join(','))),
          i.headers.has('Accept') ||
            (r.Accept = 'application/json, text/plain, */*'),
          !i.headers.has('Content-Type'))
        ) {
          let o = i.detectContentTypeHeader();
          o !== null && (r['Content-Type'] = o);
        }
        return {
          body: i.serializeBody(),
          method: i.method,
          headers: r,
          credentials: a,
        };
      }
      concatChunks(i, r) {
        let a = new Uint8Array(r),
          o = 0;
        for (let s of i) a.set(s, o), (o += s.length);
        return a;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  Iv = class {};
function Rv() {}
function DR(e) {
  e.then(Rv, Rv);
}
function TR(e, t) {
  return t(e);
}
function MR(e, t, n) {
  return (i, r) => Mr(n, () => t(i, (a) => e(a, r)));
}
var lw = new ge(''),
  AR = new ge(''),
  IR = new ge('', { providedIn: 'root', factory: () => !0 });
var aw = (() => {
  let t = class t extends pu {
    constructor(i, r) {
      super(),
        (this.backend = i),
        (this.injector = r),
        (this.chain = null),
        (this.pendingTasks = It(qh)),
        (this.contributeToStability = It(IR));
    }
    handle(i) {
      if (this.chain === null) {
        let r = Array.from(
          new Set([...this.injector.get(lw), ...this.injector.get(AR, [])])
        );
        this.chain = r.reduceRight((a, o) => MR(a, o, this.injector), TR);
      }
      if (this.contributeToStability) {
        let r = this.pendingTasks.add();
        return this.chain(i, (a) => this.backend.handle(a)).pipe(
          vo(() => this.pendingTasks.remove(r))
        );
      } else return this.chain(i, (r) => this.backend.handle(r));
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Ht(rf), Ht(vs));
  }),
    (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
  let e = t;
  return e;
})();
var RR = /^\)\]\}',?\n/;
function OR(e) {
  return 'responseURL' in e && e.responseURL
    ? e.responseURL
    : /^X-Request-URL:/m.test(e.getAllResponseHeaders())
      ? e.getResponseHeader('X-Request-URL')
      : null;
}
var ow = (() => {
    let t = class t {
      constructor(i) {
        this.xhrFactory = i;
      }
      handle(i) {
        if (i.method === 'JSONP') throw new vi(-2800, !1);
        let r = this.xhrFactory;
        return (r.ɵloadImpl ? gn(r.ɵloadImpl()) : qt(null)).pipe(
          ln(
            () =>
              new Dr((o) => {
                let s = r.build();
                if (
                  (s.open(i.method, i.urlWithParams),
                  i.withCredentials && (s.withCredentials = !0),
                  i.headers.forEach((v, y) =>
                    s.setRequestHeader(v, y.join(','))
                  ),
                  i.headers.has('Accept') ||
                    s.setRequestHeader(
                      'Accept',
                      'application/json, text/plain, */*'
                    ),
                  !i.headers.has('Content-Type'))
                ) {
                  let v = i.detectContentTypeHeader();
                  v !== null && s.setRequestHeader('Content-Type', v);
                }
                if (i.responseType) {
                  let v = i.responseType.toLowerCase();
                  s.responseType = v !== 'json' ? v : 'text';
                }
                let l = i.serializeBody(),
                  c = null,
                  u = () => {
                    if (c !== null) return c;
                    let v = s.statusText || 'OK',
                      y = new za(s.getAllResponseHeaders()),
                      w = OR(s) || i.url;
                    return (
                      (c = new af({
                        headers: y,
                        status: s.status,
                        statusText: v,
                        url: w,
                      })),
                      c
                    );
                  },
                  d = () => {
                    let { headers: v, status: y, statusText: w, url: x } = u(),
                      C = null;
                    y !== kR &&
                      (C =
                        typeof s.response > 'u' ? s.responseText : s.response),
                      y === 0 && (y = C ? sw : 0);
                    let S = y >= 200 && y < 300;
                    if (i.responseType === 'json' && typeof C == 'string') {
                      let g = C;
                      C = C.replace(RR, '');
                      try {
                        C = C !== '' ? JSON.parse(C) : null;
                      } catch (D) {
                        (C = g), S && ((S = !1), (C = { error: D, text: C }));
                      }
                    }
                    S
                      ? (o.next(
                          new gu({
                            body: C,
                            headers: v,
                            status: y,
                            statusText: w,
                            url: x || void 0,
                          })
                        ),
                        o.complete())
                      : o.error(
                          new _o({
                            error: C,
                            headers: v,
                            status: y,
                            statusText: w,
                            url: x || void 0,
                          })
                        );
                  },
                  h = (v) => {
                    let { url: y } = u(),
                      w = new _o({
                        error: v,
                        status: s.status || 0,
                        statusText: s.statusText || 'Unknown Error',
                        url: y || void 0,
                      });
                    o.error(w);
                  },
                  p = !1,
                  m = (v) => {
                    p || (o.next(u()), (p = !0));
                    let y = { type: wo.DownloadProgress, loaded: v.loaded };
                    v.lengthComputable && (y.total = v.total),
                      i.responseType === 'text' &&
                        s.responseText &&
                        (y.partialText = s.responseText),
                      o.next(y);
                  },
                  _ = (v) => {
                    let y = { type: wo.UploadProgress, loaded: v.loaded };
                    v.lengthComputable && (y.total = v.total), o.next(y);
                  };
                return (
                  s.addEventListener('load', d),
                  s.addEventListener('error', h),
                  s.addEventListener('timeout', h),
                  s.addEventListener('abort', h),
                  i.reportProgress &&
                    (s.addEventListener('progress', m),
                    l !== null &&
                      s.upload &&
                      s.upload.addEventListener('progress', _)),
                  s.send(l),
                  o.next({ type: wo.Sent }),
                  () => {
                    s.removeEventListener('error', h),
                      s.removeEventListener('abort', h),
                      s.removeEventListener('load', d),
                      s.removeEventListener('timeout', h),
                      i.reportProgress &&
                        (s.removeEventListener('progress', m),
                        l !== null &&
                          s.upload &&
                          s.upload.removeEventListener('progress', _)),
                      s.readyState !== s.DONE && s.abort();
                  }
                );
              })
          )
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(ef));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  cw = new ge(''),
  PR = 'XSRF-TOKEN',
  LR = new ge('', { providedIn: 'root', factory: () => PR }),
  NR = 'X-XSRF-TOKEN',
  FR = new ge('', { providedIn: 'root', factory: () => NR }),
  of = class {},
  BR = (() => {
    let t = class t {
      constructor(i, r, a) {
        (this.doc = i),
          (this.platform = r),
          (this.cookieName = a),
          (this.lastCookieString = ''),
          (this.lastToken = null),
          (this.parseCount = 0);
      }
      getToken() {
        if (this.platform === 'server') return null;
        let i = this.doc.cookie || '';
        return (
          i !== this.lastCookieString &&
            (this.parseCount++,
            (this.lastToken = Jh(i, this.cookieName)),
            (this.lastCookieString = i)),
          this.lastToken
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ne), Ht(Fa), Ht(LR));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })();
function zR(e, t) {
  let n = e.url.toLowerCase();
  if (
    !It(cw) ||
    e.method === 'GET' ||
    e.method === 'HEAD' ||
    n.startsWith('http://') ||
    n.startsWith('https://')
  )
    return t(e);
  let i = It(of).getToken(),
    r = It(FR);
  return (
    i != null &&
      !e.headers.has(r) &&
      (e = e.clone({ headers: e.headers.set(r, i) })),
    t(e)
  );
}
function uw(...e) {
  let t = [
    Yr,
    ow,
    aw,
    { provide: pu, useExisting: aw },
    { provide: rf, useFactory: () => It(SR, { optional: !0 }) ?? It(ow) },
    { provide: lw, useValue: zR, multi: !0 },
    { provide: cw, useValue: !0 },
    { provide: of, useClass: BR },
  ];
  for (let n of e) t.push(...n.ɵproviders);
  return gs(t);
}
var Lv = class extends Wx {
    constructor() {
      super(...arguments), (this.supportsDOMEvents = !0);
    }
  },
  Nv = class e extends Lv {
    static makeCurrent() {
      Hx(new e());
    }
    onAndCancel(t, n, i) {
      return (
        t.addEventListener(n, i),
        () => {
          t.removeEventListener(n, i);
        }
      );
    }
    dispatchEvent(t, n) {
      t.dispatchEvent(n);
    }
    remove(t) {
      t.remove();
    }
    createElement(t, n) {
      return (n = n || this.getDefaultDocument()), n.createElement(t);
    }
    createHtmlDocument() {
      return document.implementation.createHTMLDocument('fakeTitle');
    }
    getDefaultDocument() {
      return document;
    }
    isElementNode(t) {
      return t.nodeType === Node.ELEMENT_NODE;
    }
    isShadowRoot(t) {
      return t instanceof DocumentFragment;
    }
    getGlobalEventTarget(t, n) {
      return n === 'window'
        ? window
        : n === 'document'
          ? t
          : n === 'body'
            ? t.body
            : null;
    }
    getBaseHref(t) {
      let n = qR();
      return n == null ? null : UR(n);
    }
    resetBaseElement() {
      vu = null;
    }
    getUserAgent() {
      return window.navigator.userAgent;
    }
    getCookie(t) {
      return Jh(document.cookie, t);
    }
  },
  vu = null;
function qR() {
  return (
    (vu = vu || document.querySelector('base')),
    vu ? vu.getAttribute('href') : null
  );
}
function UR(e) {
  return new URL(e, document.baseURI).pathname;
}
var HR = (() => {
    let t = class t {
      build() {
        return new XMLHttpRequest();
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  sf = new ge(''),
  fw = (() => {
    let t = class t {
      constructor(i, r) {
        (this._zone = r),
          (this._eventNameToPlugin = new Map()),
          i.forEach((a) => {
            a.manager = this;
          }),
          (this._plugins = i.slice().reverse());
      }
      addEventListener(i, r, a) {
        return this._findPluginFor(r).addEventListener(i, r, a);
      }
      getZone() {
        return this._zone;
      }
      _findPluginFor(i) {
        let r = this._eventNameToPlugin.get(i);
        if (r) return r;
        if (((r = this._plugins.find((o) => o.supports(i))), !r))
          throw new vi(5101, !1);
        return this._eventNameToPlugin.set(i, r), r;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(sf), Ht(De));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  bu = class {
    constructor(t) {
      this._doc = t;
    }
  },
  Ov = 'ng-app-id',
  pw = (() => {
    let t = class t {
      constructor(i, r, a, o = {}) {
        (this.doc = i),
          (this.appId = r),
          (this.nonce = a),
          (this.platformId = o),
          (this.styleRef = new Map()),
          (this.hostNodes = new Set()),
          (this.styleNodesInDOM = this.collectServerRenderedStyles()),
          (this.platformIsServer = tf(o)),
          this.resetHostNodes();
      }
      addStyles(i) {
        for (let r of i)
          this.changeUsageCount(r, 1) === 1 && this.onStyleAdded(r);
      }
      removeStyles(i) {
        for (let r of i)
          this.changeUsageCount(r, -1) <= 0 && this.onStyleRemoved(r);
      }
      ngOnDestroy() {
        let i = this.styleNodesInDOM;
        i && (i.forEach((r) => r.remove()), i.clear());
        for (let r of this.getAllStyles()) this.onStyleRemoved(r);
        this.resetHostNodes();
      }
      addHost(i) {
        this.hostNodes.add(i);
        for (let r of this.getAllStyles()) this.addStyleToHost(i, r);
      }
      removeHost(i) {
        this.hostNodes.delete(i);
      }
      getAllStyles() {
        return this.styleRef.keys();
      }
      onStyleAdded(i) {
        for (let r of this.hostNodes) this.addStyleToHost(r, i);
      }
      onStyleRemoved(i) {
        let r = this.styleRef;
        r.get(i)?.elements?.forEach((a) => a.remove()), r.delete(i);
      }
      collectServerRenderedStyles() {
        let i = this.doc.head?.querySelectorAll(`style[${Ov}="${this.appId}"]`);
        if (i?.length) {
          let r = new Map();
          return (
            i.forEach((a) => {
              a.textContent != null && r.set(a.textContent, a);
            }),
            r
          );
        }
        return null;
      }
      changeUsageCount(i, r) {
        let a = this.styleRef;
        if (a.has(i)) {
          let o = a.get(i);
          return (o.usage += r), o.usage;
        }
        return a.set(i, { usage: r, elements: [] }), r;
      }
      getStyleElement(i, r) {
        let a = this.styleNodesInDOM,
          o = a?.get(r);
        if (o?.parentNode === i) return a.delete(r), o.removeAttribute(Ov), o;
        {
          let s = this.doc.createElement('style');
          return (
            this.nonce && s.setAttribute('nonce', this.nonce),
            (s.textContent = r),
            this.platformIsServer && s.setAttribute(Ov, this.appId),
            i.appendChild(s),
            s
          );
        }
      }
      addStyleToHost(i, r) {
        let a = this.getStyleElement(i, r),
          o = this.styleRef,
          s = o.get(r)?.elements;
        s ? s.push(a) : o.set(r, { elements: [a], usage: 1 });
      }
      resetHostNodes() {
        let i = this.hostNodes;
        i.clear(), i.add(this.doc.head);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ne), Ht(Hh), Ht(iu, 8), Ht(Fa));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  Pv = {
    svg: 'http://www.w3.org/2000/svg',
    xhtml: 'http://www.w3.org/1999/xhtml',
    xlink: 'http://www.w3.org/1999/xlink',
    xml: 'http://www.w3.org/XML/1998/namespace',
    xmlns: 'http://www.w3.org/2000/xmlns/',
    math: 'http://www.w3.org/1998/Math/MathML',
  },
  zv = /%COMP%/g,
  mw = '%COMP%',
  WR = `_nghost-${mw}`,
  $R = `_ngcontent-${mw}`,
  GR = !0,
  YR = new ge('', { providedIn: 'root', factory: () => GR });
function KR(e) {
  return $R.replace(zv, e);
}
function XR(e) {
  return WR.replace(zv, e);
}
function gw(e, t) {
  return t.map((n) => n.replace(zv, e));
}
var lf = (() => {
    let t = class t {
      constructor(i, r, a, o, s, l, c, u = null) {
        (this.eventManager = i),
          (this.sharedStylesHost = r),
          (this.appId = a),
          (this.removeStylesOnCompDestroy = o),
          (this.doc = s),
          (this.platformId = l),
          (this.ngZone = c),
          (this.nonce = u),
          (this.rendererByCompId = new Map()),
          (this.platformIsServer = tf(l)),
          (this.defaultRenderer = new yu(i, s, c, this.platformIsServer));
      }
      createRenderer(i, r) {
        if (!i || !r) return this.defaultRenderer;
        this.platformIsServer &&
          r.encapsulation === eu.ShadowDom &&
          (r = ni(Bt({}, r), { encapsulation: eu.Emulated }));
        let a = this.getOrCreateRenderer(i, r);
        return (
          a instanceof cf
            ? a.applyToHost(i)
            : a instanceof _u && a.applyStyles(),
          a
        );
      }
      getOrCreateRenderer(i, r) {
        let a = this.rendererByCompId,
          o = a.get(r.id);
        if (!o) {
          let s = this.doc,
            l = this.ngZone,
            c = this.eventManager,
            u = this.sharedStylesHost,
            d = this.removeStylesOnCompDestroy,
            h = this.platformIsServer;
          switch (r.encapsulation) {
            case eu.Emulated:
              o = new cf(c, u, r, this.appId, d, s, l, h);
              break;
            case eu.ShadowDom:
              return new Fv(c, u, i, r, s, l, this.nonce, h);
            default:
              o = new _u(c, u, r, d, s, l, h);
              break;
          }
          a.set(r.id, o);
        }
        return o;
      }
      ngOnDestroy() {
        this.rendererByCompId.clear();
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Ht(fw),
        Ht(pw),
        Ht(Hh),
        Ht(YR),
        Ht(Ne),
        Ht(Fa),
        Ht(De),
        Ht(iu)
      );
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  yu = class {
    constructor(t, n, i, r) {
      (this.eventManager = t),
        (this.doc = n),
        (this.ngZone = i),
        (this.platformIsServer = r),
        (this.data = Object.create(null)),
        (this.throwOnSyntheticProps = !0),
        (this.destroyNode = null);
    }
    destroy() {}
    createElement(t, n) {
      return n
        ? this.doc.createElementNS(Pv[n] || n, t)
        : this.doc.createElement(t);
    }
    createComment(t) {
      return this.doc.createComment(t);
    }
    createText(t) {
      return this.doc.createTextNode(t);
    }
    appendChild(t, n) {
      (dw(t) ? t.content : t).appendChild(n);
    }
    insertBefore(t, n, i) {
      t && (dw(t) ? t.content : t).insertBefore(n, i);
    }
    removeChild(t, n) {
      n.remove();
    }
    selectRootElement(t, n) {
      let i = typeof t == 'string' ? this.doc.querySelector(t) : t;
      if (!i) throw new vi(-5104, !1);
      return n || (i.textContent = ''), i;
    }
    parentNode(t) {
      return t.parentNode;
    }
    nextSibling(t) {
      return t.nextSibling;
    }
    setAttribute(t, n, i, r) {
      if (r) {
        n = r + ':' + n;
        let a = Pv[r];
        a ? t.setAttributeNS(a, n, i) : t.setAttribute(n, i);
      } else t.setAttribute(n, i);
    }
    removeAttribute(t, n, i) {
      if (i) {
        let r = Pv[i];
        r ? t.removeAttributeNS(r, n) : t.removeAttribute(`${i}:${n}`);
      } else t.removeAttribute(n);
    }
    addClass(t, n) {
      t.classList.add(n);
    }
    removeClass(t, n) {
      t.classList.remove(n);
    }
    setStyle(t, n, i, r) {
      r & (nu.DashCase | nu.Important)
        ? t.style.setProperty(n, i, r & nu.Important ? 'important' : '')
        : (t.style[n] = i);
    }
    removeStyle(t, n, i) {
      i & nu.DashCase ? t.style.removeProperty(n) : (t.style[n] = '');
    }
    setProperty(t, n, i) {
      t != null && (t[n] = i);
    }
    setValue(t, n) {
      t.nodeValue = n;
    }
    listen(t, n, i) {
      if (
        typeof t == 'string' &&
        ((t = El().getGlobalEventTarget(this.doc, t)), !t)
      )
        throw new Error(`Unsupported event target ${t} for event ${n}`);
      return this.eventManager.addEventListener(
        t,
        n,
        this.decoratePreventDefault(i)
      );
    }
    decoratePreventDefault(t) {
      return (n) => {
        if (n === '__ngUnwrap__') return t;
        (this.platformIsServer ? this.ngZone.runGuarded(() => t(n)) : t(n)) ===
          !1 && n.preventDefault();
      };
    }
  };
function dw(e) {
  return e.tagName === 'TEMPLATE' && e.content !== void 0;
}
var Fv = class extends yu {
    constructor(t, n, i, r, a, o, s, l) {
      super(t, a, o, l),
        (this.sharedStylesHost = n),
        (this.hostEl = i),
        (this.shadowRoot = i.attachShadow({ mode: 'open' })),
        this.sharedStylesHost.addHost(this.shadowRoot);
      let c = gw(r.id, r.styles);
      for (let u of c) {
        let d = document.createElement('style');
        s && d.setAttribute('nonce', s),
          (d.textContent = u),
          this.shadowRoot.appendChild(d);
      }
    }
    nodeOrShadowRoot(t) {
      return t === this.hostEl ? this.shadowRoot : t;
    }
    appendChild(t, n) {
      return super.appendChild(this.nodeOrShadowRoot(t), n);
    }
    insertBefore(t, n, i) {
      return super.insertBefore(this.nodeOrShadowRoot(t), n, i);
    }
    removeChild(t, n) {
      return super.removeChild(null, n);
    }
    parentNode(t) {
      return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)));
    }
    destroy() {
      this.sharedStylesHost.removeHost(this.shadowRoot);
    }
  },
  _u = class extends yu {
    constructor(t, n, i, r, a, o, s, l) {
      super(t, a, o, s),
        (this.sharedStylesHost = n),
        (this.removeStylesOnCompDestroy = r),
        (this.styles = l ? gw(l, i.styles) : i.styles);
    }
    applyStyles() {
      this.sharedStylesHost.addStyles(this.styles);
    }
    destroy() {
      this.removeStylesOnCompDestroy &&
        this.sharedStylesHost.removeStyles(this.styles);
    }
  },
  cf = class extends _u {
    constructor(t, n, i, r, a, o, s, l) {
      let c = r + '-' + i.id;
      super(t, n, i, a, o, s, l, c),
        (this.contentAttr = KR(c)),
        (this.hostAttr = XR(c));
    }
    applyToHost(t) {
      this.applyStyles(), this.setAttribute(t, this.hostAttr, '');
    }
    createElement(t, n) {
      let i = super.createElement(t, n);
      return super.setAttribute(i, this.contentAttr, ''), i;
    }
  },
  ZR = (() => {
    let t = class t extends bu {
      constructor(i) {
        super(i);
      }
      supports(i) {
        return !0;
      }
      addEventListener(i, r, a) {
        return (
          i.addEventListener(r, a, !1), () => this.removeEventListener(i, r, a)
        );
      }
      removeEventListener(i, r, a) {
        return i.removeEventListener(r, a);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ne));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  QR = (() => {
    let t = class t extends bu {
      constructor(i) {
        super(i), (this.delegate = It(qx, { optional: !0 }));
      }
      supports(i) {
        return this.delegate ? this.delegate.supports(i) : !1;
      }
      addEventListener(i, r, a) {
        return this.delegate.addEventListener(i, r, a);
      }
      removeEventListener(i, r, a) {
        return this.delegate.removeEventListener(i, r, a);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ne));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  hw = ['alt', 'control', 'meta', 'shift'],
  JR = {
    '\b': 'Backspace',
    '	': 'Tab',
    '\x7F': 'Delete',
    '\x1B': 'Escape',
    Del: 'Delete',
    Esc: 'Escape',
    Left: 'ArrowLeft',
    Right: 'ArrowRight',
    Up: 'ArrowUp',
    Down: 'ArrowDown',
    Menu: 'ContextMenu',
    Scroll: 'ScrollLock',
    Win: 'OS',
  },
  tO = {
    alt: (e) => e.altKey,
    control: (e) => e.ctrlKey,
    meta: (e) => e.metaKey,
    shift: (e) => e.shiftKey,
  },
  eO = (() => {
    let t = class t extends bu {
      constructor(i) {
        super(i);
      }
      supports(i) {
        return t.parseEventName(i) != null;
      }
      addEventListener(i, r, a) {
        let o = t.parseEventName(r),
          s = t.eventCallback(o.fullKey, a, this.manager.getZone());
        return this.manager
          .getZone()
          .runOutsideAngular(() => El().onAndCancel(i, o.domEventName, s));
      }
      static parseEventName(i) {
        let r = i.toLowerCase().split('.'),
          a = r.shift();
        if (r.length === 0 || !(a === 'keydown' || a === 'keyup')) return null;
        let o = t._normalizeKey(r.pop()),
          s = '',
          l = r.indexOf('code');
        if (
          (l > -1 && (r.splice(l, 1), (s = 'code.')),
          hw.forEach((u) => {
            let d = r.indexOf(u);
            d > -1 && (r.splice(d, 1), (s += u + '.'));
          }),
          (s += o),
          r.length != 0 || o.length === 0)
        )
          return null;
        let c = {};
        return (c.domEventName = a), (c.fullKey = s), c;
      }
      static matchEventFullKeyCode(i, r) {
        let a = JR[i.key] || i.key,
          o = '';
        return (
          r.indexOf('code.') > -1 && ((a = i.code), (o = 'code.')),
          a == null || !a
            ? !1
            : ((a = a.toLowerCase()),
              a === ' ' ? (a = 'space') : a === '.' && (a = 'dot'),
              hw.forEach((s) => {
                if (s !== a) {
                  let l = tO[s];
                  l(i) && (o += s + '.');
                }
              }),
              (o += a),
              o === r)
        );
      }
      static eventCallback(i, r, a) {
        return (o) => {
          t.matchEventFullKeyCode(o, i) && a.runGuarded(() => r(o));
        };
      }
      static _normalizeKey(i) {
        return i === 'esc' ? 'escape' : i;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ne));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })();
function vw(e, t) {
  return jx(Bt({ rootComponent: e }, iO(t)));
}
function iO(e) {
  return {
    appProviders: [...sO, ...(e?.providers ?? [])],
    platformProviders: oO,
  };
}
function nO() {
  Nv.makeCurrent();
}
function rO() {
  return new bs();
}
function aO() {
  return bx(document), document;
}
var oO = [
  { provide: Fa, useValue: Xx },
  { provide: yx, useValue: nO, multi: !0 },
  { provide: Ne, useFactory: aO, deps: [] },
];
var sO = [
  { provide: mx, useValue: 'root' },
  { provide: bs, useFactory: rO, deps: [] },
  { provide: sf, useClass: ZR, multi: !0, deps: [Ne, De, Fa] },
  { provide: sf, useClass: eO, multi: !0, deps: [Ne] },
  { provide: sf, useClass: QR, multi: !0 },
  lf,
  pw,
  fw,
  { provide: Wh, useExisting: lf },
  { provide: ef, useClass: HR, deps: [] },
  [],
];
var bw = (() => {
  let t = class t {
    constructor(i) {
      this._doc = i;
    }
    getTitle() {
      return this._doc.title;
    }
    setTitle(i) {
      this._doc.title = i || '';
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Ht(Ne));
  }),
    (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
  let e = t;
  return e;
})();
var Vv = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({
        token: t,
        factory: function (r) {
          let a = null;
          return r ? (a = new (r || t)()) : (a = Ht(lO)), a;
        },
        providedIn: 'root',
      }));
    let e = t;
    return e;
  })(),
  lO = (() => {
    let t = class t extends Vv {
      constructor(i) {
        super(), (this._doc = i);
      }
      sanitize(i, r) {
        if (r == null) return null;
        switch (i) {
          case fr.NONE:
            return r;
          case fr.HTML:
            return xl(r, 'HTML') ? _l(r) : Sx(this._doc, String(r)).toString();
          case fr.STYLE:
            return xl(r, 'Style') ? _l(r) : r;
          case fr.SCRIPT:
            if (xl(r, 'Script')) return _l(r);
            throw new vi(5200, !1);
          case fr.URL:
            return xl(r, 'URL') ? _l(r) : Ex(String(r));
          case fr.RESOURCE_URL:
            if (xl(r, 'ResourceURL')) return _l(r);
            throw new vi(5201, !1);
          default:
            throw new vi(5202, !1);
        }
      }
      bypassSecurityTrustHtml(i) {
        return _x(i);
      }
      bypassSecurityTrustStyle(i) {
        return xx(i);
      }
      bypassSecurityTrustScript(i) {
        return wx(i);
      }
      bypassSecurityTrustUrl(i) {
        return kx(i);
      }
      bypassSecurityTrustResourceUrl(i) {
        return Cx(i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ne));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
var Te = 'primary',
  Lu = Symbol('RouteTitle'),
  Wv = class {
    constructor(t) {
      this.params = t || {};
    }
    has(t) {
      return Object.prototype.hasOwnProperty.call(this.params, t);
    }
    get(t) {
      if (this.has(t)) {
        let n = this.params[t];
        return Array.isArray(n) ? n[0] : n;
      }
      return null;
    }
    getAll(t) {
      if (this.has(t)) {
        let n = this.params[t];
        return Array.isArray(n) ? n : [n];
      }
      return [];
    }
    get keys() {
      return Object.keys(this.params);
    }
  };
function Il(e) {
  return new Wv(e);
}
function cO(e, t, n) {
  let i = n.path.split('/');
  if (
    i.length > e.length ||
    (n.pathMatch === 'full' && (t.hasChildren() || i.length < e.length))
  )
    return null;
  let r = {};
  for (let a = 0; a < i.length; a++) {
    let o = i[a],
      s = e[a];
    if (o[0] === ':') r[o.substring(1)] = s;
    else if (o !== s.path) return null;
  }
  return { consumed: e.slice(0, i.length), posParams: r };
}
function uO(e, t) {
  if (e.length !== t.length) return !1;
  for (let n = 0; n < e.length; ++n) if (!ba(e[n], t[n])) return !1;
  return !0;
}
function ba(e, t) {
  let n = e ? $v(e) : void 0,
    i = t ? $v(t) : void 0;
  if (!n || !i || n.length != i.length) return !1;
  let r;
  for (let a = 0; a < n.length; a++)
    if (((r = n[a]), !Aw(e[r], t[r]))) return !1;
  return !0;
}
function $v(e) {
  return [...Object.keys(e), ...Object.getOwnPropertySymbols(e)];
}
function Aw(e, t) {
  if (Array.isArray(e) && Array.isArray(t)) {
    if (e.length !== t.length) return !1;
    let n = [...e].sort(),
      i = [...t].sort();
    return n.every((r, a) => i[a] === r);
  } else return e === t;
}
function Iw(e) {
  return e.length > 0 ? e[e.length - 1] : null;
}
function Eo(e) {
  return ma(e) ? e : Yh(e) ? gn(Promise.resolve(e)) : qt(e);
}
var dO = { exact: Ow, subset: Pw },
  Rw = { exact: hO, subset: fO, ignored: () => !0 };
function _w(e, t, n) {
  return (
    dO[n.paths](e.root, t.root, n.matrixParams) &&
    Rw[n.queryParams](e.queryParams, t.queryParams) &&
    !(n.fragment === 'exact' && e.fragment !== t.fragment)
  );
}
function hO(e, t) {
  return ba(e, t);
}
function Ow(e, t, n) {
  if (
    !ks(e.segments, t.segments) ||
    !hf(e.segments, t.segments, n) ||
    e.numberOfChildren !== t.numberOfChildren
  )
    return !1;
  for (let i in t.children)
    if (!e.children[i] || !Ow(e.children[i], t.children[i], n)) return !1;
  return !0;
}
function fO(e, t) {
  return (
    Object.keys(t).length <= Object.keys(e).length &&
    Object.keys(t).every((n) => Aw(e[n], t[n]))
  );
}
function Pw(e, t, n) {
  return Lw(e, t, t.segments, n);
}
function Lw(e, t, n, i) {
  if (e.segments.length > n.length) {
    let r = e.segments.slice(0, n.length);
    return !(!ks(r, n) || t.hasChildren() || !hf(r, n, i));
  } else if (e.segments.length === n.length) {
    if (!ks(e.segments, n) || !hf(e.segments, n, i)) return !1;
    for (let r in t.children)
      if (!e.children[r] || !Pw(e.children[r], t.children[r], i)) return !1;
    return !0;
  } else {
    let r = n.slice(0, e.segments.length),
      a = n.slice(e.segments.length);
    return !ks(e.segments, r) || !hf(e.segments, r, i) || !e.children[Te]
      ? !1
      : Lw(e.children[Te], t, a, i);
  }
}
function hf(e, t, n) {
  return t.every((i, r) => Rw[n](e[r].parameters, i.parameters));
}
var ja = class {
    constructor(t = new oi([], {}), n = {}, i = null) {
      (this.root = t), (this.queryParams = n), (this.fragment = i);
    }
    get queryParamMap() {
      return (
        (this._queryParamMap ??= Il(this.queryParams)), this._queryParamMap
      );
    }
    toString() {
      return gO.serialize(this);
    }
  },
  oi = class {
    constructor(t, n) {
      (this.segments = t),
        (this.children = n),
        (this.parent = null),
        Object.values(n).forEach((i) => (i.parent = this));
    }
    hasChildren() {
      return this.numberOfChildren > 0;
    }
    get numberOfChildren() {
      return Object.keys(this.children).length;
    }
    toString() {
      return ff(this);
    }
  },
  ws = class {
    constructor(t, n) {
      (this.path = t), (this.parameters = n);
    }
    get parameterMap() {
      return (this._parameterMap ??= Il(this.parameters)), this._parameterMap;
    }
    toString() {
      return Fw(this);
    }
  };
function pO(e, t) {
  return ks(e, t) && e.every((n, i) => ba(n.parameters, t[i].parameters));
}
function ks(e, t) {
  return e.length !== t.length ? !1 : e.every((n, i) => n.path === t[i].path);
}
function mO(e, t) {
  let n = [];
  return (
    Object.entries(e.children).forEach(([i, r]) => {
      i === Te && (n = n.concat(t(r, i)));
    }),
    Object.entries(e.children).forEach(([i, r]) => {
      i !== Te && (n = n.concat(t(r, i)));
    }),
    n
  );
}
var Nu = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: () => new Rl(), providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  Rl = class {
    parse(t) {
      let n = new Yv(t);
      return new ja(
        n.parseRootSegment(),
        n.parseQueryParams(),
        n.parseFragment()
      );
    }
    serialize(t) {
      let n = `/${xu(t.root, !0)}`,
        i = yO(t.queryParams),
        r = typeof t.fragment == 'string' ? `#${vO(t.fragment)}` : '';
      return `${n}${i}${r}`;
    }
  },
  gO = new Rl();
function ff(e) {
  return e.segments.map((t) => Fw(t)).join('/');
}
function xu(e, t) {
  if (!e.hasChildren()) return ff(e);
  if (t) {
    let n = e.children[Te] ? xu(e.children[Te], !1) : '',
      i = [];
    return (
      Object.entries(e.children).forEach(([r, a]) => {
        r !== Te && i.push(`${r}:${xu(a, !1)}`);
      }),
      i.length > 0 ? `${n}(${i.join('//')})` : n
    );
  } else {
    let n = mO(e, (i, r) =>
      r === Te ? [xu(e.children[Te], !1)] : [`${r}:${xu(i, !1)}`]
    );
    return Object.keys(e.children).length === 1 && e.children[Te] != null
      ? `${ff(e)}/${n[0]}`
      : `${ff(e)}/(${n.join('//')})`;
  }
}
function Nw(e) {
  return encodeURIComponent(e)
    .replace(/%40/g, '@')
    .replace(/%3A/gi, ':')
    .replace(/%24/g, '$')
    .replace(/%2C/gi, ',');
}
function uf(e) {
  return Nw(e).replace(/%3B/gi, ';');
}
function vO(e) {
  return encodeURI(e);
}
function Gv(e) {
  return Nw(e)
    .replace(/\(/g, '%28')
    .replace(/\)/g, '%29')
    .replace(/%26/gi, '&');
}
function pf(e) {
  return decodeURIComponent(e);
}
function xw(e) {
  return pf(e.replace(/\+/g, '%20'));
}
function Fw(e) {
  return `${Gv(e.path)}${bO(e.parameters)}`;
}
function bO(e) {
  return Object.entries(e)
    .map(([t, n]) => `;${Gv(t)}=${Gv(n)}`)
    .join('');
}
function yO(e) {
  let t = Object.entries(e)
    .map(([n, i]) =>
      Array.isArray(i)
        ? i.map((r) => `${uf(n)}=${uf(r)}`).join('&')
        : `${uf(n)}=${uf(i)}`
    )
    .filter((n) => n);
  return t.length ? `?${t.join('&')}` : '';
}
var _O = /^[^\/()?;#]+/;
function jv(e) {
  let t = e.match(_O);
  return t ? t[0] : '';
}
var xO = /^[^\/()?;=#]+/;
function wO(e) {
  let t = e.match(xO);
  return t ? t[0] : '';
}
var kO = /^[^=?&#]+/;
function CO(e) {
  let t = e.match(kO);
  return t ? t[0] : '';
}
var EO = /^[^&#]+/;
function SO(e) {
  let t = e.match(EO);
  return t ? t[0] : '';
}
var Yv = class {
  constructor(t) {
    (this.url = t), (this.remaining = t);
  }
  parseRootSegment() {
    return (
      this.consumeOptional('/'),
      this.remaining === '' ||
      this.peekStartsWith('?') ||
      this.peekStartsWith('#')
        ? new oi([], {})
        : new oi([], this.parseChildren())
    );
  }
  parseQueryParams() {
    let t = {};
    if (this.consumeOptional('?'))
      do this.parseQueryParam(t);
      while (this.consumeOptional('&'));
    return t;
  }
  parseFragment() {
    return this.consumeOptional('#')
      ? decodeURIComponent(this.remaining)
      : null;
  }
  parseChildren() {
    if (this.remaining === '') return {};
    this.consumeOptional('/');
    let t = [];
    for (
      this.peekStartsWith('(') || t.push(this.parseSegment());
      this.peekStartsWith('/') &&
      !this.peekStartsWith('//') &&
      !this.peekStartsWith('/(');

    )
      this.capture('/'), t.push(this.parseSegment());
    let n = {};
    this.peekStartsWith('/(') &&
      (this.capture('/'), (n = this.parseParens(!0)));
    let i = {};
    return (
      this.peekStartsWith('(') && (i = this.parseParens(!1)),
      (t.length > 0 || Object.keys(n).length > 0) && (i[Te] = new oi(t, n)),
      i
    );
  }
  parseSegment() {
    let t = jv(this.remaining);
    if (t === '' && this.peekStartsWith(';')) throw new vi(4009, !1);
    return this.capture(t), new ws(pf(t), this.parseMatrixParams());
  }
  parseMatrixParams() {
    let t = {};
    for (; this.consumeOptional(';'); ) this.parseParam(t);
    return t;
  }
  parseParam(t) {
    let n = wO(this.remaining);
    if (!n) return;
    this.capture(n);
    let i = '';
    if (this.consumeOptional('=')) {
      let r = jv(this.remaining);
      r && ((i = r), this.capture(i));
    }
    t[pf(n)] = pf(i);
  }
  parseQueryParam(t) {
    let n = CO(this.remaining);
    if (!n) return;
    this.capture(n);
    let i = '';
    if (this.consumeOptional('=')) {
      let o = SO(this.remaining);
      o && ((i = o), this.capture(i));
    }
    let r = xw(n),
      a = xw(i);
    if (t.hasOwnProperty(r)) {
      let o = t[r];
      Array.isArray(o) || ((o = [o]), (t[r] = o)), o.push(a);
    } else t[r] = a;
  }
  parseParens(t) {
    let n = {};
    for (
      this.capture('(');
      !this.consumeOptional(')') && this.remaining.length > 0;

    ) {
      let i = jv(this.remaining),
        r = this.remaining[i.length];
      if (r !== '/' && r !== ')' && r !== ';') throw new vi(4010, !1);
      let a;
      i.indexOf(':') > -1
        ? ((a = i.slice(0, i.indexOf(':'))), this.capture(a), this.capture(':'))
        : t && (a = Te);
      let o = this.parseChildren();
      (n[a] = Object.keys(o).length === 1 ? o[Te] : new oi([], o)),
        this.consumeOptional('//');
    }
    return n;
  }
  peekStartsWith(t) {
    return this.remaining.startsWith(t);
  }
  consumeOptional(t) {
    return this.peekStartsWith(t)
      ? ((this.remaining = this.remaining.substring(t.length)), !0)
      : !1;
  }
  capture(t) {
    if (!this.consumeOptional(t)) throw new vi(4011, !1);
  }
};
function Bw(e) {
  return e.segments.length > 0 ? new oi([], { [Te]: e }) : e;
}
function zw(e) {
  let t = {};
  for (let [i, r] of Object.entries(e.children)) {
    let a = zw(r);
    if (i === Te && a.segments.length === 0 && a.hasChildren())
      for (let [o, s] of Object.entries(a.children)) t[o] = s;
    else (a.segments.length > 0 || a.hasChildren()) && (t[i] = a);
  }
  let n = new oi(e.segments, t);
  return DO(n);
}
function DO(e) {
  if (e.numberOfChildren === 1 && e.children[Te]) {
    let t = e.children[Te];
    return new oi(e.segments.concat(t.segments), t.children);
  }
  return e;
}
function Cs(e) {
  return e instanceof ja;
}
function TO(e, t, n = null, i = null) {
  let r = Vw(e);
  return jw(r, t, n, i);
}
function Vw(e) {
  let t;
  function n(a) {
    let o = {};
    for (let l of a.children) {
      let c = n(l);
      o[l.outlet] = c;
    }
    let s = new oi(a.url, o);
    return a === e && (t = s), s;
  }
  let i = n(e.root),
    r = Bw(i);
  return t ?? r;
}
function jw(e, t, n, i) {
  let r = e;
  for (; r.parent; ) r = r.parent;
  if (t.length === 0) return qv(r, r, r, n, i);
  let a = MO(t);
  if (a.toRoot()) return qv(r, r, new oi([], {}), n, i);
  let o = AO(a, r, e),
    s = o.processChildren
      ? Cu(o.segmentGroup, o.index, a.commands)
      : Uw(o.segmentGroup, o.index, a.commands);
  return qv(r, o.segmentGroup, s, n, i);
}
function mf(e) {
  return typeof e == 'object' && e != null && !e.outlets && !e.segmentPath;
}
function Du(e) {
  return typeof e == 'object' && e != null && e.outlets;
}
function qv(e, t, n, i, r) {
  let a = {};
  i &&
    Object.entries(i).forEach(([l, c]) => {
      a[l] = Array.isArray(c) ? c.map((u) => `${u}`) : `${c}`;
    });
  let o;
  e === t ? (o = n) : (o = qw(e, t, n));
  let s = Bw(zw(o));
  return new ja(s, a, r);
}
function qw(e, t, n) {
  let i = {};
  return (
    Object.entries(e.children).forEach(([r, a]) => {
      a === t ? (i[r] = n) : (i[r] = qw(a, t, n));
    }),
    new oi(e.segments, i)
  );
}
var gf = class {
  constructor(t, n, i) {
    if (
      ((this.isAbsolute = t),
      (this.numberOfDoubleDots = n),
      (this.commands = i),
      t && i.length > 0 && mf(i[0]))
    )
      throw new vi(4003, !1);
    let r = i.find(Du);
    if (r && r !== Iw(i)) throw new vi(4004, !1);
  }
  toRoot() {
    return (
      this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/'
    );
  }
};
function MO(e) {
  if (typeof e[0] == 'string' && e.length === 1 && e[0] === '/')
    return new gf(!0, 0, e);
  let t = 0,
    n = !1,
    i = e.reduce((r, a, o) => {
      if (typeof a == 'object' && a != null) {
        if (a.outlets) {
          let s = {};
          return (
            Object.entries(a.outlets).forEach(([l, c]) => {
              s[l] = typeof c == 'string' ? c.split('/') : c;
            }),
            [...r, { outlets: s }]
          );
        }
        if (a.segmentPath) return [...r, a.segmentPath];
      }
      return typeof a != 'string'
        ? [...r, a]
        : o === 0
          ? (a.split('/').forEach((s, l) => {
              (l == 0 && s === '.') ||
                (l == 0 && s === ''
                  ? (n = !0)
                  : s === '..'
                    ? t++
                    : s != '' && r.push(s));
            }),
            r)
          : [...r, a];
    }, []);
  return new gf(n, t, i);
}
var Tl = class {
  constructor(t, n, i) {
    (this.segmentGroup = t), (this.processChildren = n), (this.index = i);
  }
};
function AO(e, t, n) {
  if (e.isAbsolute) return new Tl(t, !0, 0);
  if (!n) return new Tl(t, !1, NaN);
  if (n.parent === null) return new Tl(n, !0, 0);
  let i = mf(e.commands[0]) ? 0 : 1,
    r = n.segments.length - 1 + i;
  return IO(n, r, e.numberOfDoubleDots);
}
function IO(e, t, n) {
  let i = e,
    r = t,
    a = n;
  for (; a > r; ) {
    if (((a -= r), (i = i.parent), !i)) throw new vi(4005, !1);
    r = i.segments.length;
  }
  return new Tl(i, !1, r - a);
}
function RO(e) {
  return Du(e[0]) ? e[0].outlets : { [Te]: e };
}
function Uw(e, t, n) {
  if (((e ??= new oi([], {})), e.segments.length === 0 && e.hasChildren()))
    return Cu(e, t, n);
  let i = OO(e, t, n),
    r = n.slice(i.commandIndex);
  if (i.match && i.pathIndex < e.segments.length) {
    let a = new oi(e.segments.slice(0, i.pathIndex), {});
    return (
      (a.children[Te] = new oi(e.segments.slice(i.pathIndex), e.children)),
      Cu(a, 0, r)
    );
  } else
    return i.match && r.length === 0
      ? new oi(e.segments, {})
      : i.match && !e.hasChildren()
        ? Kv(e, t, n)
        : i.match
          ? Cu(e, 0, r)
          : Kv(e, t, n);
}
function Cu(e, t, n) {
  if (n.length === 0) return new oi(e.segments, {});
  {
    let i = RO(n),
      r = {};
    if (
      Object.keys(i).some((a) => a !== Te) &&
      e.children[Te] &&
      e.numberOfChildren === 1 &&
      e.children[Te].segments.length === 0
    ) {
      let a = Cu(e.children[Te], t, n);
      return new oi(e.segments, a.children);
    }
    return (
      Object.entries(i).forEach(([a, o]) => {
        typeof o == 'string' && (o = [o]),
          o !== null && (r[a] = Uw(e.children[a], t, o));
      }),
      Object.entries(e.children).forEach(([a, o]) => {
        i[a] === void 0 && (r[a] = o);
      }),
      new oi(e.segments, r)
    );
  }
}
function OO(e, t, n) {
  let i = 0,
    r = t,
    a = { match: !1, pathIndex: 0, commandIndex: 0 };
  for (; r < e.segments.length; ) {
    if (i >= n.length) return a;
    let o = e.segments[r],
      s = n[i];
    if (Du(s)) break;
    let l = `${s}`,
      c = i < n.length - 1 ? n[i + 1] : null;
    if (r > 0 && l === void 0) break;
    if (l && c && typeof c == 'object' && c.outlets === void 0) {
      if (!kw(l, c, o)) return a;
      i += 2;
    } else {
      if (!kw(l, {}, o)) return a;
      i++;
    }
    r++;
  }
  return { match: !0, pathIndex: r, commandIndex: i };
}
function Kv(e, t, n) {
  let i = e.segments.slice(0, t),
    r = 0;
  for (; r < n.length; ) {
    let a = n[r];
    if (Du(a)) {
      let l = PO(a.outlets);
      return new oi(i, l);
    }
    if (r === 0 && mf(n[0])) {
      let l = e.segments[t];
      i.push(new ws(l.path, ww(n[0]))), r++;
      continue;
    }
    let o = Du(a) ? a.outlets[Te] : `${a}`,
      s = r < n.length - 1 ? n[r + 1] : null;
    o && s && mf(s)
      ? (i.push(new ws(o, ww(s))), (r += 2))
      : (i.push(new ws(o, {})), r++);
  }
  return new oi(i, {});
}
function PO(e) {
  let t = {};
  return (
    Object.entries(e).forEach(([n, i]) => {
      typeof i == 'string' && (i = [i]),
        i !== null && (t[n] = Kv(new oi([], {}), 0, i));
    }),
    t
  );
}
function ww(e) {
  let t = {};
  return Object.entries(e).forEach(([n, i]) => (t[n] = `${i}`)), t;
}
function kw(e, t, n) {
  return e == n.path && ba(t, n.parameters);
}
var Eu = 'imperative',
  yn = (function (e) {
    return (
      (e[(e.NavigationStart = 0)] = 'NavigationStart'),
      (e[(e.NavigationEnd = 1)] = 'NavigationEnd'),
      (e[(e.NavigationCancel = 2)] = 'NavigationCancel'),
      (e[(e.NavigationError = 3)] = 'NavigationError'),
      (e[(e.RoutesRecognized = 4)] = 'RoutesRecognized'),
      (e[(e.ResolveStart = 5)] = 'ResolveStart'),
      (e[(e.ResolveEnd = 6)] = 'ResolveEnd'),
      (e[(e.GuardsCheckStart = 7)] = 'GuardsCheckStart'),
      (e[(e.GuardsCheckEnd = 8)] = 'GuardsCheckEnd'),
      (e[(e.RouteConfigLoadStart = 9)] = 'RouteConfigLoadStart'),
      (e[(e.RouteConfigLoadEnd = 10)] = 'RouteConfigLoadEnd'),
      (e[(e.ChildActivationStart = 11)] = 'ChildActivationStart'),
      (e[(e.ChildActivationEnd = 12)] = 'ChildActivationEnd'),
      (e[(e.ActivationStart = 13)] = 'ActivationStart'),
      (e[(e.ActivationEnd = 14)] = 'ActivationEnd'),
      (e[(e.Scroll = 15)] = 'Scroll'),
      (e[(e.NavigationSkipped = 16)] = 'NavigationSkipped'),
      e
    );
  })(yn || {}),
  Ir = class {
    constructor(t, n) {
      (this.id = t), (this.url = n);
    }
  },
  Ol = class extends Ir {
    constructor(t, n, i = 'imperative', r = null) {
      super(t, n),
        (this.type = yn.NavigationStart),
        (this.navigationTrigger = i),
        (this.restoredState = r);
    }
    toString() {
      return `NavigationStart(id: ${this.id}, url: '${this.url}')`;
    }
  },
  Xr = class extends Ir {
    constructor(t, n, i) {
      super(t, n), (this.urlAfterRedirects = i), (this.type = yn.NavigationEnd);
    }
    toString() {
      return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;
    }
  },
  gr = (function (e) {
    return (
      (e[(e.Redirect = 0)] = 'Redirect'),
      (e[(e.SupersededByNewNavigation = 1)] = 'SupersededByNewNavigation'),
      (e[(e.NoDataFromResolver = 2)] = 'NoDataFromResolver'),
      (e[(e.GuardRejected = 3)] = 'GuardRejected'),
      e
    );
  })(gr || {}),
  vf = (function (e) {
    return (
      (e[(e.IgnoredSameUrlNavigation = 0)] = 'IgnoredSameUrlNavigation'),
      (e[(e.IgnoredByUrlHandlingStrategy = 1)] =
        'IgnoredByUrlHandlingStrategy'),
      e
    );
  })(vf || {}),
  Va = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.reason = i),
        (this.code = r),
        (this.type = yn.NavigationCancel);
    }
    toString() {
      return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;
    }
  },
  ko = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.reason = i),
        (this.code = r),
        (this.type = yn.NavigationSkipped);
    }
  },
  Tu = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.error = i),
        (this.target = r),
        (this.type = yn.NavigationError);
    }
    toString() {
      return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;
    }
  },
  bf = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.urlAfterRedirects = i),
        (this.state = r),
        (this.type = yn.RoutesRecognized);
    }
    toString() {
      return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  Xv = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.urlAfterRedirects = i),
        (this.state = r),
        (this.type = yn.GuardsCheckStart);
    }
    toString() {
      return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  Zv = class extends Ir {
    constructor(t, n, i, r, a) {
      super(t, n),
        (this.urlAfterRedirects = i),
        (this.state = r),
        (this.shouldActivate = a),
        (this.type = yn.GuardsCheckEnd);
    }
    toString() {
      return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;
    }
  },
  Qv = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.urlAfterRedirects = i),
        (this.state = r),
        (this.type = yn.ResolveStart);
    }
    toString() {
      return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  Jv = class extends Ir {
    constructor(t, n, i, r) {
      super(t, n),
        (this.urlAfterRedirects = i),
        (this.state = r),
        (this.type = yn.ResolveEnd);
    }
    toString() {
      return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  tb = class {
    constructor(t) {
      (this.route = t), (this.type = yn.RouteConfigLoadStart);
    }
    toString() {
      return `RouteConfigLoadStart(path: ${this.route.path})`;
    }
  },
  eb = class {
    constructor(t) {
      (this.route = t), (this.type = yn.RouteConfigLoadEnd);
    }
    toString() {
      return `RouteConfigLoadEnd(path: ${this.route.path})`;
    }
  },
  ib = class {
    constructor(t) {
      (this.snapshot = t), (this.type = yn.ChildActivationStart);
    }
    toString() {
      return `ChildActivationStart(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  nb = class {
    constructor(t) {
      (this.snapshot = t), (this.type = yn.ChildActivationEnd);
    }
    toString() {
      return `ChildActivationEnd(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  rb = class {
    constructor(t) {
      (this.snapshot = t), (this.type = yn.ActivationStart);
    }
    toString() {
      return `ActivationStart(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  ab = class {
    constructor(t) {
      (this.snapshot = t), (this.type = yn.ActivationEnd);
    }
    toString() {
      return `ActivationEnd(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  yf = class {
    constructor(t, n, i) {
      (this.routerEvent = t),
        (this.position = n),
        (this.anchor = i),
        (this.type = yn.Scroll);
    }
    toString() {
      let t = this.position ? `${this.position[0]}, ${this.position[1]}` : null;
      return `Scroll(anchor: '${this.anchor}', position: '${t}')`;
    }
  },
  Mu = class {},
  Pl = class {
    constructor(t, n) {
      (this.url = t), (this.navigationBehaviorOptions = n);
    }
  };
function LO(e, t) {
  return (
    e.providers &&
      !e._injector &&
      (e._injector = xv(e.providers, t, `Route: ${e.path}`)),
    e._injector ?? t
  );
}
function Kr(e) {
  return e.outlet || Te;
}
function NO(e, t) {
  let n = e.filter((i) => Kr(i) === t);
  return n.push(...e.filter((i) => Kr(i) !== t)), n;
}
function Fu(e) {
  if (!e) return null;
  if (e.routeConfig?._injector) return e.routeConfig._injector;
  for (let t = e.parent; t; t = t.parent) {
    let n = t.routeConfig;
    if (n?._loadedInjector) return n._loadedInjector;
    if (n?._injector) return n._injector;
  }
  return null;
}
var ob = class {
    get injector() {
      return Fu(this.route?.snapshot) ?? this.rootInjector;
    }
    set injector(t) {}
    constructor(t) {
      (this.rootInjector = t),
        (this.outlet = null),
        (this.route = null),
        (this.children = new Bu(this.rootInjector)),
        (this.attachRef = null);
    }
  },
  Bu = (() => {
    let t = class t {
      constructor(i) {
        (this.rootInjector = i), (this.contexts = new Map());
      }
      onChildOutletCreated(i, r) {
        let a = this.getOrCreateContext(i);
        (a.outlet = r), this.contexts.set(i, a);
      }
      onChildOutletDestroyed(i) {
        let r = this.getContext(i);
        r && ((r.outlet = null), (r.attachRef = null));
      }
      onOutletDeactivated() {
        let i = this.contexts;
        return (this.contexts = new Map()), i;
      }
      onOutletReAttached(i) {
        this.contexts = i;
      }
      getOrCreateContext(i) {
        let r = this.getContext(i);
        return (
          r || ((r = new ob(this.rootInjector)), this.contexts.set(i, r)), r
        );
      }
      getContext(i) {
        return this.contexts.get(i) || null;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(vs));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  _f = class {
    constructor(t) {
      this._root = t;
    }
    get root() {
      return this._root.value;
    }
    parent(t) {
      let n = this.pathFromRoot(t);
      return n.length > 1 ? n[n.length - 2] : null;
    }
    children(t) {
      let n = sb(t, this._root);
      return n ? n.children.map((i) => i.value) : [];
    }
    firstChild(t) {
      let n = sb(t, this._root);
      return n && n.children.length > 0 ? n.children[0].value : null;
    }
    siblings(t) {
      let n = lb(t, this._root);
      return n.length < 2
        ? []
        : n[n.length - 2].children.map((r) => r.value).filter((r) => r !== t);
    }
    pathFromRoot(t) {
      return lb(t, this._root).map((n) => n.value);
    }
  };
function sb(e, t) {
  if (e === t.value) return t;
  for (let n of t.children) {
    let i = sb(e, n);
    if (i) return i;
  }
  return null;
}
function lb(e, t) {
  if (e === t.value) return [t];
  for (let n of t.children) {
    let i = lb(e, n);
    if (i.length) return i.unshift(t), i;
  }
  return [];
}
var mr = class {
  constructor(t, n) {
    (this.value = t), (this.children = n);
  }
  toString() {
    return `TreeNode(${this.value})`;
  }
};
function Dl(e) {
  let t = {};
  return e && e.children.forEach((n) => (t[n.value.outlet] = n)), t;
}
var xf = class extends _f {
  constructor(t, n) {
    super(t), (this.snapshot = n), vb(this, t);
  }
  toString() {
    return this.snapshot.toString();
  }
};
function Hw(e) {
  let t = FO(e),
    n = new Gi([new ws('', {})]),
    i = new Gi({}),
    r = new Gi({}),
    a = new Gi({}),
    o = new Gi(''),
    s = new Co(n, i, a, o, r, Te, e, t.root);
  return (s.snapshot = t.root), new xf(new mr(s, []), t);
}
function FO(e) {
  let t = {},
    n = {},
    i = {},
    r = '',
    a = new Ml([], t, i, r, n, Te, e, null, {});
  return new kf('', new mr(a, []));
}
var Co = class {
  constructor(t, n, i, r, a, o, s, l) {
    (this.urlSubject = t),
      (this.paramsSubject = n),
      (this.queryParamsSubject = i),
      (this.fragmentSubject = r),
      (this.dataSubject = a),
      (this.outlet = o),
      (this.component = s),
      (this._futureSnapshot = l),
      (this.title = this.dataSubject?.pipe(re((c) => c[Lu])) ?? qt(void 0)),
      (this.url = t),
      (this.params = n),
      (this.queryParams = i),
      (this.fragment = r),
      (this.data = a);
  }
  get routeConfig() {
    return this._futureSnapshot.routeConfig;
  }
  get root() {
    return this._routerState.root;
  }
  get parent() {
    return this._routerState.parent(this);
  }
  get firstChild() {
    return this._routerState.firstChild(this);
  }
  get children() {
    return this._routerState.children(this);
  }
  get pathFromRoot() {
    return this._routerState.pathFromRoot(this);
  }
  get paramMap() {
    return (
      (this._paramMap ??= this.params.pipe(re((t) => Il(t)))), this._paramMap
    );
  }
  get queryParamMap() {
    return (
      (this._queryParamMap ??= this.queryParams.pipe(re((t) => Il(t)))),
      this._queryParamMap
    );
  }
  toString() {
    return this.snapshot
      ? this.snapshot.toString()
      : `Future(${this._futureSnapshot})`;
  }
};
function wf(e, t, n = 'emptyOnly') {
  let i,
    { routeConfig: r } = e;
  return (
    t !== null &&
    (n === 'always' ||
      r?.path === '' ||
      (!t.component && !t.routeConfig?.loadComponent))
      ? (i = {
          params: Bt(Bt({}, t.params), e.params),
          data: Bt(Bt({}, t.data), e.data),
          resolve: Bt(Bt(Bt(Bt({}, e.data), t.data), r?.data), e._resolvedData),
        })
      : (i = {
          params: Bt({}, e.params),
          data: Bt({}, e.data),
          resolve: Bt(Bt({}, e.data), e._resolvedData ?? {}),
        }),
    r && $w(r) && (i.resolve[Lu] = r.title),
    i
  );
}
var Ml = class {
    get title() {
      return this.data?.[Lu];
    }
    constructor(t, n, i, r, a, o, s, l, c) {
      (this.url = t),
        (this.params = n),
        (this.queryParams = i),
        (this.fragment = r),
        (this.data = a),
        (this.outlet = o),
        (this.component = s),
        (this.routeConfig = l),
        (this._resolve = c);
    }
    get root() {
      return this._routerState.root;
    }
    get parent() {
      return this._routerState.parent(this);
    }
    get firstChild() {
      return this._routerState.firstChild(this);
    }
    get children() {
      return this._routerState.children(this);
    }
    get pathFromRoot() {
      return this._routerState.pathFromRoot(this);
    }
    get paramMap() {
      return (this._paramMap ??= Il(this.params)), this._paramMap;
    }
    get queryParamMap() {
      return (
        (this._queryParamMap ??= Il(this.queryParams)), this._queryParamMap
      );
    }
    toString() {
      let t = this.url.map((i) => i.toString()).join('/'),
        n = this.routeConfig ? this.routeConfig.path : '';
      return `Route(url:'${t}', path:'${n}')`;
    }
  },
  kf = class extends _f {
    constructor(t, n) {
      super(n), (this.url = t), vb(this, n);
    }
    toString() {
      return Ww(this._root);
    }
  };
function vb(e, t) {
  (t.value._routerState = e), t.children.forEach((n) => vb(e, n));
}
function Ww(e) {
  let t = e.children.length > 0 ? ` { ${e.children.map(Ww).join(', ')} } ` : '';
  return `${e.value}${t}`;
}
function Uv(e) {
  if (e.snapshot) {
    let t = e.snapshot,
      n = e._futureSnapshot;
    (e.snapshot = n),
      ba(t.queryParams, n.queryParams) ||
        e.queryParamsSubject.next(n.queryParams),
      t.fragment !== n.fragment && e.fragmentSubject.next(n.fragment),
      ba(t.params, n.params) || e.paramsSubject.next(n.params),
      uO(t.url, n.url) || e.urlSubject.next(n.url),
      ba(t.data, n.data) || e.dataSubject.next(n.data);
  } else
    (e.snapshot = e._futureSnapshot),
      e.dataSubject.next(e._futureSnapshot.data);
}
function cb(e, t) {
  let n = ba(e.params, t.params) && pO(e.url, t.url),
    i = !e.parent != !t.parent;
  return n && !i && (!e.parent || cb(e.parent, t.parent));
}
function $w(e) {
  return typeof e.title == 'string' || e.title === null;
}
var bb = (() => {
    let t = class t {
      constructor() {
        (this.activated = null),
          (this._activatedRoute = null),
          (this.name = Te),
          (this.activateEvents = new bi()),
          (this.deactivateEvents = new bi()),
          (this.attachEvents = new bi()),
          (this.detachEvents = new bi()),
          (this.parentContexts = It(Bu)),
          (this.location = It(ru)),
          (this.changeDetector = It(Yi)),
          (this.inputBinder = It(Tf, { optional: !0 })),
          (this.supportsBindingToComponentInputs = !0);
      }
      get activatedComponentRef() {
        return this.activated;
      }
      ngOnChanges(i) {
        if (i.name) {
          let { firstChange: r, previousValue: a } = i.name;
          if (r) return;
          this.isTrackedInParentContexts(a) &&
            (this.deactivate(), this.parentContexts.onChildOutletDestroyed(a)),
            this.initializeOutletWithName();
        }
      }
      ngOnDestroy() {
        this.isTrackedInParentContexts(this.name) &&
          this.parentContexts.onChildOutletDestroyed(this.name),
          this.inputBinder?.unsubscribeFromRouteData(this);
      }
      isTrackedInParentContexts(i) {
        return this.parentContexts.getContext(i)?.outlet === this;
      }
      ngOnInit() {
        this.initializeOutletWithName();
      }
      initializeOutletWithName() {
        if (
          (this.parentContexts.onChildOutletCreated(this.name, this),
          this.activated)
        )
          return;
        let i = this.parentContexts.getContext(this.name);
        i?.route &&
          (i.attachRef
            ? this.attach(i.attachRef, i.route)
            : this.activateWith(i.route, i.injector));
      }
      get isActivated() {
        return !!this.activated;
      }
      get component() {
        if (!this.activated) throw new vi(4012, !1);
        return this.activated.instance;
      }
      get activatedRoute() {
        if (!this.activated) throw new vi(4012, !1);
        return this._activatedRoute;
      }
      get activatedRouteData() {
        return this._activatedRoute ? this._activatedRoute.snapshot.data : {};
      }
      detach() {
        if (!this.activated) throw new vi(4012, !1);
        this.location.detach();
        let i = this.activated;
        return (
          (this.activated = null),
          (this._activatedRoute = null),
          this.detachEvents.emit(i.instance),
          i
        );
      }
      attach(i, r) {
        (this.activated = i),
          (this._activatedRoute = r),
          this.location.insert(i.hostView),
          this.inputBinder?.bindActivatedRouteToOutletComponent(this),
          this.attachEvents.emit(i.instance);
      }
      deactivate() {
        if (this.activated) {
          let i = this.component;
          this.activated.destroy(),
            (this.activated = null),
            (this._activatedRoute = null),
            this.deactivateEvents.emit(i);
        }
      }
      activateWith(i, r) {
        if (this.isActivated) throw new vi(4013, !1);
        this._activatedRoute = i;
        let a = this.location,
          s = i.snapshot.component,
          l = this.parentContexts.getOrCreateContext(this.name).children,
          c = new ub(i, l, a.injector);
        (this.activated = a.createComponent(s, {
          index: a.length,
          injector: c,
          environmentInjector: r,
        })),
          this.changeDetector.markForCheck(),
          this.inputBinder?.bindActivatedRouteToOutletComponent(this),
          this.activateEvents.emit(this.activated.instance);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['router-outlet']],
        inputs: { name: 'name' },
        outputs: {
          activateEvents: 'activate',
          deactivateEvents: 'deactivate',
          attachEvents: 'attach',
          detachEvents: 'detach',
        },
        exportAs: ['outlet'],
        standalone: !0,
        features: [$r],
      }));
    let e = t;
    return e;
  })(),
  ub = class e {
    __ngOutletInjector(t) {
      return new e(this.route, this.childContexts, t);
    }
    constructor(t, n, i) {
      (this.route = t), (this.childContexts = n), (this.parent = i);
    }
    get(t, n) {
      return t === Co
        ? this.route
        : t === Bu
          ? this.childContexts
          : this.parent.get(t, n);
    }
  },
  Tf = new ge(''),
  Cw = (() => {
    let t = class t {
      constructor() {
        this.outletDataSubscriptions = new Map();
      }
      bindActivatedRouteToOutletComponent(i) {
        this.unsubscribeFromRouteData(i), this.subscribeToRouteData(i);
      }
      unsubscribeFromRouteData(i) {
        this.outletDataSubscriptions.get(i)?.unsubscribe(),
          this.outletDataSubscriptions.delete(i);
      }
      subscribeToRouteData(i) {
        let { activatedRoute: r } = i,
          a = Tr([r.queryParams, r.params, r.data])
            .pipe(
              ln(
                ([o, s, l], c) => (
                  (l = Bt(Bt(Bt({}, o), s), l)),
                  c === 0 ? qt(l) : Promise.resolve(l)
                )
              )
            )
            .subscribe((o) => {
              if (
                !i.isActivated ||
                !i.activatedComponentRef ||
                i.activatedRoute !== r ||
                r.component === null
              ) {
                this.unsubscribeFromRouteData(i);
                return;
              }
              let s = Ux(r.component);
              if (!s) {
                this.unsubscribeFromRouteData(i);
                return;
              }
              for (let { templateName: l } of s.inputs)
                i.activatedComponentRef.setInput(l, o[l]);
            });
        this.outletDataSubscriptions.set(i, a);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })();
function BO(e, t, n) {
  let i = Au(e, t._root, n ? n._root : void 0);
  return new xf(i, t);
}
function Au(e, t, n) {
  if (n && e.shouldReuseRoute(t.value, n.value.snapshot)) {
    let i = n.value;
    i._futureSnapshot = t.value;
    let r = zO(e, t, n);
    return new mr(i, r);
  } else {
    if (e.shouldAttach(t.value)) {
      let a = e.retrieve(t.value);
      if (a !== null) {
        let o = a.route;
        return (
          (o.value._futureSnapshot = t.value),
          (o.children = t.children.map((s) => Au(e, s))),
          o
        );
      }
    }
    let i = VO(t.value),
      r = t.children.map((a) => Au(e, a));
    return new mr(i, r);
  }
}
function zO(e, t, n) {
  return t.children.map((i) => {
    for (let r of n.children)
      if (e.shouldReuseRoute(i.value, r.value.snapshot)) return Au(e, i, r);
    return Au(e, i);
  });
}
function VO(e) {
  return new Co(
    new Gi(e.url),
    new Gi(e.params),
    new Gi(e.queryParams),
    new Gi(e.fragment),
    new Gi(e.data),
    e.outlet,
    e.component,
    e
  );
}
var Iu = class {
    constructor(t, n) {
      (this.redirectTo = t), (this.navigationBehaviorOptions = n);
    }
  },
  Gw = 'ngNavigationCancelingError';
function Cf(e, t) {
  let { redirectTo: n, navigationBehaviorOptions: i } = Cs(t)
      ? { redirectTo: t, navigationBehaviorOptions: void 0 }
      : t,
    r = Yw(!1, gr.Redirect);
  return (r.url = n), (r.navigationBehaviorOptions = i), r;
}
function Yw(e, t) {
  let n = new Error(`NavigationCancelingError: ${e || ''}`);
  return (n[Gw] = !0), (n.cancellationCode = t), n;
}
function jO(e) {
  return Kw(e) && Cs(e.url);
}
function Kw(e) {
  return !!e && e[Gw];
}
var qO = (e, t, n, i) =>
    re(
      (r) => (
        new db(t, r.targetRouterState, r.currentRouterState, n, i).activate(e),
        r
      )
    ),
  db = class {
    constructor(t, n, i, r, a) {
      (this.routeReuseStrategy = t),
        (this.futureState = n),
        (this.currState = i),
        (this.forwardEvent = r),
        (this.inputBindingEnabled = a);
    }
    activate(t) {
      let n = this.futureState._root,
        i = this.currState ? this.currState._root : null;
      this.deactivateChildRoutes(n, i, t),
        Uv(this.futureState.root),
        this.activateChildRoutes(n, i, t);
    }
    deactivateChildRoutes(t, n, i) {
      let r = Dl(n);
      t.children.forEach((a) => {
        let o = a.value.outlet;
        this.deactivateRoutes(a, r[o], i), delete r[o];
      }),
        Object.values(r).forEach((a) => {
          this.deactivateRouteAndItsChildren(a, i);
        });
    }
    deactivateRoutes(t, n, i) {
      let r = t.value,
        a = n ? n.value : null;
      if (r === a)
        if (r.component) {
          let o = i.getContext(r.outlet);
          o && this.deactivateChildRoutes(t, n, o.children);
        } else this.deactivateChildRoutes(t, n, i);
      else a && this.deactivateRouteAndItsChildren(n, i);
    }
    deactivateRouteAndItsChildren(t, n) {
      t.value.component &&
      this.routeReuseStrategy.shouldDetach(t.value.snapshot)
        ? this.detachAndStoreRouteSubtree(t, n)
        : this.deactivateRouteAndOutlet(t, n);
    }
    detachAndStoreRouteSubtree(t, n) {
      let i = n.getContext(t.value.outlet),
        r = i && t.value.component ? i.children : n,
        a = Dl(t);
      for (let o of Object.values(a)) this.deactivateRouteAndItsChildren(o, r);
      if (i && i.outlet) {
        let o = i.outlet.detach(),
          s = i.children.onOutletDeactivated();
        this.routeReuseStrategy.store(t.value.snapshot, {
          componentRef: o,
          route: t,
          contexts: s,
        });
      }
    }
    deactivateRouteAndOutlet(t, n) {
      let i = n.getContext(t.value.outlet),
        r = i && t.value.component ? i.children : n,
        a = Dl(t);
      for (let o of Object.values(a)) this.deactivateRouteAndItsChildren(o, r);
      i &&
        (i.outlet && (i.outlet.deactivate(), i.children.onOutletDeactivated()),
        (i.attachRef = null),
        (i.route = null));
    }
    activateChildRoutes(t, n, i) {
      let r = Dl(n);
      t.children.forEach((a) => {
        this.activateRoutes(a, r[a.value.outlet], i),
          this.forwardEvent(new ab(a.value.snapshot));
      }),
        t.children.length && this.forwardEvent(new nb(t.value.snapshot));
    }
    activateRoutes(t, n, i) {
      let r = t.value,
        a = n ? n.value : null;
      if ((Uv(r), r === a))
        if (r.component) {
          let o = i.getOrCreateContext(r.outlet);
          this.activateChildRoutes(t, n, o.children);
        } else this.activateChildRoutes(t, n, i);
      else if (r.component) {
        let o = i.getOrCreateContext(r.outlet);
        if (this.routeReuseStrategy.shouldAttach(r.snapshot)) {
          let s = this.routeReuseStrategy.retrieve(r.snapshot);
          this.routeReuseStrategy.store(r.snapshot, null),
            o.children.onOutletReAttached(s.contexts),
            (o.attachRef = s.componentRef),
            (o.route = s.route.value),
            o.outlet && o.outlet.attach(s.componentRef, s.route.value),
            Uv(s.route.value),
            this.activateChildRoutes(t, null, o.children);
        } else
          (o.attachRef = null),
            (o.route = r),
            o.outlet && o.outlet.activateWith(r, o.injector),
            this.activateChildRoutes(t, null, o.children);
      } else this.activateChildRoutes(t, null, i);
    }
  },
  Ef = class {
    constructor(t) {
      (this.path = t), (this.route = this.path[this.path.length - 1]);
    }
  },
  Al = class {
    constructor(t, n) {
      (this.component = t), (this.route = n);
    }
  };
function UO(e, t, n) {
  let i = e._root,
    r = t ? t._root : null;
  return wu(i, r, n, [i.value]);
}
function HO(e) {
  let t = e.routeConfig ? e.routeConfig.canActivateChild : null;
  return !t || t.length === 0 ? null : { node: e, guards: t };
}
function Nl(e, t) {
  let n = Symbol(),
    i = t.get(e, n);
  return i === n ? (typeof e == 'function' && !px(e) ? e : t.get(e)) : i;
}
function wu(
  e,
  t,
  n,
  i,
  r = { canDeactivateChecks: [], canActivateChecks: [] }
) {
  let a = Dl(t);
  return (
    e.children.forEach((o) => {
      WO(o, a[o.value.outlet], n, i.concat([o.value]), r),
        delete a[o.value.outlet];
    }),
    Object.entries(a).forEach(([o, s]) => Su(s, n.getContext(o), r)),
    r
  );
}
function WO(
  e,
  t,
  n,
  i,
  r = { canDeactivateChecks: [], canActivateChecks: [] }
) {
  let a = e.value,
    o = t ? t.value : null,
    s = n ? n.getContext(e.value.outlet) : null;
  if (o && a.routeConfig === o.routeConfig) {
    let l = $O(o, a, a.routeConfig.runGuardsAndResolvers);
    l
      ? r.canActivateChecks.push(new Ef(i))
      : ((a.data = o.data), (a._resolvedData = o._resolvedData)),
      a.component ? wu(e, t, s ? s.children : null, i, r) : wu(e, t, n, i, r),
      l &&
        s &&
        s.outlet &&
        s.outlet.isActivated &&
        r.canDeactivateChecks.push(new Al(s.outlet.component, o));
  } else
    o && Su(t, s, r),
      r.canActivateChecks.push(new Ef(i)),
      a.component
        ? wu(e, null, s ? s.children : null, i, r)
        : wu(e, null, n, i, r);
  return r;
}
function $O(e, t, n) {
  if (typeof n == 'function') return n(e, t);
  switch (n) {
    case 'pathParamsChange':
      return !ks(e.url, t.url);
    case 'pathParamsOrQueryParamsChange':
      return !ks(e.url, t.url) || !ba(e.queryParams, t.queryParams);
    case 'always':
      return !0;
    case 'paramsOrQueryParamsChange':
      return !cb(e, t) || !ba(e.queryParams, t.queryParams);
    case 'paramsChange':
    default:
      return !cb(e, t);
  }
}
function Su(e, t, n) {
  let i = Dl(e),
    r = e.value;
  Object.entries(i).forEach(([a, o]) => {
    r.component
      ? t
        ? Su(o, t.children.getContext(a), n)
        : Su(o, null, n)
      : Su(o, t, n);
  }),
    r.component
      ? t && t.outlet && t.outlet.isActivated
        ? n.canDeactivateChecks.push(new Al(t.outlet.component, r))
        : n.canDeactivateChecks.push(new Al(null, r))
      : n.canDeactivateChecks.push(new Al(null, r));
}
function zu(e) {
  return typeof e == 'function';
}
function GO(e) {
  return typeof e == 'boolean';
}
function YO(e) {
  return e && zu(e.canLoad);
}
function KO(e) {
  return e && zu(e.canActivate);
}
function XO(e) {
  return e && zu(e.canActivateChild);
}
function ZO(e) {
  return e && zu(e.canDeactivate);
}
function QO(e) {
  return e && zu(e.canMatch);
}
function Xw(e) {
  return e instanceof ux || e?.name === 'EmptyError';
}
var df = Symbol('INITIAL_VALUE');
function Ll() {
  return ln((e) =>
    Tr(e.map((t) => t.pipe(tn(1), Wr(df)))).pipe(
      re((t) => {
        for (let n of t)
          if (n !== !0) {
            if (n === df) return df;
            if (n === !1 || JO(n)) return n;
          }
        return !0;
      }),
      Fi((t) => t !== df),
      tn(1)
    )
  );
}
function JO(e) {
  return Cs(e) || e instanceof Iu;
}
function tP(e, t) {
  return hr((n) => {
    let {
      targetSnapshot: i,
      currentSnapshot: r,
      guards: { canActivateChecks: a, canDeactivateChecks: o },
    } = n;
    return o.length === 0 && a.length === 0
      ? qt(ni(Bt({}, n), { guardsResult: !0 }))
      : eP(o, i, r, e).pipe(
          hr((s) => (s && GO(s) ? iP(i, a, e, t) : qt(s))),
          re((s) => ni(Bt({}, n), { guardsResult: s }))
        );
  });
}
function eP(e, t, n, i) {
  return gn(e).pipe(
    hr((r) => sP(r.component, r.route, n, t, i)),
    bo((r) => r !== !0, !0)
  );
}
function iP(e, t, n, i) {
  return gn(t).pipe(
    Hr((r) =>
      ps(
        rP(r.route.parent, i),
        nP(r.route, i),
        oP(e, r.path, n),
        aP(e, r.route, n)
      )
    ),
    bo((r) => r !== !0, !0)
  );
}
function nP(e, t) {
  return e !== null && t && t(new rb(e)), qt(!0);
}
function rP(e, t) {
  return e !== null && t && t(new ib(e)), qt(!0);
}
function aP(e, t, n) {
  let i = t.routeConfig ? t.routeConfig.canActivate : null;
  if (!i || i.length === 0) return qt(!0);
  let r = i.map((a) =>
    cv(() => {
      let o = Fu(t) ?? n,
        s = Nl(a, o),
        l = KO(s) ? s.canActivate(t, e) : Mr(o, () => s(t, e));
      return Eo(l).pipe(bo());
    })
  );
  return qt(r).pipe(Ll());
}
function oP(e, t, n) {
  let i = t[t.length - 1],
    a = t
      .slice(0, t.length - 1)
      .reverse()
      .map((o) => HO(o))
      .filter((o) => o !== null)
      .map((o) =>
        cv(() => {
          let s = o.guards.map((l) => {
            let c = Fu(o.node) ?? n,
              u = Nl(l, c),
              d = XO(u) ? u.canActivateChild(i, e) : Mr(c, () => u(i, e));
            return Eo(d).pipe(bo());
          });
          return qt(s).pipe(Ll());
        })
      );
  return qt(a).pipe(Ll());
}
function sP(e, t, n, i, r) {
  let a = t && t.routeConfig ? t.routeConfig.canDeactivate : null;
  if (!a || a.length === 0) return qt(!0);
  let o = a.map((s) => {
    let l = Fu(t) ?? r,
      c = Nl(s, l),
      u = ZO(c) ? c.canDeactivate(e, t, n, i) : Mr(l, () => c(e, t, n, i));
    return Eo(u).pipe(bo());
  });
  return qt(o).pipe(Ll());
}
function lP(e, t, n, i) {
  let r = t.canLoad;
  if (r === void 0 || r.length === 0) return qt(!0);
  let a = r.map((o) => {
    let s = Nl(o, e),
      l = YO(s) ? s.canLoad(t, n) : Mr(e, () => s(t, n));
    return Eo(l);
  });
  return qt(a).pipe(Ll(), Zw(i));
}
function Zw(e) {
  return cx(
    fi((t) => {
      if (typeof t != 'boolean') throw Cf(e, t);
    }),
    re((t) => t === !0)
  );
}
function cP(e, t, n, i) {
  let r = t.canMatch;
  if (!r || r.length === 0) return qt(!0);
  let a = r.map((o) => {
    let s = Nl(o, e),
      l = QO(s) ? s.canMatch(t, n) : Mr(e, () => s(t, n));
    return Eo(l);
  });
  return qt(a).pipe(Ll(), Zw(i));
}
var Ru = class {
    constructor(t) {
      this.segmentGroup = t || null;
    }
  },
  Ou = class extends Error {
    constructor(t) {
      super(), (this.urlTree = t);
    }
  };
function Sl(e) {
  return fs(new Ru(e));
}
function uP(e) {
  return fs(new vi(4e3, !1));
}
function dP(e) {
  return fs(Yw(!1, gr.GuardRejected));
}
var hb = class {
    constructor(t, n) {
      (this.urlSerializer = t), (this.urlTree = n);
    }
    lineralizeSegments(t, n) {
      let i = [],
        r = n.root;
      for (;;) {
        if (((i = i.concat(r.segments)), r.numberOfChildren === 0))
          return qt(i);
        if (r.numberOfChildren > 1 || !r.children[Te])
          return uP(`${t.redirectTo}`);
        r = r.children[Te];
      }
    }
    applyRedirectCommands(t, n, i, r, a) {
      if (typeof n != 'string') {
        let s = n,
          {
            queryParams: l,
            fragment: c,
            routeConfig: u,
            url: d,
            outlet: h,
            params: p,
            data: m,
            title: _,
          } = r,
          v = Mr(a, () =>
            s({
              params: p,
              data: m,
              queryParams: l,
              fragment: c,
              routeConfig: u,
              url: d,
              outlet: h,
              title: _,
            })
          );
        if (v instanceof ja) throw new Ou(v);
        n = v;
      }
      let o = this.applyRedirectCreateUrlTree(
        n,
        this.urlSerializer.parse(n),
        t,
        i
      );
      if (n[0] === '/') throw new Ou(o);
      return o;
    }
    applyRedirectCreateUrlTree(t, n, i, r) {
      let a = this.createSegmentGroup(t, n.root, i, r);
      return new ja(
        a,
        this.createQueryParams(n.queryParams, this.urlTree.queryParams),
        n.fragment
      );
    }
    createQueryParams(t, n) {
      let i = {};
      return (
        Object.entries(t).forEach(([r, a]) => {
          if (typeof a == 'string' && a[0] === ':') {
            let s = a.substring(1);
            i[r] = n[s];
          } else i[r] = a;
        }),
        i
      );
    }
    createSegmentGroup(t, n, i, r) {
      let a = this.createSegments(t, n.segments, i, r),
        o = {};
      return (
        Object.entries(n.children).forEach(([s, l]) => {
          o[s] = this.createSegmentGroup(t, l, i, r);
        }),
        new oi(a, o)
      );
    }
    createSegments(t, n, i, r) {
      return n.map((a) =>
        a.path[0] === ':' ? this.findPosParam(t, a, r) : this.findOrReturn(a, i)
      );
    }
    findPosParam(t, n, i) {
      let r = i[n.path.substring(1)];
      if (!r) throw new vi(4001, !1);
      return r;
    }
    findOrReturn(t, n) {
      let i = 0;
      for (let r of n) {
        if (r.path === t.path) return n.splice(i), r;
        i++;
      }
      return t;
    }
  },
  fb = {
    matched: !1,
    consumedSegments: [],
    remainingSegments: [],
    parameters: {},
    positionalParamSegments: {},
  };
function hP(e, t, n, i, r) {
  let a = yb(e, t, n);
  return a.matched
    ? ((i = LO(t, i)),
      cP(i, t, n, r).pipe(re((o) => (o === !0 ? a : Bt({}, fb)))))
    : qt(a);
}
function yb(e, t, n) {
  if (t.path === '**') return fP(n);
  if (t.path === '')
    return t.pathMatch === 'full' && (e.hasChildren() || n.length > 0)
      ? Bt({}, fb)
      : {
          matched: !0,
          consumedSegments: [],
          remainingSegments: n,
          parameters: {},
          positionalParamSegments: {},
        };
  let r = (t.matcher || cO)(n, e, t);
  if (!r) return Bt({}, fb);
  let a = {};
  Object.entries(r.posParams ?? {}).forEach(([s, l]) => {
    a[s] = l.path;
  });
  let o =
    r.consumed.length > 0
      ? Bt(Bt({}, a), r.consumed[r.consumed.length - 1].parameters)
      : a;
  return {
    matched: !0,
    consumedSegments: r.consumed,
    remainingSegments: n.slice(r.consumed.length),
    parameters: o,
    positionalParamSegments: r.posParams ?? {},
  };
}
function fP(e) {
  return {
    matched: !0,
    parameters: e.length > 0 ? Iw(e).parameters : {},
    consumedSegments: e,
    remainingSegments: [],
    positionalParamSegments: {},
  };
}
function Ew(e, t, n, i) {
  return n.length > 0 && gP(e, n, i)
    ? {
        segmentGroup: new oi(t, mP(i, new oi(n, e.children))),
        slicedSegments: [],
      }
    : n.length === 0 && vP(e, n, i)
      ? {
          segmentGroup: new oi(e.segments, pP(e, n, i, e.children)),
          slicedSegments: n,
        }
      : { segmentGroup: new oi(e.segments, e.children), slicedSegments: n };
}
function pP(e, t, n, i) {
  let r = {};
  for (let a of n)
    if (Mf(e, t, a) && !i[Kr(a)]) {
      let o = new oi([], {});
      r[Kr(a)] = o;
    }
  return Bt(Bt({}, i), r);
}
function mP(e, t) {
  let n = {};
  n[Te] = t;
  for (let i of e)
    if (i.path === '' && Kr(i) !== Te) {
      let r = new oi([], {});
      n[Kr(i)] = r;
    }
  return n;
}
function gP(e, t, n) {
  return n.some((i) => Mf(e, t, i) && Kr(i) !== Te);
}
function vP(e, t, n) {
  return n.some((i) => Mf(e, t, i));
}
function Mf(e, t, n) {
  return (e.hasChildren() || t.length > 0) && n.pathMatch === 'full'
    ? !1
    : n.path === '';
}
function bP(e, t, n, i) {
  return Kr(e) !== i && (i === Te || !Mf(t, n, e)) ? !1 : yb(t, e, n).matched;
}
function yP(e, t, n) {
  return t.length === 0 && !e.children[n];
}
var pb = class {};
function _P(e, t, n, i, r, a, o = 'emptyOnly') {
  return new mb(e, t, n, i, r, o, a).recognize();
}
var xP = 31,
  mb = class {
    constructor(t, n, i, r, a, o, s) {
      (this.injector = t),
        (this.configLoader = n),
        (this.rootComponentType = i),
        (this.config = r),
        (this.urlTree = a),
        (this.paramsInheritanceStrategy = o),
        (this.urlSerializer = s),
        (this.applyRedirects = new hb(this.urlSerializer, this.urlTree)),
        (this.absoluteRedirectCount = 0),
        (this.allowRedirects = !0);
    }
    noMatchError(t) {
      return new vi(4002, `'${t.segmentGroup}'`);
    }
    recognize() {
      let t = Ew(this.urlTree.root, [], [], this.config).segmentGroup;
      return this.match(t).pipe(
        re(({ children: n, rootSnapshot: i }) => {
          let r = new mr(i, n),
            a = new kf('', r),
            o = TO(i, [], this.urlTree.queryParams, this.urlTree.fragment);
          return (
            (o.queryParams = this.urlTree.queryParams),
            (a.url = this.urlSerializer.serialize(o)),
            { state: a, tree: o }
          );
        })
      );
    }
    match(t) {
      let n = new Ml(
        [],
        Object.freeze({}),
        Object.freeze(Bt({}, this.urlTree.queryParams)),
        this.urlTree.fragment,
        Object.freeze({}),
        Te,
        this.rootComponentType,
        null,
        {}
      );
      return this.processSegmentGroup(
        this.injector,
        this.config,
        t,
        Te,
        n
      ).pipe(
        re((i) => ({ children: i, rootSnapshot: n })),
        mo((i) => {
          if (i instanceof Ou)
            return (this.urlTree = i.urlTree), this.match(i.urlTree.root);
          throw i instanceof Ru ? this.noMatchError(i) : i;
        })
      );
    }
    processSegmentGroup(t, n, i, r, a) {
      return i.segments.length === 0 && i.hasChildren()
        ? this.processChildren(t, n, i, a)
        : this.processSegment(t, n, i, i.segments, r, !0, a).pipe(
            re((o) => (o instanceof mr ? [o] : []))
          );
    }
    processChildren(t, n, i, r) {
      let a = [];
      for (let o of Object.keys(i.children))
        o === 'primary' ? a.unshift(o) : a.push(o);
      return gn(a).pipe(
        Hr((o) => {
          let s = i.children[o],
            l = NO(n, o);
          return this.processSegmentGroup(t, l, s, o, r);
        }),
        hx((o, s) => (o.push(...s), o)),
        hv(null),
        dx(),
        hr((o) => {
          if (o === null) return Sl(i);
          let s = Qw(o);
          return wP(s), qt(s);
        })
      );
    }
    processSegment(t, n, i, r, a, o, s) {
      return gn(n).pipe(
        Hr((l) =>
          this.processSegmentAgainstRoute(
            l._injector ?? t,
            n,
            l,
            i,
            r,
            a,
            o,
            s
          ).pipe(
            mo((c) => {
              if (c instanceof Ru) return qt(null);
              throw c;
            })
          )
        ),
        bo((l) => !!l),
        mo((l) => {
          if (Xw(l)) return yP(i, r, a) ? qt(new pb()) : Sl(i);
          throw l;
        })
      );
    }
    processSegmentAgainstRoute(t, n, i, r, a, o, s, l) {
      return bP(i, r, a, o)
        ? i.redirectTo === void 0
          ? this.matchSegmentAgainstRoute(t, r, i, a, o, l)
          : this.allowRedirects && s
            ? this.expandSegmentAgainstRouteUsingRedirect(t, r, n, i, a, o, l)
            : Sl(r)
        : Sl(r);
    }
    expandSegmentAgainstRouteUsingRedirect(t, n, i, r, a, o, s) {
      let {
        matched: l,
        parameters: c,
        consumedSegments: u,
        positionalParamSegments: d,
        remainingSegments: h,
      } = yb(n, r, a);
      if (!l) return Sl(n);
      typeof r.redirectTo == 'string' &&
        r.redirectTo[0] === '/' &&
        (this.absoluteRedirectCount++,
        this.absoluteRedirectCount > xP && (this.allowRedirects = !1));
      let p = new Ml(
          a,
          c,
          Object.freeze(Bt({}, this.urlTree.queryParams)),
          this.urlTree.fragment,
          Sw(r),
          Kr(r),
          r.component ?? r._loadedComponent ?? null,
          r,
          Dw(r)
        ),
        m = wf(p, s, this.paramsInheritanceStrategy);
      (p.params = Object.freeze(m.params)), (p.data = Object.freeze(m.data));
      let _ = this.applyRedirects.applyRedirectCommands(
        u,
        r.redirectTo,
        d,
        p,
        t
      );
      return this.applyRedirects
        .lineralizeSegments(r, _)
        .pipe(hr((v) => this.processSegment(t, i, n, v.concat(h), o, !1, s)));
    }
    matchSegmentAgainstRoute(t, n, i, r, a, o) {
      let s = hP(n, i, r, t, this.urlSerializer);
      return (
        i.path === '**' && (n.children = {}),
        s.pipe(
          ln((l) =>
            l.matched
              ? ((t = i._injector ?? t),
                this.getChildConfig(t, i, r).pipe(
                  ln(({ routes: c }) => {
                    let u = i._loadedInjector ?? t,
                      {
                        parameters: d,
                        consumedSegments: h,
                        remainingSegments: p,
                      } = l,
                      m = new Ml(
                        h,
                        d,
                        Object.freeze(Bt({}, this.urlTree.queryParams)),
                        this.urlTree.fragment,
                        Sw(i),
                        Kr(i),
                        i.component ?? i._loadedComponent ?? null,
                        i,
                        Dw(i)
                      ),
                      _ = wf(m, o, this.paramsInheritanceStrategy);
                    (m.params = Object.freeze(_.params)),
                      (m.data = Object.freeze(_.data));
                    let { segmentGroup: v, slicedSegments: y } = Ew(n, h, p, c);
                    if (y.length === 0 && v.hasChildren())
                      return this.processChildren(u, c, v, m).pipe(
                        re((x) => new mr(m, x))
                      );
                    if (c.length === 0 && y.length === 0)
                      return qt(new mr(m, []));
                    let w = Kr(i) === a;
                    return this.processSegment(
                      u,
                      c,
                      v,
                      y,
                      w ? Te : a,
                      !0,
                      m
                    ).pipe(re((x) => new mr(m, x instanceof mr ? [x] : [])));
                  })
                ))
              : Sl(n)
          )
        )
      );
    }
    getChildConfig(t, n, i) {
      return n.children
        ? qt({ routes: n.children, injector: t })
        : n.loadChildren
          ? n._loadedRoutes !== void 0
            ? qt({ routes: n._loadedRoutes, injector: n._loadedInjector })
            : lP(t, n, i, this.urlSerializer).pipe(
                hr((r) =>
                  r
                    ? this.configLoader.loadChildren(t, n).pipe(
                        fi((a) => {
                          (n._loadedRoutes = a.routes),
                            (n._loadedInjector = a.injector);
                        })
                      )
                    : dP(n)
                )
              )
          : qt({ routes: [], injector: t });
    }
  };
function wP(e) {
  e.sort((t, n) =>
    t.value.outlet === Te
      ? -1
      : n.value.outlet === Te
        ? 1
        : t.value.outlet.localeCompare(n.value.outlet)
  );
}
function kP(e) {
  let t = e.value.routeConfig;
  return t && t.path === '';
}
function Qw(e) {
  let t = [],
    n = new Set();
  for (let i of e) {
    if (!kP(i)) {
      t.push(i);
      continue;
    }
    let r = t.find((a) => i.value.routeConfig === a.value.routeConfig);
    r !== void 0 ? (r.children.push(...i.children), n.add(r)) : t.push(i);
  }
  for (let i of n) {
    let r = Qw(i.children);
    t.push(new mr(i.value, r));
  }
  return t.filter((i) => !n.has(i));
}
function Sw(e) {
  return e.data || {};
}
function Dw(e) {
  return e.resolve || {};
}
function CP(e, t, n, i, r, a) {
  return hr((o) =>
    _P(e, t, n, i, o.extractedUrl, r, a).pipe(
      re(({ state: s, tree: l }) =>
        ni(Bt({}, o), { targetSnapshot: s, urlAfterRedirects: l })
      )
    )
  );
}
function EP(e, t) {
  return hr((n) => {
    let {
      targetSnapshot: i,
      guards: { canActivateChecks: r },
    } = n;
    if (!r.length) return qt(n);
    let a = new Set(r.map((l) => l.route)),
      o = new Set();
    for (let l of a) if (!o.has(l)) for (let c of Jw(l)) o.add(c);
    let s = 0;
    return gn(o).pipe(
      Hr((l) =>
        a.has(l)
          ? SP(l, i, e, t)
          : ((l.data = wf(l, l.parent, e).resolve), qt(void 0))
      ),
      fi(() => s++),
      fv(1),
      hr((l) => (s === o.size ? qt(n) : pa))
    );
  });
}
function Jw(e) {
  let t = e.children.map((n) => Jw(n)).flat();
  return [e, ...t];
}
function SP(e, t, n, i) {
  let r = e.routeConfig,
    a = e._resolve;
  return (
    r?.title !== void 0 && !$w(r) && (a[Lu] = r.title),
    DP(a, e, t, i).pipe(
      re(
        (o) => (
          (e._resolvedData = o), (e.data = wf(e, e.parent, n).resolve), null
        )
      )
    )
  );
}
function DP(e, t, n, i) {
  let r = $v(e);
  if (r.length === 0) return qt({});
  let a = {};
  return gn(r).pipe(
    hr((o) =>
      TP(e[o], t, n, i).pipe(
        bo(),
        fi((s) => {
          if (s instanceof Iu) throw Cf(new Rl(), s);
          a[o] = s;
        })
      )
    ),
    fv(1),
    tu(a),
    mo((o) => (Xw(o) ? pa : fs(o)))
  );
}
function TP(e, t, n, i) {
  let r = Fu(t) ?? i,
    a = Nl(e, r),
    o = a.resolve ? a.resolve(t, n) : Mr(r, () => a(t, n));
  return Eo(o);
}
function Hv(e) {
  return ln((t) => {
    let n = e(t);
    return n ? gn(n).pipe(re(() => t)) : qt(t);
  });
}
var t1 = (() => {
    let t = class t {
      buildTitle(i) {
        let r,
          a = i.root;
        for (; a !== void 0; )
          (r = this.getResolvedTitleForRoute(a) ?? r),
            (a = a.children.find((o) => o.outlet === Te));
        return r;
      }
      getResolvedTitleForRoute(i) {
        return i.data[Lu];
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: () => It(MP), providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  MP = (() => {
    let t = class t extends t1 {
      constructor(i) {
        super(), (this.title = i);
      }
      updateTitle(i) {
        let r = this.buildTitle(i);
        r !== void 0 && this.title.setTitle(r);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(bw));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  Vu = new ge('', { providedIn: 'root', factory: () => ({}) }),
  AP = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['ng-component']],
        standalone: !0,
        features: [Ie],
        decls: 1,
        vars: 0,
        template: function (r, a) {
          r & 1 && ri(0, 'router-outlet');
        },
        dependencies: [bb],
        encapsulation: 2,
      }));
    let e = t;
    return e;
  })();
function _b(e) {
  let t = e.children && e.children.map(_b),
    n = t ? ni(Bt({}, e), { children: t }) : Bt({}, e);
  return (
    !n.component &&
      !n.loadComponent &&
      (t || n.loadChildren) &&
      n.outlet &&
      n.outlet !== Te &&
      (n.component = AP),
    n
  );
}
var Pu = new ge(''),
  xb = (() => {
    let t = class t {
      constructor() {
        (this.componentLoaders = new WeakMap()),
          (this.childrenLoaders = new WeakMap()),
          (this.compiler = It(Zh));
      }
      loadComponent(i) {
        if (this.componentLoaders.get(i)) return this.componentLoaders.get(i);
        if (i._loadedComponent) return qt(i._loadedComponent);
        this.onLoadStartListener && this.onLoadStartListener(i);
        let r = Eo(i.loadComponent()).pipe(
            re(e1),
            fi((o) => {
              this.onLoadEndListener && this.onLoadEndListener(i),
                (i._loadedComponent = o);
            }),
            vo(() => {
              this.componentLoaders.delete(i);
            })
          ),
          a = new Zc(r, () => new Se()).pipe(lv());
        return this.componentLoaders.set(i, a), a;
      }
      loadChildren(i, r) {
        if (this.childrenLoaders.get(r)) return this.childrenLoaders.get(r);
        if (r._loadedRoutes)
          return qt({ routes: r._loadedRoutes, injector: r._loadedInjector });
        this.onLoadStartListener && this.onLoadStartListener(r);
        let o = IP(r, this.compiler, i, this.onLoadEndListener).pipe(
            vo(() => {
              this.childrenLoaders.delete(r);
            })
          ),
          s = new Zc(o, () => new Se()).pipe(lv());
        return this.childrenLoaders.set(r, s), s;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
function IP(e, t, n, i) {
  return Eo(e.loadChildren()).pipe(
    re(e1),
    hr((r) =>
      r instanceof Ax || Array.isArray(r) ? qt(r) : gn(t.compileModuleAsync(r))
    ),
    re((r) => {
      i && i(e);
      let a,
        o,
        s = !1;
      return (
        Array.isArray(r)
          ? ((o = r), (s = !0))
          : ((a = r.create(n).injector),
            (o = a.get(Pu, [], { optional: !0, self: !0 }).flat())),
        { routes: o.map(_b), injector: a }
      );
    })
  );
}
function RP(e) {
  return e && typeof e == 'object' && 'default' in e;
}
function e1(e) {
  return RP(e) ? e.default : e;
}
var wb = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: () => It(OP), providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  OP = (() => {
    let t = class t {
      shouldProcessUrl(i) {
        return !0;
      }
      extract(i) {
        return i;
      }
      merge(i, r) {
        return i;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  i1 = new ge(''),
  n1 = new ge('');
function PP(e, t, n) {
  let i = e.get(n1),
    r = e.get(Ne);
  return e.get(De).runOutsideAngular(() => {
    if (!r.startViewTransition || i.skipNextTransition)
      return (i.skipNextTransition = !1), new Promise((c) => setTimeout(c));
    let a,
      o = new Promise((c) => {
        a = c;
      }),
      s = r.startViewTransition(() => (a(), LP(e))),
      { onViewTransitionCreated: l } = i;
    return l && Mr(e, () => l({ transition: s, from: t, to: n })), o;
  });
}
function LP(e) {
  return new Promise((t) => {
    ys({ read: () => setTimeout(t) }, { injector: e });
  });
}
var NP = new ge(''),
  kb = (() => {
    let t = class t {
      get hasRequestedNavigation() {
        return this.navigationId !== 0;
      }
      constructor() {
        (this.currentNavigation = null),
          (this.currentTransition = null),
          (this.lastSuccessfulNavigation = null),
          (this.events = new Se()),
          (this.transitionAbortSubject = new Se()),
          (this.configLoader = It(xb)),
          (this.environmentInjector = It(vs)),
          (this.urlSerializer = It(Nu)),
          (this.rootContexts = It(Bu)),
          (this.location = It(hu)),
          (this.inputBindingEnabled = It(Tf, { optional: !0 }) !== null),
          (this.titleStrategy = It(t1)),
          (this.options = It(Vu, { optional: !0 }) || {}),
          (this.paramsInheritanceStrategy =
            this.options.paramsInheritanceStrategy || 'emptyOnly'),
          (this.urlHandlingStrategy = It(wb)),
          (this.createViewTransition = It(i1, { optional: !0 })),
          (this.navigationErrorHandler = It(NP, { optional: !0 })),
          (this.navigationId = 0),
          (this.afterPreactivation = () => qt(void 0)),
          (this.rootComponentType = null);
        let i = (a) => this.events.next(new tb(a)),
          r = (a) => this.events.next(new eb(a));
        (this.configLoader.onLoadEndListener = r),
          (this.configLoader.onLoadStartListener = i);
      }
      complete() {
        this.transitions?.complete();
      }
      handleNavigationRequest(i) {
        let r = ++this.navigationId;
        this.transitions?.next(
          ni(Bt(Bt({}, this.transitions.value), i), { id: r })
        );
      }
      setupNavigations(i, r, a) {
        return (
          (this.transitions = new Gi({
            id: 0,
            currentUrlTree: r,
            currentRawUrl: r,
            extractedUrl: this.urlHandlingStrategy.extract(r),
            urlAfterRedirects: this.urlHandlingStrategy.extract(r),
            rawUrl: r,
            extras: {},
            resolve: () => {},
            reject: () => {},
            promise: Promise.resolve(!0),
            source: Eu,
            restoredState: null,
            currentSnapshot: a.snapshot,
            targetSnapshot: null,
            currentRouterState: a,
            targetRouterState: null,
            guards: { canActivateChecks: [], canDeactivateChecks: [] },
            guardsResult: null,
          })),
          this.transitions.pipe(
            Fi((o) => o.id !== 0),
            re((o) =>
              ni(Bt({}, o), {
                extractedUrl: this.urlHandlingStrategy.extract(o.rawUrl),
              })
            ),
            ln((o) => {
              let s = !1,
                l = !1;
              return qt(o).pipe(
                ln((c) => {
                  if (this.navigationId > o.id)
                    return (
                      this.cancelNavigationTransition(
                        o,
                        '',
                        gr.SupersededByNewNavigation
                      ),
                      pa
                    );
                  (this.currentTransition = o),
                    (this.currentNavigation = {
                      id: c.id,
                      initialUrl: c.rawUrl,
                      extractedUrl: c.extractedUrl,
                      targetBrowserUrl:
                        typeof c.extras.browserUrl == 'string'
                          ? this.urlSerializer.parse(c.extras.browserUrl)
                          : c.extras.browserUrl,
                      trigger: c.source,
                      extras: c.extras,
                      previousNavigation: this.lastSuccessfulNavigation
                        ? ni(Bt({}, this.lastSuccessfulNavigation), {
                            previousNavigation: null,
                          })
                        : null,
                    });
                  let u =
                      !i.navigated ||
                      this.isUpdatingInternalState() ||
                      this.isUpdatedBrowserUrl(),
                    d = c.extras.onSameUrlNavigation ?? i.onSameUrlNavigation;
                  if (!u && d !== 'reload') {
                    let h = '';
                    return (
                      this.events.next(
                        new ko(
                          c.id,
                          this.urlSerializer.serialize(c.rawUrl),
                          h,
                          vf.IgnoredSameUrlNavigation
                        )
                      ),
                      c.resolve(!1),
                      pa
                    );
                  }
                  if (this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))
                    return qt(c).pipe(
                      ln((h) => {
                        let p = this.transitions?.getValue();
                        return (
                          this.events.next(
                            new Ol(
                              h.id,
                              this.urlSerializer.serialize(h.extractedUrl),
                              h.source,
                              h.restoredState
                            )
                          ),
                          p !== this.transitions?.getValue()
                            ? pa
                            : Promise.resolve(h)
                        );
                      }),
                      CP(
                        this.environmentInjector,
                        this.configLoader,
                        this.rootComponentType,
                        i.config,
                        this.urlSerializer,
                        this.paramsInheritanceStrategy
                      ),
                      fi((h) => {
                        (o.targetSnapshot = h.targetSnapshot),
                          (o.urlAfterRedirects = h.urlAfterRedirects),
                          (this.currentNavigation = ni(
                            Bt({}, this.currentNavigation),
                            { finalUrl: h.urlAfterRedirects }
                          ));
                        let p = new bf(
                          h.id,
                          this.urlSerializer.serialize(h.extractedUrl),
                          this.urlSerializer.serialize(h.urlAfterRedirects),
                          h.targetSnapshot
                        );
                        this.events.next(p);
                      })
                    );
                  if (
                    u &&
                    this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)
                  ) {
                    let {
                        id: h,
                        extractedUrl: p,
                        source: m,
                        restoredState: _,
                        extras: v,
                      } = c,
                      y = new Ol(h, this.urlSerializer.serialize(p), m, _);
                    this.events.next(y);
                    let w = Hw(this.rootComponentType).snapshot;
                    return (
                      (this.currentTransition = o =
                        ni(Bt({}, c), {
                          targetSnapshot: w,
                          urlAfterRedirects: p,
                          extras: ni(Bt({}, v), {
                            skipLocationChange: !1,
                            replaceUrl: !1,
                          }),
                        })),
                      (this.currentNavigation.finalUrl = p),
                      qt(o)
                    );
                  } else {
                    let h = '';
                    return (
                      this.events.next(
                        new ko(
                          c.id,
                          this.urlSerializer.serialize(c.extractedUrl),
                          h,
                          vf.IgnoredByUrlHandlingStrategy
                        )
                      ),
                      c.resolve(!1),
                      pa
                    );
                  }
                }),
                fi((c) => {
                  let u = new Xv(
                    c.id,
                    this.urlSerializer.serialize(c.extractedUrl),
                    this.urlSerializer.serialize(c.urlAfterRedirects),
                    c.targetSnapshot
                  );
                  this.events.next(u);
                }),
                re(
                  (c) => (
                    (this.currentTransition = o =
                      ni(Bt({}, c), {
                        guards: UO(
                          c.targetSnapshot,
                          c.currentSnapshot,
                          this.rootContexts
                        ),
                      })),
                    o
                  )
                ),
                tP(this.environmentInjector, (c) => this.events.next(c)),
                fi((c) => {
                  if (
                    ((o.guardsResult = c.guardsResult),
                    c.guardsResult && typeof c.guardsResult != 'boolean')
                  )
                    throw Cf(this.urlSerializer, c.guardsResult);
                  let u = new Zv(
                    c.id,
                    this.urlSerializer.serialize(c.extractedUrl),
                    this.urlSerializer.serialize(c.urlAfterRedirects),
                    c.targetSnapshot,
                    !!c.guardsResult
                  );
                  this.events.next(u);
                }),
                Fi((c) =>
                  c.guardsResult
                    ? !0
                    : (this.cancelNavigationTransition(c, '', gr.GuardRejected),
                      !1)
                ),
                Hv((c) => {
                  if (c.guards.canActivateChecks.length)
                    return qt(c).pipe(
                      fi((u) => {
                        let d = new Qv(
                          u.id,
                          this.urlSerializer.serialize(u.extractedUrl),
                          this.urlSerializer.serialize(u.urlAfterRedirects),
                          u.targetSnapshot
                        );
                        this.events.next(d);
                      }),
                      ln((u) => {
                        let d = !1;
                        return qt(u).pipe(
                          EP(
                            this.paramsInheritanceStrategy,
                            this.environmentInjector
                          ),
                          fi({
                            next: () => (d = !0),
                            complete: () => {
                              d ||
                                this.cancelNavigationTransition(
                                  u,
                                  '',
                                  gr.NoDataFromResolver
                                );
                            },
                          })
                        );
                      }),
                      fi((u) => {
                        let d = new Jv(
                          u.id,
                          this.urlSerializer.serialize(u.extractedUrl),
                          this.urlSerializer.serialize(u.urlAfterRedirects),
                          u.targetSnapshot
                        );
                        this.events.next(d);
                      })
                    );
                }),
                Hv((c) => {
                  let u = (d) => {
                    let h = [];
                    d.routeConfig?.loadComponent &&
                      !d.routeConfig._loadedComponent &&
                      h.push(
                        this.configLoader.loadComponent(d.routeConfig).pipe(
                          fi((p) => {
                            d.component = p;
                          }),
                          re(() => {})
                        )
                      );
                    for (let p of d.children) h.push(...u(p));
                    return h;
                  };
                  return Tr(u(c.targetSnapshot.root)).pipe(hv(null), tn(1));
                }),
                Hv(() => this.afterPreactivation()),
                ln(() => {
                  let { currentSnapshot: c, targetSnapshot: u } = o,
                    d = this.createViewTransition?.(
                      this.environmentInjector,
                      c.root,
                      u.root
                    );
                  return d ? gn(d).pipe(re(() => o)) : qt(o);
                }),
                re((c) => {
                  let u = BO(
                    i.routeReuseStrategy,
                    c.targetSnapshot,
                    c.currentRouterState
                  );
                  return (
                    (this.currentTransition = o =
                      ni(Bt({}, c), { targetRouterState: u })),
                    (this.currentNavigation.targetRouterState = u),
                    o
                  );
                }),
                fi(() => {
                  this.events.next(new Mu());
                }),
                qO(
                  this.rootContexts,
                  i.routeReuseStrategy,
                  (c) => this.events.next(c),
                  this.inputBindingEnabled
                ),
                tn(1),
                fi({
                  next: (c) => {
                    (s = !0),
                      (this.lastSuccessfulNavigation = this.currentNavigation),
                      this.events.next(
                        new Xr(
                          c.id,
                          this.urlSerializer.serialize(c.extractedUrl),
                          this.urlSerializer.serialize(c.urlAfterRedirects)
                        )
                      ),
                      this.titleStrategy?.updateTitle(
                        c.targetRouterState.snapshot
                      ),
                      c.resolve(!0);
                  },
                  complete: () => {
                    s = !0;
                  },
                }),
                gi(
                  this.transitionAbortSubject.pipe(
                    fi((c) => {
                      throw c;
                    })
                  )
                ),
                vo(() => {
                  !s &&
                    !l &&
                    this.cancelNavigationTransition(
                      o,
                      '',
                      gr.SupersededByNewNavigation
                    ),
                    this.currentTransition?.id === o.id &&
                      ((this.currentNavigation = null),
                      (this.currentTransition = null));
                }),
                mo((c) => {
                  if (((l = !0), Kw(c)))
                    this.events.next(
                      new Va(
                        o.id,
                        this.urlSerializer.serialize(o.extractedUrl),
                        c.message,
                        c.cancellationCode
                      )
                    ),
                      jO(c)
                        ? this.events.next(
                            new Pl(c.url, c.navigationBehaviorOptions)
                          )
                        : o.resolve(!1);
                  else {
                    let u = new Tu(
                      o.id,
                      this.urlSerializer.serialize(o.extractedUrl),
                      c,
                      o.targetSnapshot ?? void 0
                    );
                    try {
                      let d = Mr(this.environmentInjector, () =>
                        this.navigationErrorHandler?.(u)
                      );
                      if (d instanceof Iu) {
                        let { message: h, cancellationCode: p } = Cf(
                          this.urlSerializer,
                          d
                        );
                        this.events.next(
                          new Va(
                            o.id,
                            this.urlSerializer.serialize(o.extractedUrl),
                            h,
                            p
                          )
                        ),
                          this.events.next(
                            new Pl(d.redirectTo, d.navigationBehaviorOptions)
                          );
                      } else {
                        this.events.next(u);
                        let h = i.errorHandler(c);
                        o.resolve(!!h);
                      }
                    } catch (d) {
                      this.options.resolveNavigationPromiseOnError
                        ? o.resolve(!1)
                        : o.reject(d);
                    }
                  }
                  return pa;
                })
              );
            })
          )
        );
      }
      cancelNavigationTransition(i, r, a) {
        let o = new Va(
          i.id,
          this.urlSerializer.serialize(i.extractedUrl),
          r,
          a
        );
        this.events.next(o), i.resolve(!1);
      }
      isUpdatingInternalState() {
        return (
          this.currentTransition?.extractedUrl.toString() !==
          this.currentTransition?.currentUrlTree.toString()
        );
      }
      isUpdatedBrowserUrl() {
        let i = this.urlHandlingStrategy.extract(
            this.urlSerializer.parse(this.location.path(!0))
          ),
          r =
            this.currentNavigation?.targetBrowserUrl ??
            this.currentNavigation?.extractedUrl;
        return (
          i.toString() !== r?.toString() &&
          !this.currentNavigation?.extras.skipLocationChange
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
function FP(e) {
  return e !== Eu;
}
var BP = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: () => It(zP), providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  gb = class {
    shouldDetach(t) {
      return !1;
    }
    store(t, n) {}
    shouldAttach(t) {
      return !1;
    }
    retrieve(t) {
      return null;
    }
    shouldReuseRoute(t, n) {
      return t.routeConfig === n.routeConfig;
    }
  },
  zP = (() => {
    let t = class t extends gb {};
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  r1 = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: () => It(VP), providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  VP = (() => {
    let t = class t extends r1 {
      constructor() {
        super(...arguments),
          (this.location = It(hu)),
          (this.urlSerializer = It(Nu)),
          (this.options = It(Vu, { optional: !0 }) || {}),
          (this.canceledNavigationResolution =
            this.options.canceledNavigationResolution || 'replace'),
          (this.urlHandlingStrategy = It(wb)),
          (this.urlUpdateStrategy =
            this.options.urlUpdateStrategy || 'deferred'),
          (this.currentUrlTree = new ja()),
          (this.rawUrlTree = this.currentUrlTree),
          (this.currentPageId = 0),
          (this.lastSuccessfulId = -1),
          (this.routerState = Hw(null)),
          (this.stateMemento = this.createStateMemento());
      }
      getCurrentUrlTree() {
        return this.currentUrlTree;
      }
      getRawUrlTree() {
        return this.rawUrlTree;
      }
      restoredState() {
        return this.location.getState();
      }
      get browserPageId() {
        return this.canceledNavigationResolution !== 'computed'
          ? this.currentPageId
          : (this.restoredState()?.ɵrouterPageId ?? this.currentPageId);
      }
      getRouterState() {
        return this.routerState;
      }
      createStateMemento() {
        return {
          rawUrlTree: this.rawUrlTree,
          currentUrlTree: this.currentUrlTree,
          routerState: this.routerState,
        };
      }
      registerNonRouterCurrentEntryChangeListener(i) {
        return this.location.subscribe((r) => {
          r.type === 'popstate' && i(r.url, r.state);
        });
      }
      handleRouterEvent(i, r) {
        if (i instanceof Ol) this.stateMemento = this.createStateMemento();
        else if (i instanceof ko) this.rawUrlTree = r.initialUrl;
        else if (i instanceof bf) {
          if (
            this.urlUpdateStrategy === 'eager' &&
            !r.extras.skipLocationChange
          ) {
            let a = this.urlHandlingStrategy.merge(r.finalUrl, r.initialUrl);
            this.setBrowserUrl(r.targetBrowserUrl ?? a, r);
          }
        } else
          i instanceof Mu
            ? ((this.currentUrlTree = r.finalUrl),
              (this.rawUrlTree = this.urlHandlingStrategy.merge(
                r.finalUrl,
                r.initialUrl
              )),
              (this.routerState = r.targetRouterState),
              this.urlUpdateStrategy === 'deferred' &&
                !r.extras.skipLocationChange &&
                this.setBrowserUrl(r.targetBrowserUrl ?? this.rawUrlTree, r))
            : i instanceof Va &&
                (i.code === gr.GuardRejected ||
                  i.code === gr.NoDataFromResolver)
              ? this.restoreHistory(r)
              : i instanceof Tu
                ? this.restoreHistory(r, !0)
                : i instanceof Xr &&
                  ((this.lastSuccessfulId = i.id),
                  (this.currentPageId = this.browserPageId));
      }
      setBrowserUrl(i, r) {
        let a = i instanceof ja ? this.urlSerializer.serialize(i) : i;
        if (this.location.isCurrentPathEqualTo(a) || r.extras.replaceUrl) {
          let o = this.browserPageId,
            s = Bt(Bt({}, r.extras.state), this.generateNgRouterState(r.id, o));
          this.location.replaceState(a, '', s);
        } else {
          let o = Bt(
            Bt({}, r.extras.state),
            this.generateNgRouterState(r.id, this.browserPageId + 1)
          );
          this.location.go(a, '', o);
        }
      }
      restoreHistory(i, r = !1) {
        if (this.canceledNavigationResolution === 'computed') {
          let a = this.browserPageId,
            o = this.currentPageId - a;
          o !== 0
            ? this.location.historyGo(o)
            : this.currentUrlTree === i.finalUrl &&
              o === 0 &&
              (this.resetState(i), this.resetUrlToCurrentUrlTree());
        } else
          this.canceledNavigationResolution === 'replace' &&
            (r && this.resetState(i), this.resetUrlToCurrentUrlTree());
      }
      resetState(i) {
        (this.routerState = this.stateMemento.routerState),
          (this.currentUrlTree = this.stateMemento.currentUrlTree),
          (this.rawUrlTree = this.urlHandlingStrategy.merge(
            this.currentUrlTree,
            i.finalUrl ?? this.rawUrlTree
          ));
      }
      resetUrlToCurrentUrlTree() {
        this.location.replaceState(
          this.urlSerializer.serialize(this.rawUrlTree),
          '',
          this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId)
        );
      }
      generateNgRouterState(i, r) {
        return this.canceledNavigationResolution === 'computed'
          ? { navigationId: i, ɵrouterPageId: r }
          : { navigationId: i };
      }
    };
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  ku = (function (e) {
    return (
      (e[(e.COMPLETE = 0)] = 'COMPLETE'),
      (e[(e.FAILED = 1)] = 'FAILED'),
      (e[(e.REDIRECTING = 2)] = 'REDIRECTING'),
      e
    );
  })(ku || {});
function a1(e, t) {
  e.events
    .pipe(
      Fi(
        (n) =>
          n instanceof Xr ||
          n instanceof Va ||
          n instanceof Tu ||
          n instanceof ko
      ),
      re((n) =>
        n instanceof Xr || n instanceof ko
          ? ku.COMPLETE
          : (
                n instanceof Va
                  ? n.code === gr.Redirect ||
                    n.code === gr.SupersededByNewNavigation
                  : !1
              )
            ? ku.REDIRECTING
            : ku.FAILED
      ),
      Fi((n) => n !== ku.REDIRECTING),
      tn(1)
    )
    .subscribe(() => {
      t();
    });
}
function jP(e) {
  throw e;
}
var qP = {
    paths: 'exact',
    fragment: 'ignored',
    matrixParams: 'ignored',
    queryParams: 'exact',
  },
  UP = {
    paths: 'subset',
    fragment: 'ignored',
    matrixParams: 'ignored',
    queryParams: 'subset',
  },
  ya = (() => {
    let t = class t {
      get currentUrlTree() {
        return this.stateManager.getCurrentUrlTree();
      }
      get rawUrlTree() {
        return this.stateManager.getRawUrlTree();
      }
      get events() {
        return this._events;
      }
      get routerState() {
        return this.stateManager.getRouterState();
      }
      constructor() {
        (this.disposed = !1),
          (this.console = It(Gh)),
          (this.stateManager = It(r1)),
          (this.options = It(Vu, { optional: !0 }) || {}),
          (this.pendingTasks = It(qh)),
          (this.urlUpdateStrategy =
            this.options.urlUpdateStrategy || 'deferred'),
          (this.navigationTransitions = It(kb)),
          (this.urlSerializer = It(Nu)),
          (this.location = It(hu)),
          (this.urlHandlingStrategy = It(wb)),
          (this._events = new Se()),
          (this.errorHandler = this.options.errorHandler || jP),
          (this.navigated = !1),
          (this.routeReuseStrategy = It(BP)),
          (this.onSameUrlNavigation =
            this.options.onSameUrlNavigation || 'ignore'),
          (this.config = It(Pu, { optional: !0 })?.flat() ?? []),
          (this.componentInputBindingEnabled = !!It(Tf, { optional: !0 })),
          (this.eventsSubscription = new La()),
          this.resetConfig(this.config),
          this.navigationTransitions
            .setupNavigations(this, this.currentUrlTree, this.routerState)
            .subscribe({
              error: (i) => {
                this.console.warn(i);
              },
            }),
          this.subscribeToNavigationEvents();
      }
      subscribeToNavigationEvents() {
        let i = this.navigationTransitions.events.subscribe((r) => {
          try {
            let a = this.navigationTransitions.currentTransition,
              o = this.navigationTransitions.currentNavigation;
            if (a !== null && o !== null) {
              if (
                (this.stateManager.handleRouterEvent(r, o),
                r instanceof Va &&
                  r.code !== gr.Redirect &&
                  r.code !== gr.SupersededByNewNavigation)
              )
                this.navigated = !0;
              else if (r instanceof Xr) this.navigated = !0;
              else if (r instanceof Pl) {
                let s = r.navigationBehaviorOptions,
                  l = this.urlHandlingStrategy.merge(r.url, a.currentRawUrl),
                  c = Bt(
                    {
                      browserUrl: a.extras.browserUrl,
                      info: a.extras.info,
                      skipLocationChange: a.extras.skipLocationChange,
                      replaceUrl:
                        a.extras.replaceUrl ||
                        this.urlUpdateStrategy === 'eager' ||
                        FP(a.source),
                    },
                    s
                  );
                this.scheduleNavigation(l, Eu, null, c, {
                  resolve: a.resolve,
                  reject: a.reject,
                  promise: a.promise,
                });
              }
            }
            WP(r) && this._events.next(r);
          } catch (a) {
            this.navigationTransitions.transitionAbortSubject.next(a);
          }
        });
        this.eventsSubscription.add(i);
      }
      resetRootComponentType(i) {
        (this.routerState.root.component = i),
          (this.navigationTransitions.rootComponentType = i);
      }
      initialNavigation() {
        this.setUpLocationChangeListener(),
          this.navigationTransitions.hasRequestedNavigation ||
            this.navigateToSyncWithBrowser(
              this.location.path(!0),
              Eu,
              this.stateManager.restoredState()
            );
      }
      setUpLocationChangeListener() {
        this.nonRouterCurrentEntryChangeSubscription ??=
          this.stateManager.registerNonRouterCurrentEntryChangeListener(
            (i, r) => {
              setTimeout(() => {
                this.navigateToSyncWithBrowser(i, 'popstate', r);
              }, 0);
            }
          );
      }
      navigateToSyncWithBrowser(i, r, a) {
        let o = { replaceUrl: !0 },
          s = a?.navigationId ? a : null;
        if (a) {
          let c = Bt({}, a);
          delete c.navigationId,
            delete c.ɵrouterPageId,
            Object.keys(c).length !== 0 && (o.state = c);
        }
        let l = this.parseUrl(i);
        this.scheduleNavigation(l, r, s, o);
      }
      get url() {
        return this.serializeUrl(this.currentUrlTree);
      }
      getCurrentNavigation() {
        return this.navigationTransitions.currentNavigation;
      }
      get lastSuccessfulNavigation() {
        return this.navigationTransitions.lastSuccessfulNavigation;
      }
      resetConfig(i) {
        (this.config = i.map(_b)), (this.navigated = !1);
      }
      ngOnDestroy() {
        this.dispose();
      }
      dispose() {
        this.navigationTransitions.complete(),
          this.nonRouterCurrentEntryChangeSubscription &&
            (this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),
            (this.nonRouterCurrentEntryChangeSubscription = void 0)),
          (this.disposed = !0),
          this.eventsSubscription.unsubscribe();
      }
      createUrlTree(i, r = {}) {
        let {
            relativeTo: a,
            queryParams: o,
            fragment: s,
            queryParamsHandling: l,
            preserveFragment: c,
          } = r,
          u = c ? this.currentUrlTree.fragment : s,
          d = null;
        switch (l ?? this.options.defaultQueryParamsHandling) {
          case 'merge':
            d = Bt(Bt({}, this.currentUrlTree.queryParams), o);
            break;
          case 'preserve':
            d = this.currentUrlTree.queryParams;
            break;
          default:
            d = o || null;
        }
        d !== null && (d = this.removeEmptyProps(d));
        let h;
        try {
          let p = a ? a.snapshot : this.routerState.snapshot.root;
          h = Vw(p);
        } catch {
          (typeof i[0] != 'string' || i[0][0] !== '/') && (i = []),
            (h = this.currentUrlTree.root);
        }
        return jw(h, i, d, u ?? null);
      }
      navigateByUrl(i, r = { skipLocationChange: !1 }) {
        let a = Cs(i) ? i : this.parseUrl(i),
          o = this.urlHandlingStrategy.merge(a, this.rawUrlTree);
        return this.scheduleNavigation(o, Eu, null, r);
      }
      navigate(i, r = { skipLocationChange: !1 }) {
        return HP(i), this.navigateByUrl(this.createUrlTree(i, r), r);
      }
      serializeUrl(i) {
        return this.urlSerializer.serialize(i);
      }
      parseUrl(i) {
        try {
          return this.urlSerializer.parse(i);
        } catch {
          return this.urlSerializer.parse('/');
        }
      }
      isActive(i, r) {
        let a;
        if (
          (r === !0 ? (a = Bt({}, qP)) : r === !1 ? (a = Bt({}, UP)) : (a = r),
          Cs(i))
        )
          return _w(this.currentUrlTree, i, a);
        let o = this.parseUrl(i);
        return _w(this.currentUrlTree, o, a);
      }
      removeEmptyProps(i) {
        return Object.entries(i).reduce(
          (r, [a, o]) => (o != null && (r[a] = o), r),
          {}
        );
      }
      scheduleNavigation(i, r, a, o, s) {
        if (this.disposed) return Promise.resolve(!1);
        let l, c, u;
        s
          ? ((l = s.resolve), (c = s.reject), (u = s.promise))
          : (u = new Promise((h, p) => {
              (l = h), (c = p);
            }));
        let d = this.pendingTasks.add();
        return (
          a1(this, () => {
            queueMicrotask(() => this.pendingTasks.remove(d));
          }),
          this.navigationTransitions.handleNavigationRequest({
            source: r,
            restoredState: a,
            currentUrlTree: this.currentUrlTree,
            currentRawUrl: this.currentUrlTree,
            rawUrl: i,
            extras: o,
            resolve: l,
            reject: c,
            promise: u,
            currentSnapshot: this.routerState.snapshot,
            currentRouterState: this.routerState,
          }),
          u.catch((h) => Promise.reject(h))
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
function HP(e) {
  for (let t = 0; t < e.length; t++) if (e[t] == null) throw new vi(4008, !1);
}
function WP(e) {
  return !(e instanceof Mu) && !(e instanceof Pl);
}
var Sf = (() => {
    let t = class t {
      constructor(i, r, a, o, s, l) {
        (this.router = i),
          (this.route = r),
          (this.tabIndexAttribute = a),
          (this.renderer = o),
          (this.el = s),
          (this.locationStrategy = l),
          (this.href = null),
          (this.onChanges = new Se()),
          (this.preserveFragment = !1),
          (this.skipLocationChange = !1),
          (this.replaceUrl = !1),
          (this.routerLinkInput = null);
        let c = s.nativeElement.tagName?.toLowerCase();
        (this.isAnchorElement = c === 'a' || c === 'area'),
          this.isAnchorElement
            ? (this.subscription = i.events.subscribe((u) => {
                u instanceof Xr && this.updateHref();
              }))
            : this.setTabIndexIfNotOnNativeEl('0');
      }
      setTabIndexIfNotOnNativeEl(i) {
        this.tabIndexAttribute != null ||
          this.isAnchorElement ||
          this.applyAttributeValue('tabindex', i);
      }
      ngOnChanges(i) {
        this.isAnchorElement && this.updateHref(), this.onChanges.next(this);
      }
      set routerLink(i) {
        i == null
          ? ((this.routerLinkInput = null),
            this.setTabIndexIfNotOnNativeEl(null))
          : (Cs(i)
              ? (this.routerLinkInput = i)
              : (this.routerLinkInput = Array.isArray(i) ? i : [i]),
            this.setTabIndexIfNotOnNativeEl('0'));
      }
      onClick(i, r, a, o, s) {
        let l = this.urlTree;
        if (
          l === null ||
          (this.isAnchorElement &&
            (i !== 0 ||
              r ||
              a ||
              o ||
              s ||
              (typeof this.target == 'string' && this.target != '_self')))
        )
          return !0;
        let c = {
          skipLocationChange: this.skipLocationChange,
          replaceUrl: this.replaceUrl,
          state: this.state,
          info: this.info,
        };
        return this.router.navigateByUrl(l, c), !this.isAnchorElement;
      }
      ngOnDestroy() {
        this.subscription?.unsubscribe();
      }
      updateHref() {
        let i = this.urlTree;
        this.href =
          i !== null && this.locationStrategy
            ? this.locationStrategy?.prepareExternalUrl(
                this.router.serializeUrl(i)
              )
            : null;
        let r =
          this.href === null
            ? null
            : Dx(
                this.href,
                this.el.nativeElement.tagName.toLowerCase(),
                'href'
              );
        this.applyAttributeValue('href', r);
      }
      applyAttributeValue(i, r) {
        let a = this.renderer,
          o = this.el.nativeElement;
        r !== null ? a.setAttribute(o, i, r) : a.removeAttribute(o, i);
      }
      get urlTree() {
        return this.routerLinkInput === null
          ? null
          : Cs(this.routerLinkInput)
            ? this.routerLinkInput
            : this.router.createUrlTree(this.routerLinkInput, {
                relativeTo:
                  this.relativeTo !== void 0 ? this.relativeTo : this.route,
                queryParams: this.queryParams,
                fragment: this.fragment,
                queryParamsHandling: this.queryParamsHandling,
                preserveFragment: this.preserveFragment,
              });
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(ya),
        Tt(Co),
        yl('tabindex'),
        Tt(kl),
        Tt(Re),
        Tt(du)
      );
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'routerLink', '']],
        hostVars: 1,
        hostBindings: function (r, a) {
          r & 1 &&
            Ai('click', function (s) {
              return a.onClick(
                s.button,
                s.ctrlKey,
                s.shiftKey,
                s.altKey,
                s.metaKey
              );
            }),
            r & 2 && yi('target', a.target);
        },
        inputs: {
          target: 'target',
          queryParams: 'queryParams',
          fragment: 'fragment',
          queryParamsHandling: 'queryParamsHandling',
          state: 'state',
          info: 'info',
          relativeTo: 'relativeTo',
          preserveFragment: [2, 'preserveFragment', 'preserveFragment', pi],
          skipLocationChange: [
            2,
            'skipLocationChange',
            'skipLocationChange',
            pi,
          ],
          replaceUrl: [2, 'replaceUrl', 'replaceUrl', pi],
          routerLink: 'routerLink',
        },
        standalone: !0,
        features: [Fn, $r],
      }));
    let e = t;
    return e;
  })(),
  o1 = (() => {
    let t = class t {
      get isActive() {
        return this._isActive;
      }
      constructor(i, r, a, o, s) {
        (this.router = i),
          (this.element = r),
          (this.renderer = a),
          (this.cdr = o),
          (this.link = s),
          (this.classes = []),
          (this._isActive = !1),
          (this.routerLinkActiveOptions = { exact: !1 }),
          (this.isActiveChange = new bi()),
          (this.routerEventsSubscription = i.events.subscribe((l) => {
            l instanceof Xr && this.update();
          }));
      }
      ngAfterContentInit() {
        qt(this.links.changes, qt(null))
          .pipe(Qc())
          .subscribe((i) => {
            this.update(), this.subscribeToEachLinkOnChanges();
          });
      }
      subscribeToEachLinkOnChanges() {
        this.linkInputChangesSubscription?.unsubscribe();
        let i = [...this.links.toArray(), this.link]
          .filter((r) => !!r)
          .map((r) => r.onChanges);
        this.linkInputChangesSubscription = gn(i)
          .pipe(Qc())
          .subscribe((r) => {
            this._isActive !== this.isLinkActive(this.router)(r) &&
              this.update();
          });
      }
      set routerLinkActive(i) {
        let r = Array.isArray(i) ? i : i.split(' ');
        this.classes = r.filter((a) => !!a);
      }
      ngOnChanges(i) {
        this.update();
      }
      ngOnDestroy() {
        this.routerEventsSubscription.unsubscribe(),
          this.linkInputChangesSubscription?.unsubscribe();
      }
      update() {
        !this.links ||
          !this.router.navigated ||
          queueMicrotask(() => {
            let i = this.hasActiveLinks();
            this.classes.forEach((r) => {
              i
                ? this.renderer.addClass(this.element.nativeElement, r)
                : this.renderer.removeClass(this.element.nativeElement, r);
            }),
              i && this.ariaCurrentWhenActive !== void 0
                ? this.renderer.setAttribute(
                    this.element.nativeElement,
                    'aria-current',
                    this.ariaCurrentWhenActive.toString()
                  )
                : this.renderer.removeAttribute(
                    this.element.nativeElement,
                    'aria-current'
                  ),
              this._isActive !== i &&
                ((this._isActive = i),
                this.cdr.markForCheck(),
                this.isActiveChange.emit(i));
          });
      }
      isLinkActive(i) {
        let r = $P(this.routerLinkActiveOptions)
          ? this.routerLinkActiveOptions
          : this.routerLinkActiveOptions.exact || !1;
        return (a) => {
          let o = a.urlTree;
          return o ? i.isActive(o, r) : !1;
        };
      }
      hasActiveLinks() {
        let i = this.isLinkActive(this.router);
        return (this.link && i(this.link)) || this.links.some(i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(ya), Tt(Re), Tt(kl), Tt(Yi), Tt(Sf, 8));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'routerLinkActive', '']],
        contentQueries: function (r, a, o) {
          if ((r & 1 && vn(o, Sf, 5), r & 2)) {
            let s;
            Qe((s = Je())) && (a.links = s);
          }
        },
        inputs: {
          routerLinkActiveOptions: 'routerLinkActiveOptions',
          ariaCurrentWhenActive: 'ariaCurrentWhenActive',
          routerLinkActive: 'routerLinkActive',
        },
        outputs: { isActiveChange: 'isActiveChange' },
        exportAs: ['routerLinkActive'],
        standalone: !0,
        features: [$r],
      }));
    let e = t;
    return e;
  })();
function $P(e) {
  return !!e.paths;
}
var Df = class {};
var GP = (() => {
    let t = class t {
      constructor(i, r, a, o, s) {
        (this.router = i),
          (this.injector = a),
          (this.preloadingStrategy = o),
          (this.loader = s);
      }
      setUpPreloading() {
        this.subscription = this.router.events
          .pipe(
            Fi((i) => i instanceof Xr),
            Hr(() => this.preload())
          )
          .subscribe(() => {});
      }
      preload() {
        return this.processRoutes(this.injector, this.router.config);
      }
      ngOnDestroy() {
        this.subscription && this.subscription.unsubscribe();
      }
      processRoutes(i, r) {
        let a = [];
        for (let o of r) {
          o.providers &&
            !o._injector &&
            (o._injector = xv(o.providers, i, `Route: ${o.path}`));
          let s = o._injector ?? i,
            l = o._loadedInjector ?? s;
          ((o.loadChildren && !o._loadedRoutes && o.canLoad === void 0) ||
            (o.loadComponent && !o._loadedComponent)) &&
            a.push(this.preloadConfig(s, o)),
            (o.children || o._loadedRoutes) &&
              a.push(this.processRoutes(l, o.children ?? o._loadedRoutes));
        }
        return gn(a).pipe(Qc());
      }
      preloadConfig(i, r) {
        return this.preloadingStrategy.preload(r, () => {
          let a;
          r.loadChildren && r.canLoad === void 0
            ? (a = this.loader.loadChildren(i, r))
            : (a = qt(null));
          let o = a.pipe(
            hr((s) =>
              s === null
                ? qt(void 0)
                : ((r._loadedRoutes = s.routes),
                  (r._loadedInjector = s.injector),
                  this.processRoutes(s.injector ?? i, s.routes))
            )
          );
          if (r.loadComponent && !r._loadedComponent) {
            let s = this.loader.loadComponent(r);
            return gn([o, s]).pipe(Qc());
          } else return o;
        });
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(ya), Ht(Zh), Ht(vs), Ht(Df), Ht(xb));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  s1 = new ge(''),
  YP = (() => {
    let t = class t {
      constructor(i, r, a, o, s = {}) {
        (this.urlSerializer = i),
          (this.transitions = r),
          (this.viewportScroller = a),
          (this.zone = o),
          (this.options = s),
          (this.lastId = 0),
          (this.lastSource = 'imperative'),
          (this.restoredId = 0),
          (this.store = {}),
          (s.scrollPositionRestoration ||= 'disabled'),
          (s.anchorScrolling ||= 'disabled');
      }
      init() {
        this.options.scrollPositionRestoration !== 'disabled' &&
          this.viewportScroller.setHistoryScrollRestoration('manual'),
          (this.routerEventsSubscription = this.createScrollEvents()),
          (this.scrollEventsSubscription = this.consumeScrollEvents());
      }
      createScrollEvents() {
        return this.transitions.events.subscribe((i) => {
          i instanceof Ol
            ? ((this.store[this.lastId] =
                this.viewportScroller.getScrollPosition()),
              (this.lastSource = i.navigationTrigger),
              (this.restoredId = i.restoredState
                ? i.restoredState.navigationId
                : 0))
            : i instanceof Xr
              ? ((this.lastId = i.id),
                this.scheduleScrollEvent(
                  i,
                  this.urlSerializer.parse(i.urlAfterRedirects).fragment
                ))
              : i instanceof ko &&
                i.code === vf.IgnoredSameUrlNavigation &&
                ((this.lastSource = void 0),
                (this.restoredId = 0),
                this.scheduleScrollEvent(
                  i,
                  this.urlSerializer.parse(i.url).fragment
                ));
        });
      }
      consumeScrollEvents() {
        return this.transitions.events.subscribe((i) => {
          i instanceof yf &&
            (i.position
              ? this.options.scrollPositionRestoration === 'top'
                ? this.viewportScroller.scrollToPosition([0, 0])
                : this.options.scrollPositionRestoration === 'enabled' &&
                  this.viewportScroller.scrollToPosition(i.position)
              : i.anchor && this.options.anchorScrolling === 'enabled'
                ? this.viewportScroller.scrollToAnchor(i.anchor)
                : this.options.scrollPositionRestoration !== 'disabled' &&
                  this.viewportScroller.scrollToPosition([0, 0]));
        });
      }
      scheduleScrollEvent(i, r) {
        this.zone.runOutsideAngular(() => {
          setTimeout(() => {
            this.zone.run(() => {
              this.transitions.events.next(
                new yf(
                  i,
                  this.lastSource === 'popstate'
                    ? this.store[this.restoredId]
                    : null,
                  r
                )
              );
            });
          }, 0);
        });
      }
      ngOnDestroy() {
        this.routerEventsSubscription?.unsubscribe(),
          this.scrollEventsSubscription?.unsubscribe();
      }
    };
    (t.ɵfac = function (r) {
      wl();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })();
function l1(e, ...t) {
  return gs([
    { provide: Pu, multi: !0, useValue: e },
    [],
    { provide: Co, useFactory: c1, deps: [ya] },
    { provide: Kh, multi: !0, useFactory: u1 },
    t.map((n) => n.ɵproviders),
  ]);
}
function c1(e) {
  return e.routerState.root;
}
function ju(e, t) {
  return { ɵkind: e, ɵproviders: t };
}
function u1() {
  let e = It(ga);
  return (t) => {
    let n = e.get(Xh);
    if (t !== n.components[0]) return;
    let i = e.get(ya),
      r = e.get(d1);
    e.get(Cb) === 1 && i.initialNavigation(),
      e.get(h1, null, mv.Optional)?.setUpPreloading(),
      e.get(s1, null, mv.Optional)?.init(),
      i.resetRootComponentType(n.componentTypes[0]),
      r.closed || (r.next(), r.complete(), r.unsubscribe());
  };
}
var d1 = new ge('', { factory: () => new Se() }),
  Cb = new ge('', { providedIn: 'root', factory: () => 1 });
function KP() {
  return ju(2, [
    { provide: Cb, useValue: 0 },
    {
      provide: wv,
      multi: !0,
      deps: [ga],
      useFactory: (t) => {
        let n = t.get($x, Promise.resolve());
        return () =>
          n.then(
            () =>
              new Promise((i) => {
                let r = t.get(ya),
                  a = t.get(d1);
                a1(r, () => {
                  i(!0);
                }),
                  (t.get(kb).afterPreactivation = () => (
                    i(!0), a.closed ? qt(void 0) : a
                  )),
                  r.initialNavigation();
              })
          );
      },
    },
  ]);
}
function XP() {
  return ju(3, [
    {
      provide: wv,
      multi: !0,
      useFactory: () => {
        let t = It(ya);
        return () => {
          t.setUpLocationChangeListener();
        };
      },
    },
    { provide: Cb, useValue: 2 },
  ]);
}
var h1 = new ge('');
function ZP(e) {
  return ju(0, [
    { provide: h1, useExisting: GP },
    { provide: Df, useExisting: e },
  ]);
}
function QP() {
  return ju(8, [Cw, { provide: Tf, useExisting: Cw }]);
}
function JP(e) {
  let t = [
    { provide: i1, useValue: PP },
    {
      provide: n1,
      useValue: Bt({ skipNextTransition: !!e?.skipInitialTransition }, e),
    },
  ];
  return ju(9, t);
}
var Tw = new ge('ROUTER_FORROOT_GUARD'),
  t2 = [
    hu,
    { provide: Nu, useClass: Rl },
    ya,
    Bu,
    { provide: Co, useFactory: c1, deps: [ya] },
    xb,
    [],
  ],
  f1 = (() => {
    let t = class t {
      constructor(i) {}
      static forRoot(i, r) {
        return {
          ngModule: t,
          providers: [
            t2,
            [],
            { provide: Pu, multi: !0, useValue: i },
            { provide: Tw, useFactory: r2, deps: [[ya, new jh(), new gv()]] },
            { provide: Vu, useValue: r || {} },
            r?.useHash ? i2() : n2(),
            e2(),
            r?.preloadingStrategy ? ZP(r.preloadingStrategy).ɵproviders : [],
            r?.initialNavigation ? a2(r) : [],
            r?.bindToComponentInputs ? QP().ɵproviders : [],
            r?.enableViewTransitions ? JP().ɵproviders : [],
            o2(),
          ],
        };
      }
      static forChild(i) {
        return {
          ngModule: t,
          providers: [{ provide: Pu, multi: !0, useValue: i }],
        };
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Tw, 8));
    }),
      (t.ɵmod = Ve({ type: t })),
      (t.ɵinj = ze({}));
    let e = t;
    return e;
  })();
function e2() {
  return {
    provide: s1,
    useFactory: () => {
      let e = It(Qx),
        t = It(De),
        n = It(Vu),
        i = It(kb),
        r = It(Nu);
      return (
        n.scrollOffset && e.setOffset(n.scrollOffset), new YP(r, i, e, t, n)
      );
    },
  };
}
function i2() {
  return { provide: du, useClass: Yx };
}
function n2() {
  return { provide: du, useClass: Gx };
}
function r2(e) {
  return 'guarded';
}
function a2(e) {
  return [
    e.initialNavigation === 'disabled' ? XP().ɵproviders : [],
    e.initialNavigation === 'enabledBlocking' ? KP().ɵproviders : [],
  ];
}
var Mw = new ge('');
function o2() {
  return [
    { provide: Mw, useFactory: u1 },
    { provide: Kh, multi: !0, useExisting: Mw },
  ];
}
function Af(e, t) {
  return e == null || t == null
    ? NaN
    : t < e
      ? -1
      : t > e
        ? 1
        : t >= e
          ? 0
          : NaN;
}
var l2 = { value: () => {} };
function m1() {
  for (var e = 0, t = arguments.length, n = {}, i; e < t; ++e) {
    if (!(i = arguments[e] + '') || i in n || /[\s.]/.test(i))
      throw new Error('illegal type: ' + i);
    n[i] = [];
  }
  return new If(n);
}
function If(e) {
  this._ = e;
}
function c2(e, t) {
  return e
    .trim()
    .split(/^|\s+/)
    .map(function (n) {
      var i = '',
        r = n.indexOf('.');
      if (
        (r >= 0 && ((i = n.slice(r + 1)), (n = n.slice(0, r))),
        n && !t.hasOwnProperty(n))
      )
        throw new Error('unknown type: ' + n);
      return { type: n, name: i };
    });
}
If.prototype = m1.prototype = {
  constructor: If,
  on: function (e, t) {
    var n = this._,
      i = c2(e + '', n),
      r,
      a = -1,
      o = i.length;
    if (arguments.length < 2) {
      for (; ++a < o; )
        if ((r = (e = i[a]).type) && (r = u2(n[r], e.name))) return r;
      return;
    }
    if (t != null && typeof t != 'function')
      throw new Error('invalid callback: ' + t);
    for (; ++a < o; )
      if ((r = (e = i[a]).type)) n[r] = p1(n[r], e.name, t);
      else if (t == null) for (r in n) n[r] = p1(n[r], e.name, null);
    return this;
  },
  copy: function () {
    var e = {},
      t = this._;
    for (var n in t) e[n] = t[n].slice();
    return new If(e);
  },
  call: function (e, t) {
    if ((r = arguments.length - 2) > 0)
      for (var n = new Array(r), i = 0, r, a; i < r; ++i)
        n[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(e)) throw new Error('unknown type: ' + e);
    for (a = this._[e], i = 0, r = a.length; i < r; ++i) a[i].value.apply(t, n);
  },
  apply: function (e, t, n) {
    if (!this._.hasOwnProperty(e)) throw new Error('unknown type: ' + e);
    for (var i = this._[e], r = 0, a = i.length; r < a; ++r)
      i[r].value.apply(t, n);
  },
};
function u2(e, t) {
  for (var n = 0, i = e.length, r; n < i; ++n)
    if ((r = e[n]).name === t) return r.value;
}
function p1(e, t, n) {
  for (var i = 0, r = e.length; i < r; ++i)
    if (e[i].name === t) {
      (e[i] = l2), (e = e.slice(0, i).concat(e.slice(i + 1)));
      break;
    }
  return n != null && e.push({ name: t, value: n }), e;
}
var Eb = m1;
var Rf = 'http://www.w3.org/1999/xhtml',
  Sb = {
    svg: 'http://www.w3.org/2000/svg',
    xhtml: Rf,
    xlink: 'http://www.w3.org/1999/xlink',
    xml: 'http://www.w3.org/XML/1998/namespace',
    xmlns: 'http://www.w3.org/2000/xmlns/',
  };
function qa(e) {
  var t = (e += ''),
    n = t.indexOf(':');
  return (
    n >= 0 && (t = e.slice(0, n)) !== 'xmlns' && (e = e.slice(n + 1)),
    Sb.hasOwnProperty(t) ? { space: Sb[t], local: e } : e
  );
}
function d2(e) {
  return function () {
    var t = this.ownerDocument,
      n = this.namespaceURI;
    return n === Rf && t.documentElement.namespaceURI === Rf
      ? t.createElement(e)
      : t.createElementNS(n, e);
  };
}
function h2(e) {
  return function () {
    return this.ownerDocument.createElementNS(e.space, e.local);
  };
}
function Of(e) {
  var t = qa(e);
  return (t.local ? h2 : d2)(t);
}
function f2() {}
function Es(e) {
  return e == null
    ? f2
    : function () {
        return this.querySelector(e);
      };
}
function g1(e) {
  typeof e != 'function' && (e = Es(e));
  for (var t = this._groups, n = t.length, i = new Array(n), r = 0; r < n; ++r)
    for (
      var a = t[r], o = a.length, s = (i[r] = new Array(o)), l, c, u = 0;
      u < o;
      ++u
    )
      (l = a[u]) &&
        (c = e.call(l, l.__data__, u, a)) &&
        ('__data__' in l && (c.__data__ = l.__data__), (s[u] = c));
  return new Ki(i, this._parents);
}
function Db(e) {
  return e == null ? [] : Array.isArray(e) ? e : Array.from(e);
}
function p2() {
  return [];
}
function qu(e) {
  return e == null
    ? p2
    : function () {
        return this.querySelectorAll(e);
      };
}
function m2(e) {
  return function () {
    return Db(e.apply(this, arguments));
  };
}
function v1(e) {
  typeof e == 'function' ? (e = m2(e)) : (e = qu(e));
  for (var t = this._groups, n = t.length, i = [], r = [], a = 0; a < n; ++a)
    for (var o = t[a], s = o.length, l, c = 0; c < s; ++c)
      (l = o[c]) && (i.push(e.call(l, l.__data__, c, o)), r.push(l));
  return new Ki(i, r);
}
function Uu(e) {
  return function () {
    return this.matches(e);
  };
}
function Pf(e) {
  return function (t) {
    return t.matches(e);
  };
}
var g2 = Array.prototype.find;
function v2(e) {
  return function () {
    return g2.call(this.children, e);
  };
}
function b2() {
  return this.firstElementChild;
}
function b1(e) {
  return this.select(e == null ? b2 : v2(typeof e == 'function' ? e : Pf(e)));
}
var y2 = Array.prototype.filter;
function _2() {
  return Array.from(this.children);
}
function x2(e) {
  return function () {
    return y2.call(this.children, e);
  };
}
function y1(e) {
  return this.selectAll(
    e == null ? _2 : x2(typeof e == 'function' ? e : Pf(e))
  );
}
function _1(e) {
  typeof e != 'function' && (e = Uu(e));
  for (var t = this._groups, n = t.length, i = new Array(n), r = 0; r < n; ++r)
    for (var a = t[r], o = a.length, s = (i[r] = []), l, c = 0; c < o; ++c)
      (l = a[c]) && e.call(l, l.__data__, c, a) && s.push(l);
  return new Ki(i, this._parents);
}
function Lf(e) {
  return new Array(e.length);
}
function x1() {
  return new Ki(this._enter || this._groups.map(Lf), this._parents);
}
function Hu(e, t) {
  (this.ownerDocument = e.ownerDocument),
    (this.namespaceURI = e.namespaceURI),
    (this._next = null),
    (this._parent = e),
    (this.__data__ = t);
}
Hu.prototype = {
  constructor: Hu,
  appendChild: function (e) {
    return this._parent.insertBefore(e, this._next);
  },
  insertBefore: function (e, t) {
    return this._parent.insertBefore(e, t);
  },
  querySelector: function (e) {
    return this._parent.querySelector(e);
  },
  querySelectorAll: function (e) {
    return this._parent.querySelectorAll(e);
  },
};
function w1(e) {
  return function () {
    return e;
  };
}
function w2(e, t, n, i, r, a) {
  for (var o = 0, s, l = t.length, c = a.length; o < c; ++o)
    (s = t[o]) ? ((s.__data__ = a[o]), (i[o] = s)) : (n[o] = new Hu(e, a[o]));
  for (; o < l; ++o) (s = t[o]) && (r[o] = s);
}
function k2(e, t, n, i, r, a, o) {
  var s,
    l,
    c = new Map(),
    u = t.length,
    d = a.length,
    h = new Array(u),
    p;
  for (s = 0; s < u; ++s)
    (l = t[s]) &&
      ((h[s] = p = o.call(l, l.__data__, s, t) + ''),
      c.has(p) ? (r[s] = l) : c.set(p, l));
  for (s = 0; s < d; ++s)
    (p = o.call(e, a[s], s, a) + ''),
      (l = c.get(p))
        ? ((i[s] = l), (l.__data__ = a[s]), c.delete(p))
        : (n[s] = new Hu(e, a[s]));
  for (s = 0; s < u; ++s) (l = t[s]) && c.get(h[s]) === l && (r[s] = l);
}
function C2(e) {
  return e.__data__;
}
function k1(e, t) {
  if (!arguments.length) return Array.from(this, C2);
  var n = t ? k2 : w2,
    i = this._parents,
    r = this._groups;
  typeof e != 'function' && (e = w1(e));
  for (
    var a = r.length,
      o = new Array(a),
      s = new Array(a),
      l = new Array(a),
      c = 0;
    c < a;
    ++c
  ) {
    var u = i[c],
      d = r[c],
      h = d.length,
      p = E2(e.call(u, u && u.__data__, c, i)),
      m = p.length,
      _ = (s[c] = new Array(m)),
      v = (o[c] = new Array(m)),
      y = (l[c] = new Array(h));
    n(u, d, _, v, y, p, t);
    for (var w = 0, x = 0, C, S; w < m; ++w)
      if ((C = _[w])) {
        for (w >= x && (x = w + 1); !(S = v[x]) && ++x < m; );
        C._next = S || null;
      }
  }
  return (o = new Ki(o, i)), (o._enter = s), (o._exit = l), o;
}
function E2(e) {
  return typeof e == 'object' && 'length' in e ? e : Array.from(e);
}
function C1() {
  return new Ki(this._exit || this._groups.map(Lf), this._parents);
}
function E1(e, t, n) {
  var i = this.enter(),
    r = this,
    a = this.exit();
  return (
    typeof e == 'function'
      ? ((i = e(i)), i && (i = i.selection()))
      : (i = i.append(e + '')),
    t != null && ((r = t(r)), r && (r = r.selection())),
    n == null ? a.remove() : n(a),
    i && r ? i.merge(r).order() : r
  );
}
function S1(e) {
  for (
    var t = e.selection ? e.selection() : e,
      n = this._groups,
      i = t._groups,
      r = n.length,
      a = i.length,
      o = Math.min(r, a),
      s = new Array(r),
      l = 0;
    l < o;
    ++l
  )
    for (
      var c = n[l], u = i[l], d = c.length, h = (s[l] = new Array(d)), p, m = 0;
      m < d;
      ++m
    )
      (p = c[m] || u[m]) && (h[m] = p);
  for (; l < r; ++l) s[l] = n[l];
  return new Ki(s, this._parents);
}
function D1() {
  for (var e = this._groups, t = -1, n = e.length; ++t < n; )
    for (var i = e[t], r = i.length - 1, a = i[r], o; --r >= 0; )
      (o = i[r]) &&
        (a &&
          o.compareDocumentPosition(a) ^ 4 &&
          a.parentNode.insertBefore(o, a),
        (a = o));
  return this;
}
function T1(e) {
  e || (e = S2);
  function t(d, h) {
    return d && h ? e(d.__data__, h.__data__) : !d - !h;
  }
  for (
    var n = this._groups, i = n.length, r = new Array(i), a = 0;
    a < i;
    ++a
  ) {
    for (
      var o = n[a], s = o.length, l = (r[a] = new Array(s)), c, u = 0;
      u < s;
      ++u
    )
      (c = o[u]) && (l[u] = c);
    l.sort(t);
  }
  return new Ki(r, this._parents).order();
}
function S2(e, t) {
  return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN;
}
function M1() {
  var e = arguments[0];
  return (arguments[0] = this), e.apply(null, arguments), this;
}
function A1() {
  return Array.from(this);
}
function I1() {
  for (var e = this._groups, t = 0, n = e.length; t < n; ++t)
    for (var i = e[t], r = 0, a = i.length; r < a; ++r) {
      var o = i[r];
      if (o) return o;
    }
  return null;
}
function R1() {
  let e = 0;
  for (let t of this) ++e;
  return e;
}
function O1() {
  return !this.node();
}
function P1(e) {
  for (var t = this._groups, n = 0, i = t.length; n < i; ++n)
    for (var r = t[n], a = 0, o = r.length, s; a < o; ++a)
      (s = r[a]) && e.call(s, s.__data__, a, r);
  return this;
}
function D2(e) {
  return function () {
    this.removeAttribute(e);
  };
}
function T2(e) {
  return function () {
    this.removeAttributeNS(e.space, e.local);
  };
}
function M2(e, t) {
  return function () {
    this.setAttribute(e, t);
  };
}
function A2(e, t) {
  return function () {
    this.setAttributeNS(e.space, e.local, t);
  };
}
function I2(e, t) {
  return function () {
    var n = t.apply(this, arguments);
    n == null ? this.removeAttribute(e) : this.setAttribute(e, n);
  };
}
function R2(e, t) {
  return function () {
    var n = t.apply(this, arguments);
    n == null
      ? this.removeAttributeNS(e.space, e.local)
      : this.setAttributeNS(e.space, e.local, n);
  };
}
function L1(e, t) {
  var n = qa(e);
  if (arguments.length < 2) {
    var i = this.node();
    return n.local ? i.getAttributeNS(n.space, n.local) : i.getAttribute(n);
  }
  return this.each(
    (t == null
      ? n.local
        ? T2
        : D2
      : typeof t == 'function'
        ? n.local
          ? R2
          : I2
        : n.local
          ? A2
          : M2)(n, t)
  );
}
function Nf(e) {
  return (
    (e.ownerDocument && e.ownerDocument.defaultView) ||
    (e.document && e) ||
    e.defaultView
  );
}
function O2(e) {
  return function () {
    this.style.removeProperty(e);
  };
}
function P2(e, t, n) {
  return function () {
    this.style.setProperty(e, t, n);
  };
}
function L2(e, t, n) {
  return function () {
    var i = t.apply(this, arguments);
    i == null ? this.style.removeProperty(e) : this.style.setProperty(e, i, n);
  };
}
function N1(e, t, n) {
  return arguments.length > 1
    ? this.each(
        (t == null ? O2 : typeof t == 'function' ? L2 : P2)(e, t, n ?? '')
      )
    : So(this.node(), e);
}
function So(e, t) {
  return (
    e.style.getPropertyValue(t) ||
    Nf(e).getComputedStyle(e, null).getPropertyValue(t)
  );
}
function N2(e) {
  return function () {
    delete this[e];
  };
}
function F2(e, t) {
  return function () {
    this[e] = t;
  };
}
function B2(e, t) {
  return function () {
    var n = t.apply(this, arguments);
    n == null ? delete this[e] : (this[e] = n);
  };
}
function F1(e, t) {
  return arguments.length > 1
    ? this.each((t == null ? N2 : typeof t == 'function' ? B2 : F2)(e, t))
    : this.node()[e];
}
function B1(e) {
  return e.trim().split(/^|\s+/);
}
function Tb(e) {
  return e.classList || new z1(e);
}
function z1(e) {
  (this._node = e), (this._names = B1(e.getAttribute('class') || ''));
}
z1.prototype = {
  add: function (e) {
    var t = this._names.indexOf(e);
    t < 0 &&
      (this._names.push(e),
      this._node.setAttribute('class', this._names.join(' ')));
  },
  remove: function (e) {
    var t = this._names.indexOf(e);
    t >= 0 &&
      (this._names.splice(t, 1),
      this._node.setAttribute('class', this._names.join(' ')));
  },
  contains: function (e) {
    return this._names.indexOf(e) >= 0;
  },
};
function V1(e, t) {
  for (var n = Tb(e), i = -1, r = t.length; ++i < r; ) n.add(t[i]);
}
function j1(e, t) {
  for (var n = Tb(e), i = -1, r = t.length; ++i < r; ) n.remove(t[i]);
}
function z2(e) {
  return function () {
    V1(this, e);
  };
}
function V2(e) {
  return function () {
    j1(this, e);
  };
}
function j2(e, t) {
  return function () {
    (t.apply(this, arguments) ? V1 : j1)(this, e);
  };
}
function q1(e, t) {
  var n = B1(e + '');
  if (arguments.length < 2) {
    for (var i = Tb(this.node()), r = -1, a = n.length; ++r < a; )
      if (!i.contains(n[r])) return !1;
    return !0;
  }
  return this.each((typeof t == 'function' ? j2 : t ? z2 : V2)(n, t));
}
function q2() {
  this.textContent = '';
}
function U2(e) {
  return function () {
    this.textContent = e;
  };
}
function H2(e) {
  return function () {
    var t = e.apply(this, arguments);
    this.textContent = t ?? '';
  };
}
function U1(e) {
  return arguments.length
    ? this.each(e == null ? q2 : (typeof e == 'function' ? H2 : U2)(e))
    : this.node().textContent;
}
function W2() {
  this.innerHTML = '';
}
function $2(e) {
  return function () {
    this.innerHTML = e;
  };
}
function G2(e) {
  return function () {
    var t = e.apply(this, arguments);
    this.innerHTML = t ?? '';
  };
}
function H1(e) {
  return arguments.length
    ? this.each(e == null ? W2 : (typeof e == 'function' ? G2 : $2)(e))
    : this.node().innerHTML;
}
function Y2() {
  this.nextSibling && this.parentNode.appendChild(this);
}
function W1() {
  return this.each(Y2);
}
function K2() {
  this.previousSibling &&
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function $1() {
  return this.each(K2);
}
function G1(e) {
  var t = typeof e == 'function' ? e : Of(e);
  return this.select(function () {
    return this.appendChild(t.apply(this, arguments));
  });
}
function X2() {
  return null;
}
function Y1(e, t) {
  var n = typeof e == 'function' ? e : Of(e),
    i = t == null ? X2 : typeof t == 'function' ? t : Es(t);
  return this.select(function () {
    return this.insertBefore(
      n.apply(this, arguments),
      i.apply(this, arguments) || null
    );
  });
}
function Z2() {
  var e = this.parentNode;
  e && e.removeChild(this);
}
function K1() {
  return this.each(Z2);
}
function Q2() {
  var e = this.cloneNode(!1),
    t = this.parentNode;
  return t ? t.insertBefore(e, this.nextSibling) : e;
}
function J2() {
  var e = this.cloneNode(!0),
    t = this.parentNode;
  return t ? t.insertBefore(e, this.nextSibling) : e;
}
function X1(e) {
  return this.select(e ? J2 : Q2);
}
function Z1(e) {
  return arguments.length ? this.property('__data__', e) : this.node().__data__;
}
function tL(e) {
  return function (t) {
    e.call(this, t, this.__data__);
  };
}
function eL(e) {
  return e
    .trim()
    .split(/^|\s+/)
    .map(function (t) {
      var n = '',
        i = t.indexOf('.');
      return (
        i >= 0 && ((n = t.slice(i + 1)), (t = t.slice(0, i))),
        { type: t, name: n }
      );
    });
}
function iL(e) {
  return function () {
    var t = this.__on;
    if (t) {
      for (var n = 0, i = -1, r = t.length, a; n < r; ++n)
        (a = t[n]),
          (!e.type || a.type === e.type) && a.name === e.name
            ? this.removeEventListener(a.type, a.listener, a.options)
            : (t[++i] = a);
      ++i ? (t.length = i) : delete this.__on;
    }
  };
}
function nL(e, t, n) {
  return function () {
    var i = this.__on,
      r,
      a = tL(t);
    if (i) {
      for (var o = 0, s = i.length; o < s; ++o)
        if ((r = i[o]).type === e.type && r.name === e.name) {
          this.removeEventListener(r.type, r.listener, r.options),
            this.addEventListener(r.type, (r.listener = a), (r.options = n)),
            (r.value = t);
          return;
        }
    }
    this.addEventListener(e.type, a, n),
      (r = { type: e.type, name: e.name, value: t, listener: a, options: n }),
      i ? i.push(r) : (this.__on = [r]);
  };
}
function Q1(e, t, n) {
  var i = eL(e + ''),
    r,
    a = i.length,
    o;
  if (arguments.length < 2) {
    var s = this.node().__on;
    if (s) {
      for (var l = 0, c = s.length, u; l < c; ++l)
        for (r = 0, u = s[l]; r < a; ++r)
          if ((o = i[r]).type === u.type && o.name === u.name) return u.value;
    }
    return;
  }
  for (s = t ? nL : iL, r = 0; r < a; ++r) this.each(s(i[r], t, n));
  return this;
}
function J1(e, t, n) {
  var i = Nf(e),
    r = i.CustomEvent;
  typeof r == 'function'
    ? (r = new r(t, n))
    : ((r = i.document.createEvent('Event')),
      n
        ? (r.initEvent(t, n.bubbles, n.cancelable), (r.detail = n.detail))
        : r.initEvent(t, !1, !1)),
    e.dispatchEvent(r);
}
function rL(e, t) {
  return function () {
    return J1(this, e, t);
  };
}
function aL(e, t) {
  return function () {
    return J1(this, e, t.apply(this, arguments));
  };
}
function tk(e, t) {
  return this.each((typeof t == 'function' ? aL : rL)(e, t));
}
function* ek() {
  for (var e = this._groups, t = 0, n = e.length; t < n; ++t)
    for (var i = e[t], r = 0, a = i.length, o; r < a; ++r)
      (o = i[r]) && (yield o);
}
var Mb = [null];
function Ki(e, t) {
  (this._groups = e), (this._parents = t);
}
function ik() {
  return new Ki([[document.documentElement]], Mb);
}
function oL() {
  return this;
}
Ki.prototype = ik.prototype = {
  constructor: Ki,
  select: g1,
  selectAll: v1,
  selectChild: b1,
  selectChildren: y1,
  filter: _1,
  data: k1,
  enter: x1,
  exit: C1,
  join: E1,
  merge: S1,
  selection: oL,
  order: D1,
  sort: T1,
  call: M1,
  nodes: A1,
  node: I1,
  size: R1,
  empty: O1,
  each: P1,
  attr: L1,
  style: N1,
  property: F1,
  classed: q1,
  text: U1,
  html: H1,
  raise: W1,
  lower: $1,
  append: G1,
  insert: Y1,
  remove: K1,
  clone: X1,
  datum: Z1,
  on: Q1,
  dispatch: tk,
  [Symbol.iterator]: ek,
};
var Ua = ik;
function zn(e) {
  return typeof e == 'string'
    ? new Ki([[document.querySelector(e)]], [document.documentElement])
    : new Ki([[e]], Mb);
}
function Fl(e, t, n) {
  (e.prototype = t.prototype = n), (n.constructor = e);
}
function Wu(e, t) {
  var n = Object.create(e.prototype);
  for (var i in t) n[i] = t[i];
  return n;
}
function Ms() {}
var Do = 0.7,
  Ts = 1 / Do,
  Bl = '\\s*([+-]?\\d+)\\s*',
  $u = '\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*',
  _a = '\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*',
  sL = /^#([0-9a-f]{3,8})$/,
  lL = new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),
  cL = new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),
  uL = new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${$u}\\)$`),
  dL = new RegExp(`^rgba\\(${_a},${_a},${_a},${$u}\\)$`),
  hL = new RegExp(`^hsl\\(${$u},${_a},${_a}\\)$`),
  fL = new RegExp(`^hsla\\(${$u},${_a},${_a},${$u}\\)$`),
  nk = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074,
  };
Fl(Ms, Qr, {
  copy(e) {
    return Object.assign(new this.constructor(), this, e);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: rk,
  formatHex: rk,
  formatHex8: pL,
  formatHsl: mL,
  formatRgb: ak,
  toString: ak,
});
function rk() {
  return this.rgb().formatHex();
}
function pL() {
  return this.rgb().formatHex8();
}
function mL() {
  return dk(this).formatHsl();
}
function ak() {
  return this.rgb().formatRgb();
}
function Qr(e) {
  var t, n;
  return (
    (e = (e + '').trim().toLowerCase()),
    (t = sL.exec(e))
      ? ((n = t[1].length),
        (t = parseInt(t[1], 16)),
        n === 6
          ? ok(t)
          : n === 3
            ? new Cn(
                ((t >> 8) & 15) | ((t >> 4) & 240),
                ((t >> 4) & 15) | (t & 240),
                ((t & 15) << 4) | (t & 15),
                1
              )
            : n === 8
              ? Ff(
                  (t >> 24) & 255,
                  (t >> 16) & 255,
                  (t >> 8) & 255,
                  (t & 255) / 255
                )
              : n === 4
                ? Ff(
                    ((t >> 12) & 15) | ((t >> 8) & 240),
                    ((t >> 8) & 15) | ((t >> 4) & 240),
                    ((t >> 4) & 15) | (t & 240),
                    (((t & 15) << 4) | (t & 15)) / 255
                  )
                : null)
      : (t = lL.exec(e))
        ? new Cn(t[1], t[2], t[3], 1)
        : (t = cL.exec(e))
          ? new Cn(
              (t[1] * 255) / 100,
              (t[2] * 255) / 100,
              (t[3] * 255) / 100,
              1
            )
          : (t = uL.exec(e))
            ? Ff(t[1], t[2], t[3], t[4])
            : (t = dL.exec(e))
              ? Ff(
                  (t[1] * 255) / 100,
                  (t[2] * 255) / 100,
                  (t[3] * 255) / 100,
                  t[4]
                )
              : (t = hL.exec(e))
                ? ck(t[1], t[2] / 100, t[3] / 100, 1)
                : (t = fL.exec(e))
                  ? ck(t[1], t[2] / 100, t[3] / 100, t[4])
                  : nk.hasOwnProperty(e)
                    ? ok(nk[e])
                    : e === 'transparent'
                      ? new Cn(NaN, NaN, NaN, 0)
                      : null
  );
}
function ok(e) {
  return new Cn((e >> 16) & 255, (e >> 8) & 255, e & 255, 1);
}
function Ff(e, t, n, i) {
  return i <= 0 && (e = t = n = NaN), new Cn(e, t, n, i);
}
function Ib(e) {
  return (
    e instanceof Ms || (e = Qr(e)),
    e ? ((e = e.rgb()), new Cn(e.r, e.g, e.b, e.opacity)) : new Cn()
  );
}
function zl(e, t, n, i) {
  return arguments.length === 1 ? Ib(e) : new Cn(e, t, n, i ?? 1);
}
function Cn(e, t, n, i) {
  (this.r = +e), (this.g = +t), (this.b = +n), (this.opacity = +i);
}
Fl(
  Cn,
  zl,
  Wu(Ms, {
    brighter(e) {
      return (
        (e = e == null ? Ts : Math.pow(Ts, e)),
        new Cn(this.r * e, this.g * e, this.b * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? Do : Math.pow(Do, e)),
        new Cn(this.r * e, this.g * e, this.b * e, this.opacity)
      );
    },
    rgb() {
      return this;
    },
    clamp() {
      return new Cn(Ds(this.r), Ds(this.g), Ds(this.b), zf(this.opacity));
    },
    displayable() {
      return (
        -0.5 <= this.r &&
        this.r < 255.5 &&
        -0.5 <= this.g &&
        this.g < 255.5 &&
        -0.5 <= this.b &&
        this.b < 255.5 &&
        0 <= this.opacity &&
        this.opacity <= 1
      );
    },
    hex: sk,
    formatHex: sk,
    formatHex8: gL,
    formatRgb: lk,
    toString: lk,
  })
);
function sk() {
  return `#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}`;
}
function gL() {
  return `#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}${Ss((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function lk() {
  let e = zf(this.opacity);
  return `${e === 1 ? 'rgb(' : 'rgba('}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${e === 1 ? ')' : `, ${e})`}`;
}
function zf(e) {
  return isNaN(e) ? 1 : Math.max(0, Math.min(1, e));
}
function Ds(e) {
  return Math.max(0, Math.min(255, Math.round(e) || 0));
}
function Ss(e) {
  return (e = Ds(e)), (e < 16 ? '0' : '') + e.toString(16);
}
function ck(e, t, n, i) {
  return (
    i <= 0
      ? (e = t = n = NaN)
      : n <= 0 || n >= 1
        ? (e = t = NaN)
        : t <= 0 && (e = NaN),
    new Zr(e, t, n, i)
  );
}
function dk(e) {
  if (e instanceof Zr) return new Zr(e.h, e.s, e.l, e.opacity);
  if ((e instanceof Ms || (e = Qr(e)), !e)) return new Zr();
  if (e instanceof Zr) return e;
  e = e.rgb();
  var t = e.r / 255,
    n = e.g / 255,
    i = e.b / 255,
    r = Math.min(t, n, i),
    a = Math.max(t, n, i),
    o = NaN,
    s = a - r,
    l = (a + r) / 2;
  return (
    s
      ? (t === a
          ? (o = (n - i) / s + (n < i) * 6)
          : n === a
            ? (o = (i - t) / s + 2)
            : (o = (t - n) / s + 4),
        (s /= l < 0.5 ? a + r : 2 - a - r),
        (o *= 60))
      : (s = l > 0 && l < 1 ? 0 : o),
    new Zr(o, s, l, e.opacity)
  );
}
function hk(e, t, n, i) {
  return arguments.length === 1 ? dk(e) : new Zr(e, t, n, i ?? 1);
}
function Zr(e, t, n, i) {
  (this.h = +e), (this.s = +t), (this.l = +n), (this.opacity = +i);
}
Fl(
  Zr,
  hk,
  Wu(Ms, {
    brighter(e) {
      return (
        (e = e == null ? Ts : Math.pow(Ts, e)),
        new Zr(this.h, this.s, this.l * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? Do : Math.pow(Do, e)),
        new Zr(this.h, this.s, this.l * e, this.opacity)
      );
    },
    rgb() {
      var e = (this.h % 360) + (this.h < 0) * 360,
        t = isNaN(e) || isNaN(this.s) ? 0 : this.s,
        n = this.l,
        i = n + (n < 0.5 ? n : 1 - n) * t,
        r = 2 * n - i;
      return new Cn(
        Ab(e >= 240 ? e - 240 : e + 120, r, i),
        Ab(e, r, i),
        Ab(e < 120 ? e + 240 : e - 120, r, i),
        this.opacity
      );
    },
    clamp() {
      return new Zr(uk(this.h), Bf(this.s), Bf(this.l), zf(this.opacity));
    },
    displayable() {
      return (
        ((0 <= this.s && this.s <= 1) || isNaN(this.s)) &&
        0 <= this.l &&
        this.l <= 1 &&
        0 <= this.opacity &&
        this.opacity <= 1
      );
    },
    formatHsl() {
      let e = zf(this.opacity);
      return `${e === 1 ? 'hsl(' : 'hsla('}${uk(this.h)}, ${Bf(this.s) * 100}%, ${Bf(this.l) * 100}%${e === 1 ? ')' : `, ${e})`}`;
    },
  })
);
function uk(e) {
  return (e = (e || 0) % 360), e < 0 ? e + 360 : e;
}
function Bf(e) {
  return Math.max(0, Math.min(1, e || 0));
}
function Ab(e, t, n) {
  return (
    (e < 60
      ? t + ((n - t) * e) / 60
      : e < 180
        ? n
        : e < 240
          ? t + ((n - t) * (240 - e)) / 60
          : t) * 255
  );
}
var fk = Math.PI / 180,
  pk = 180 / Math.PI;
var bk = -0.14861,
  Rb = 1.78277,
  Ob = -0.29227,
  Vf = -0.90649,
  Gu = 1.97294,
  mk = Gu * Vf,
  gk = Gu * Rb,
  vk = Rb * Ob - Vf * bk;
function vL(e) {
  if (e instanceof As) return new As(e.h, e.s, e.l, e.opacity);
  e instanceof Cn || (e = Ib(e));
  var t = e.r / 255,
    n = e.g / 255,
    i = e.b / 255,
    r = (vk * i + mk * t - gk * n) / (vk + mk - gk),
    a = i - r,
    o = (Gu * (n - r) - Ob * a) / Vf,
    s = Math.sqrt(o * o + a * a) / (Gu * r * (1 - r)),
    l = s ? Math.atan2(o, a) * pk - 120 : NaN;
  return new As(l < 0 ? l + 360 : l, s, r, e.opacity);
}
function Rr(e, t, n, i) {
  return arguments.length === 1 ? vL(e) : new As(e, t, n, i ?? 1);
}
function As(e, t, n, i) {
  (this.h = +e), (this.s = +t), (this.l = +n), (this.opacity = +i);
}
Fl(
  As,
  Rr,
  Wu(Ms, {
    brighter(e) {
      return (
        (e = e == null ? Ts : Math.pow(Ts, e)),
        new As(this.h, this.s, this.l * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? Do : Math.pow(Do, e)),
        new As(this.h, this.s, this.l * e, this.opacity)
      );
    },
    rgb() {
      var e = isNaN(this.h) ? 0 : (this.h + 120) * fk,
        t = +this.l,
        n = isNaN(this.s) ? 0 : this.s * t * (1 - t),
        i = Math.cos(e),
        r = Math.sin(e);
      return new Cn(
        255 * (t + n * (bk * i + Rb * r)),
        255 * (t + n * (Ob * i + Vf * r)),
        255 * (t + n * (Gu * i)),
        this.opacity
      );
    },
  })
);
function Pb(e, t, n, i, r) {
  var a = e * e,
    o = a * e;
  return (
    ((1 - 3 * e + 3 * a - o) * t +
      (4 - 6 * a + 3 * o) * n +
      (1 + 3 * e + 3 * a - 3 * o) * i +
      o * r) /
    6
  );
}
function yk(e) {
  var t = e.length - 1;
  return function (n) {
    var i = n <= 0 ? (n = 0) : n >= 1 ? ((n = 1), t - 1) : Math.floor(n * t),
      r = e[i],
      a = e[i + 1],
      o = i > 0 ? e[i - 1] : 2 * r - a,
      s = i < t - 1 ? e[i + 2] : 2 * a - r;
    return Pb((n - i / t) * t, o, r, a, s);
  };
}
function _k(e) {
  var t = e.length;
  return function (n) {
    var i = Math.floor(((n %= 1) < 0 ? ++n : n) * t),
      r = e[(i + t - 1) % t],
      a = e[i % t],
      o = e[(i + 1) % t],
      s = e[(i + 2) % t];
    return Pb((n - i / t) * t, r, a, o, s);
  };
}
var Vl = (e) => () => e;
function xk(e, t) {
  return function (n) {
    return e + n * t;
  };
}
function bL(e, t, n) {
  return (
    (e = Math.pow(e, n)),
    (t = Math.pow(t, n) - e),
    (n = 1 / n),
    function (i) {
      return Math.pow(e + i * t, n);
    }
  );
}
function wk(e, t) {
  var n = t - e;
  return n
    ? xk(e, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n)
    : Vl(isNaN(e) ? t : e);
}
function kk(e) {
  return (e = +e) == 1
    ? Ha
    : function (t, n) {
        return n - t ? bL(t, n, e) : Vl(isNaN(t) ? n : t);
      };
}
function Ha(e, t) {
  var n = t - e;
  return n ? xk(e, n) : Vl(isNaN(e) ? t : e);
}
var Is = (function e(t) {
  var n = kk(t);
  function i(r, a) {
    var o = n((r = zl(r)).r, (a = zl(a)).r),
      s = n(r.g, a.g),
      l = n(r.b, a.b),
      c = Ha(r.opacity, a.opacity);
    return function (u) {
      return (
        (r.r = o(u)), (r.g = s(u)), (r.b = l(u)), (r.opacity = c(u)), r + ''
      );
    };
  }
  return (i.gamma = e), i;
})(1);
function Ck(e) {
  return function (t) {
    var n = t.length,
      i = new Array(n),
      r = new Array(n),
      a = new Array(n),
      o,
      s;
    for (o = 0; o < n; ++o)
      (s = zl(t[o])), (i[o] = s.r || 0), (r[o] = s.g || 0), (a[o] = s.b || 0);
    return (
      (i = e(i)),
      (r = e(r)),
      (a = e(a)),
      (s.opacity = 1),
      function (l) {
        return (s.r = i(l)), (s.g = r(l)), (s.b = a(l)), s + '';
      }
    );
  };
}
var yL = Ck(yk),
  _L = Ck(_k);
function Ek(e, t) {
  t || (t = []);
  var n = e ? Math.min(t.length, e.length) : 0,
    i = t.slice(),
    r;
  return function (a) {
    for (r = 0; r < n; ++r) i[r] = e[r] * (1 - a) + t[r] * a;
    return i;
  };
}
function Sk(e) {
  return ArrayBuffer.isView(e) && !(e instanceof DataView);
}
function Dk(e, t) {
  var n = t ? t.length : 0,
    i = e ? Math.min(n, e.length) : 0,
    r = new Array(i),
    a = new Array(n),
    o;
  for (o = 0; o < i; ++o) r[o] = Wa(e[o], t[o]);
  for (; o < n; ++o) a[o] = t[o];
  return function (s) {
    for (o = 0; o < i; ++o) a[o] = r[o](s);
    return a;
  };
}
function Tk(e, t) {
  var n = new Date();
  return (
    (e = +e),
    (t = +t),
    function (i) {
      return n.setTime(e * (1 - i) + t * i), n;
    }
  );
}
function Xn(e, t) {
  return (
    (e = +e),
    (t = +t),
    function (n) {
      return e * (1 - n) + t * n;
    }
  );
}
function Mk(e, t) {
  var n = {},
    i = {},
    r;
  (e === null || typeof e != 'object') && (e = {}),
    (t === null || typeof t != 'object') && (t = {});
  for (r in t) r in e ? (n[r] = Wa(e[r], t[r])) : (i[r] = t[r]);
  return function (a) {
    for (r in n) i[r] = n[r](a);
    return i;
  };
}
var Nb = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
  Lb = new RegExp(Nb.source, 'g');
function xL(e) {
  return function () {
    return e;
  };
}
function wL(e) {
  return function (t) {
    return e(t) + '';
  };
}
function Yu(e, t) {
  var n = (Nb.lastIndex = Lb.lastIndex = 0),
    i,
    r,
    a,
    o = -1,
    s = [],
    l = [];
  for (e = e + '', t = t + ''; (i = Nb.exec(e)) && (r = Lb.exec(t)); )
    (a = r.index) > n &&
      ((a = t.slice(n, a)), s[o] ? (s[o] += a) : (s[++o] = a)),
      (i = i[0]) === (r = r[0])
        ? s[o]
          ? (s[o] += r)
          : (s[++o] = r)
        : ((s[++o] = null), l.push({ i: o, x: Xn(i, r) })),
      (n = Lb.lastIndex);
  return (
    n < t.length && ((a = t.slice(n)), s[o] ? (s[o] += a) : (s[++o] = a)),
    s.length < 2
      ? l[0]
        ? wL(l[0].x)
        : xL(t)
      : ((t = l.length),
        function (c) {
          for (var u = 0, d; u < t; ++u) s[(d = l[u]).i] = d.x(c);
          return s.join('');
        })
  );
}
function Wa(e, t) {
  var n = typeof t,
    i;
  return t == null || n === 'boolean'
    ? Vl(t)
    : (n === 'number'
        ? Xn
        : n === 'string'
          ? (i = Qr(t))
            ? ((t = i), Is)
            : Yu
          : t instanceof Qr
            ? Is
            : t instanceof Date
              ? Tk
              : Sk(t)
                ? Ek
                : Array.isArray(t)
                  ? Dk
                  : (typeof t.valueOf != 'function' &&
                        typeof t.toString != 'function') ||
                      isNaN(t)
                    ? Mk
                    : Xn)(e, t);
}
var Ak = 180 / Math.PI,
  jf = {
    translateX: 0,
    translateY: 0,
    rotate: 0,
    skewX: 0,
    scaleX: 1,
    scaleY: 1,
  };
function Fb(e, t, n, i, r, a) {
  var o, s, l;
  return (
    (o = Math.sqrt(e * e + t * t)) && ((e /= o), (t /= o)),
    (l = e * n + t * i) && ((n -= e * l), (i -= t * l)),
    (s = Math.sqrt(n * n + i * i)) && ((n /= s), (i /= s), (l /= s)),
    e * i < t * n && ((e = -e), (t = -t), (l = -l), (o = -o)),
    {
      translateX: r,
      translateY: a,
      rotate: Math.atan2(t, e) * Ak,
      skewX: Math.atan(l) * Ak,
      scaleX: o,
      scaleY: s,
    }
  );
}
var qf;
function Ik(e) {
  let t = new (typeof DOMMatrix == 'function' ? DOMMatrix : WebKitCSSMatrix)(
    e + ''
  );
  return t.isIdentity ? jf : Fb(t.a, t.b, t.c, t.d, t.e, t.f);
}
function Rk(e) {
  return e == null
    ? jf
    : (qf || (qf = document.createElementNS('http://www.w3.org/2000/svg', 'g')),
      qf.setAttribute('transform', e),
      (e = qf.transform.baseVal.consolidate())
        ? ((e = e.matrix), Fb(e.a, e.b, e.c, e.d, e.e, e.f))
        : jf);
}
function Ok(e, t, n, i) {
  function r(c) {
    return c.length ? c.pop() + ' ' : '';
  }
  function a(c, u, d, h, p, m) {
    if (c !== d || u !== h) {
      var _ = p.push('translate(', null, t, null, n);
      m.push({ i: _ - 4, x: Xn(c, d) }, { i: _ - 2, x: Xn(u, h) });
    } else (d || h) && p.push('translate(' + d + t + h + n);
  }
  function o(c, u, d, h) {
    c !== u
      ? (c - u > 180 ? (u += 360) : u - c > 180 && (c += 360),
        h.push({ i: d.push(r(d) + 'rotate(', null, i) - 2, x: Xn(c, u) }))
      : u && d.push(r(d) + 'rotate(' + u + i);
  }
  function s(c, u, d, h) {
    c !== u
      ? h.push({ i: d.push(r(d) + 'skewX(', null, i) - 2, x: Xn(c, u) })
      : u && d.push(r(d) + 'skewX(' + u + i);
  }
  function l(c, u, d, h, p, m) {
    if (c !== d || u !== h) {
      var _ = p.push(r(p) + 'scale(', null, ',', null, ')');
      m.push({ i: _ - 4, x: Xn(c, d) }, { i: _ - 2, x: Xn(u, h) });
    } else (d !== 1 || h !== 1) && p.push(r(p) + 'scale(' + d + ',' + h + ')');
  }
  return function (c, u) {
    var d = [],
      h = [];
    return (
      (c = e(c)),
      (u = e(u)),
      a(c.translateX, c.translateY, u.translateX, u.translateY, d, h),
      o(c.rotate, u.rotate, d, h),
      s(c.skewX, u.skewX, d, h),
      l(c.scaleX, c.scaleY, u.scaleX, u.scaleY, d, h),
      (c = u = null),
      function (p) {
        for (var m = -1, _ = h.length, v; ++m < _; ) d[(v = h[m]).i] = v.x(p);
        return d.join('');
      }
    );
  };
}
var Bb = Ok(Ik, 'px, ', 'px)', 'deg)'),
  zb = Ok(Rk, ', ', ')', ')');
function Pk(e) {
  return (function t(n) {
    n = +n;
    function i(r, a) {
      var o = e((r = Rr(r)).h, (a = Rr(a)).h),
        s = Ha(r.s, a.s),
        l = Ha(r.l, a.l),
        c = Ha(r.opacity, a.opacity);
      return function (u) {
        return (
          (r.h = o(u)),
          (r.s = s(u)),
          (r.l = l(Math.pow(u, n))),
          (r.opacity = c(u)),
          r + ''
        );
      };
    }
    return (i.gamma = t), i;
  })(1);
}
var kL = Pk(wk),
  Uf = Pk(Ha);
function Ku(e, t) {
  for (var n = new Array(t), i = 0; i < t; ++i) n[i] = e(i / (t - 1));
  return n;
}
var jl = 0,
  Zu = 0,
  Xu = 0,
  Nk = 1e3,
  Hf,
  Qu,
  Wf = 0,
  Rs = 0,
  $f = 0,
  Ju = typeof performance == 'object' && performance.now ? performance : Date,
  Fk =
    typeof window == 'object' && window.requestAnimationFrame
      ? window.requestAnimationFrame.bind(window)
      : function (e) {
          setTimeout(e, 17);
        };
function ed() {
  return Rs || (Fk(CL), (Rs = Ju.now() + $f));
}
function CL() {
  Rs = 0;
}
function td() {
  this._call = this._time = this._next = null;
}
td.prototype = Gf.prototype = {
  constructor: td,
  restart: function (e, t, n) {
    if (typeof e != 'function')
      throw new TypeError('callback is not a function');
    (n = (n == null ? ed() : +n) + (t == null ? 0 : +t)),
      !this._next &&
        Qu !== this &&
        (Qu ? (Qu._next = this) : (Hf = this), (Qu = this)),
      (this._call = e),
      (this._time = n),
      Vb();
  },
  stop: function () {
    this._call && ((this._call = null), (this._time = 1 / 0), Vb());
  },
};
function Gf(e, t, n) {
  var i = new td();
  return i.restart(e, t, n), i;
}
function Bk() {
  ed(), ++jl;
  for (var e = Hf, t; e; )
    (t = Rs - e._time) >= 0 && e._call.call(void 0, t), (e = e._next);
  --jl;
}
function Lk() {
  (Rs = (Wf = Ju.now()) + $f), (jl = Zu = 0);
  try {
    Bk();
  } finally {
    (jl = 0), SL(), (Rs = 0);
  }
}
function EL() {
  var e = Ju.now(),
    t = e - Wf;
  t > Nk && (($f -= t), (Wf = e));
}
function SL() {
  for (var e, t = Hf, n, i = 1 / 0; t; )
    t._call
      ? (i > t._time && (i = t._time), (e = t), (t = t._next))
      : ((n = t._next), (t._next = null), (t = e ? (e._next = n) : (Hf = n)));
  (Qu = e), Vb(i);
}
function Vb(e) {
  if (!jl) {
    Zu && (Zu = clearTimeout(Zu));
    var t = e - Rs;
    t > 24
      ? (e < 1 / 0 && (Zu = setTimeout(Lk, e - Ju.now() - $f)),
        Xu && (Xu = clearInterval(Xu)))
      : (Xu || ((Wf = Ju.now()), (Xu = setInterval(EL, Nk))), (jl = 1), Fk(Lk));
  }
}
function Yf(e, t, n) {
  var i = new td();
  return (
    (t = t == null ? 0 : +t),
    i.restart(
      (r) => {
        i.stop(), e(r + t);
      },
      t,
      n
    ),
    i
  );
}
var DL = Eb('start', 'end', 'cancel', 'interrupt'),
  TL = [],
  jk = 0,
  zk = 1,
  Xf = 2,
  Kf = 3,
  Vk = 4,
  Zf = 5,
  id = 6;
function To(e, t, n, i, r, a) {
  var o = e.__transition;
  if (!o) e.__transition = {};
  else if (n in o) return;
  ML(e, n, {
    name: t,
    index: i,
    group: r,
    on: DL,
    tween: TL,
    time: a.time,
    delay: a.delay,
    duration: a.duration,
    ease: a.ease,
    timer: null,
    state: jk,
  });
}
function nd(e, t) {
  var n = un(e, t);
  if (n.state > jk) throw new Error('too late; already scheduled');
  return n;
}
function En(e, t) {
  var n = un(e, t);
  if (n.state > Kf) throw new Error('too late; already running');
  return n;
}
function un(e, t) {
  var n = e.__transition;
  if (!n || !(n = n[t])) throw new Error('transition not found');
  return n;
}
function ML(e, t, n) {
  var i = e.__transition,
    r;
  (i[t] = n), (n.timer = Gf(a, 0, n.time));
  function a(c) {
    (n.state = zk),
      n.timer.restart(o, n.delay, n.time),
      n.delay <= c && o(c - n.delay);
  }
  function o(c) {
    var u, d, h, p;
    if (n.state !== zk) return l();
    for (u in i)
      if (((p = i[u]), p.name === n.name)) {
        if (p.state === Kf) return Yf(o);
        p.state === Vk
          ? ((p.state = id),
            p.timer.stop(),
            p.on.call('interrupt', e, e.__data__, p.index, p.group),
            delete i[u])
          : +u < t &&
            ((p.state = id),
            p.timer.stop(),
            p.on.call('cancel', e, e.__data__, p.index, p.group),
            delete i[u]);
      }
    if (
      (Yf(function () {
        n.state === Kf &&
          ((n.state = Vk), n.timer.restart(s, n.delay, n.time), s(c));
      }),
      (n.state = Xf),
      n.on.call('start', e, e.__data__, n.index, n.group),
      n.state === Xf)
    ) {
      for (
        n.state = Kf, r = new Array((h = n.tween.length)), u = 0, d = -1;
        u < h;
        ++u
      )
        (p = n.tween[u].value.call(e, e.__data__, n.index, n.group)) &&
          (r[++d] = p);
      r.length = d + 1;
    }
  }
  function s(c) {
    for (
      var u =
          c < n.duration
            ? n.ease.call(null, c / n.duration)
            : (n.timer.restart(l), (n.state = Zf), 1),
        d = -1,
        h = r.length;
      ++d < h;

    )
      r[d].call(e, u);
    n.state === Zf && (n.on.call('end', e, e.__data__, n.index, n.group), l());
  }
  function l() {
    (n.state = id), n.timer.stop(), delete i[t];
    for (var c in i) return;
    delete e.__transition;
  }
}
function Qf(e, t) {
  var n = e.__transition,
    i,
    r,
    a = !0,
    o;
  if (n) {
    t = t == null ? null : t + '';
    for (o in n) {
      if ((i = n[o]).name !== t) {
        a = !1;
        continue;
      }
      (r = i.state > Xf && i.state < Zf),
        (i.state = id),
        i.timer.stop(),
        i.on.call(r ? 'interrupt' : 'cancel', e, e.__data__, i.index, i.group),
        delete n[o];
    }
    a && delete e.__transition;
  }
}
function qk(e) {
  return this.each(function () {
    Qf(this, e);
  });
}
function AL(e, t) {
  var n, i;
  return function () {
    var r = En(this, e),
      a = r.tween;
    if (a !== n) {
      i = n = a;
      for (var o = 0, s = i.length; o < s; ++o)
        if (i[o].name === t) {
          (i = i.slice()), i.splice(o, 1);
          break;
        }
    }
    r.tween = i;
  };
}
function IL(e, t, n) {
  var i, r;
  if (typeof n != 'function') throw new Error();
  return function () {
    var a = En(this, e),
      o = a.tween;
    if (o !== i) {
      r = (i = o).slice();
      for (var s = { name: t, value: n }, l = 0, c = r.length; l < c; ++l)
        if (r[l].name === t) {
          r[l] = s;
          break;
        }
      l === c && r.push(s);
    }
    a.tween = r;
  };
}
function Uk(e, t) {
  var n = this._id;
  if (((e += ''), arguments.length < 2)) {
    for (var i = un(this.node(), n).tween, r = 0, a = i.length, o; r < a; ++r)
      if ((o = i[r]).name === e) return o.value;
    return null;
  }
  return this.each((t == null ? AL : IL)(n, e, t));
}
function ql(e, t, n) {
  var i = e._id;
  return (
    e.each(function () {
      var r = En(this, i);
      (r.value || (r.value = {}))[t] = n.apply(this, arguments);
    }),
    function (r) {
      return un(r, i).value[t];
    }
  );
}
function Jf(e, t) {
  var n;
  return (
    typeof t == 'number'
      ? Xn
      : t instanceof Qr
        ? Is
        : (n = Qr(t))
          ? ((t = n), Is)
          : Yu
  )(e, t);
}
function RL(e) {
  return function () {
    this.removeAttribute(e);
  };
}
function OL(e) {
  return function () {
    this.removeAttributeNS(e.space, e.local);
  };
}
function PL(e, t, n) {
  var i,
    r = n + '',
    a;
  return function () {
    var o = this.getAttribute(e);
    return o === r ? null : o === i ? a : (a = t((i = o), n));
  };
}
function LL(e, t, n) {
  var i,
    r = n + '',
    a;
  return function () {
    var o = this.getAttributeNS(e.space, e.local);
    return o === r ? null : o === i ? a : (a = t((i = o), n));
  };
}
function NL(e, t, n) {
  var i, r, a;
  return function () {
    var o,
      s = n(this),
      l;
    return s == null
      ? void this.removeAttribute(e)
      : ((o = this.getAttribute(e)),
        (l = s + ''),
        o === l
          ? null
          : o === i && l === r
            ? a
            : ((r = l), (a = t((i = o), s))));
  };
}
function FL(e, t, n) {
  var i, r, a;
  return function () {
    var o,
      s = n(this),
      l;
    return s == null
      ? void this.removeAttributeNS(e.space, e.local)
      : ((o = this.getAttributeNS(e.space, e.local)),
        (l = s + ''),
        o === l
          ? null
          : o === i && l === r
            ? a
            : ((r = l), (a = t((i = o), s))));
  };
}
function Hk(e, t) {
  var n = qa(e),
    i = n === 'transform' ? zb : Jf;
  return this.attrTween(
    e,
    typeof t == 'function'
      ? (n.local ? FL : NL)(n, i, ql(this, 'attr.' + e, t))
      : t == null
        ? (n.local ? OL : RL)(n)
        : (n.local ? LL : PL)(n, i, t)
  );
}
function BL(e, t) {
  return function (n) {
    this.setAttribute(e, t.call(this, n));
  };
}
function zL(e, t) {
  return function (n) {
    this.setAttributeNS(e.space, e.local, t.call(this, n));
  };
}
function VL(e, t) {
  var n, i;
  function r() {
    var a = t.apply(this, arguments);
    return a !== i && (n = (i = a) && zL(e, a)), n;
  }
  return (r._value = t), r;
}
function jL(e, t) {
  var n, i;
  function r() {
    var a = t.apply(this, arguments);
    return a !== i && (n = (i = a) && BL(e, a)), n;
  }
  return (r._value = t), r;
}
function Wk(e, t) {
  var n = 'attr.' + e;
  if (arguments.length < 2) return (n = this.tween(n)) && n._value;
  if (t == null) return this.tween(n, null);
  if (typeof t != 'function') throw new Error();
  var i = qa(e);
  return this.tween(n, (i.local ? VL : jL)(i, t));
}
function qL(e, t) {
  return function () {
    nd(this, e).delay = +t.apply(this, arguments);
  };
}
function UL(e, t) {
  return (
    (t = +t),
    function () {
      nd(this, e).delay = t;
    }
  );
}
function $k(e) {
  var t = this._id;
  return arguments.length
    ? this.each((typeof e == 'function' ? qL : UL)(t, e))
    : un(this.node(), t).delay;
}
function HL(e, t) {
  return function () {
    En(this, e).duration = +t.apply(this, arguments);
  };
}
function WL(e, t) {
  return (
    (t = +t),
    function () {
      En(this, e).duration = t;
    }
  );
}
function Gk(e) {
  var t = this._id;
  return arguments.length
    ? this.each((typeof e == 'function' ? HL : WL)(t, e))
    : un(this.node(), t).duration;
}
function $L(e, t) {
  if (typeof t != 'function') throw new Error();
  return function () {
    En(this, e).ease = t;
  };
}
function Yk(e) {
  var t = this._id;
  return arguments.length ? this.each($L(t, e)) : un(this.node(), t).ease;
}
function GL(e, t) {
  return function () {
    var n = t.apply(this, arguments);
    if (typeof n != 'function') throw new Error();
    En(this, e).ease = n;
  };
}
function Kk(e) {
  if (typeof e != 'function') throw new Error();
  return this.each(GL(this._id, e));
}
function Xk(e) {
  typeof e != 'function' && (e = Uu(e));
  for (var t = this._groups, n = t.length, i = new Array(n), r = 0; r < n; ++r)
    for (var a = t[r], o = a.length, s = (i[r] = []), l, c = 0; c < o; ++c)
      (l = a[c]) && e.call(l, l.__data__, c, a) && s.push(l);
  return new Zn(i, this._parents, this._name, this._id);
}
function Zk(e) {
  if (e._id !== this._id) throw new Error();
  for (
    var t = this._groups,
      n = e._groups,
      i = t.length,
      r = n.length,
      a = Math.min(i, r),
      o = new Array(i),
      s = 0;
    s < a;
    ++s
  )
    for (
      var l = t[s], c = n[s], u = l.length, d = (o[s] = new Array(u)), h, p = 0;
      p < u;
      ++p
    )
      (h = l[p] || c[p]) && (d[p] = h);
  for (; s < i; ++s) o[s] = t[s];
  return new Zn(o, this._parents, this._name, this._id);
}
function YL(e) {
  return (e + '')
    .trim()
    .split(/^|\s+/)
    .every(function (t) {
      var n = t.indexOf('.');
      return n >= 0 && (t = t.slice(0, n)), !t || t === 'start';
    });
}
function KL(e, t, n) {
  var i,
    r,
    a = YL(t) ? nd : En;
  return function () {
    var o = a(this, e),
      s = o.on;
    s !== i && (r = (i = s).copy()).on(t, n), (o.on = r);
  };
}
function Qk(e, t) {
  var n = this._id;
  return arguments.length < 2
    ? un(this.node(), n).on.on(e)
    : this.each(KL(n, e, t));
}
function XL(e) {
  return function () {
    var t = this.parentNode;
    for (var n in this.__transition) if (+n !== e) return;
    t && t.removeChild(this);
  };
}
function Jk() {
  return this.on('end.remove', XL(this._id));
}
function tC(e) {
  var t = this._name,
    n = this._id;
  typeof e != 'function' && (e = Es(e));
  for (var i = this._groups, r = i.length, a = new Array(r), o = 0; o < r; ++o)
    for (
      var s = i[o], l = s.length, c = (a[o] = new Array(l)), u, d, h = 0;
      h < l;
      ++h
    )
      (u = s[h]) &&
        (d = e.call(u, u.__data__, h, s)) &&
        ('__data__' in u && (d.__data__ = u.__data__),
        (c[h] = d),
        To(c[h], t, n, h, c, un(u, n)));
  return new Zn(a, this._parents, t, n);
}
function eC(e) {
  var t = this._name,
    n = this._id;
  typeof e != 'function' && (e = qu(e));
  for (var i = this._groups, r = i.length, a = [], o = [], s = 0; s < r; ++s)
    for (var l = i[s], c = l.length, u, d = 0; d < c; ++d)
      if ((u = l[d])) {
        for (
          var h = e.call(u, u.__data__, d, l),
            p,
            m = un(u, n),
            _ = 0,
            v = h.length;
          _ < v;
          ++_
        )
          (p = h[_]) && To(p, t, n, _, h, m);
        a.push(h), o.push(u);
      }
  return new Zn(a, o, t, n);
}
var ZL = Ua.prototype.constructor;
function iC() {
  return new ZL(this._groups, this._parents);
}
function QL(e, t) {
  var n, i, r;
  return function () {
    var a = So(this, e),
      o = (this.style.removeProperty(e), So(this, e));
    return a === o ? null : a === n && o === i ? r : (r = t((n = a), (i = o)));
  };
}
function nC(e) {
  return function () {
    this.style.removeProperty(e);
  };
}
function JL(e, t, n) {
  var i,
    r = n + '',
    a;
  return function () {
    var o = So(this, e);
    return o === r ? null : o === i ? a : (a = t((i = o), n));
  };
}
function tN(e, t, n) {
  var i, r, a;
  return function () {
    var o = So(this, e),
      s = n(this),
      l = s + '';
    return (
      s == null && (l = s = (this.style.removeProperty(e), So(this, e))),
      o === l ? null : o === i && l === r ? a : ((r = l), (a = t((i = o), s)))
    );
  };
}
function eN(e, t) {
  var n,
    i,
    r,
    a = 'style.' + t,
    o = 'end.' + a,
    s;
  return function () {
    var l = En(this, e),
      c = l.on,
      u = l.value[a] == null ? s || (s = nC(t)) : void 0;
    (c !== n || r !== u) && (i = (n = c).copy()).on(o, (r = u)), (l.on = i);
  };
}
function rC(e, t, n) {
  var i = (e += '') == 'transform' ? Bb : Jf;
  return t == null
    ? this.styleTween(e, QL(e, i)).on('end.style.' + e, nC(e))
    : typeof t == 'function'
      ? this.styleTween(e, tN(e, i, ql(this, 'style.' + e, t))).each(
          eN(this._id, e)
        )
      : this.styleTween(e, JL(e, i, t), n).on('end.style.' + e, null);
}
function iN(e, t, n) {
  return function (i) {
    this.style.setProperty(e, t.call(this, i), n);
  };
}
function nN(e, t, n) {
  var i, r;
  function a() {
    var o = t.apply(this, arguments);
    return o !== r && (i = (r = o) && iN(e, o, n)), i;
  }
  return (a._value = t), a;
}
function aC(e, t, n) {
  var i = 'style.' + (e += '');
  if (arguments.length < 2) return (i = this.tween(i)) && i._value;
  if (t == null) return this.tween(i, null);
  if (typeof t != 'function') throw new Error();
  return this.tween(i, nN(e, t, n ?? ''));
}
function rN(e) {
  return function () {
    this.textContent = e;
  };
}
function aN(e) {
  return function () {
    var t = e(this);
    this.textContent = t ?? '';
  };
}
function oC(e) {
  return this.tween(
    'text',
    typeof e == 'function'
      ? aN(ql(this, 'text', e))
      : rN(e == null ? '' : e + '')
  );
}
function oN(e) {
  return function (t) {
    this.textContent = e.call(this, t);
  };
}
function sN(e) {
  var t, n;
  function i() {
    var r = e.apply(this, arguments);
    return r !== n && (t = (n = r) && oN(r)), t;
  }
  return (i._value = e), i;
}
function sC(e) {
  var t = 'text';
  if (arguments.length < 1) return (t = this.tween(t)) && t._value;
  if (e == null) return this.tween(t, null);
  if (typeof e != 'function') throw new Error();
  return this.tween(t, sN(e));
}
function lC() {
  for (
    var e = this._name,
      t = this._id,
      n = tp(),
      i = this._groups,
      r = i.length,
      a = 0;
    a < r;
    ++a
  )
    for (var o = i[a], s = o.length, l, c = 0; c < s; ++c)
      if ((l = o[c])) {
        var u = un(l, t);
        To(l, e, n, c, o, {
          time: u.time + u.delay + u.duration,
          delay: 0,
          duration: u.duration,
          ease: u.ease,
        });
      }
  return new Zn(i, this._parents, e, n);
}
function cC() {
  var e,
    t,
    n = this,
    i = n._id,
    r = n.size();
  return new Promise(function (a, o) {
    var s = { value: o },
      l = {
        value: function () {
          --r === 0 && a();
        },
      };
    n.each(function () {
      var c = En(this, i),
        u = c.on;
      u !== e &&
        ((t = (e = u).copy()),
        t._.cancel.push(s),
        t._.interrupt.push(s),
        t._.end.push(l)),
        (c.on = t);
    }),
      r === 0 && a();
  });
}
var lN = 0;
function Zn(e, t, n, i) {
  (this._groups = e), (this._parents = t), (this._name = n), (this._id = i);
}
function uC(e) {
  return Ua().transition(e);
}
function tp() {
  return ++lN;
}
var $a = Ua.prototype;
Zn.prototype = uC.prototype = {
  constructor: Zn,
  select: tC,
  selectAll: eC,
  selectChild: $a.selectChild,
  selectChildren: $a.selectChildren,
  filter: Xk,
  merge: Zk,
  selection: iC,
  transition: lC,
  call: $a.call,
  nodes: $a.nodes,
  node: $a.node,
  size: $a.size,
  empty: $a.empty,
  each: $a.each,
  on: Qk,
  attr: Hk,
  attrTween: Wk,
  style: rC,
  styleTween: aC,
  text: oC,
  textTween: sC,
  remove: Jk,
  tween: Uk,
  delay: $k,
  duration: Gk,
  ease: Yk,
  easeVarying: Kk,
  end: cC,
  [Symbol.iterator]: $a[Symbol.iterator],
};
function ep(e) {
  return ((e *= 2) <= 1 ? e * e * e : (e -= 2) * e * e + 2) / 2;
}
var cN = { time: null, delay: 0, duration: 250, ease: ep };
function uN(e, t) {
  for (var n; !(n = e.__transition) || !(n = n[t]); )
    if (!(e = e.parentNode)) throw new Error(`transition ${t} not found`);
  return n;
}
function dC(e) {
  var t, n;
  e instanceof Zn
    ? ((t = e._id), (e = e._name))
    : ((t = tp()), ((n = cN).time = ed()), (e = e == null ? null : e + ''));
  for (var i = this._groups, r = i.length, a = 0; a < r; ++a)
    for (var o = i[a], s = o.length, l, c = 0; c < s; ++c)
      (l = o[c]) && To(l, e, t, c, o, n || uN(l, t));
  return new Zn(i, this._parents, e, t);
}
Ua.prototype.interrupt = qk;
Ua.prototype.transition = dC;
var { abs: x7, max: w7, min: k7 } = Math;
function hC(e) {
  return [+e[0], +e[1]];
}
function dN(e) {
  return [hC(e[0]), hC(e[1])];
}
var C7 = {
    name: 'x',
    handles: ['w', 'e'].map(jb),
    input: function (e, t) {
      return e == null
        ? null
        : [
            [+e[0], t[0][1]],
            [+e[1], t[1][1]],
          ];
    },
    output: function (e) {
      return e && [e[0][0], e[1][0]];
    },
  },
  E7 = {
    name: 'y',
    handles: ['n', 's'].map(jb),
    input: function (e, t) {
      return e == null
        ? null
        : [
            [t[0][0], +e[0]],
            [t[1][0], +e[1]],
          ];
    },
    output: function (e) {
      return e && [e[0][1], e[1][1]];
    },
  },
  S7 = {
    name: 'xy',
    handles: ['n', 'w', 'e', 's', 'nw', 'ne', 'sw', 'se'].map(jb),
    input: function (e) {
      return e == null ? null : dN(e);
    },
    output: function (e) {
      return e;
    },
  };
function jb(e) {
  return { type: e };
}
var qb = Math.abs,
  Os = Math.cos,
  Ps = Math.sin,
  fC = Math.PI,
  rd = fC / 2,
  Ub = fC * 2,
  Hb = Math.max,
  ip = 1e-12;
function Wb(e, t) {
  return Array.from({ length: t - e }, (n, i) => e + i);
}
function hN(e) {
  return function (t, n) {
    return e(t.source.value + t.target.value, n.source.value + n.target.value);
  };
}
function $b() {
  return fN(!1, !1);
}
function fN(e, t) {
  var n = 0,
    i = null,
    r = null,
    a = null;
  function o(s) {
    var l = s.length,
      c = new Array(l),
      u = Wb(0, l),
      d = new Array(l * l),
      h = new Array(l),
      p = 0,
      m;
    s = Float64Array.from(
      { length: l * l },
      t ? (_, v) => s[v % l][(v / l) | 0] : (_, v) => s[(v / l) | 0][v % l]
    );
    for (let _ = 0; _ < l; ++_) {
      let v = 0;
      for (let y = 0; y < l; ++y) v += s[_ * l + y] + e * s[y * l + _];
      p += c[_] = v;
    }
    (p = Hb(0, Ub - n * l) / p), (m = p ? n : Ub / l);
    {
      let _ = 0;
      i && u.sort((v, y) => i(c[v], c[y]));
      for (let v of u) {
        let y = _;
        if (e) {
          let w = Wb(~l + 1, l).filter((x) =>
            x < 0 ? s[~x * l + v] : s[v * l + x]
          );
          r &&
            w.sort((x, C) =>
              r(
                x < 0 ? -s[~x * l + v] : s[v * l + x],
                C < 0 ? -s[~C * l + v] : s[v * l + C]
              )
            );
          for (let x of w)
            if (x < 0) {
              let C =
                d[~x * l + v] ||
                (d[~x * l + v] = { source: null, target: null });
              C.target = {
                index: v,
                startAngle: _,
                endAngle: (_ += s[~x * l + v] * p),
                value: s[~x * l + v],
              };
            } else {
              let C =
                d[v * l + x] || (d[v * l + x] = { source: null, target: null });
              C.source = {
                index: v,
                startAngle: _,
                endAngle: (_ += s[v * l + x] * p),
                value: s[v * l + x],
              };
            }
          h[v] = { index: v, startAngle: y, endAngle: _, value: c[v] };
        } else {
          let w = Wb(0, l).filter((x) => s[v * l + x] || s[x * l + v]);
          r && w.sort((x, C) => r(s[v * l + x], s[v * l + C]));
          for (let x of w) {
            let C;
            if (
              (v < x
                ? ((C =
                    d[v * l + x] ||
                    (d[v * l + x] = { source: null, target: null })),
                  (C.source = {
                    index: v,
                    startAngle: _,
                    endAngle: (_ += s[v * l + x] * p),
                    value: s[v * l + x],
                  }))
                : ((C =
                    d[x * l + v] ||
                    (d[x * l + v] = { source: null, target: null })),
                  (C.target = {
                    index: v,
                    startAngle: _,
                    endAngle: (_ += s[v * l + x] * p),
                    value: s[v * l + x],
                  }),
                  v === x && (C.source = C.target)),
              C.source && C.target && C.source.value < C.target.value)
            ) {
              let S = C.source;
              (C.source = C.target), (C.target = S);
            }
          }
          h[v] = { index: v, startAngle: y, endAngle: _, value: c[v] };
        }
        _ += m;
      }
    }
    return (d = Object.values(d)), (d.groups = h), a ? d.sort(a) : d;
  }
  return (
    (o.padAngle = function (s) {
      return arguments.length ? ((n = Hb(0, s)), o) : n;
    }),
    (o.sortGroups = function (s) {
      return arguments.length ? ((i = s), o) : i;
    }),
    (o.sortSubgroups = function (s) {
      return arguments.length ? ((r = s), o) : r;
    }),
    (o.sortChords = function (s) {
      return arguments.length
        ? (s == null ? (a = null) : ((a = hN(s))._ = s), o)
        : a && a._;
    }),
    o
  );
}
var Gb = Math.PI,
  Yb = 2 * Gb,
  Ls = 1e-6,
  pN = Yb - Ls;
function pC(e) {
  this._ += e[0];
  for (let t = 1, n = e.length; t < n; ++t) this._ += arguments[t] + e[t];
}
function mN(e) {
  let t = Math.floor(e);
  if (!(t >= 0)) throw new Error(`invalid digits: ${e}`);
  if (t > 15) return pC;
  let n = 10 ** t;
  return function (i) {
    this._ += i[0];
    for (let r = 1, a = i.length; r < a; ++r)
      this._ += Math.round(arguments[r] * n) / n + i[r];
  };
}
var Ns = class {
  constructor(t) {
    (this._x0 = this._y0 = this._x1 = this._y1 = null),
      (this._ = ''),
      (this._append = t == null ? pC : mN(t));
  }
  moveTo(t, n) {
    this._append`M${(this._x0 = this._x1 = +t)},${(this._y0 = this._y1 = +n)}`;
  }
  closePath() {
    this._x1 !== null &&
      ((this._x1 = this._x0), (this._y1 = this._y0), this._append`Z`);
  }
  lineTo(t, n) {
    this._append`L${(this._x1 = +t)},${(this._y1 = +n)}`;
  }
  quadraticCurveTo(t, n, i, r) {
    this._append`Q${+t},${+n},${(this._x1 = +i)},${(this._y1 = +r)}`;
  }
  bezierCurveTo(t, n, i, r, a, o) {
    this
      ._append`C${+t},${+n},${+i},${+r},${(this._x1 = +a)},${(this._y1 = +o)}`;
  }
  arcTo(t, n, i, r, a) {
    if (((t = +t), (n = +n), (i = +i), (r = +r), (a = +a), a < 0))
      throw new Error(`negative radius: ${a}`);
    let o = this._x1,
      s = this._y1,
      l = i - t,
      c = r - n,
      u = o - t,
      d = s - n,
      h = u * u + d * d;
    if (this._x1 === null) this._append`M${(this._x1 = t)},${(this._y1 = n)}`;
    else if (h > Ls)
      if (!(Math.abs(d * l - c * u) > Ls) || !a)
        this._append`L${(this._x1 = t)},${(this._y1 = n)}`;
      else {
        let p = i - o,
          m = r - s,
          _ = l * l + c * c,
          v = p * p + m * m,
          y = Math.sqrt(_),
          w = Math.sqrt(h),
          x = a * Math.tan((Gb - Math.acos((_ + h - v) / (2 * y * w))) / 2),
          C = x / w,
          S = x / y;
        Math.abs(C - 1) > Ls && this._append`L${t + C * u},${n + C * d}`,
          this
            ._append`A${a},${a},0,0,${+(d * p > u * m)},${(this._x1 = t + S * l)},${(this._y1 = n + S * c)}`;
      }
  }
  arc(t, n, i, r, a, o) {
    if (((t = +t), (n = +n), (i = +i), (o = !!o), i < 0))
      throw new Error(`negative radius: ${i}`);
    let s = i * Math.cos(r),
      l = i * Math.sin(r),
      c = t + s,
      u = n + l,
      d = 1 ^ o,
      h = o ? r - a : a - r;
    this._x1 === null
      ? this._append`M${c},${u}`
      : (Math.abs(this._x1 - c) > Ls || Math.abs(this._y1 - u) > Ls) &&
        this._append`L${c},${u}`,
      i &&
        (h < 0 && (h = (h % Yb) + Yb),
        h > pN
          ? this
              ._append`A${i},${i},0,1,${d},${t - s},${n - l}A${i},${i},0,1,${d},${(this._x1 = c)},${(this._y1 = u)}`
          : h > Ls &&
            this
              ._append`A${i},${i},0,${+(h >= Gb)},${d},${(this._x1 = t + i * Math.cos(a))},${(this._y1 = n + i * Math.sin(a))}`);
  }
  rect(t, n, i, r) {
    this
      ._append`M${(this._x0 = this._x1 = +t)},${(this._y0 = this._y1 = +n)}h${(i = +i)}v${+r}h${-i}Z`;
  }
  toString() {
    return this._;
  }
};
function np() {
  return new Ns();
}
np.prototype = Ns.prototype;
var mC = Array.prototype.slice;
function Mo(e) {
  return function () {
    return e;
  };
}
function gN(e) {
  return e.source;
}
function vN(e) {
  return e.target;
}
function gC(e) {
  return e.radius;
}
function bN(e) {
  return e.startAngle;
}
function yN(e) {
  return e.endAngle;
}
function _N() {
  return 0;
}
function xN() {
  return 10;
}
function wN(e) {
  var t = gN,
    n = vN,
    i = gC,
    r = gC,
    a = bN,
    o = yN,
    s = _N,
    l = null;
  function c() {
    var u,
      d = t.apply(this, arguments),
      h = n.apply(this, arguments),
      p = s.apply(this, arguments) / 2,
      m = mC.call(arguments),
      _ = +i.apply(this, ((m[0] = d), m)),
      v = a.apply(this, m) - rd,
      y = o.apply(this, m) - rd,
      w = +r.apply(this, ((m[0] = h), m)),
      x = a.apply(this, m) - rd,
      C = o.apply(this, m) - rd;
    if (
      (l || (l = u = np()),
      p > ip &&
        (qb(y - v) > p * 2 + ip
          ? y > v
            ? ((v += p), (y -= p))
            : ((v -= p), (y += p))
          : (v = y = (v + y) / 2),
        qb(C - x) > p * 2 + ip
          ? C > x
            ? ((x += p), (C -= p))
            : ((x -= p), (C += p))
          : (x = C = (x + C) / 2)),
      l.moveTo(_ * Os(v), _ * Ps(v)),
      l.arc(0, 0, _, v, y),
      v !== x || y !== C)
    )
      if (e) {
        var S = +e.apply(this, arguments),
          g = w - S,
          D = (x + C) / 2;
        l.quadraticCurveTo(0, 0, g * Os(x), g * Ps(x)),
          l.lineTo(w * Os(D), w * Ps(D)),
          l.lineTo(g * Os(C), g * Ps(C));
      } else
        l.quadraticCurveTo(0, 0, w * Os(x), w * Ps(x)), l.arc(0, 0, w, x, C);
    if ((l.quadraticCurveTo(0, 0, _ * Os(v), _ * Ps(v)), l.closePath(), u))
      return (l = null), u + '' || null;
  }
  return (
    e &&
      (c.headRadius = function (u) {
        return arguments.length
          ? ((e = typeof u == 'function' ? u : Mo(+u)), c)
          : e;
      }),
    (c.radius = function (u) {
      return arguments.length
        ? ((i = r = typeof u == 'function' ? u : Mo(+u)), c)
        : i;
    }),
    (c.sourceRadius = function (u) {
      return arguments.length
        ? ((i = typeof u == 'function' ? u : Mo(+u)), c)
        : i;
    }),
    (c.targetRadius = function (u) {
      return arguments.length
        ? ((r = typeof u == 'function' ? u : Mo(+u)), c)
        : r;
    }),
    (c.startAngle = function (u) {
      return arguments.length
        ? ((a = typeof u == 'function' ? u : Mo(+u)), c)
        : a;
    }),
    (c.endAngle = function (u) {
      return arguments.length
        ? ((o = typeof u == 'function' ? u : Mo(+u)), c)
        : o;
    }),
    (c.padAngle = function (u) {
      return arguments.length
        ? ((s = typeof u == 'function' ? u : Mo(+u)), c)
        : s;
    }),
    (c.source = function (u) {
      return arguments.length ? ((t = u), c) : t;
    }),
    (c.target = function (u) {
      return arguments.length ? ((n = u), c) : n;
    }),
    (c.context = function (u) {
      return arguments.length ? ((l = u ?? null), c) : l;
    }),
    c
  );
}
function Kb() {
  return wN(xN);
}
var kN = Uf(Rr(-100, 0.75, 0.35), Rr(80, 1.5, 0.8)),
  CN = Uf(Rr(260, 0.75, 0.35), Rr(80, 1.5, 0.8)),
  rp = Rr();
function ad(e) {
  (e < 0 || e > 1) && (e -= Math.floor(e));
  var t = Math.abs(e - 0.5);
  return (
    (rp.h = 360 * e - 100),
    (rp.s = 1.5 - 1.5 * t),
    (rp.l = 0.8 - 0.9 * t),
    rp + ''
  );
}
function Ga(e) {
  return function () {
    return e;
  };
}
var Xb = Math.abs,
  Sn = Math.atan2,
  Ao = Math.cos,
  vC = Math.max,
  ap = Math.min,
  Jr = Math.sin,
  Fs = Math.sqrt,
  Qn = 1e-12,
  Ul = Math.PI,
  od = Ul / 2,
  bC = 2 * Ul;
function yC(e) {
  return e > 1 ? 0 : e < -1 ? Ul : Math.acos(e);
}
function Zb(e) {
  return e >= 1 ? od : e <= -1 ? -od : Math.asin(e);
}
function _C(e) {
  let t = 3;
  return (
    (e.digits = function (n) {
      if (!arguments.length) return t;
      if (n == null) t = null;
      else {
        let i = Math.floor(n);
        if (!(i >= 0)) throw new RangeError(`invalid digits: ${n}`);
        t = i;
      }
      return e;
    }),
    () => new Ns(t)
  );
}
function EN(e) {
  return e.innerRadius;
}
function SN(e) {
  return e.outerRadius;
}
function DN(e) {
  return e.startAngle;
}
function TN(e) {
  return e.endAngle;
}
function MN(e) {
  return e && e.padAngle;
}
function AN(e, t, n, i, r, a, o, s) {
  var l = n - e,
    c = i - t,
    u = o - r,
    d = s - a,
    h = d * l - u * c;
  if (!(h * h < Qn))
    return (h = (u * (t - a) - d * (e - r)) / h), [e + h * l, t + h * c];
}
function op(e, t, n, i, r, a, o) {
  var s = e - n,
    l = t - i,
    c = (o ? a : -a) / Fs(s * s + l * l),
    u = c * l,
    d = -c * s,
    h = e + u,
    p = t + d,
    m = n + u,
    _ = i + d,
    v = (h + m) / 2,
    y = (p + _) / 2,
    w = m - h,
    x = _ - p,
    C = w * w + x * x,
    S = r - a,
    g = h * _ - m * p,
    D = (x < 0 ? -1 : 1) * Fs(vC(0, S * S * C - g * g)),
    T = (g * x - w * D) / C,
    O = (-g * w - x * D) / C,
    R = (g * x + w * D) / C,
    P = (-g * w + x * D) / C,
    L = T - v,
    V = O - y,
    B = R - v,
    q = P - y;
  return (
    L * L + V * V > B * B + q * q && ((T = R), (O = P)),
    {
      cx: T,
      cy: O,
      x01: -u,
      y01: -d,
      x11: T * (r / S - 1),
      y11: O * (r / S - 1),
    }
  );
}
function sp() {
  var e = EN,
    t = SN,
    n = Ga(0),
    i = null,
    r = DN,
    a = TN,
    o = MN,
    s = null,
    l = _C(c);
  function c() {
    var u,
      d,
      h = +e.apply(this, arguments),
      p = +t.apply(this, arguments),
      m = r.apply(this, arguments) - od,
      _ = a.apply(this, arguments) - od,
      v = Xb(_ - m),
      y = _ > m;
    if ((s || (s = u = l()), p < h && ((d = p), (p = h), (h = d)), !(p > Qn)))
      s.moveTo(0, 0);
    else if (v > bC - Qn)
      s.moveTo(p * Ao(m), p * Jr(m)),
        s.arc(0, 0, p, m, _, !y),
        h > Qn && (s.moveTo(h * Ao(_), h * Jr(_)), s.arc(0, 0, h, _, m, y));
    else {
      var w = m,
        x = _,
        C = m,
        S = _,
        g = v,
        D = v,
        T = o.apply(this, arguments) / 2,
        O = T > Qn && (i ? +i.apply(this, arguments) : Fs(h * h + p * p)),
        R = ap(Xb(p - h) / 2, +n.apply(this, arguments)),
        P = R,
        L = R,
        V,
        B;
      if (O > Qn) {
        var q = Zb((O / h) * Jr(T)),
          U = Zb((O / p) * Jr(T));
        (g -= q * 2) > Qn
          ? ((q *= y ? 1 : -1), (C += q), (S -= q))
          : ((g = 0), (C = S = (m + _) / 2)),
          (D -= U * 2) > Qn
            ? ((U *= y ? 1 : -1), (w += U), (x -= U))
            : ((D = 0), (w = x = (m + _) / 2));
      }
      var W = p * Ao(w),
        Z = p * Jr(w),
        it = h * Ao(S),
        rt = h * Jr(S);
      if (R > Qn) {
        var nt = p * Ao(x),
          J = p * Jr(x),
          dt = h * Ao(C),
          yt = h * Jr(C),
          wt;
        if (v < Ul)
          if ((wt = AN(W, Z, dt, yt, nt, J, it, rt))) {
            var bt = W - wt[0],
              At = Z - wt[1],
              _t = nt - wt[0],
              K = J - wt[1],
              lt =
                1 /
                Jr(
                  yC(
                    (bt * _t + At * K) /
                      (Fs(bt * bt + At * At) * Fs(_t * _t + K * K))
                  ) / 2
                ),
              ot = Fs(wt[0] * wt[0] + wt[1] * wt[1]);
            (P = ap(R, (h - ot) / (lt - 1))), (L = ap(R, (p - ot) / (lt + 1)));
          } else P = L = 0;
      }
      D > Qn
        ? L > Qn
          ? ((V = op(dt, yt, W, Z, p, L, y)),
            (B = op(nt, J, it, rt, p, L, y)),
            s.moveTo(V.cx + V.x01, V.cy + V.y01),
            L < R
              ? s.arc(V.cx, V.cy, L, Sn(V.y01, V.x01), Sn(B.y01, B.x01), !y)
              : (s.arc(V.cx, V.cy, L, Sn(V.y01, V.x01), Sn(V.y11, V.x11), !y),
                s.arc(
                  0,
                  0,
                  p,
                  Sn(V.cy + V.y11, V.cx + V.x11),
                  Sn(B.cy + B.y11, B.cx + B.x11),
                  !y
                ),
                s.arc(B.cx, B.cy, L, Sn(B.y11, B.x11), Sn(B.y01, B.x01), !y)))
          : (s.moveTo(W, Z), s.arc(0, 0, p, w, x, !y))
        : s.moveTo(W, Z),
        !(h > Qn) || !(g > Qn)
          ? s.lineTo(it, rt)
          : P > Qn
            ? ((V = op(it, rt, nt, J, h, -P, y)),
              (B = op(W, Z, dt, yt, h, -P, y)),
              s.lineTo(V.cx + V.x01, V.cy + V.y01),
              P < R
                ? s.arc(V.cx, V.cy, P, Sn(V.y01, V.x01), Sn(B.y01, B.x01), !y)
                : (s.arc(V.cx, V.cy, P, Sn(V.y01, V.x01), Sn(V.y11, V.x11), !y),
                  s.arc(
                    0,
                    0,
                    h,
                    Sn(V.cy + V.y11, V.cx + V.x11),
                    Sn(B.cy + B.y11, B.cx + B.x11),
                    y
                  ),
                  s.arc(B.cx, B.cy, P, Sn(B.y11, B.x11), Sn(B.y01, B.x01), !y)))
            : s.arc(0, 0, h, S, C, y);
    }
    if ((s.closePath(), u)) return (s = null), u + '' || null;
  }
  return (
    (c.centroid = function () {
      var u = (+e.apply(this, arguments) + +t.apply(this, arguments)) / 2,
        d =
          (+r.apply(this, arguments) + +a.apply(this, arguments)) / 2 - Ul / 2;
      return [Ao(d) * u, Jr(d) * u];
    }),
    (c.innerRadius = function (u) {
      return arguments.length
        ? ((e = typeof u == 'function' ? u : Ga(+u)), c)
        : e;
    }),
    (c.outerRadius = function (u) {
      return arguments.length
        ? ((t = typeof u == 'function' ? u : Ga(+u)), c)
        : t;
    }),
    (c.cornerRadius = function (u) {
      return arguments.length
        ? ((n = typeof u == 'function' ? u : Ga(+u)), c)
        : n;
    }),
    (c.padRadius = function (u) {
      return arguments.length
        ? ((i = u == null ? null : typeof u == 'function' ? u : Ga(+u)), c)
        : i;
    }),
    (c.startAngle = function (u) {
      return arguments.length
        ? ((r = typeof u == 'function' ? u : Ga(+u)), c)
        : r;
    }),
    (c.endAngle = function (u) {
      return arguments.length
        ? ((a = typeof u == 'function' ? u : Ga(+u)), c)
        : a;
    }),
    (c.padAngle = function (u) {
      return arguments.length
        ? ((o = typeof u == 'function' ? u : Ga(+u)), c)
        : o;
    }),
    (c.context = function (u) {
      return arguments.length ? ((s = u ?? null), c) : s;
    }),
    c
  );
}
function Io(e, t, n) {
  (this.k = e), (this.x = t), (this.y = n);
}
Io.prototype = {
  constructor: Io,
  scale: function (e) {
    return e === 1 ? this : new Io(this.k * e, this.x, this.y);
  },
  translate: function (e, t) {
    return (e === 0) & (t === 0)
      ? this
      : new Io(this.k, this.x + this.k * e, this.y + this.k * t);
  },
  apply: function (e) {
    return [e[0] * this.k + this.x, e[1] * this.k + this.y];
  },
  applyX: function (e) {
    return e * this.k + this.x;
  },
  applyY: function (e) {
    return e * this.k + this.y;
  },
  invert: function (e) {
    return [(e[0] - this.x) / this.k, (e[1] - this.y) / this.k];
  },
  invertX: function (e) {
    return (e - this.x) / this.k;
  },
  invertY: function (e) {
    return (e - this.y) / this.k;
  },
  rescaleX: function (e) {
    return e.copy().domain(e.range().map(this.invertX, this).map(e.invert, e));
  },
  rescaleY: function (e) {
    return e.copy().domain(e.range().map(this.invertY, this).map(e.invert, e));
  },
  toString: function () {
    return 'translate(' + this.x + ',' + this.y + ') scale(' + this.k + ')';
  },
};
var Qb = new Io(1, 0, 0);
Jb.prototype = Io.prototype;
function Jb(e) {
  for (; !e.__zoom; ) if (!(e = e.parentNode)) return Qb;
  return e.__zoom;
}
function Bs(e) {
  e || (gx(Bs), (e = It(vx)));
  let t = new Dr((n) => e.onDestroy(n.next.bind(n)));
  return (n) => n.pipe(gi(t));
}
var Hl = class e {
  http = It(Yr);
  load() {
    return this.http.get('/api/coupling');
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵprov = Qt({ token: e, factory: e.ɵfac, providedIn: 'root' });
};
var xa = class e {
  filterChanged = new Se();
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵprov = Qt({ token: e, factory: e.ɵfac, providedIn: 'root' });
};
function rr(e) {
  return e != null && `${e}` != 'false';
}
function Ya(e, t = 0) {
  return RN(e) ? Number(e) : arguments.length === 2 ? t : 0;
}
function RN(e) {
  return !isNaN(parseFloat(e)) && !isNaN(Number(e));
}
function ty(e) {
  return Array.isArray(e) ? e : [e];
}
function ta(e) {
  return e instanceof Re ? e.nativeElement : e;
}
var iy;
try {
  iy = typeof Intl < 'u' && Intl.v8BreakIterator;
} catch {
  iy = !1;
}
var Ci = (() => {
  let t = class t {
    constructor(i) {
      (this._platformId = i),
        (this.isBrowser = this._platformId
          ? Zx(this._platformId)
          : typeof document == 'object' && !!document),
        (this.EDGE = this.isBrowser && /(edge)/i.test(navigator.userAgent)),
        (this.TRIDENT =
          this.isBrowser && /(msie|trident)/i.test(navigator.userAgent)),
        (this.BLINK =
          this.isBrowser &&
          !!(window.chrome || iy) &&
          typeof CSS < 'u' &&
          !this.EDGE &&
          !this.TRIDENT),
        (this.WEBKIT =
          this.isBrowser &&
          /AppleWebKit/i.test(navigator.userAgent) &&
          !this.BLINK &&
          !this.EDGE &&
          !this.TRIDENT),
        (this.IOS =
          this.isBrowser &&
          /iPad|iPhone|iPod/.test(navigator.userAgent) &&
          !('MSStream' in window)),
        (this.FIREFOX =
          this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent)),
        (this.ANDROID =
          this.isBrowser &&
          /android/i.test(navigator.userAgent) &&
          !this.TRIDENT),
        (this.SAFARI =
          this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT);
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Ht(Fa));
  }),
    (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
  let e = t;
  return e;
})();
var sd;
function ON() {
  if (sd == null && typeof window < 'u')
    try {
      window.addEventListener(
        'test',
        null,
        Object.defineProperty({}, 'passive', { get: () => (sd = !0) })
      );
    } finally {
      sd = sd || !1;
    }
  return sd;
}
function Wl(e) {
  return ON() ? e : !!e.capture;
}
var ea = (function (e) {
    return (
      (e[(e.NORMAL = 0)] = 'NORMAL'),
      (e[(e.NEGATED = 1)] = 'NEGATED'),
      (e[(e.INVERTED = 2)] = 'INVERTED'),
      e
    );
  })(ea || {}),
  lp,
  zs;
function wC() {
  if (zs == null) {
    if (
      typeof document != 'object' ||
      !document ||
      typeof Element != 'function' ||
      !Element
    )
      return (zs = !1), zs;
    if ('scrollBehavior' in document.documentElement.style) zs = !0;
    else {
      let e = Element.prototype.scrollTo;
      e ? (zs = !/\{\s*\[native code\]\s*\}/.test(e.toString())) : (zs = !1);
    }
  }
  return zs;
}
function $l() {
  if (typeof document != 'object' || !document) return ea.NORMAL;
  if (lp == null) {
    let e = document.createElement('div'),
      t = e.style;
    (e.dir = 'rtl'),
      (t.width = '1px'),
      (t.overflow = 'auto'),
      (t.visibility = 'hidden'),
      (t.pointerEvents = 'none'),
      (t.position = 'absolute');
    let n = document.createElement('div'),
      i = n.style;
    (i.width = '2px'),
      (i.height = '1px'),
      e.appendChild(n),
      document.body.appendChild(e),
      (lp = ea.NORMAL),
      e.scrollLeft === 0 &&
        ((e.scrollLeft = 1),
        (lp = e.scrollLeft === 0 ? ea.NEGATED : ea.INVERTED)),
      e.remove();
  }
  return lp;
}
var ey;
function PN() {
  if (ey == null) {
    let e = typeof document < 'u' ? document.head : null;
    ey = !!(e && (e.createShadowRoot || e.attachShadow));
  }
  return ey;
}
function kC(e) {
  if (PN()) {
    let t = e.getRootNode ? e.getRootNode() : null;
    if (typeof ShadowRoot < 'u' && ShadowRoot && t instanceof ShadowRoot)
      return t;
  }
  return null;
}
function Ka(e) {
  return e.composedPath ? e.composedPath()[0] : e.target;
}
function CC() {
  return (
    (typeof __karma__ < 'u' && !!__karma__) ||
    (typeof jasmine < 'u' && !!jasmine) ||
    (typeof jest < 'u' && !!jest) ||
    (typeof Mocha < 'u' && !!Mocha)
  );
}
function EC(e, ...t) {
  return t.length
    ? t.some((n) => e[n])
    : e.altKey || e.shiftKey || e.ctrlKey || e.metaKey;
}
function Vs(e) {
  return ma(e) ? e : qt(e);
}
function LN(e) {
  if (e.type === 'characterData' && e.target instanceof Comment) return !0;
  if (e.type === 'childList') {
    for (let t = 0; t < e.addedNodes.length; t++)
      if (!(e.addedNodes[t] instanceof Comment)) return !1;
    for (let t = 0; t < e.removedNodes.length; t++)
      if (!(e.removedNodes[t] instanceof Comment)) return !1;
    return !0;
  }
  return !1;
}
var SC = (() => {
    let t = class t {
      create(i) {
        return typeof MutationObserver > 'u' ? null : new MutationObserver(i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  NN = (() => {
    let t = class t {
      constructor(i) {
        (this._mutationObserverFactory = i),
          (this._observedElements = new Map()),
          (this._ngZone = It(De));
      }
      ngOnDestroy() {
        this._observedElements.forEach((i, r) => this._cleanupObserver(r));
      }
      observe(i) {
        let r = ta(i);
        return new Dr((a) => {
          let s = this._observeElement(r)
            .pipe(
              re((l) => l.filter((c) => !LN(c))),
              Fi((l) => !!l.length)
            )
            .subscribe((l) => {
              this._ngZone.run(() => {
                a.next(l);
              });
            });
          return () => {
            s.unsubscribe(), this._unobserveElement(r);
          };
        });
      }
      _observeElement(i) {
        return this._ngZone.runOutsideAngular(() => {
          if (this._observedElements.has(i))
            this._observedElements.get(i).count++;
          else {
            let r = new Se(),
              a = this._mutationObserverFactory.create((o) => r.next(o));
            a &&
              a.observe(i, { characterData: !0, childList: !0, subtree: !0 }),
              this._observedElements.set(i, {
                observer: a,
                stream: r,
                count: 1,
              });
          }
          return this._observedElements.get(i).stream;
        });
      }
      _unobserveElement(i) {
        this._observedElements.has(i) &&
          (this._observedElements.get(i).count--,
          this._observedElements.get(i).count || this._cleanupObserver(i));
      }
      _cleanupObserver(i) {
        if (this._observedElements.has(i)) {
          let { observer: r, stream: a } = this._observedElements.get(i);
          r && r.disconnect(), a.complete(), this._observedElements.delete(i);
        }
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(SC));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  DC = (() => {
    let t = class t {
      get disabled() {
        return this._disabled;
      }
      set disabled(i) {
        (this._disabled = i),
          this._disabled ? this._unsubscribe() : this._subscribe();
      }
      get debounce() {
        return this._debounce;
      }
      set debounce(i) {
        (this._debounce = Ya(i)), this._subscribe();
      }
      constructor(i, r) {
        (this._contentObserver = i),
          (this._elementRef = r),
          (this.event = new bi()),
          (this._disabled = !1),
          (this._currentSubscription = null);
      }
      ngAfterContentInit() {
        !this._currentSubscription && !this.disabled && this._subscribe();
      }
      ngOnDestroy() {
        this._unsubscribe();
      }
      _subscribe() {
        this._unsubscribe();
        let i = this._contentObserver.observe(this._elementRef);
        this._currentSubscription = (
          this.debounce ? i.pipe(go(this.debounce)) : i
        ).subscribe(this.event);
      }
      _unsubscribe() {
        this._currentSubscription?.unsubscribe();
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(NN), Tt(Re));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'cdkObserveContent', '']],
        inputs: {
          disabled: [2, 'cdkObserveContentDisabled', 'disabled', pi],
          debounce: 'debounce',
        },
        outputs: { event: 'cdkObserveContent' },
        exportAs: ['cdkObserveContent'],
        standalone: !0,
        features: [Fn],
      }));
    let e = t;
    return e;
  })(),
  TC = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵmod = Ve({ type: t })),
      (t.ɵinj = ze({ providers: [SC] }));
    let e = t;
    return e;
  })();
var MC = new Set(),
  js,
  FN = (() => {
    let t = class t {
      constructor(i, r) {
        (this._platform = i),
          (this._nonce = r),
          (this._matchMedia =
            this._platform.isBrowser && window.matchMedia
              ? window.matchMedia.bind(window)
              : zN);
      }
      matchMedia(i) {
        return (
          (this._platform.WEBKIT || this._platform.BLINK) && BN(i, this._nonce),
          this._matchMedia(i)
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ci), Ht(iu, 8));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
function BN(e, t) {
  if (!MC.has(e))
    try {
      js ||
        ((js = document.createElement('style')),
        t && js.setAttribute('nonce', t),
        js.setAttribute('type', 'text/css'),
        document.head.appendChild(js)),
        js.sheet &&
          (js.sheet.insertRule(`@media ${e} {body{ }}`, 0), MC.add(e));
    } catch (n) {
      console.error(n);
    }
}
function zN(e) {
  return {
    matches: e === 'all' || e === '',
    media: e,
    addListener: () => {},
    removeListener: () => {},
  };
}
var cp = (() => {
  let t = class t {
    constructor(i, r) {
      (this._mediaMatcher = i),
        (this._zone = r),
        (this._queries = new Map()),
        (this._destroySubject = new Se());
    }
    ngOnDestroy() {
      this._destroySubject.next(), this._destroySubject.complete();
    }
    isMatched(i) {
      return AC(ty(i)).some((a) => this._registerQuery(a).mql.matches);
    }
    observe(i) {
      let a = AC(ty(i)).map((s) => this._registerQuery(s).observable),
        o = Tr(a);
      return (
        (o = ps(o.pipe(tn(1)), o.pipe(Vh(1), go(0)))),
        o.pipe(
          re((s) => {
            let l = { matches: !1, breakpoints: {} };
            return (
              s.forEach(({ matches: c, query: u }) => {
                (l.matches = l.matches || c), (l.breakpoints[u] = c);
              }),
              l
            );
          })
        )
      );
    }
    _registerQuery(i) {
      if (this._queries.has(i)) return this._queries.get(i);
      let r = this._mediaMatcher.matchMedia(i),
        o = {
          observable: new Dr((s) => {
            let l = (c) => this._zone.run(() => s.next(c));
            return (
              r.addListener(l),
              () => {
                r.removeListener(l);
              }
            );
          }).pipe(
            Wr(r),
            re(({ matches: s }) => ({ query: i, matches: s })),
            gi(this._destroySubject)
          ),
          mql: r,
        };
      return this._queries.set(i, o), o;
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Ht(FN), Ht(De));
  }),
    (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
  let e = t;
  return e;
})();
function AC(e) {
  return e
    .map((t) => t.split(','))
    .reduce((t, n) => t.concat(n))
    .map((t) => t.trim());
}
var IC = {
  XSmall: '(max-width: 599.98px)',
  Small: '(min-width: 600px) and (max-width: 959.98px)',
  Medium: '(min-width: 960px) and (max-width: 1279.98px)',
  Large: '(min-width: 1280px) and (max-width: 1919.98px)',
  XLarge: '(min-width: 1920px)',
  Handset:
    '(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)',
  Tablet:
    '(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)',
  Web: '(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)',
  HandsetPortrait: '(max-width: 599.98px) and (orientation: portrait)',
  TabletPortrait:
    '(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)',
  WebPortrait: '(min-width: 840px) and (orientation: portrait)',
  HandsetLandscape: '(max-width: 959.98px) and (orientation: landscape)',
  TabletLandscape:
    '(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)',
  WebLandscape: '(min-width: 1280px) and (orientation: landscape)',
};
var VN = 200,
  ry = class {
    constructor(t, n) {
      (this._letterKeyStream = new Se()),
        (this._items = []),
        (this._selectedItemIndex = -1),
        (this._pressedLetters = []),
        (this._selectedItem = new Se()),
        (this.selectedItem = this._selectedItem);
      let i = typeof n?.debounceInterval == 'number' ? n.debounceInterval : VN;
      n?.skipPredicate && (this._skipPredicateFn = n.skipPredicate),
        this.setItems(t),
        this._setupKeyHandler(i);
    }
    destroy() {
      (this._pressedLetters = []),
        this._letterKeyStream.complete(),
        this._selectedItem.complete();
    }
    setCurrentSelectedItemIndex(t) {
      this._selectedItemIndex = t;
    }
    setItems(t) {
      this._items = t;
    }
    handleKey(t) {
      let n = t.keyCode;
      t.key && t.key.length === 1
        ? this._letterKeyStream.next(t.key.toLocaleUpperCase())
        : ((n >= 65 && n <= 90) || (n >= 48 && n <= 57)) &&
          this._letterKeyStream.next(String.fromCharCode(n));
    }
    isTyping() {
      return this._pressedLetters.length > 0;
    }
    reset() {
      this._pressedLetters = [];
    }
    _setupKeyHandler(t) {
      this._letterKeyStream
        .pipe(
          fi((n) => this._pressedLetters.push(n)),
          go(t),
          Fi(() => this._pressedLetters.length > 0),
          re(() => this._pressedLetters.join('').toLocaleUpperCase())
        )
        .subscribe((n) => {
          for (let i = 1; i < this._items.length + 1; i++) {
            let r = (this._selectedItemIndex + i) % this._items.length,
              a = this._items[r];
            if (
              !this._skipPredicateFn?.(a) &&
              a.getLabel?.().toLocaleUpperCase().trim().indexOf(n) === 0
            ) {
              this._selectedItem.next(a);
              break;
            }
          }
          this._pressedLetters = [];
        });
    }
  };
var ay = class {
  _initialFocus() {
    if (this._hasInitialFocused || !this._items.length) return;
    let t = 0;
    for (let n = 0; n < this._items.length; n++)
      if (
        !this._skipPredicateFn(this._items[n]) &&
        !this._isItemDisabled(this._items[n])
      ) {
        t = n;
        break;
      }
    this.focusItem(t), (this._hasInitialFocused = !0);
  }
  constructor(t, n) {
    (this._activeItemIndex = -1),
      (this._activeItem = null),
      (this._shouldActivationFollowFocus = !1),
      (this._horizontalOrientation = 'ltr'),
      (this._skipPredicateFn = (i) => !1),
      (this._trackByFn = (i) => i),
      (this._items = []),
      (this._typeaheadSubscription = La.EMPTY),
      (this._hasInitialFocused = !1),
      (this.change = new Se()),
      t instanceof Uh
        ? ((this._items = t.toArray()),
          t.changes.subscribe((i) => {
            (this._items = i.toArray()),
              this._typeahead?.setItems(this._items),
              this._updateActiveItemIndex(this._items),
              this._initialFocus();
          }))
        : ma(t)
          ? t.subscribe((i) => {
              (this._items = i),
                this._typeahead?.setItems(i),
                this._updateActiveItemIndex(i),
                this._initialFocus();
            })
          : ((this._items = t), this._initialFocus()),
      typeof n.shouldActivationFollowFocus == 'boolean' &&
        (this._shouldActivationFollowFocus = n.shouldActivationFollowFocus),
      n.horizontalOrientation &&
        (this._horizontalOrientation = n.horizontalOrientation),
      n.skipPredicate && (this._skipPredicateFn = n.skipPredicate),
      n.trackBy && (this._trackByFn = n.trackBy),
      typeof n.typeAheadDebounceInterval < 'u' &&
        this._setTypeAhead(n.typeAheadDebounceInterval);
  }
  destroy() {
    this._typeaheadSubscription.unsubscribe(),
      this._typeahead?.destroy(),
      this.change.complete();
  }
  onKeydown(t) {
    switch (t.key) {
      case 'Tab':
        return;
      case 'ArrowDown':
        this._focusNextItem();
        break;
      case 'ArrowUp':
        this._focusPreviousItem();
        break;
      case 'ArrowRight':
        this._horizontalOrientation === 'rtl'
          ? this._collapseCurrentItem()
          : this._expandCurrentItem();
        break;
      case 'ArrowLeft':
        this._horizontalOrientation === 'rtl'
          ? this._expandCurrentItem()
          : this._collapseCurrentItem();
        break;
      case 'Home':
        this._focusFirstItem();
        break;
      case 'End':
        this._focusLastItem();
        break;
      case 'Enter':
      case ' ':
        this._activateCurrentItem();
        break;
      default:
        if (t.key === '*') {
          this._expandAllItemsAtCurrentItemLevel();
          break;
        }
        this._typeahead?.handleKey(t);
        return;
    }
    this._typeahead?.reset(), t.preventDefault();
  }
  getActiveItemIndex() {
    return this._activeItemIndex;
  }
  getActiveItem() {
    return this._activeItem;
  }
  _focusFirstItem() {
    this.focusItem(this._findNextAvailableItemIndex(-1));
  }
  _focusLastItem() {
    this.focusItem(this._findPreviousAvailableItemIndex(this._items.length));
  }
  _focusNextItem() {
    this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex));
  }
  _focusPreviousItem() {
    this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex));
  }
  focusItem(t, n = {}) {
    n.emitChangeEvent ??= !0;
    let i =
      typeof t == 'number'
        ? t
        : this._items.findIndex(
            (o) => this._trackByFn(o) === this._trackByFn(t)
          );
    if (i < 0 || i >= this._items.length) return;
    let r = this._items[i];
    if (
      this._activeItem !== null &&
      this._trackByFn(r) === this._trackByFn(this._activeItem)
    )
      return;
    let a = this._activeItem;
    (this._activeItem = r ?? null),
      (this._activeItemIndex = i),
      this._typeahead?.setCurrentSelectedItemIndex(i),
      this._activeItem?.focus(),
      a?.unfocus(),
      n.emitChangeEvent && this.change.next(this._activeItem),
      this._shouldActivationFollowFocus && this._activateCurrentItem();
  }
  _updateActiveItemIndex(t) {
    let n = this._activeItem;
    if (!n) return;
    let i = t.findIndex((r) => this._trackByFn(r) === this._trackByFn(n));
    i > -1 &&
      i !== this._activeItemIndex &&
      ((this._activeItemIndex = i),
      this._typeahead?.setCurrentSelectedItemIndex(i));
  }
  _setTypeAhead(t) {
    (this._typeahead = new ry(this._items, {
      debounceInterval: typeof t == 'number' ? t : void 0,
      skipPredicate: (n) => this._skipPredicateFn(n),
    })),
      (this._typeaheadSubscription = this._typeahead.selectedItem.subscribe(
        (n) => {
          this.focusItem(n);
        }
      ));
  }
  _findNextAvailableItemIndex(t) {
    for (let n = t + 1; n < this._items.length; n++)
      if (!this._skipPredicateFn(this._items[n])) return n;
    return t;
  }
  _findPreviousAvailableItemIndex(t) {
    for (let n = t - 1; n >= 0; n--)
      if (!this._skipPredicateFn(this._items[n])) return n;
    return t;
  }
  _collapseCurrentItem() {
    if (this._activeItem)
      if (this._isCurrentItemExpanded()) this._activeItem.collapse();
      else {
        let t = this._activeItem.getParent();
        if (!t || this._skipPredicateFn(t)) return;
        this.focusItem(t);
      }
  }
  _expandCurrentItem() {
    this._activeItem &&
      (this._isCurrentItemExpanded()
        ? Vs(this._activeItem.getChildren())
            .pipe(tn(1))
            .subscribe((t) => {
              let n = t.find((i) => !this._skipPredicateFn(i));
              n && this.focusItem(n);
            })
        : this._activeItem.expand());
  }
  _isCurrentItemExpanded() {
    return this._activeItem
      ? typeof this._activeItem.isExpanded == 'boolean'
        ? this._activeItem.isExpanded
        : this._activeItem.isExpanded()
      : !1;
  }
  _isItemDisabled(t) {
    return typeof t.isDisabled == 'boolean' ? t.isDisabled : t.isDisabled?.();
  }
  _expandAllItemsAtCurrentItemLevel() {
    if (!this._activeItem) return;
    let t = this._activeItem.getParent(),
      n;
    t
      ? (n = Vs(t.getChildren()))
      : (n = qt(this._items.filter((i) => i.getParent() === null))),
      n.pipe(tn(1)).subscribe((i) => {
        for (let r of i) r.expand();
      });
  }
  _activateCurrentItem() {
    this._activeItem?.activate();
  }
};
function jN() {
  return (e, t) => new ay(e, t);
}
var LC = new ge('tree-key-manager', { providedIn: 'root', factory: jN });
var sy = (() => {
  let t = class t {
    constructor(i) {
      this._platform = i;
    }
    isDisabled(i) {
      return i.hasAttribute('disabled');
    }
    isVisible(i) {
      return UN(i) && getComputedStyle(i).visibility === 'visible';
    }
    isTabbable(i) {
      if (!this._platform.isBrowser) return !1;
      let r = qN(ZN(i));
      if (r && (RC(r) === -1 || !this.isVisible(r))) return !1;
      let a = i.nodeName.toLowerCase(),
        o = RC(i);
      return i.hasAttribute('contenteditable')
        ? o !== -1
        : a === 'iframe' ||
            a === 'object' ||
            (this._platform.WEBKIT && this._platform.IOS && !KN(i))
          ? !1
          : a === 'audio'
            ? i.hasAttribute('controls')
              ? o !== -1
              : !1
            : a === 'video'
              ? o === -1
                ? !1
                : o !== null
                  ? !0
                  : this._platform.FIREFOX || i.hasAttribute('controls')
              : i.tabIndex >= 0;
    }
    isFocusable(i, r) {
      return (
        XN(i) &&
        !this.isDisabled(i) &&
        (r?.ignoreVisibility || this.isVisible(i))
      );
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Ht(Ci));
  }),
    (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
  let e = t;
  return e;
})();
function qN(e) {
  try {
    return e.frameElement;
  } catch {
    return null;
  }
}
function UN(e) {
  return !!(
    e.offsetWidth ||
    e.offsetHeight ||
    (typeof e.getClientRects == 'function' && e.getClientRects().length)
  );
}
function HN(e) {
  let t = e.nodeName.toLowerCase();
  return t === 'input' || t === 'select' || t === 'button' || t === 'textarea';
}
function WN(e) {
  return GN(e) && e.type == 'hidden';
}
function $N(e) {
  return YN(e) && e.hasAttribute('href');
}
function GN(e) {
  return e.nodeName.toLowerCase() == 'input';
}
function YN(e) {
  return e.nodeName.toLowerCase() == 'a';
}
function NC(e) {
  if (!e.hasAttribute('tabindex') || e.tabIndex === void 0) return !1;
  let t = e.getAttribute('tabindex');
  return !!(t && !isNaN(parseInt(t, 10)));
}
function RC(e) {
  if (!NC(e)) return null;
  let t = parseInt(e.getAttribute('tabindex') || '', 10);
  return isNaN(t) ? -1 : t;
}
function KN(e) {
  let t = e.nodeName.toLowerCase(),
    n = t === 'input' && e.type;
  return n === 'text' || n === 'password' || t === 'select' || t === 'textarea';
}
function XN(e) {
  return WN(e)
    ? !1
    : HN(e) || $N(e) || e.hasAttribute('contenteditable') || NC(e);
}
function ZN(e) {
  return (e.ownerDocument && e.ownerDocument.defaultView) || window;
}
var oy = class {
    get enabled() {
      return this._enabled;
    }
    set enabled(t) {
      (this._enabled = t),
        this._startAnchor &&
          this._endAnchor &&
          (this._toggleAnchorTabIndex(t, this._startAnchor),
          this._toggleAnchorTabIndex(t, this._endAnchor));
    }
    constructor(t, n, i, r, a = !1, o) {
      (this._element = t),
        (this._checker = n),
        (this._ngZone = i),
        (this._document = r),
        (this._injector = o),
        (this._hasAttached = !1),
        (this.startAnchorListener = () => this.focusLastTabbableElement()),
        (this.endAnchorListener = () => this.focusFirstTabbableElement()),
        (this._enabled = !0),
        a || this.attachAnchors();
    }
    destroy() {
      let t = this._startAnchor,
        n = this._endAnchor;
      t &&
        (t.removeEventListener('focus', this.startAnchorListener), t.remove()),
        n &&
          (n.removeEventListener('focus', this.endAnchorListener), n.remove()),
        (this._startAnchor = this._endAnchor = null),
        (this._hasAttached = !1);
    }
    attachAnchors() {
      return this._hasAttached
        ? !0
        : (this._ngZone.runOutsideAngular(() => {
            this._startAnchor ||
              ((this._startAnchor = this._createAnchor()),
              this._startAnchor.addEventListener(
                'focus',
                this.startAnchorListener
              )),
              this._endAnchor ||
                ((this._endAnchor = this._createAnchor()),
                this._endAnchor.addEventListener(
                  'focus',
                  this.endAnchorListener
                ));
          }),
          this._element.parentNode &&
            (this._element.parentNode.insertBefore(
              this._startAnchor,
              this._element
            ),
            this._element.parentNode.insertBefore(
              this._endAnchor,
              this._element.nextSibling
            ),
            (this._hasAttached = !0)),
          this._hasAttached);
    }
    focusInitialElementWhenReady(t) {
      return new Promise((n) => {
        this._executeOnStable(() => n(this.focusInitialElement(t)));
      });
    }
    focusFirstTabbableElementWhenReady(t) {
      return new Promise((n) => {
        this._executeOnStable(() => n(this.focusFirstTabbableElement(t)));
      });
    }
    focusLastTabbableElementWhenReady(t) {
      return new Promise((n) => {
        this._executeOnStable(() => n(this.focusLastTabbableElement(t)));
      });
    }
    _getRegionBoundary(t) {
      let n = this._element.querySelectorAll(
        `[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`
      );
      return t == 'start'
        ? n.length
          ? n[0]
          : this._getFirstTabbableElement(this._element)
        : n.length
          ? n[n.length - 1]
          : this._getLastTabbableElement(this._element);
    }
    focusInitialElement(t) {
      let n = this._element.querySelector(
        '[cdk-focus-initial], [cdkFocusInitial]'
      );
      if (n) {
        if (!this._checker.isFocusable(n)) {
          let i = this._getFirstTabbableElement(n);
          return i?.focus(t), !!i;
        }
        return n.focus(t), !0;
      }
      return this.focusFirstTabbableElement(t);
    }
    focusFirstTabbableElement(t) {
      let n = this._getRegionBoundary('start');
      return n && n.focus(t), !!n;
    }
    focusLastTabbableElement(t) {
      let n = this._getRegionBoundary('end');
      return n && n.focus(t), !!n;
    }
    hasAttached() {
      return this._hasAttached;
    }
    _getFirstTabbableElement(t) {
      if (this._checker.isFocusable(t) && this._checker.isTabbable(t)) return t;
      let n = t.children;
      for (let i = 0; i < n.length; i++) {
        let r =
          n[i].nodeType === this._document.ELEMENT_NODE
            ? this._getFirstTabbableElement(n[i])
            : null;
        if (r) return r;
      }
      return null;
    }
    _getLastTabbableElement(t) {
      if (this._checker.isFocusable(t) && this._checker.isTabbable(t)) return t;
      let n = t.children;
      for (let i = n.length - 1; i >= 0; i--) {
        let r =
          n[i].nodeType === this._document.ELEMENT_NODE
            ? this._getLastTabbableElement(n[i])
            : null;
        if (r) return r;
      }
      return null;
    }
    _createAnchor() {
      let t = this._document.createElement('div');
      return (
        this._toggleAnchorTabIndex(this._enabled, t),
        t.classList.add('cdk-visually-hidden'),
        t.classList.add('cdk-focus-trap-anchor'),
        t.setAttribute('aria-hidden', 'true'),
        t
      );
    }
    _toggleAnchorTabIndex(t, n) {
      t ? n.setAttribute('tabindex', '0') : n.removeAttribute('tabindex');
    }
    toggleAnchors(t) {
      this._startAnchor &&
        this._endAnchor &&
        (this._toggleAnchorTabIndex(t, this._startAnchor),
        this._toggleAnchorTabIndex(t, this._endAnchor));
    }
    _executeOnStable(t) {
      this._injector ? ys(t, { injector: this._injector }) : setTimeout(t);
    }
  },
  FC = (() => {
    let t = class t {
      constructor(i, r, a) {
        (this._checker = i),
          (this._ngZone = r),
          (this._injector = It(ga)),
          (this._document = a);
      }
      create(i, r = !1) {
        return new oy(
          i,
          this._checker,
          this._ngZone,
          this._document,
          r,
          this._injector
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(sy), Ht(De), Ht(Ne));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
function ly(e) {
  return e.buttons === 0 || e.detail === 0;
}
function cy(e) {
  let t =
    (e.touches && e.touches[0]) || (e.changedTouches && e.changedTouches[0]);
  return (
    !!t &&
    t.identifier === -1 &&
    (t.radiusX == null || t.radiusX === 1) &&
    (t.radiusY == null || t.radiusY === 1)
  );
}
var QN = new ge('cdk-input-modality-detector-options'),
  JN = { ignoreKeys: [18, 17, 224, 91, 16] },
  BC = 650,
  Gl = Wl({ passive: !0, capture: !0 }),
  tF = (() => {
    let t = class t {
      get mostRecentModality() {
        return this._modality.value;
      }
      constructor(i, r, a, o) {
        (this._platform = i),
          (this._mostRecentTarget = null),
          (this._modality = new Gi(null)),
          (this._lastTouchMs = 0),
          (this._onKeydown = (s) => {
            this._options?.ignoreKeys?.some((l) => l === s.keyCode) ||
              (this._modality.next('keyboard'),
              (this._mostRecentTarget = Ka(s)));
          }),
          (this._onMousedown = (s) => {
            Date.now() - this._lastTouchMs < BC ||
              (this._modality.next(ly(s) ? 'keyboard' : 'mouse'),
              (this._mostRecentTarget = Ka(s)));
          }),
          (this._onTouchstart = (s) => {
            if (cy(s)) {
              this._modality.next('keyboard');
              return;
            }
            (this._lastTouchMs = Date.now()),
              this._modality.next('touch'),
              (this._mostRecentTarget = Ka(s));
          }),
          (this._options = Bt(Bt({}, JN), o)),
          (this.modalityDetected = this._modality.pipe(Vh(1))),
          (this.modalityChanged = this.modalityDetected.pipe(ms())),
          i.isBrowser &&
            r.runOutsideAngular(() => {
              a.addEventListener('keydown', this._onKeydown, Gl),
                a.addEventListener('mousedown', this._onMousedown, Gl),
                a.addEventListener('touchstart', this._onTouchstart, Gl);
            });
      }
      ngOnDestroy() {
        this._modality.complete(),
          this._platform.isBrowser &&
            (document.removeEventListener('keydown', this._onKeydown, Gl),
            document.removeEventListener('mousedown', this._onMousedown, Gl),
            document.removeEventListener('touchstart', this._onTouchstart, Gl));
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ci), Ht(De), Ht(Ne), Ht(QN, 8));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
var dp = (function (e) {
    return (
      (e[(e.IMMEDIATE = 0)] = 'IMMEDIATE'),
      (e[(e.EVENTUAL = 1)] = 'EVENTUAL'),
      e
    );
  })(dp || {}),
  eF = new ge('cdk-focus-monitor-default-options'),
  up = Wl({ passive: !0, capture: !0 }),
  hp = (() => {
    let t = class t {
      constructor(i, r, a, o, s) {
        (this._ngZone = i),
          (this._platform = r),
          (this._inputModalityDetector = a),
          (this._origin = null),
          (this._windowFocused = !1),
          (this._originFromTouchInteraction = !1),
          (this._elementInfo = new Map()),
          (this._monitoredElementCount = 0),
          (this._rootNodeFocusListenerCount = new Map()),
          (this._windowFocusListener = () => {
            (this._windowFocused = !0),
              (this._windowFocusTimeoutId = window.setTimeout(
                () => (this._windowFocused = !1)
              ));
          }),
          (this._stopInputModalityDetector = new Se()),
          (this._rootNodeFocusAndBlurListener = (l) => {
            let c = Ka(l);
            for (let u = c; u; u = u.parentElement)
              l.type === 'focus' ? this._onFocus(l, u) : this._onBlur(l, u);
          }),
          (this._document = o),
          (this._detectionMode = s?.detectionMode || dp.IMMEDIATE);
      }
      monitor(i, r = !1) {
        let a = ta(i);
        if (!this._platform.isBrowser || a.nodeType !== 1) return qt();
        let o = kC(a) || this._getDocument(),
          s = this._elementInfo.get(a);
        if (s) return r && (s.checkChildren = !0), s.subject;
        let l = { checkChildren: r, subject: new Se(), rootNode: o };
        return (
          this._elementInfo.set(a, l),
          this._registerGlobalListeners(l),
          l.subject
        );
      }
      stopMonitoring(i) {
        let r = ta(i),
          a = this._elementInfo.get(r);
        a &&
          (a.subject.complete(),
          this._setClasses(r),
          this._elementInfo.delete(r),
          this._removeGlobalListeners(a));
      }
      focusVia(i, r, a) {
        let o = ta(i),
          s = this._getDocument().activeElement;
        o === s
          ? this._getClosestElementsInfo(o).forEach(([l, c]) =>
              this._originChanged(l, r, c)
            )
          : (this._setOrigin(r), typeof o.focus == 'function' && o.focus(a));
      }
      ngOnDestroy() {
        this._elementInfo.forEach((i, r) => this.stopMonitoring(r));
      }
      _getDocument() {
        return this._document || document;
      }
      _getWindow() {
        return this._getDocument().defaultView || window;
      }
      _getFocusOrigin(i) {
        return this._origin
          ? this._originFromTouchInteraction
            ? this._shouldBeAttributedToTouch(i)
              ? 'touch'
              : 'program'
            : this._origin
          : this._windowFocused && this._lastFocusOrigin
            ? this._lastFocusOrigin
            : i && this._isLastInteractionFromInputLabel(i)
              ? 'mouse'
              : 'program';
      }
      _shouldBeAttributedToTouch(i) {
        return (
          this._detectionMode === dp.EVENTUAL ||
          !!i?.contains(this._inputModalityDetector._mostRecentTarget)
        );
      }
      _setClasses(i, r) {
        i.classList.toggle('cdk-focused', !!r),
          i.classList.toggle('cdk-touch-focused', r === 'touch'),
          i.classList.toggle('cdk-keyboard-focused', r === 'keyboard'),
          i.classList.toggle('cdk-mouse-focused', r === 'mouse'),
          i.classList.toggle('cdk-program-focused', r === 'program');
      }
      _setOrigin(i, r = !1) {
        this._ngZone.runOutsideAngular(() => {
          if (
            ((this._origin = i),
            (this._originFromTouchInteraction = i === 'touch' && r),
            this._detectionMode === dp.IMMEDIATE)
          ) {
            clearTimeout(this._originTimeoutId);
            let a = this._originFromTouchInteraction ? BC : 1;
            this._originTimeoutId = setTimeout(() => (this._origin = null), a);
          }
        });
      }
      _onFocus(i, r) {
        let a = this._elementInfo.get(r),
          o = Ka(i);
        !a ||
          (!a.checkChildren && r !== o) ||
          this._originChanged(r, this._getFocusOrigin(o), a);
      }
      _onBlur(i, r) {
        let a = this._elementInfo.get(r);
        !a ||
          (a.checkChildren &&
            i.relatedTarget instanceof Node &&
            r.contains(i.relatedTarget)) ||
          (this._setClasses(r), this._emitOrigin(a, null));
      }
      _emitOrigin(i, r) {
        i.subject.observers.length && this._ngZone.run(() => i.subject.next(r));
      }
      _registerGlobalListeners(i) {
        if (!this._platform.isBrowser) return;
        let r = i.rootNode,
          a = this._rootNodeFocusListenerCount.get(r) || 0;
        a ||
          this._ngZone.runOutsideAngular(() => {
            r.addEventListener('focus', this._rootNodeFocusAndBlurListener, up),
              r.addEventListener(
                'blur',
                this._rootNodeFocusAndBlurListener,
                up
              );
          }),
          this._rootNodeFocusListenerCount.set(r, a + 1),
          ++this._monitoredElementCount === 1 &&
            (this._ngZone.runOutsideAngular(() => {
              this._getWindow().addEventListener(
                'focus',
                this._windowFocusListener
              );
            }),
            this._inputModalityDetector.modalityDetected
              .pipe(gi(this._stopInputModalityDetector))
              .subscribe((o) => {
                this._setOrigin(o, !0);
              }));
      }
      _removeGlobalListeners(i) {
        let r = i.rootNode;
        if (this._rootNodeFocusListenerCount.has(r)) {
          let a = this._rootNodeFocusListenerCount.get(r);
          a > 1
            ? this._rootNodeFocusListenerCount.set(r, a - 1)
            : (r.removeEventListener(
                'focus',
                this._rootNodeFocusAndBlurListener,
                up
              ),
              r.removeEventListener(
                'blur',
                this._rootNodeFocusAndBlurListener,
                up
              ),
              this._rootNodeFocusListenerCount.delete(r));
        }
        --this._monitoredElementCount ||
          (this._getWindow().removeEventListener(
            'focus',
            this._windowFocusListener
          ),
          this._stopInputModalityDetector.next(),
          clearTimeout(this._windowFocusTimeoutId),
          clearTimeout(this._originTimeoutId));
      }
      _originChanged(i, r, a) {
        this._setClasses(i, r),
          this._emitOrigin(a, r),
          (this._lastFocusOrigin = r);
      }
      _getClosestElementsInfo(i) {
        let r = [];
        return (
          this._elementInfo.forEach((a, o) => {
            (o === i || (a.checkChildren && o.contains(i))) && r.push([o, a]);
          }),
          r
        );
      }
      _isLastInteractionFromInputLabel(i) {
        let { _mostRecentTarget: r, mostRecentModality: a } =
          this._inputModalityDetector;
        if (
          a !== 'mouse' ||
          !r ||
          r === i ||
          (i.nodeName !== 'INPUT' && i.nodeName !== 'TEXTAREA') ||
          i.disabled
        )
          return !1;
        let o = i.labels;
        if (o) {
          for (let s = 0; s < o.length; s++) if (o[s].contains(r)) return !0;
        }
        return !1;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(De), Ht(Ci), Ht(tF), Ht(Ne, 8), Ht(eF, 8));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
var qs = (function (e) {
    return (
      (e[(e.NONE = 0)] = 'NONE'),
      (e[(e.BLACK_ON_WHITE = 1)] = 'BLACK_ON_WHITE'),
      (e[(e.WHITE_ON_BLACK = 2)] = 'WHITE_ON_BLACK'),
      e
    );
  })(qs || {}),
  OC = 'cdk-high-contrast-black-on-white',
  PC = 'cdk-high-contrast-white-on-black',
  ny = 'cdk-high-contrast-active',
  zC = (() => {
    let t = class t {
      constructor(i, r) {
        (this._platform = i),
          (this._document = r),
          (this._breakpointSubscription = It(cp)
            .observe('(forced-colors: active)')
            .subscribe(() => {
              this._hasCheckedHighContrastMode &&
                ((this._hasCheckedHighContrastMode = !1),
                this._applyBodyHighContrastModeCssClasses());
            }));
      }
      getHighContrastMode() {
        if (!this._platform.isBrowser) return qs.NONE;
        let i = this._document.createElement('div');
        (i.style.backgroundColor = 'rgb(1,2,3)'),
          (i.style.position = 'absolute'),
          this._document.body.appendChild(i);
        let r = this._document.defaultView || window,
          a = r && r.getComputedStyle ? r.getComputedStyle(i) : null,
          o = ((a && a.backgroundColor) || '').replace(/ /g, '');
        switch ((i.remove(), o)) {
          case 'rgb(0,0,0)':
          case 'rgb(45,50,54)':
          case 'rgb(32,32,32)':
            return qs.WHITE_ON_BLACK;
          case 'rgb(255,255,255)':
          case 'rgb(255,250,239)':
            return qs.BLACK_ON_WHITE;
        }
        return qs.NONE;
      }
      ngOnDestroy() {
        this._breakpointSubscription.unsubscribe();
      }
      _applyBodyHighContrastModeCssClasses() {
        if (
          !this._hasCheckedHighContrastMode &&
          this._platform.isBrowser &&
          this._document.body
        ) {
          let i = this._document.body.classList;
          i.remove(ny, OC, PC), (this._hasCheckedHighContrastMode = !0);
          let r = this.getHighContrastMode();
          r === qs.BLACK_ON_WHITE
            ? i.add(ny, OC)
            : r === qs.WHITE_ON_BLACK && i.add(ny, PC);
        }
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ci), Ht(Ne));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
var iF = new ge('cdk-dir-doc', { providedIn: 'root', factory: nF });
function nF() {
  return It(Ne);
}
var rF =
  /^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;
function aF(e) {
  let t = e?.toLowerCase() || '';
  return t === 'auto' && typeof navigator < 'u' && navigator?.language
    ? rF.test(navigator.language)
      ? 'rtl'
      : 'ltr'
    : t === 'rtl'
      ? 'rtl'
      : 'ltr';
}
var Yl = (() => {
  let t = class t {
    constructor(i) {
      if (((this.value = 'ltr'), (this.change = new bi()), i)) {
        let r = i.body ? i.body.dir : null,
          a = i.documentElement ? i.documentElement.dir : null;
        this.value = aF(r || a || 'ltr');
      }
    }
    ngOnDestroy() {
      this.change.complete();
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Ht(iF, 8));
  }),
    (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
  let e = t;
  return e;
})();
var uy = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({}));
  let e = t;
  return e;
})();
var oF = ['mat-internal-form-field', ''],
  sF = ['*'];
function lF() {
  return !0;
}
var cF = new ge('mat-sanity-checks', { providedIn: 'root', factory: lF }),
  Vi = (() => {
    let t = class t {
      constructor(i, r, a) {
        (this._sanityChecks = r),
          (this._document = a),
          (this._hasDoneGlobalChecks = !1),
          i._applyBodyHighContrastModeCssClasses(),
          this._hasDoneGlobalChecks || (this._hasDoneGlobalChecks = !0);
      }
      _checkIsEnabled(i) {
        return CC()
          ? !1
          : typeof this._sanityChecks == 'boolean'
            ? this._sanityChecks
            : !!this._sanityChecks[i];
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(zC), Ht(cF, 8), Ht(Ne));
    }),
      (t.ɵmod = Ve({ type: t })),
      (t.ɵinj = ze({ imports: [uy, uy] }));
    let e = t;
    return e;
  })();
var Or = (function (e) {
    return (
      (e[(e.FADING_IN = 0)] = 'FADING_IN'),
      (e[(e.VISIBLE = 1)] = 'VISIBLE'),
      (e[(e.FADING_OUT = 2)] = 'FADING_OUT'),
      (e[(e.HIDDEN = 3)] = 'HIDDEN'),
      e
    );
  })(Or || {}),
  py = class {
    constructor(t, n, i, r = !1) {
      (this._renderer = t),
        (this.element = n),
        (this.config = i),
        (this._animationForciblyDisabledThroughCss = r),
        (this.state = Or.HIDDEN);
    }
    fadeOut() {
      this._renderer.fadeOutRipple(this);
    }
  },
  jC = Wl({ passive: !0, capture: !0 }),
  my = class {
    constructor() {
      (this._events = new Map()),
        (this._delegateEventHandler = (t) => {
          let n = Ka(t);
          n &&
            this._events.get(t.type)?.forEach((i, r) => {
              (r === n || r.contains(n)) && i.forEach((a) => a.handleEvent(t));
            });
        });
    }
    addHandler(t, n, i, r) {
      let a = this._events.get(n);
      if (a) {
        let o = a.get(i);
        o ? o.add(r) : a.set(i, new Set([r]));
      } else
        this._events.set(n, new Map([[i, new Set([r])]])),
          t.runOutsideAngular(() => {
            document.addEventListener(n, this._delegateEventHandler, jC);
          });
    }
    removeHandler(t, n, i) {
      let r = this._events.get(t);
      if (!r) return;
      let a = r.get(n);
      a &&
        (a.delete(i),
        a.size === 0 && r.delete(n),
        r.size === 0 &&
          (this._events.delete(t),
          document.removeEventListener(t, this._delegateEventHandler, jC)));
    }
  },
  qC = { enterDuration: 225, exitDuration: 150 },
  uF = 800,
  UC = Wl({ passive: !0, capture: !0 }),
  HC = ['mousedown', 'touchstart'],
  WC = ['mouseup', 'mouseleave', 'touchend', 'touchcancel'],
  ld = class ld {
    constructor(t, n, i, r) {
      (this._target = t),
        (this._ngZone = n),
        (this._platform = r),
        (this._isPointerDown = !1),
        (this._activeRipples = new Map()),
        (this._pointerUpEventsRegistered = !1),
        r.isBrowser && (this._containerElement = ta(i));
    }
    fadeInRipple(t, n, i = {}) {
      let r = (this._containerRect =
          this._containerRect ||
          this._containerElement.getBoundingClientRect()),
        a = Bt(Bt({}, qC), i.animation);
      i.centered && ((t = r.left + r.width / 2), (n = r.top + r.height / 2));
      let o = i.radius || dF(t, n, r),
        s = t - r.left,
        l = n - r.top,
        c = a.enterDuration,
        u = document.createElement('div');
      u.classList.add('mat-ripple-element'),
        (u.style.left = `${s - o}px`),
        (u.style.top = `${l - o}px`),
        (u.style.height = `${o * 2}px`),
        (u.style.width = `${o * 2}px`),
        i.color != null && (u.style.backgroundColor = i.color),
        (u.style.transitionDuration = `${c}ms`),
        this._containerElement.appendChild(u);
      let d = window.getComputedStyle(u),
        h = d.transitionProperty,
        p = d.transitionDuration,
        m =
          h === 'none' ||
          p === '0s' ||
          p === '0s, 0s' ||
          (r.width === 0 && r.height === 0),
        _ = new py(this, u, i, m);
      (u.style.transform = 'scale3d(1, 1, 1)'),
        (_.state = Or.FADING_IN),
        i.persistent || (this._mostRecentTransientRipple = _);
      let v = null;
      return (
        !m &&
          (c || a.exitDuration) &&
          this._ngZone.runOutsideAngular(() => {
            let y = () => {
                v && (v.fallbackTimer = null),
                  clearTimeout(x),
                  this._finishRippleTransition(_);
              },
              w = () => this._destroyRipple(_),
              x = setTimeout(w, c + 100);
            u.addEventListener('transitionend', y),
              u.addEventListener('transitioncancel', w),
              (v = {
                onTransitionEnd: y,
                onTransitionCancel: w,
                fallbackTimer: x,
              });
          }),
        this._activeRipples.set(_, v),
        (m || !c) && this._finishRippleTransition(_),
        _
      );
    }
    fadeOutRipple(t) {
      if (t.state === Or.FADING_OUT || t.state === Or.HIDDEN) return;
      let n = t.element,
        i = Bt(Bt({}, qC), t.config.animation);
      (n.style.transitionDuration = `${i.exitDuration}ms`),
        (n.style.opacity = '0'),
        (t.state = Or.FADING_OUT),
        (t._animationForciblyDisabledThroughCss || !i.exitDuration) &&
          this._finishRippleTransition(t);
    }
    fadeOutAll() {
      this._getActiveRipples().forEach((t) => t.fadeOut());
    }
    fadeOutAllNonPersistent() {
      this._getActiveRipples().forEach((t) => {
        t.config.persistent || t.fadeOut();
      });
    }
    setupTriggerEvents(t) {
      let n = ta(t);
      !this._platform.isBrowser ||
        !n ||
        n === this._triggerElement ||
        (this._removeTriggerEvents(),
        (this._triggerElement = n),
        HC.forEach((i) => {
          ld._eventManager.addHandler(this._ngZone, i, n, this);
        }));
    }
    handleEvent(t) {
      t.type === 'mousedown'
        ? this._onMousedown(t)
        : t.type === 'touchstart'
          ? this._onTouchStart(t)
          : this._onPointerUp(),
        this._pointerUpEventsRegistered ||
          (this._ngZone.runOutsideAngular(() => {
            WC.forEach((n) => {
              this._triggerElement.addEventListener(n, this, UC);
            });
          }),
          (this._pointerUpEventsRegistered = !0));
    }
    _finishRippleTransition(t) {
      t.state === Or.FADING_IN
        ? this._startFadeOutTransition(t)
        : t.state === Or.FADING_OUT && this._destroyRipple(t);
    }
    _startFadeOutTransition(t) {
      let n = t === this._mostRecentTransientRipple,
        { persistent: i } = t.config;
      (t.state = Or.VISIBLE), !i && (!n || !this._isPointerDown) && t.fadeOut();
    }
    _destroyRipple(t) {
      let n = this._activeRipples.get(t) ?? null;
      this._activeRipples.delete(t),
        this._activeRipples.size || (this._containerRect = null),
        t === this._mostRecentTransientRipple &&
          (this._mostRecentTransientRipple = null),
        (t.state = Or.HIDDEN),
        n !== null &&
          (t.element.removeEventListener('transitionend', n.onTransitionEnd),
          t.element.removeEventListener(
            'transitioncancel',
            n.onTransitionCancel
          ),
          n.fallbackTimer !== null && clearTimeout(n.fallbackTimer)),
        t.element.remove();
    }
    _onMousedown(t) {
      let n = ly(t),
        i =
          this._lastTouchStartEvent &&
          Date.now() < this._lastTouchStartEvent + uF;
      !this._target.rippleDisabled &&
        !n &&
        !i &&
        ((this._isPointerDown = !0),
        this.fadeInRipple(t.clientX, t.clientY, this._target.rippleConfig));
    }
    _onTouchStart(t) {
      if (!this._target.rippleDisabled && !cy(t)) {
        (this._lastTouchStartEvent = Date.now()), (this._isPointerDown = !0);
        let n = t.changedTouches;
        if (n)
          for (let i = 0; i < n.length; i++)
            this.fadeInRipple(
              n[i].clientX,
              n[i].clientY,
              this._target.rippleConfig
            );
      }
    }
    _onPointerUp() {
      this._isPointerDown &&
        ((this._isPointerDown = !1),
        this._getActiveRipples().forEach((t) => {
          let n =
            t.state === Or.VISIBLE ||
            (t.config.terminateOnPointerUp && t.state === Or.FADING_IN);
          !t.config.persistent && n && t.fadeOut();
        }));
    }
    _getActiveRipples() {
      return Array.from(this._activeRipples.keys());
    }
    _removeTriggerEvents() {
      let t = this._triggerElement;
      t &&
        (HC.forEach((n) => ld._eventManager.removeHandler(n, t, this)),
        this._pointerUpEventsRegistered &&
          (WC.forEach((n) => t.removeEventListener(n, this, UC)),
          (this._pointerUpEventsRegistered = !1)));
    }
  };
ld._eventManager = new my();
var cd = ld;
function dF(e, t, n) {
  let i = Math.max(Math.abs(e - n.left), Math.abs(e - n.right)),
    r = Math.max(Math.abs(t - n.top), Math.abs(t - n.bottom));
  return Math.sqrt(i * i + r * r);
}
var ud = new ge('mat-ripple-global-options'),
  pp = (() => {
    let t = class t {
      get disabled() {
        return this._disabled;
      }
      set disabled(i) {
        i && this.fadeOutAllNonPersistent(),
          (this._disabled = i),
          this._setupTriggerEventsIfEnabled();
      }
      get trigger() {
        return this._trigger || this._elementRef.nativeElement;
      }
      set trigger(i) {
        (this._trigger = i), this._setupTriggerEventsIfEnabled();
      }
      constructor(i, r, a, o, s) {
        (this._elementRef = i),
          (this._animationMode = s),
          (this.radius = 0),
          (this._disabled = !1),
          (this._isInitialized = !1),
          (this._globalOptions = o || {}),
          (this._rippleRenderer = new cd(this, r, i, a));
      }
      ngOnInit() {
        (this._isInitialized = !0), this._setupTriggerEventsIfEnabled();
      }
      ngOnDestroy() {
        this._rippleRenderer._removeTriggerEvents();
      }
      fadeOutAll() {
        this._rippleRenderer.fadeOutAll();
      }
      fadeOutAllNonPersistent() {
        this._rippleRenderer.fadeOutAllNonPersistent();
      }
      get rippleConfig() {
        return {
          centered: this.centered,
          radius: this.radius,
          color: this.color,
          animation: Bt(
            Bt(
              Bt({}, this._globalOptions.animation),
              this._animationMode === 'NoopAnimations'
                ? { enterDuration: 0, exitDuration: 0 }
                : {}
            ),
            this.animation
          ),
          terminateOnPointerUp: this._globalOptions.terminateOnPointerUp,
        };
      }
      get rippleDisabled() {
        return this.disabled || !!this._globalOptions.disabled;
      }
      _setupTriggerEventsIfEnabled() {
        !this.disabled &&
          this._isInitialized &&
          this._rippleRenderer.setupTriggerEvents(this.trigger);
      }
      launch(i, r = 0, a) {
        return typeof i == 'number'
          ? this._rippleRenderer.fadeInRipple(
              i,
              r,
              Bt(Bt({}, this.rippleConfig), a)
            )
          : this._rippleRenderer.fadeInRipple(
              0,
              0,
              Bt(Bt({}, this.rippleConfig), i)
            );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Re), Tt(De), Tt(Ci), Tt(ud, 8), Tt(Yn, 8));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [
          ['', 'mat-ripple', ''],
          ['', 'matRipple', ''],
        ],
        hostAttrs: [1, 'mat-ripple'],
        hostVars: 2,
        hostBindings: function (r, a) {
          r & 2 && Ze('mat-ripple-unbounded', a.unbounded);
        },
        inputs: {
          color: [0, 'matRippleColor', 'color'],
          unbounded: [0, 'matRippleUnbounded', 'unbounded'],
          centered: [0, 'matRippleCentered', 'centered'],
          radius: [0, 'matRippleRadius', 'radius'],
          animation: [0, 'matRippleAnimation', 'animation'],
          disabled: [0, 'matRippleDisabled', 'disabled'],
          trigger: [0, 'matRippleTrigger', 'trigger'],
        },
        exportAs: ['matRipple'],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  mp = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵmod = Ve({ type: t })),
      (t.ɵinj = ze({ imports: [Vi, Vi] }));
    let e = t;
    return e;
  })();
var KC = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [Vi] }));
  let e = t;
  return e;
})();
var $C = { capture: !0 },
  GC = ['focus', 'mousedown', 'mouseenter', 'touchstart'],
  hy = 'mat-ripple-loader-uninitialized',
  fy = 'mat-ripple-loader-class-name',
  YC = 'mat-ripple-loader-centered',
  fp = 'mat-ripple-loader-disabled',
  XC = (() => {
    let t = class t {
      constructor() {
        (this._document = It(Ne, { optional: !0 })),
          (this._animationMode = It(Yn, { optional: !0 })),
          (this._globalRippleOptions = It(ud, { optional: !0 })),
          (this._platform = It(Ci)),
          (this._ngZone = It(De)),
          (this._hosts = new Map()),
          (this._onInteraction = (i) => {
            let r = Ka(i);
            if (r instanceof HTMLElement) {
              let a = r.closest(
                `[${hy}="${this._globalRippleOptions?.namespace ?? ''}"]`
              );
              a && this._createRipple(a);
            }
          }),
          this._ngZone.runOutsideAngular(() => {
            for (let i of GC)
              this._document?.addEventListener(i, this._onInteraction, $C);
          });
      }
      ngOnDestroy() {
        let i = this._hosts.keys();
        for (let r of i) this.destroyRipple(r);
        for (let r of GC)
          this._document?.removeEventListener(r, this._onInteraction, $C);
      }
      configureRipple(i, r) {
        i.setAttribute(hy, this._globalRippleOptions?.namespace ?? ''),
          (r.className || !i.hasAttribute(fy)) &&
            i.setAttribute(fy, r.className || ''),
          r.centered && i.setAttribute(YC, ''),
          r.disabled && i.setAttribute(fp, '');
      }
      getRipple(i) {
        return this._hosts.get(i) || this._createRipple(i);
      }
      setDisabled(i, r) {
        let a = this._hosts.get(i);
        if (a) {
          a.disabled = r;
          return;
        }
        r ? i.setAttribute(fp, '') : i.removeAttribute(fp);
      }
      _createRipple(i) {
        if (!this._document) return;
        let r = this._hosts.get(i);
        if (r) return r;
        i.querySelector('.mat-ripple')?.remove();
        let a = this._document.createElement('span');
        a.classList.add('mat-ripple', i.getAttribute(fy)), i.append(a);
        let o = new pp(
          new Re(a),
          this._ngZone,
          this._platform,
          this._globalRippleOptions ? this._globalRippleOptions : void 0,
          this._animationMode ? this._animationMode : void 0
        );
        return (
          (o._isInitialized = !0),
          (o.trigger = i),
          (o.centered = i.hasAttribute(YC)),
          (o.disabled = i.hasAttribute(fp)),
          this.attachRipple(i, o),
          o
        );
      }
      attachRipple(i, r) {
        i.removeAttribute(hy), this._hosts.set(i, r);
      }
      destroyRipple(i) {
        let r = this._hosts.get(i);
        r && (r.ngOnDestroy(), this._hosts.delete(i));
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  ZC = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['div', 'mat-internal-form-field', '']],
        hostAttrs: [1, 'mdc-form-field', 'mat-internal-form-field'],
        hostVars: 2,
        hostBindings: function (r, a) {
          r & 2 &&
            Ze('mdc-form-field--align-end', a.labelPosition === 'before');
        },
        inputs: { labelPosition: 'labelPosition' },
        standalone: !0,
        features: [Ie],
        attrs: oF,
        ngContentSelectors: sF,
        decls: 1,
        vars: 0,
        template: function (r, a) {
          r & 1 && (zi(), qe(0));
        },
        styles: [
          '.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}',
        ],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })();
var QC = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [Vi, Vi] }));
  let e = t;
  return e;
})();
var gp = class {};
function JC(e) {
  return e && typeof e.connect == 'function' && !(e instanceof Zc);
}
var vp = class {
  get selected() {
    return (
      this._selected || (this._selected = Array.from(this._selection.values())),
      this._selected
    );
  }
  constructor(t = !1, n, i = !0, r) {
    (this._multiple = t),
      (this._emitChanges = i),
      (this.compareWith = r),
      (this._selection = new Set()),
      (this._deselectedToEmit = []),
      (this._selectedToEmit = []),
      (this.changed = new Se()),
      n &&
        n.length &&
        (t ? n.forEach((a) => this._markSelected(a)) : this._markSelected(n[0]),
        (this._selectedToEmit.length = 0));
  }
  select(...t) {
    this._verifyValueAssignment(t), t.forEach((i) => this._markSelected(i));
    let n = this._hasQueuedChanges();
    return this._emitChangeEvent(), n;
  }
  deselect(...t) {
    this._verifyValueAssignment(t), t.forEach((i) => this._unmarkSelected(i));
    let n = this._hasQueuedChanges();
    return this._emitChangeEvent(), n;
  }
  setSelection(...t) {
    this._verifyValueAssignment(t);
    let n = this.selected,
      i = new Set(t);
    t.forEach((a) => this._markSelected(a)),
      n
        .filter((a) => !i.has(this._getConcreteValue(a, i)))
        .forEach((a) => this._unmarkSelected(a));
    let r = this._hasQueuedChanges();
    return this._emitChangeEvent(), r;
  }
  toggle(t) {
    return this.isSelected(t) ? this.deselect(t) : this.select(t);
  }
  clear(t = !0) {
    this._unmarkAll();
    let n = this._hasQueuedChanges();
    return t && this._emitChangeEvent(), n;
  }
  isSelected(t) {
    return this._selection.has(this._getConcreteValue(t));
  }
  isEmpty() {
    return this._selection.size === 0;
  }
  hasValue() {
    return !this.isEmpty();
  }
  sort(t) {
    this._multiple && this.selected && this._selected.sort(t);
  }
  isMultipleSelection() {
    return this._multiple;
  }
  _emitChangeEvent() {
    (this._selected = null),
      (this._selectedToEmit.length || this._deselectedToEmit.length) &&
        (this.changed.next({
          source: this,
          added: this._selectedToEmit,
          removed: this._deselectedToEmit,
        }),
        (this._deselectedToEmit = []),
        (this._selectedToEmit = []));
  }
  _markSelected(t) {
    (t = this._getConcreteValue(t)),
      this.isSelected(t) ||
        (this._multiple || this._unmarkAll(),
        this.isSelected(t) || this._selection.add(t),
        this._emitChanges && this._selectedToEmit.push(t));
  }
  _unmarkSelected(t) {
    (t = this._getConcreteValue(t)),
      this.isSelected(t) &&
        (this._selection.delete(t),
        this._emitChanges && this._deselectedToEmit.push(t));
  }
  _unmarkAll() {
    this.isEmpty() || this._selection.forEach((t) => this._unmarkSelected(t));
  }
  _verifyValueAssignment(t) {
    t.length > 1 && this._multiple;
  }
  _hasQueuedChanges() {
    return !!(this._deselectedToEmit.length || this._selectedToEmit.length);
  }
  _getConcreteValue(t, n) {
    if (this.compareWith) {
      n = n ?? this._selection;
      for (let i of n) if (this.compareWith(t, i)) return i;
      return t;
    } else return t;
  }
};
var sE = (() => {
    let t = class t {
      constructor(i, r) {
        (this._renderer = i),
          (this._elementRef = r),
          (this.onChange = (a) => {}),
          (this.onTouched = () => {});
      }
      setProperty(i, r) {
        this._renderer.setProperty(this._elementRef.nativeElement, i, r);
      }
      registerOnTouched(i) {
        this.onTouched = i;
      }
      registerOnChange(i) {
        this.onChange = i;
      }
      setDisabledState(i) {
        this.setProperty('disabled', i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(kl), Tt(Re));
    }),
      (t.ɵdir = Oe({ type: t }));
    let e = t;
    return e;
  })(),
  hF = (() => {
    let t = class t extends sE {};
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵdir = Oe({ type: t, features: [Bi] }));
    let e = t;
    return e;
  })(),
  wp = new ge('');
var fF = { provide: wp, useExisting: Na(() => lE), multi: !0 };
function pF() {
  let e = El() ? El().getUserAgent() : '';
  return /android (\d+)/.test(e.toLowerCase());
}
var mF = new ge(''),
  lE = (() => {
    let t = class t extends sE {
      constructor(i, r, a) {
        super(i, r),
          (this._compositionMode = a),
          (this._composing = !1),
          this._compositionMode == null && (this._compositionMode = !pF());
      }
      writeValue(i) {
        let r = i ?? '';
        this.setProperty('value', r);
      }
      _handleInput(i) {
        (!this._compositionMode ||
          (this._compositionMode && !this._composing)) &&
          this.onChange(i);
      }
      _compositionStart() {
        this._composing = !0;
      }
      _compositionEnd(i) {
        (this._composing = !1), this._compositionMode && this.onChange(i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(kl), Tt(Re), Tt(mF, 8));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [
          ['input', 'formControlName', '', 3, 'type', 'checkbox'],
          ['textarea', 'formControlName', ''],
          ['input', 'formControl', '', 3, 'type', 'checkbox'],
          ['textarea', 'formControl', ''],
          ['input', 'ngModel', '', 3, 'type', 'checkbox'],
          ['textarea', 'ngModel', ''],
          ['', 'ngDefaultControl', ''],
        ],
        hostBindings: function (r, a) {
          r & 1 &&
            Ai('input', function (s) {
              return a._handleInput(s.target.value);
            })('blur', function () {
              return a.onTouched();
            })('compositionstart', function () {
              return a._compositionStart();
            })('compositionend', function (s) {
              return a._compositionEnd(s.target.value);
            });
        },
        features: [bn([fF]), Bi],
      }));
    let e = t;
    return e;
  })();
var _y = new ge(''),
  gF = new ge('');
function cE(e) {
  return e != null;
}
function uE(e) {
  return Yh(e) ? gn(e) : e;
}
function dE(e) {
  let t = {};
  return (
    e.forEach((n) => {
      t = n != null ? Bt(Bt({}, t), n) : t;
    }),
    Object.keys(t).length === 0 ? null : t
  );
}
function hE(e, t) {
  return t.map((n) => n(e));
}
function vF(e) {
  return !e.validate;
}
function fE(e) {
  return e.map((t) => (vF(t) ? t : (n) => t.validate(n)));
}
function bF(e) {
  if (!e) return null;
  let t = e.filter(cE);
  return t.length == 0
    ? null
    : function (n) {
        return dE(hE(n, t));
      };
}
function pE(e) {
  return e != null ? bF(fE(e)) : null;
}
function yF(e) {
  if (!e) return null;
  let t = e.filter(cE);
  return t.length == 0
    ? null
    : function (n) {
        let i = hE(n, t).map(uE);
        return zh(i).pipe(re(dE));
      };
}
function mE(e) {
  return e != null ? yF(fE(e)) : null;
}
function tE(e, t) {
  return e === null ? [t] : Array.isArray(e) ? [...e, t] : [e, t];
}
function _F(e) {
  return e._rawValidators;
}
function xF(e) {
  return e._rawAsyncValidators;
}
function gy(e) {
  return e ? (Array.isArray(e) ? e : [e]) : [];
}
function yp(e, t) {
  return Array.isArray(e) ? e.includes(t) : e === t;
}
function eE(e, t) {
  let n = gy(t);
  return (
    gy(e).forEach((r) => {
      yp(n, r) || n.push(r);
    }),
    n
  );
}
function iE(e, t) {
  return gy(t).filter((n) => !yp(e, n));
}
var _p = class {
    constructor() {
      (this._rawValidators = []),
        (this._rawAsyncValidators = []),
        (this._onDestroyCallbacks = []);
    }
    get value() {
      return this.control ? this.control.value : null;
    }
    get valid() {
      return this.control ? this.control.valid : null;
    }
    get invalid() {
      return this.control ? this.control.invalid : null;
    }
    get pending() {
      return this.control ? this.control.pending : null;
    }
    get disabled() {
      return this.control ? this.control.disabled : null;
    }
    get enabled() {
      return this.control ? this.control.enabled : null;
    }
    get errors() {
      return this.control ? this.control.errors : null;
    }
    get pristine() {
      return this.control ? this.control.pristine : null;
    }
    get dirty() {
      return this.control ? this.control.dirty : null;
    }
    get touched() {
      return this.control ? this.control.touched : null;
    }
    get status() {
      return this.control ? this.control.status : null;
    }
    get untouched() {
      return this.control ? this.control.untouched : null;
    }
    get statusChanges() {
      return this.control ? this.control.statusChanges : null;
    }
    get valueChanges() {
      return this.control ? this.control.valueChanges : null;
    }
    get path() {
      return null;
    }
    _setValidators(t) {
      (this._rawValidators = t || []),
        (this._composedValidatorFn = pE(this._rawValidators));
    }
    _setAsyncValidators(t) {
      (this._rawAsyncValidators = t || []),
        (this._composedAsyncValidatorFn = mE(this._rawAsyncValidators));
    }
    get validator() {
      return this._composedValidatorFn || null;
    }
    get asyncValidator() {
      return this._composedAsyncValidatorFn || null;
    }
    _registerOnDestroy(t) {
      this._onDestroyCallbacks.push(t);
    }
    _invokeOnDestroyCallbacks() {
      this._onDestroyCallbacks.forEach((t) => t()),
        (this._onDestroyCallbacks = []);
    }
    reset(t = void 0) {
      this.control && this.control.reset(t);
    }
    hasError(t, n) {
      return this.control ? this.control.hasError(t, n) : !1;
    }
    getError(t, n) {
      return this.control ? this.control.getError(t, n) : null;
    }
  },
  vy = class extends _p {
    get formDirective() {
      return null;
    }
    get path() {
      return null;
    }
  },
  md = class extends _p {
    constructor() {
      super(...arguments),
        (this._parent = null),
        (this.name = null),
        (this.valueAccessor = null);
    }
  },
  by = class {
    constructor(t) {
      this._cd = t;
    }
    get isTouched() {
      return this._cd?.control?._touched?.(), !!this._cd?.control?.touched;
    }
    get isUntouched() {
      return !!this._cd?.control?.untouched;
    }
    get isPristine() {
      return this._cd?.control?._pristine?.(), !!this._cd?.control?.pristine;
    }
    get isDirty() {
      return !!this._cd?.control?.dirty;
    }
    get isValid() {
      return this._cd?.control?._status?.(), !!this._cd?.control?.valid;
    }
    get isInvalid() {
      return !!this._cd?.control?.invalid;
    }
    get isPending() {
      return !!this._cd?.control?.pending;
    }
    get isSubmitted() {
      return this._cd?._submitted?.(), !!this._cd?.submitted;
    }
  },
  wF = {
    '[class.ng-untouched]': 'isUntouched',
    '[class.ng-touched]': 'isTouched',
    '[class.ng-pristine]': 'isPristine',
    '[class.ng-dirty]': 'isDirty',
    '[class.ng-valid]': 'isValid',
    '[class.ng-invalid]': 'isInvalid',
    '[class.ng-pending]': 'isPending',
  },
  btt = ni(Bt({}, wF), { '[class.ng-submitted]': 'isSubmitted' }),
  gE = (() => {
    let t = class t extends by {
      constructor(i) {
        super(i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(md, 2));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [
          ['', 'formControlName', ''],
          ['', 'ngModel', ''],
          ['', 'formControl', ''],
        ],
        hostVars: 14,
        hostBindings: function (r, a) {
          r & 2 &&
            Ze('ng-untouched', a.isUntouched)('ng-touched', a.isTouched)(
              'ng-pristine',
              a.isPristine
            )('ng-dirty', a.isDirty)('ng-valid', a.isValid)(
              'ng-invalid',
              a.isInvalid
            )('ng-pending', a.isPending);
        },
        features: [Bi],
      }));
    let e = t;
    return e;
  })();
var dd = 'VALID',
  bp = 'INVALID',
  Kl = 'PENDING',
  hd = 'DISABLED',
  Zl = class {},
  xp = class extends Zl {
    constructor(t, n) {
      super(), (this.value = t), (this.source = n);
    }
  },
  fd = class extends Zl {
    constructor(t, n) {
      super(), (this.pristine = t), (this.source = n);
    }
  },
  pd = class extends Zl {
    constructor(t, n) {
      super(), (this.touched = t), (this.source = n);
    }
  },
  Xl = class extends Zl {
    constructor(t, n) {
      super(), (this.status = t), (this.source = n);
    }
  };
function kF(e) {
  return (kp(e) ? e.validators : e) || null;
}
function CF(e) {
  return Array.isArray(e) ? pE(e) : e || null;
}
function EF(e, t) {
  return (kp(t) ? t.asyncValidators : e) || null;
}
function SF(e) {
  return Array.isArray(e) ? mE(e) : e || null;
}
function kp(e) {
  return e != null && !Array.isArray(e) && typeof e == 'object';
}
var yy = class {
  constructor(t, n) {
    (this._pendingDirty = !1),
      (this._hasOwnPendingAsyncValidator = null),
      (this._pendingTouched = !1),
      (this._onCollectionChange = () => {}),
      (this._parent = null),
      (this._status = uu(() => this.statusReactive())),
      (this.statusReactive = au(void 0)),
      (this._pristine = uu(() => this.pristineReactive())),
      (this.pristineReactive = au(!0)),
      (this._touched = uu(() => this.touchedReactive())),
      (this.touchedReactive = au(!1)),
      (this._events = new Se()),
      (this.events = this._events.asObservable()),
      (this._onDisabledChange = []),
      this._assignValidators(t),
      this._assignAsyncValidators(n);
  }
  get validator() {
    return this._composedValidatorFn;
  }
  set validator(t) {
    this._rawValidators = this._composedValidatorFn = t;
  }
  get asyncValidator() {
    return this._composedAsyncValidatorFn;
  }
  set asyncValidator(t) {
    this._rawAsyncValidators = this._composedAsyncValidatorFn = t;
  }
  get parent() {
    return this._parent;
  }
  get status() {
    return yo(this.statusReactive);
  }
  set status(t) {
    yo(() => this.statusReactive.set(t));
  }
  get valid() {
    return this.status === dd;
  }
  get invalid() {
    return this.status === bp;
  }
  get pending() {
    return this.status == Kl;
  }
  get disabled() {
    return this.status === hd;
  }
  get enabled() {
    return this.status !== hd;
  }
  get pristine() {
    return yo(this.pristineReactive);
  }
  set pristine(t) {
    yo(() => this.pristineReactive.set(t));
  }
  get dirty() {
    return !this.pristine;
  }
  get touched() {
    return yo(this.touchedReactive);
  }
  set touched(t) {
    yo(() => this.touchedReactive.set(t));
  }
  get untouched() {
    return !this.touched;
  }
  get updateOn() {
    return this._updateOn
      ? this._updateOn
      : this.parent
        ? this.parent.updateOn
        : 'change';
  }
  setValidators(t) {
    this._assignValidators(t);
  }
  setAsyncValidators(t) {
    this._assignAsyncValidators(t);
  }
  addValidators(t) {
    this.setValidators(eE(t, this._rawValidators));
  }
  addAsyncValidators(t) {
    this.setAsyncValidators(eE(t, this._rawAsyncValidators));
  }
  removeValidators(t) {
    this.setValidators(iE(t, this._rawValidators));
  }
  removeAsyncValidators(t) {
    this.setAsyncValidators(iE(t, this._rawAsyncValidators));
  }
  hasValidator(t) {
    return yp(this._rawValidators, t);
  }
  hasAsyncValidator(t) {
    return yp(this._rawAsyncValidators, t);
  }
  clearValidators() {
    this.validator = null;
  }
  clearAsyncValidators() {
    this.asyncValidator = null;
  }
  markAsTouched(t = {}) {
    let n = this.touched === !1;
    this.touched = !0;
    let i = t.sourceControl ?? this;
    this._parent &&
      !t.onlySelf &&
      this._parent.markAsTouched(ni(Bt({}, t), { sourceControl: i })),
      n && t.emitEvent !== !1 && this._events.next(new pd(!0, i));
  }
  markAllAsTouched(t = {}) {
    this.markAsTouched({
      onlySelf: !0,
      emitEvent: t.emitEvent,
      sourceControl: this,
    }),
      this._forEachChild((n) => n.markAllAsTouched(t));
  }
  markAsUntouched(t = {}) {
    let n = this.touched === !0;
    (this.touched = !1), (this._pendingTouched = !1);
    let i = t.sourceControl ?? this;
    this._forEachChild((r) => {
      r.markAsUntouched({
        onlySelf: !0,
        emitEvent: t.emitEvent,
        sourceControl: i,
      });
    }),
      this._parent && !t.onlySelf && this._parent._updateTouched(t, i),
      n && t.emitEvent !== !1 && this._events.next(new pd(!1, i));
  }
  markAsDirty(t = {}) {
    let n = this.pristine === !0;
    this.pristine = !1;
    let i = t.sourceControl ?? this;
    this._parent &&
      !t.onlySelf &&
      this._parent.markAsDirty(ni(Bt({}, t), { sourceControl: i })),
      n && t.emitEvent !== !1 && this._events.next(new fd(!1, i));
  }
  markAsPristine(t = {}) {
    let n = this.pristine === !1;
    (this.pristine = !0), (this._pendingDirty = !1);
    let i = t.sourceControl ?? this;
    this._forEachChild((r) => {
      r.markAsPristine({ onlySelf: !0, emitEvent: t.emitEvent });
    }),
      this._parent && !t.onlySelf && this._parent._updatePristine(t, i),
      n && t.emitEvent !== !1 && this._events.next(new fd(!0, i));
  }
  markAsPending(t = {}) {
    this.status = Kl;
    let n = t.sourceControl ?? this;
    t.emitEvent !== !1 &&
      (this._events.next(new Xl(this.status, n)),
      this.statusChanges.emit(this.status)),
      this._parent &&
        !t.onlySelf &&
        this._parent.markAsPending(ni(Bt({}, t), { sourceControl: n }));
  }
  disable(t = {}) {
    let n = this._parentMarkedDirty(t.onlySelf);
    (this.status = hd),
      (this.errors = null),
      this._forEachChild((r) => {
        r.disable(ni(Bt({}, t), { onlySelf: !0 }));
      }),
      this._updateValue();
    let i = t.sourceControl ?? this;
    t.emitEvent !== !1 &&
      (this._events.next(new xp(this.value, i)),
      this._events.next(new Xl(this.status, i)),
      this.valueChanges.emit(this.value),
      this.statusChanges.emit(this.status)),
      this._updateAncestors(ni(Bt({}, t), { skipPristineCheck: n }), this),
      this._onDisabledChange.forEach((r) => r(!0));
  }
  enable(t = {}) {
    let n = this._parentMarkedDirty(t.onlySelf);
    (this.status = dd),
      this._forEachChild((i) => {
        i.enable(ni(Bt({}, t), { onlySelf: !0 }));
      }),
      this.updateValueAndValidity({ onlySelf: !0, emitEvent: t.emitEvent }),
      this._updateAncestors(ni(Bt({}, t), { skipPristineCheck: n }), this),
      this._onDisabledChange.forEach((i) => i(!1));
  }
  _updateAncestors(t, n) {
    this._parent &&
      !t.onlySelf &&
      (this._parent.updateValueAndValidity(t),
      t.skipPristineCheck || this._parent._updatePristine({}, n),
      this._parent._updateTouched({}, n));
  }
  setParent(t) {
    this._parent = t;
  }
  getRawValue() {
    return this.value;
  }
  updateValueAndValidity(t = {}) {
    if ((this._setInitialStatus(), this._updateValue(), this.enabled)) {
      let i = this._cancelExistingSubscription();
      (this.errors = this._runValidator()),
        (this.status = this._calculateStatus()),
        (this.status === dd || this.status === Kl) &&
          this._runAsyncValidator(i, t.emitEvent);
    }
    let n = t.sourceControl ?? this;
    t.emitEvent !== !1 &&
      (this._events.next(new xp(this.value, n)),
      this._events.next(new Xl(this.status, n)),
      this.valueChanges.emit(this.value),
      this.statusChanges.emit(this.status)),
      this._parent &&
        !t.onlySelf &&
        this._parent.updateValueAndValidity(
          ni(Bt({}, t), { sourceControl: n })
        );
  }
  _updateTreeValidity(t = { emitEvent: !0 }) {
    this._forEachChild((n) => n._updateTreeValidity(t)),
      this.updateValueAndValidity({ onlySelf: !0, emitEvent: t.emitEvent });
  }
  _setInitialStatus() {
    this.status = this._allControlsDisabled() ? hd : dd;
  }
  _runValidator() {
    return this.validator ? this.validator(this) : null;
  }
  _runAsyncValidator(t, n) {
    if (this.asyncValidator) {
      (this.status = Kl),
        (this._hasOwnPendingAsyncValidator = { emitEvent: n !== !1 });
      let i = uE(this.asyncValidator(this));
      this._asyncValidationSubscription = i.subscribe((r) => {
        (this._hasOwnPendingAsyncValidator = null),
          this.setErrors(r, { emitEvent: n, shouldHaveEmitted: t });
      });
    }
  }
  _cancelExistingSubscription() {
    if (this._asyncValidationSubscription) {
      this._asyncValidationSubscription.unsubscribe();
      let t = this._hasOwnPendingAsyncValidator?.emitEvent ?? !1;
      return (this._hasOwnPendingAsyncValidator = null), t;
    }
    return !1;
  }
  setErrors(t, n = {}) {
    (this.errors = t),
      this._updateControlsErrors(n.emitEvent !== !1, this, n.shouldHaveEmitted);
  }
  get(t) {
    let n = t;
    return n == null || (Array.isArray(n) || (n = n.split('.')), n.length === 0)
      ? null
      : n.reduce((i, r) => i && i._find(r), this);
  }
  getError(t, n) {
    let i = n ? this.get(n) : this;
    return i && i.errors ? i.errors[t] : null;
  }
  hasError(t, n) {
    return !!this.getError(t, n);
  }
  get root() {
    let t = this;
    for (; t._parent; ) t = t._parent;
    return t;
  }
  _updateControlsErrors(t, n, i) {
    (this.status = this._calculateStatus()),
      t && this.statusChanges.emit(this.status),
      (t || i) && this._events.next(new Xl(this.status, n)),
      this._parent && this._parent._updateControlsErrors(t, n, i);
  }
  _initObservables() {
    (this.valueChanges = new bi()), (this.statusChanges = new bi());
  }
  _calculateStatus() {
    return this._allControlsDisabled()
      ? hd
      : this.errors
        ? bp
        : this._hasOwnPendingAsyncValidator || this._anyControlsHaveStatus(Kl)
          ? Kl
          : this._anyControlsHaveStatus(bp)
            ? bp
            : dd;
  }
  _anyControlsHaveStatus(t) {
    return this._anyControls((n) => n.status === t);
  }
  _anyControlsDirty() {
    return this._anyControls((t) => t.dirty);
  }
  _anyControlsTouched() {
    return this._anyControls((t) => t.touched);
  }
  _updatePristine(t, n) {
    let i = !this._anyControlsDirty(),
      r = this.pristine !== i;
    (this.pristine = i),
      this._parent && !t.onlySelf && this._parent._updatePristine(t, n),
      r && this._events.next(new fd(this.pristine, n));
  }
  _updateTouched(t = {}, n) {
    (this.touched = this._anyControlsTouched()),
      this._events.next(new pd(this.touched, n)),
      this._parent && !t.onlySelf && this._parent._updateTouched(t, n);
  }
  _registerOnCollectionChange(t) {
    this._onCollectionChange = t;
  }
  _setUpdateStrategy(t) {
    kp(t) && t.updateOn != null && (this._updateOn = t.updateOn);
  }
  _parentMarkedDirty(t) {
    let n = this._parent && this._parent.dirty;
    return !t && !!n && !this._parent._anyControlsDirty();
  }
  _find(t) {
    return null;
  }
  _assignValidators(t) {
    (this._rawValidators = Array.isArray(t) ? t.slice() : t),
      (this._composedValidatorFn = CF(this._rawValidators));
  }
  _assignAsyncValidators(t) {
    (this._rawAsyncValidators = Array.isArray(t) ? t.slice() : t),
      (this._composedAsyncValidatorFn = SF(this._rawAsyncValidators));
  }
};
var vE = new ge('CallSetDisabledState', {
    providedIn: 'root',
    factory: () => xy,
  }),
  xy = 'always';
function DF(e, t) {
  return [...t.path, e];
}
function TF(e, t, n = xy) {
  AF(e, t),
    t.valueAccessor.writeValue(e.value),
    (e.disabled || n === 'always') &&
      t.valueAccessor.setDisabledState?.(e.disabled),
    IF(e, t),
    OF(e, t),
    RF(e, t),
    MF(e, t);
}
function nE(e, t) {
  e.forEach((n) => {
    n.registerOnValidatorChange && n.registerOnValidatorChange(t);
  });
}
function MF(e, t) {
  if (t.valueAccessor.setDisabledState) {
    let n = (i) => {
      t.valueAccessor.setDisabledState(i);
    };
    e.registerOnDisabledChange(n),
      t._registerOnDestroy(() => {
        e._unregisterOnDisabledChange(n);
      });
  }
}
function AF(e, t) {
  let n = _F(e);
  t.validator !== null
    ? e.setValidators(tE(n, t.validator))
    : typeof n == 'function' && e.setValidators([n]);
  let i = xF(e);
  t.asyncValidator !== null
    ? e.setAsyncValidators(tE(i, t.asyncValidator))
    : typeof i == 'function' && e.setAsyncValidators([i]);
  let r = () => e.updateValueAndValidity();
  nE(t._rawValidators, r), nE(t._rawAsyncValidators, r);
}
function IF(e, t) {
  t.valueAccessor.registerOnChange((n) => {
    (e._pendingValue = n),
      (e._pendingChange = !0),
      (e._pendingDirty = !0),
      e.updateOn === 'change' && bE(e, t);
  });
}
function RF(e, t) {
  t.valueAccessor.registerOnTouched(() => {
    (e._pendingTouched = !0),
      e.updateOn === 'blur' && e._pendingChange && bE(e, t),
      e.updateOn !== 'submit' && e.markAsTouched();
  });
}
function bE(e, t) {
  e._pendingDirty && e.markAsDirty(),
    e.setValue(e._pendingValue, { emitModelToViewChange: !1 }),
    t.viewToModelUpdate(e._pendingValue),
    (e._pendingChange = !1);
}
function OF(e, t) {
  let n = (i, r) => {
    t.valueAccessor.writeValue(i), r && t.viewToModelUpdate(i);
  };
  e.registerOnChange(n),
    t._registerOnDestroy(() => {
      e._unregisterOnChange(n);
    });
}
function PF(e, t) {
  if (!e.hasOwnProperty('model')) return !1;
  let n = e.model;
  return n.isFirstChange() ? !0 : !Object.is(t, n.currentValue);
}
function LF(e) {
  return Object.getPrototypeOf(e.constructor) === hF;
}
function NF(e, t) {
  if (!t) return null;
  Array.isArray(t);
  let n, i, r;
  return (
    t.forEach((a) => {
      a.constructor === lE ? (n = a) : LF(a) ? (i = a) : (r = a);
    }),
    r || i || n || null
  );
}
function rE(e, t) {
  let n = e.indexOf(t);
  n > -1 && e.splice(n, 1);
}
function aE(e) {
  return (
    typeof e == 'object' &&
    e !== null &&
    Object.keys(e).length === 2 &&
    'value' in e &&
    'disabled' in e
  );
}
var FF = class extends yy {
  constructor(t = null, n, i) {
    super(kF(n), EF(i, n)),
      (this.defaultValue = null),
      (this._onChange = []),
      (this._pendingChange = !1),
      this._applyFormState(t),
      this._setUpdateStrategy(n),
      this._initObservables(),
      this.updateValueAndValidity({
        onlySelf: !0,
        emitEvent: !!this.asyncValidator,
      }),
      kp(n) &&
        (n.nonNullable || n.initialValueIsDefault) &&
        (aE(t) ? (this.defaultValue = t.value) : (this.defaultValue = t));
  }
  setValue(t, n = {}) {
    (this.value = this._pendingValue = t),
      this._onChange.length &&
        n.emitModelToViewChange !== !1 &&
        this._onChange.forEach((i) =>
          i(this.value, n.emitViewToModelChange !== !1)
        ),
      this.updateValueAndValidity(n);
  }
  patchValue(t, n = {}) {
    this.setValue(t, n);
  }
  reset(t = this.defaultValue, n = {}) {
    this._applyFormState(t),
      this.markAsPristine(n),
      this.markAsUntouched(n),
      this.setValue(this.value, n),
      (this._pendingChange = !1);
  }
  _updateValue() {}
  _anyControls(t) {
    return !1;
  }
  _allControlsDisabled() {
    return this.disabled;
  }
  registerOnChange(t) {
    this._onChange.push(t);
  }
  _unregisterOnChange(t) {
    rE(this._onChange, t);
  }
  registerOnDisabledChange(t) {
    this._onDisabledChange.push(t);
  }
  _unregisterOnDisabledChange(t) {
    rE(this._onDisabledChange, t);
  }
  _forEachChild(t) {}
  _syncPendingControls() {
    return this.updateOn === 'submit' &&
      (this._pendingDirty && this.markAsDirty(),
      this._pendingTouched && this.markAsTouched(),
      this._pendingChange)
      ? (this.setValue(this._pendingValue, {
          onlySelf: !0,
          emitModelToViewChange: !1,
        }),
        !0)
      : !1;
  }
  _applyFormState(t) {
    aE(t)
      ? ((this.value = this._pendingValue = t.value),
        t.disabled
          ? this.disable({ onlySelf: !0, emitEvent: !1 })
          : this.enable({ onlySelf: !0, emitEvent: !1 }))
      : (this.value = this._pendingValue = t);
  }
};
var BF = { provide: md, useExisting: Na(() => wy) },
  oE = Promise.resolve(),
  wy = (() => {
    let t = class t extends md {
      constructor(i, r, a, o, s, l) {
        super(),
          (this._changeDetectorRef = s),
          (this.callSetDisabledState = l),
          (this.control = new FF()),
          (this._registered = !1),
          (this.name = ''),
          (this.update = new bi()),
          (this._parent = i),
          this._setValidators(r),
          this._setAsyncValidators(a),
          (this.valueAccessor = NF(this, o));
      }
      ngOnChanges(i) {
        if ((this._checkForErrors(), !this._registered || 'name' in i)) {
          if (this._registered && (this._checkName(), this.formDirective)) {
            let r = i.name.previousValue;
            this.formDirective.removeControl({
              name: r,
              path: this._getPath(r),
            });
          }
          this._setUpControl();
        }
        'isDisabled' in i && this._updateDisabled(i),
          PF(i, this.viewModel) &&
            (this._updateValue(this.model), (this.viewModel = this.model));
      }
      ngOnDestroy() {
        this.formDirective && this.formDirective.removeControl(this);
      }
      get path() {
        return this._getPath(this.name);
      }
      get formDirective() {
        return this._parent ? this._parent.formDirective : null;
      }
      viewToModelUpdate(i) {
        (this.viewModel = i), this.update.emit(i);
      }
      _setUpControl() {
        this._setUpdateStrategy(),
          this._isStandalone()
            ? this._setUpStandalone()
            : this.formDirective.addControl(this),
          (this._registered = !0);
      }
      _setUpdateStrategy() {
        this.options &&
          this.options.updateOn != null &&
          (this.control._updateOn = this.options.updateOn);
      }
      _isStandalone() {
        return !this._parent || !!(this.options && this.options.standalone);
      }
      _setUpStandalone() {
        TF(this.control, this, this.callSetDisabledState),
          this.control.updateValueAndValidity({ emitEvent: !1 });
      }
      _checkForErrors() {
        this._isStandalone() || this._checkParentType(), this._checkName();
      }
      _checkParentType() {}
      _checkName() {
        this.options && this.options.name && (this.name = this.options.name),
          !this._isStandalone() && this.name;
      }
      _updateValue(i) {
        oE.then(() => {
          this.control.setValue(i, { emitViewToModelChange: !1 }),
            this._changeDetectorRef?.markForCheck();
        });
      }
      _updateDisabled(i) {
        let r = i.isDisabled.currentValue,
          a = r !== 0 && pi(r);
        oE.then(() => {
          a && !this.control.disabled
            ? this.control.disable()
            : !a && this.control.disabled && this.control.enable(),
            this._changeDetectorRef?.markForCheck();
        });
      }
      _getPath(i) {
        return this._parent ? DF(i, this._parent) : [i];
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(vy, 9),
        Tt(_y, 10),
        Tt(gF, 10),
        Tt(wp, 10),
        Tt(Yi, 8),
        Tt(vE, 8)
      );
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [
          ['', 'ngModel', '', 3, 'formControlName', '', 3, 'formControl', ''],
        ],
        inputs: {
          name: 'name',
          isDisabled: [0, 'disabled', 'isDisabled'],
          model: [0, 'ngModel', 'model'],
          options: [0, 'ngModelOptions', 'options'],
        },
        outputs: { update: 'ngModelChange' },
        exportAs: ['ngModel'],
        features: [bn([BF]), Bi, $r],
      }));
    let e = t;
    return e;
  })();
var zF = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({}));
  let e = t;
  return e;
})();
var yE = (() => {
  let t = class t {
    static withConfig(i) {
      return {
        ngModule: t,
        providers: [{ provide: vE, useValue: i.callSetDisabledState ?? xy }],
      };
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [zF] }));
  let e = t;
  return e;
})();
var _E = ['*'],
  xE =
    '.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}',
  jF = ['unscopedContent'],
  qF = ['text'],
  UF = [
    [
      ['', 'matListItemAvatar', ''],
      ['', 'matListItemIcon', ''],
    ],
    [['', 'matListItemTitle', '']],
    [['', 'matListItemLine', '']],
    '*',
    [['', 'matListItemMeta', '']],
    [['mat-divider']],
  ],
  HF = [
    '[matListItemAvatar],[matListItemIcon]',
    '[matListItemTitle]',
    '[matListItemLine]',
    '*',
    '[matListItemMeta]',
    'mat-divider',
  ];
var WF = new ge('ListOption'),
  ky = (() => {
    let t = class t {
      constructor(i) {
        this._elementRef = i;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Re));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'matListItemTitle', '']],
        hostAttrs: [
          1,
          'mat-mdc-list-item-title',
          'mdc-list-item__primary-text',
        ],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  Cy = (() => {
    let t = class t {
      constructor(i) {
        this._elementRef = i;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Re));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'matListItemLine', '']],
        hostAttrs: [
          1,
          'mat-mdc-list-item-line',
          'mdc-list-item__secondary-text',
        ],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  $F = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'matListItemMeta', '']],
        hostAttrs: [1, 'mat-mdc-list-item-meta', 'mdc-list-item__end'],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  wE = (() => {
    let t = class t {
      constructor(i) {
        this._listOption = i;
      }
      _isAlignedAtStart() {
        return (
          !this._listOption ||
          this._listOption?._getTogglePosition() === 'after'
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(WF, 8));
    }),
      (t.ɵdir = Oe({
        type: t,
        hostVars: 4,
        hostBindings: function (r, a) {
          r & 2 &&
            Ze('mdc-list-item__start', a._isAlignedAtStart())(
              'mdc-list-item__end',
              !a._isAlignedAtStart()
            );
        },
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  GF = (() => {
    let t = class t extends wE {};
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'matListItemAvatar', '']],
        hostAttrs: [1, 'mat-mdc-list-item-avatar'],
        standalone: !0,
        features: [Bi],
      }));
    let e = t;
    return e;
  })(),
  YF = (() => {
    let t = class t extends wE {};
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'matListItemIcon', '']],
        hostAttrs: [1, 'mat-mdc-list-item-icon'],
        standalone: !0,
        features: [Bi],
      }));
    let e = t;
    return e;
  })(),
  KF = new ge('MAT_LIST_CONFIG'),
  Ql = (() => {
    let t = class t {
      constructor() {
        (this._isNonInteractive = !0),
          (this._disableRipple = !1),
          (this._disabled = !1),
          (this._defaultOptions = It(KF, { optional: !0 }));
      }
      get disableRipple() {
        return this._disableRipple;
      }
      set disableRipple(i) {
        this._disableRipple = rr(i);
      }
      get disabled() {
        return this._disabled;
      }
      set disabled(i) {
        this._disabled = rr(i);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵdir = Oe({
        type: t,
        hostVars: 1,
        hostBindings: function (r, a) {
          r & 2 && yi('aria-disabled', a.disabled);
        },
        inputs: { disableRipple: 'disableRipple', disabled: 'disabled' },
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  XF = (() => {
    let t = class t {
      set lines(i) {
        (this._explicitLines = Ya(i, null)), this._updateItemLines(!1);
      }
      get disableRipple() {
        return (
          this.disabled ||
          this._disableRipple ||
          this._noopAnimations ||
          !!this._listBase?.disableRipple
        );
      }
      set disableRipple(i) {
        this._disableRipple = rr(i);
      }
      get disabled() {
        return this._disabled || !!this._listBase?.disabled;
      }
      set disabled(i) {
        this._disabled = rr(i);
      }
      get rippleDisabled() {
        return this.disableRipple || !!this.rippleConfig.disabled;
      }
      constructor(i, r, a, o, s, l) {
        (this._elementRef = i),
          (this._ngZone = r),
          (this._listBase = a),
          (this._platform = o),
          (this._explicitLines = null),
          (this._disableRipple = !1),
          (this._disabled = !1),
          (this._subscriptions = new La()),
          (this._rippleRenderer = null),
          (this._hasUnscopedTextContent = !1),
          (this.rippleConfig = s || {}),
          (this._hostElement = this._elementRef.nativeElement),
          (this._isButtonElement =
            this._hostElement.nodeName.toLowerCase() === 'button'),
          (this._noopAnimations = l === 'NoopAnimations'),
          a && !a._isNonInteractive && this._initInteractiveListItem(),
          this._isButtonElement &&
            !this._hostElement.hasAttribute('type') &&
            this._hostElement.setAttribute('type', 'button');
      }
      ngAfterViewInit() {
        this._monitorProjectedLinesAndTitle(), this._updateItemLines(!0);
      }
      ngOnDestroy() {
        this._subscriptions.unsubscribe(),
          this._rippleRenderer !== null &&
            this._rippleRenderer._removeTriggerEvents();
      }
      _hasIconOrAvatar() {
        return !!(this._avatars.length || this._icons.length);
      }
      _initInteractiveListItem() {
        this._hostElement.classList.add('mat-mdc-list-item-interactive'),
          (this._rippleRenderer = new cd(
            this,
            this._ngZone,
            this._hostElement,
            this._platform
          )),
          this._rippleRenderer.setupTriggerEvents(this._hostElement);
      }
      _monitorProjectedLinesAndTitle() {
        this._ngZone.runOutsideAngular(() => {
          this._subscriptions.add(
            bl(this._lines.changes, this._titles.changes).subscribe(() =>
              this._updateItemLines(!1)
            )
          );
        });
      }
      _updateItemLines(i) {
        if (!this._lines || !this._titles || !this._unscopedContent) return;
        i && this._checkDomForUnscopedTextContent();
        let r = this._explicitLines ?? this._inferLinesFromContent(),
          a = this._unscopedContent.nativeElement;
        if (
          (this._hostElement.classList.toggle(
            'mat-mdc-list-item-single-line',
            r <= 1
          ),
          this._hostElement.classList.toggle(
            'mdc-list-item--with-one-line',
            r <= 1
          ),
          this._hostElement.classList.toggle(
            'mdc-list-item--with-two-lines',
            r === 2
          ),
          this._hostElement.classList.toggle(
            'mdc-list-item--with-three-lines',
            r === 3
          ),
          this._hasUnscopedTextContent)
        ) {
          let o = this._titles.length === 0 && r === 1;
          a.classList.toggle('mdc-list-item__primary-text', o),
            a.classList.toggle('mdc-list-item__secondary-text', !o);
        } else
          a.classList.remove('mdc-list-item__primary-text'),
            a.classList.remove('mdc-list-item__secondary-text');
      }
      _inferLinesFromContent() {
        let i = this._titles.length + this._lines.length;
        return this._hasUnscopedTextContent && (i += 1), i;
      }
      _checkDomForUnscopedTextContent() {
        this._hasUnscopedTextContent = Array.from(
          this._unscopedContent.nativeElement.childNodes
        )
          .filter((i) => i.nodeType !== i.COMMENT_NODE)
          .some((i) => !!(i.textContent && i.textContent.trim()));
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(Re),
        Tt(De),
        Tt(Ql, 8),
        Tt(Ci),
        Tt(ud, 8),
        Tt(Yn, 8)
      );
    }),
      (t.ɵdir = Oe({
        type: t,
        contentQueries: function (r, a, o) {
          if ((r & 1 && (vn(o, GF, 4), vn(o, YF, 4)), r & 2)) {
            let s;
            Qe((s = Je())) && (a._avatars = s),
              Qe((s = Je())) && (a._icons = s);
          }
        },
        hostVars: 4,
        hostBindings: function (r, a) {
          r & 2 &&
            (yi('aria-disabled', a.disabled)(
              'disabled',
              (a._isButtonElement && a.disabled) || null
            ),
            Ze('mdc-list-item--disabled', a.disabled));
        },
        inputs: {
          lines: 'lines',
          disableRipple: 'disableRipple',
          disabled: 'disabled',
        },
        standalone: !0,
      }));
    let e = t;
    return e;
  })();
var kE = (() => {
    let t = class t extends Ql {};
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-list']],
        hostAttrs: [1, 'mat-mdc-list', 'mat-mdc-list-base', 'mdc-list'],
        exportAs: ['matList'],
        standalone: !0,
        features: [bn([{ provide: Ql, useExisting: t }]), Bi, Ie],
        ngContentSelectors: _E,
        decls: 1,
        vars: 0,
        template: function (r, a) {
          r & 1 && (zi(), qe(0));
        },
        styles: [xE],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  CE = (() => {
    let t = class t extends XF {
      get activated() {
        return this._activated;
      }
      set activated(i) {
        this._activated = rr(i);
      }
      constructor(i, r, a, o, s, l) {
        super(i, r, a, o, s, l), (this._activated = !1);
      }
      _getAriaCurrent() {
        return this._hostElement.nodeName === 'A' && this._activated
          ? 'page'
          : null;
      }
      _hasBothLeadingAndTrailing() {
        return (
          this._meta.length !== 0 &&
          (this._avatars.length !== 0 || this._icons.length !== 0)
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(Re),
        Tt(De),
        Tt(Ql, 8),
        Tt(Ci),
        Tt(ud, 8),
        Tt(Yn, 8)
      );
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [
          ['mat-list-item'],
          ['a', 'mat-list-item', ''],
          ['button', 'mat-list-item', ''],
        ],
        contentQueries: function (r, a, o) {
          if ((r & 1 && (vn(o, Cy, 5), vn(o, ky, 5), vn(o, $F, 5)), r & 2)) {
            let s;
            Qe((s = Je())) && (a._lines = s),
              Qe((s = Je())) && (a._titles = s),
              Qe((s = Je())) && (a._meta = s);
          }
        },
        viewQuery: function (r, a) {
          if ((r & 1 && (Bn(jF, 5), Bn(qF, 5)), r & 2)) {
            let o;
            Qe((o = Je())) && (a._unscopedContent = o.first),
              Qe((o = Je())) && (a._itemText = o.first);
          }
        },
        hostAttrs: [1, 'mat-mdc-list-item', 'mdc-list-item'],
        hostVars: 13,
        hostBindings: function (r, a) {
          r & 2 &&
            (yi('aria-current', a._getAriaCurrent()),
            Ze('mdc-list-item--activated', a.activated)(
              'mdc-list-item--with-leading-avatar',
              a._avatars.length !== 0
            )('mdc-list-item--with-leading-icon', a._icons.length !== 0)(
              'mdc-list-item--with-trailing-meta',
              a._meta.length !== 0
            )(
              'mat-mdc-list-item-both-leading-and-trailing',
              a._hasBothLeadingAndTrailing()
            )('_mat-animation-noopable', a._noopAnimations));
        },
        inputs: { activated: 'activated' },
        exportAs: ['matListItem'],
        standalone: !0,
        features: [Bi, Ie],
        ngContentSelectors: HF,
        decls: 10,
        vars: 0,
        consts: [
          ['unscopedContent', ''],
          [1, 'mdc-list-item__content'],
          [1, 'mat-mdc-list-item-unscoped-content', 3, 'cdkObserveContent'],
          [1, 'mat-mdc-focus-indicator'],
        ],
        template: function (r, a) {
          if (r & 1) {
            let o = Ar();
            zi(UF),
              qe(0),
              se(1, 'span', 1),
              qe(2, 1),
              qe(3, 2),
              se(4, 'span', 2, 0),
              Ai('cdkObserveContent', function () {
                return wn(o), kn(a._updateItemLines(!0));
              }),
              qe(6, 3),
              de()(),
              qe(7, 4),
              qe(8, 5),
              ri(9, 'div', 3);
          }
        },
        dependencies: [DC],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })();
var EE = (() => {
  let t = class t extends Ql {
    constructor() {
      super(...arguments), (this._isNonInteractive = !1);
    }
  };
  (t.ɵfac = (() => {
    let i;
    return function (a) {
      return (i || (i = nr(t)))(a || t);
    };
  })()),
    (t.ɵcmp = Ae({
      type: t,
      selectors: [['mat-nav-list']],
      hostAttrs: [
        'role',
        'navigation',
        1,
        'mat-mdc-nav-list',
        'mat-mdc-list-base',
        'mdc-list',
      ],
      exportAs: ['matNavList'],
      standalone: !0,
      features: [bn([{ provide: Ql, useExisting: t }]), Bi, Ie],
      ngContentSelectors: _E,
      decls: 1,
      vars: 0,
      template: function (r, a) {
        r & 1 && (zi(), qe(0));
      },
      styles: [xE],
      encapsulation: 2,
      changeDetection: 0,
    }));
  let e = t;
  return e;
})();
var Cp = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [TC, kv, Vi, mp, KC, QC] }));
  let e = t;
  return e;
})();
function ZF(e, t) {
  if (
    (e & 1 &&
      (se(0, 'mat-list')(1, 'mat-list-item')(2, 'h2'),
      hi(3),
      de()(),
      se(4, 'mat-list-item')(5, 'span', 2),
      hi(6, 'Size'),
      de(),
      se(7, 'span', 3),
      hi(8),
      de()(),
      se(9, 'mat-list-item')(10, 'span', 2),
      hi(11, 'Incoming Dependencies'),
      de(),
      se(12, 'span', 3),
      hi(13),
      de()(),
      se(14, 'mat-list-item')(15, 'span', 2),
      hi(16, 'Outgoing Dependencies'),
      de(),
      se(17, 'span', 3),
      hi(18),
      de()(),
      se(19, 'mat-list-item')(20, 'span', 2),
      hi(21, 'Graph Cohesion'),
      de(),
      se(22, 'span', 3),
      hi(23),
      de()()()),
    e & 2)
  ) {
    let n = cn();
    je(3),
      Cl(n.nodeDetails.title),
      je(5),
      va('', n.nodeDetails.fileCount, ' Source Files'),
      je(5),
      va('', n.nodeDetails.incoming, ' Modules'),
      je(5),
      va('', n.nodeDetails.outgoing, ' Modules'),
      je(5),
      va('', n.nodeDetails.cohesion, '%');
  }
}
function QF(e, t) {
  if (
    (e & 1 &&
      (se(0, 'mat-list')(1, 'mat-list-item')(2, 'h2'),
      hi(3),
      de()(),
      se(4, 'mat-list-item')(5, 'span', 2),
      hi(6, 'Dependencies'),
      de(),
      se(7, 'span', 3),
      hi(8),
      de()()()),
    e & 2)
  ) {
    let n = cn();
    je(3),
      Nx('', n.edgeDetails.from, ' \u2192 ', n.edgeDetails.to, ''),
      je(5),
      va('', n.edgeDetails.depCount, ' connections');
  }
}
var Ep = class e {
  width = 800;
  height = 800;
  innerRadius = Math.min(this.width, this.height) * 0.5 - 100;
  outerRadius = this.innerRadius + 10;
  svg;
  couplingService = It(Hl);
  eventService = It(xa);
  matrix = [[]];
  labels = [];
  tooltip;
  nodeDetails;
  edgeDetails;
  cohesion;
  fileCount;
  constructor() {
    (this.tooltip = zn('body')
      .append('div')
      .attr('class', 'tooltip')
      .style('position', 'absolute')
      .style('visibility', 'hidden')
      .style('background', '#fff')
      .style('border', '1px solid #ccc')
      .style('padding', '10px')
      .style('border-radius', '4px')
      .style('z-index', 1)
      .style('box-shadow', '0px 2px 4px rgba(0, 0, 0, 0.2)')),
      this.load(),
      this.eventService.filterChanged.pipe(Bs()).subscribe(() => {
        (this.nodeDetails = null),
          (this.edgeDetails = null),
          zn('.chart-container svg').remove(),
          this.load();
      });
  }
  load() {
    this.couplingService.load().subscribe((t) => {
      (this.matrix = t.matrix),
        (this.labels = [...this.prepareDimensions(t.dimensions), '']),
        (this.cohesion = t.cohesion),
        (this.fileCount = t.fileCount),
        this.createSvg(),
        this.createChordDiagram();
    });
  }
  showNodeDetails(t) {
    (this.edgeDetails = null),
      (this.nodeDetails = {
        title: this.labels[t],
        cohesion: this.cohesion[t],
        fileCount: this.fileCount[t],
        outgoing: JF(this.matrix, t),
        incoming: tB(this.matrix, t),
      });
  }
  showEdgeDetails(t, n) {
    (this.nodeDetails = null),
      (this.edgeDetails = {
        from: this.labels[t],
        to: this.labels[n],
        depCount: this.matrix[t][n],
      });
  }
  prepareDimensions(t) {
    return t.map((n) => n.split('/').at(-1));
  }
  prepareMatrix(t) {
    for (let n = 0; n < t.length; n++) t[n][n] = 0;
    return t;
  }
  createSvg() {
    let t = zn('.chart-container');
    (this.width = parseInt(t.style('width'))),
      (this.height = this.width * 1),
      (this.innerRadius = Math.min(this.width, this.height) * 0.5 - 100),
      (this.outerRadius = this.innerRadius + 10),
      (this.svg = zn('.chart-container')
        .append('svg')
        .attr('viewBox', `0 0 ${this.width} ${this.height}`)
        .attr('preserveAspectRatio', 'xMinYMin meet')
        .append('g')
        .attr(
          'transform',
          'translate(' + this.width / 2 + ',' + this.height / 2 + ')'
        )),
      this.svg
        .attr('opacity', 0)
        .transition()
        .duration(1e3)
        .delay((n, i) => i * 100)
        .attr('opacity', 1);
  }
  createChordDiagram() {
    let t = $b().padAngle(0.05).sortSubgroups(Af),
      n = sp().innerRadius(this.innerRadius).outerRadius(this.outerRadius),
      i = sp()
        .innerRadius(this.innerRadius)
        .outerRadius(this.outerRadius + 3),
      r = Kb().radius(this.innerRadius - 10),
      a = Ku(ad, this.labels.length),
      o = t(this.matrix),
      s = this.svg
        .append('g')
        .selectAll('g')
        .data(o.groups)
        .enter()
        .append('g');
    s
      .append('path')
      .style('fill', (c, u) => a[c.index])
      .each(function (c) {
        this._current = c;
      })
      .transition()
      .duration(1e3)
      .attrTween('d', function (c) {
        let u = Wa(c.startAngle, c.endAngle),
          d = this._current;
        return function (h) {
          return (d.endAngle = u(h)), n(d);
        };
      }),
      s
        .on('mouseover', (c, u) => {
          zn(c.currentTarget)
            .select('path')
            .transition()
            .duration(200)
            .attr('d', function (d) {
              return i(d);
            })
            .style('cursor', 'pointer'),
            zn('.tooltip')
              .style('visibility', 'visible')
              .text(`${this.labels[u.index]}`);
        })
        .on('mousemove', (c) => {
          this.tooltip
            .style('top', c.pageY - 10 + 'px')
            .style('left', c.pageX + 10 + 'px');
        })
        .on('mouseout', function (c, u) {
          zn(this)
            .select('path')
            .transition()
            .duration(200)
            .attr('d', function (d) {
              return n(d);
            }),
            zn('.tooltip').style('visibility', 'hidden');
        })
        .on('click', (c, u) => {
          this.showNodeDetails(u.index),
            console.log('Sie haben auf ' + u.index + ' geklickt!');
        }),
      s
        .append('text')
        .each((c) => {
          c.angle = (c.startAngle + c.endAngle) / 2;
        })
        .style('font-size', '12px')
        .attr(
          'transform',
          (c) => `
        rotate(${(c.angle * 180) / Math.PI - 90})
        translate(${this.outerRadius + 10})
        ${c.angle > Math.PI ? 'rotate(180)' : ''}
      `
        )
        .attr('text-anchor', (c) => (c.angle > Math.PI ? 'end' : null))
        .text((c, u) => this.labels[u])
        .on('mouseover', function (c, u) {
          zn(c.currentTarget)
            .style('cursor', 'pointer')
            .style('font-weight', 'bold');
        })
        .on('mouseout', function (c, u) {
          zn(c.currentTarget).style('font-weight', 'normal');
        })
        .on('click', (c, u) => {
          this.showNodeDetails(u.index),
            console.log('Sie haben auf ' + u.index + ' geklickt!');
        });
    let l = this.svg
      .append('g')
      .attr('fill-opacity', 0.67)
      .selectAll('path')
      .data(o)
      .enter()
      .append('path');
    l
      .attr('d', (c) => {
        let u = Bt({}, c.source),
          d = Bt({}, c.target);
        return (
          (u.endAngle = u.startAngle),
          (d.endAngle = d.startAngle),
          r({ source: u, target: d })
        );
      })
      .attr('fill', (c) => a[c.target.index])
      .transition()
      .duration(1e3)
      .attrTween('d', function (c) {
        let u = Wa(c.source.startAngle, c.source.endAngle),
          d = Wa(c.target.startAngle, c.target.endAngle);
        return function (h) {
          return (c.source.endAngle = u(h)), (c.target.endAngle = d(h)), r(c);
        };
      }),
      l
        .on('click', (c, u) => {
          console.log(
            'Quelle-Index:',
            u.source.index,
            'Ziel-Index:',
            u.target.index
          ),
            u.source.index === u.target.index
              ? this.showNodeDetails(u.source.index)
              : this.showEdgeDetails(u.source.index, u.target.index),
            this.showContextMenu(c, u);
        })
        .on('mouseover', (c, u) => {
          zn(c.currentTarget)
            .style('fill-opacity', 1)
            .style('stroke-width', '3px')
            .style('cursor', 'pointer'),
            this.tooltip
              .style('visibility', 'visible')
              .text(
                `${this.labels[u.source.index]} \u2192 ${this.labels[u.target.index]}, ${this.matrix[u.source.index][u.target.index]} connections`
              );
        })
        .on('mousemove', (c) => {
          this.tooltip
            .style('top', c.pageY - 10 + 'px')
            .style('left', c.pageX + 10 + 'px');
        })
        .on('mouseout', (c) => {
          zn(c.currentTarget)
            .style('fill-opacity', 0.67)
            .style('stroke-width', '1px'),
            this.tooltip.style('visibility', 'hidden');
        });
  }
  showContextMenu(t, n) {
    let i = zn('#context-menu');
    i
      .style('display', 'block')
      .style('left', `${t.pageX}px`)
      .style('top', `${t.pageY}px`),
      i.datum(n);
  }
  hideContextMenu() {
    zn('#context-menu').style('display', 'none');
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵcmp = Ae({
    type: e,
    selectors: [['app-chord']],
    standalone: !0,
    features: [Ie],
    decls: 4,
    vars: 1,
    consts: [
      [1, 'chart-container'],
      [1, 'details-pane'],
      ['matListItemTitle', ''],
      ['matListItemLine', ''],
    ],
    template: function (n, i) {
      n & 1 &&
        (ri(0, 'div', 0),
        se(1, 'div', 1),
        pr(2, ZF, 24, 5, 'mat-list')(3, QF, 9, 3, 'mat-list'),
        de()),
        n & 2 && (je(2), Gr(i.nodeDetails ? 2 : i.edgeDetails ? 3 : -1));
    },
    dependencies: [Cp, kE, CE, Cy, ky],
    styles: [
      '.chart-container[_ngcontent-%COMP%]{width:50%;height:auto;float:left;margin:0 50px}.details-pane[_ngcontent-%COMP%]{float:left;margin-left:40px;margin-top:40px}.chart-container[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-size:12px}@media (max-width: 1024px){.chart-container[_ngcontent-%COMP%]{width:100%}}svg[_ngcontent-%COMP%]{width:100%;height:auto}.tooltip[_ngcontent-%COMP%]{position:absolute;visibility:hidden;background-color:#fff;border:1px solid #ccc;padding:10px;border-radius:4px;box-shadow:0 2px 4px #0003;pointer-events:none;font-size:14px;color:#333}.custom-list-item[_ngcontent-%COMP%]{display:flex;align-items:center}.custom-list-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;padding-right:10px}.custom-list-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:0}',
    ],
  });
};
function JF(e, t) {
  let n = 0;
  for (let i = 0; i < e.length; i++) i !== t && (n += e[t][i]);
  return n;
}
function tB(e, t) {
  let n = 0;
  for (let i = 0; i < e.length; i++) i !== t && (n += e[i][t]);
  return n;
}
function fn(e) {
  '@babel/helpers - typeof';
  return (
    (fn =
      typeof Symbol == 'function' && typeof Symbol.iterator == 'symbol'
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == 'function' &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          }),
    fn(e)
  );
}
function t0(e, t) {
  if (!(e instanceof t))
    throw new TypeError('Cannot call a class as a function');
}
function DE(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      'value' in i && (i.writable = !0),
      Object.defineProperty(e, i.key, i);
  }
}
function e0(e, t, n) {
  return (
    t && DE(e.prototype, t),
    n && DE(e, n),
    Object.defineProperty(e, 'prototype', { writable: !1 }),
    e
  );
}
function jS(e, t, n) {
  return (
    t in e
      ? Object.defineProperty(e, t, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = n),
    e
  );
}
function ia(e, t) {
  return eB(e) || iB(e, t) || qS(e, t) || nB();
}
function eB(e) {
  if (Array.isArray(e)) return e;
}
function iB(e, t) {
  var n =
    e == null
      ? null
      : (typeof Symbol < 'u' && e[Symbol.iterator]) || e['@@iterator'];
  if (n != null) {
    var i = [],
      r = !0,
      a = !1,
      o,
      s;
    try {
      for (
        n = n.call(e);
        !(r = (o = n.next()).done) && (i.push(o.value), !(t && i.length === t));
        r = !0
      );
    } catch (l) {
      (a = !0), (s = l);
    } finally {
      try {
        !r && n.return != null && n.return();
      } finally {
        if (a) throw s;
      }
    }
    return i;
  }
}
function qS(e, t) {
  if (e) {
    if (typeof e == 'string') return TE(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (n === 'Object' && e.constructor && (n = e.constructor.name),
      n === 'Map' || n === 'Set')
    )
      return Array.from(e);
    if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
      return TE(e, t);
  }
}
function TE(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function nB() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function US(e, t) {
  var n = (typeof Symbol < 'u' && e[Symbol.iterator]) || e['@@iterator'];
  if (!n) {
    if (
      Array.isArray(e) ||
      (n = qS(e)) ||
      (t && e && typeof e.length == 'number')
    ) {
      n && (e = n);
      var i = 0,
        r = function () {};
      return {
        s: r,
        n: function () {
          return i >= e.length ? { done: !0 } : { done: !1, value: e[i++] };
        },
        e: function (l) {
          throw l;
        },
        f: r,
      };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  var a = !0,
    o = !1,
    s;
  return {
    s: function () {
      n = n.call(e);
    },
    n: function () {
      var l = n.next();
      return (a = l.done), l;
    },
    e: function (l) {
      (o = !0), (s = l);
    },
    f: function () {
      try {
        !a && n.return != null && n.return();
      } finally {
        if (o) throw s;
      }
    },
  };
}
var dn = typeof window > 'u' ? null : window,
  ME = dn ? dn.navigator : null;
dn && dn.document;
var rB = fn(''),
  HS = fn({}),
  aB = fn(function () {}),
  oB = typeof HTMLElement > 'u' ? 'undefined' : fn(HTMLElement),
  Vd = function (t) {
    return t && t.instanceString && ji(t.instanceString)
      ? t.instanceString()
      : null;
  },
  he = function (t) {
    return t != null && fn(t) == rB;
  },
  ji = function (t) {
    return t != null && fn(t) === aB;
  },
  _i = function (t) {
    return (
      !vr(t) &&
      (Array.isArray ? Array.isArray(t) : t != null && t instanceof Array)
    );
  },
  Ge = function (t) {
    return t != null && fn(t) === HS && !_i(t) && t.constructor === Object;
  },
  sB = function (t) {
    return t != null && fn(t) === HS;
  },
  $t = function (t) {
    return t != null && fn(t) === fn(1) && !isNaN(t);
  },
  lB = function (t) {
    return $t(t) && Math.floor(t) === t;
  },
  Gp = function (t) {
    if (oB !== 'undefined') return t != null && t instanceof HTMLElement;
  },
  vr = function (t) {
    return jd(t) || WS(t);
  },
  jd = function (t) {
    return Vd(t) === 'collection' && t._private.single;
  },
  WS = function (t) {
    return Vd(t) === 'collection' && !t._private.single;
  },
  i0 = function (t) {
    return Vd(t) === 'core';
  },
  $S = function (t) {
    return Vd(t) === 'stylesheet';
  },
  cB = function (t) {
    return Vd(t) === 'event';
  },
  zo = function (t) {
    return t == null ? !0 : !!(t === '' || t.match(/^\s+$/));
  },
  uB = function (t) {
    return typeof HTMLElement > 'u' ? !1 : t instanceof HTMLElement;
  },
  dB = function (t) {
    return Ge(t) && $t(t.x1) && $t(t.x2) && $t(t.y1) && $t(t.y2);
  },
  hB = function (t) {
    return sB(t) && ji(t.then);
  },
  fB = function () {
    return ME && ME.userAgent.match(/msie|trident|edge/i);
  },
  Md = function (t, n) {
    n ||
      (n = function () {
        if (arguments.length === 1) return arguments[0];
        if (arguments.length === 0) return 'undefined';
        for (var a = [], o = 0; o < arguments.length; o++) a.push(arguments[o]);
        return a.join('$');
      });
    var i = function r() {
      var a = this,
        o = arguments,
        s,
        l = n.apply(a, o),
        c = r.cache;
      return (s = c[l]) || (s = c[l] = t.apply(a, o)), s;
    };
    return (i.cache = {}), i;
  },
  n0 = Md(function (e) {
    return e.replace(/([A-Z])/g, function (t) {
      return '-' + t.toLowerCase();
    });
  }),
  rm = Md(function (e) {
    return e.replace(/(-\w)/g, function (t) {
      return t[1].toUpperCase();
    });
  }),
  GS = Md(
    function (e, t) {
      return e + t[0].toUpperCase() + t.substring(1);
    },
    function (e, t) {
      return e + '$' + t;
    }
  ),
  AE = function (t) {
    return zo(t) ? t : t.charAt(0).toUpperCase() + t.substring(1);
  },
  hn = '(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))',
  pB =
    'rgb[a]?\\((' +
    hn +
    '[%]?)\\s*,\\s*(' +
    hn +
    '[%]?)\\s*,\\s*(' +
    hn +
    '[%]?)(?:\\s*,\\s*(' +
    hn +
    '))?\\)',
  mB =
    'rgb[a]?\\((?:' +
    hn +
    '[%]?)\\s*,\\s*(?:' +
    hn +
    '[%]?)\\s*,\\s*(?:' +
    hn +
    '[%]?)(?:\\s*,\\s*(?:' +
    hn +
    '))?\\)',
  gB =
    'hsl[a]?\\((' +
    hn +
    ')\\s*,\\s*(' +
    hn +
    '[%])\\s*,\\s*(' +
    hn +
    '[%])(?:\\s*,\\s*(' +
    hn +
    '))?\\)',
  vB =
    'hsl[a]?\\((?:' +
    hn +
    ')\\s*,\\s*(?:' +
    hn +
    '[%])\\s*,\\s*(?:' +
    hn +
    '[%])(?:\\s*,\\s*(?:' +
    hn +
    '))?\\)',
  bB = '\\#[0-9a-fA-F]{3}',
  yB = '\\#[0-9a-fA-F]{6}',
  YS = function (t, n) {
    return t < n ? -1 : t > n ? 1 : 0;
  },
  _B = function (t, n) {
    return -1 * YS(t, n);
  },
  be =
    Object.assign != null
      ? Object.assign.bind(Object)
      : function (e) {
          for (var t = arguments, n = 1; n < t.length; n++) {
            var i = t[n];
            if (i != null)
              for (var r = Object.keys(i), a = 0; a < r.length; a++) {
                var o = r[a];
                e[o] = i[o];
              }
          }
          return e;
        },
  xB = function (t) {
    if (!(!(t.length === 4 || t.length === 7) || t[0] !== '#')) {
      var n = t.length === 4,
        i,
        r,
        a,
        o = 16;
      return (
        n
          ? ((i = parseInt(t[1] + t[1], o)),
            (r = parseInt(t[2] + t[2], o)),
            (a = parseInt(t[3] + t[3], o)))
          : ((i = parseInt(t[1] + t[2], o)),
            (r = parseInt(t[3] + t[4], o)),
            (a = parseInt(t[5] + t[6], o))),
        [i, r, a]
      );
    }
  },
  wB = function (t) {
    var n, i, r, a, o, s, l, c;
    function u(m, _, v) {
      return (
        v < 0 && (v += 1),
        v > 1 && (v -= 1),
        v < 1 / 6
          ? m + (_ - m) * 6 * v
          : v < 1 / 2
            ? _
            : v < 2 / 3
              ? m + (_ - m) * (2 / 3 - v) * 6
              : m
      );
    }
    var d = new RegExp('^' + gB + '$').exec(t);
    if (d) {
      if (
        ((i = parseInt(d[1])),
        i < 0 ? (i = (360 - ((-1 * i) % 360)) % 360) : i > 360 && (i = i % 360),
        (i /= 360),
        (r = parseFloat(d[2])),
        r < 0 ||
          r > 100 ||
          ((r = r / 100), (a = parseFloat(d[3])), a < 0 || a > 100) ||
          ((a = a / 100),
          (o = d[4]),
          o !== void 0 && ((o = parseFloat(o)), o < 0 || o > 1)))
      )
        return;
      if (r === 0) s = l = c = Math.round(a * 255);
      else {
        var h = a < 0.5 ? a * (1 + r) : a + r - a * r,
          p = 2 * a - h;
        (s = Math.round(255 * u(p, h, i + 1 / 3))),
          (l = Math.round(255 * u(p, h, i))),
          (c = Math.round(255 * u(p, h, i - 1 / 3)));
      }
      n = [s, l, c, o];
    }
    return n;
  },
  kB = function (t) {
    var n,
      i = new RegExp('^' + pB + '$').exec(t);
    if (i) {
      n = [];
      for (var r = [], a = 1; a <= 3; a++) {
        var o = i[a];
        if (
          (o[o.length - 1] === '%' && (r[a] = !0),
          (o = parseFloat(o)),
          r[a] && (o = (o / 100) * 255),
          o < 0 || o > 255)
        )
          return;
        n.push(Math.floor(o));
      }
      var s = r[1] || r[2] || r[3],
        l = r[1] && r[2] && r[3];
      if (s && !l) return;
      var c = i[4];
      if (c !== void 0) {
        if (((c = parseFloat(c)), c < 0 || c > 1)) return;
        n.push(c);
      }
    }
    return n;
  },
  CB = function (t) {
    return SB[t.toLowerCase()];
  },
  EB = function (t) {
    return (_i(t) ? t : null) || CB(t) || xB(t) || kB(t) || wB(t);
  },
  SB = {
    transparent: [0, 0, 0, 0],
    aliceblue: [240, 248, 255],
    antiquewhite: [250, 235, 215],
    aqua: [0, 255, 255],
    aquamarine: [127, 255, 212],
    azure: [240, 255, 255],
    beige: [245, 245, 220],
    bisque: [255, 228, 196],
    black: [0, 0, 0],
    blanchedalmond: [255, 235, 205],
    blue: [0, 0, 255],
    blueviolet: [138, 43, 226],
    brown: [165, 42, 42],
    burlywood: [222, 184, 135],
    cadetblue: [95, 158, 160],
    chartreuse: [127, 255, 0],
    chocolate: [210, 105, 30],
    coral: [255, 127, 80],
    cornflowerblue: [100, 149, 237],
    cornsilk: [255, 248, 220],
    crimson: [220, 20, 60],
    cyan: [0, 255, 255],
    darkblue: [0, 0, 139],
    darkcyan: [0, 139, 139],
    darkgoldenrod: [184, 134, 11],
    darkgray: [169, 169, 169],
    darkgreen: [0, 100, 0],
    darkgrey: [169, 169, 169],
    darkkhaki: [189, 183, 107],
    darkmagenta: [139, 0, 139],
    darkolivegreen: [85, 107, 47],
    darkorange: [255, 140, 0],
    darkorchid: [153, 50, 204],
    darkred: [139, 0, 0],
    darksalmon: [233, 150, 122],
    darkseagreen: [143, 188, 143],
    darkslateblue: [72, 61, 139],
    darkslategray: [47, 79, 79],
    darkslategrey: [47, 79, 79],
    darkturquoise: [0, 206, 209],
    darkviolet: [148, 0, 211],
    deeppink: [255, 20, 147],
    deepskyblue: [0, 191, 255],
    dimgray: [105, 105, 105],
    dimgrey: [105, 105, 105],
    dodgerblue: [30, 144, 255],
    firebrick: [178, 34, 34],
    floralwhite: [255, 250, 240],
    forestgreen: [34, 139, 34],
    fuchsia: [255, 0, 255],
    gainsboro: [220, 220, 220],
    ghostwhite: [248, 248, 255],
    gold: [255, 215, 0],
    goldenrod: [218, 165, 32],
    gray: [128, 128, 128],
    grey: [128, 128, 128],
    green: [0, 128, 0],
    greenyellow: [173, 255, 47],
    honeydew: [240, 255, 240],
    hotpink: [255, 105, 180],
    indianred: [205, 92, 92],
    indigo: [75, 0, 130],
    ivory: [255, 255, 240],
    khaki: [240, 230, 140],
    lavender: [230, 230, 250],
    lavenderblush: [255, 240, 245],
    lawngreen: [124, 252, 0],
    lemonchiffon: [255, 250, 205],
    lightblue: [173, 216, 230],
    lightcoral: [240, 128, 128],
    lightcyan: [224, 255, 255],
    lightgoldenrodyellow: [250, 250, 210],
    lightgray: [211, 211, 211],
    lightgreen: [144, 238, 144],
    lightgrey: [211, 211, 211],
    lightpink: [255, 182, 193],
    lightsalmon: [255, 160, 122],
    lightseagreen: [32, 178, 170],
    lightskyblue: [135, 206, 250],
    lightslategray: [119, 136, 153],
    lightslategrey: [119, 136, 153],
    lightsteelblue: [176, 196, 222],
    lightyellow: [255, 255, 224],
    lime: [0, 255, 0],
    limegreen: [50, 205, 50],
    linen: [250, 240, 230],
    magenta: [255, 0, 255],
    maroon: [128, 0, 0],
    mediumaquamarine: [102, 205, 170],
    mediumblue: [0, 0, 205],
    mediumorchid: [186, 85, 211],
    mediumpurple: [147, 112, 219],
    mediumseagreen: [60, 179, 113],
    mediumslateblue: [123, 104, 238],
    mediumspringgreen: [0, 250, 154],
    mediumturquoise: [72, 209, 204],
    mediumvioletred: [199, 21, 133],
    midnightblue: [25, 25, 112],
    mintcream: [245, 255, 250],
    mistyrose: [255, 228, 225],
    moccasin: [255, 228, 181],
    navajowhite: [255, 222, 173],
    navy: [0, 0, 128],
    oldlace: [253, 245, 230],
    olive: [128, 128, 0],
    olivedrab: [107, 142, 35],
    orange: [255, 165, 0],
    orangered: [255, 69, 0],
    orchid: [218, 112, 214],
    palegoldenrod: [238, 232, 170],
    palegreen: [152, 251, 152],
    paleturquoise: [175, 238, 238],
    palevioletred: [219, 112, 147],
    papayawhip: [255, 239, 213],
    peachpuff: [255, 218, 185],
    peru: [205, 133, 63],
    pink: [255, 192, 203],
    plum: [221, 160, 221],
    powderblue: [176, 224, 230],
    purple: [128, 0, 128],
    red: [255, 0, 0],
    rosybrown: [188, 143, 143],
    royalblue: [65, 105, 225],
    saddlebrown: [139, 69, 19],
    salmon: [250, 128, 114],
    sandybrown: [244, 164, 96],
    seagreen: [46, 139, 87],
    seashell: [255, 245, 238],
    sienna: [160, 82, 45],
    silver: [192, 192, 192],
    skyblue: [135, 206, 235],
    slateblue: [106, 90, 205],
    slategray: [112, 128, 144],
    slategrey: [112, 128, 144],
    snow: [255, 250, 250],
    springgreen: [0, 255, 127],
    steelblue: [70, 130, 180],
    tan: [210, 180, 140],
    teal: [0, 128, 128],
    thistle: [216, 191, 216],
    tomato: [255, 99, 71],
    turquoise: [64, 224, 208],
    violet: [238, 130, 238],
    wheat: [245, 222, 179],
    white: [255, 255, 255],
    whitesmoke: [245, 245, 245],
    yellow: [255, 255, 0],
    yellowgreen: [154, 205, 50],
  },
  KS = function (t) {
    for (var n = t.map, i = t.keys, r = i.length, a = 0; a < r; a++) {
      var o = i[a];
      if (Ge(o)) throw Error('Tried to set map with object key');
      a < i.length - 1
        ? (n[o] == null && (n[o] = {}), (n = n[o]))
        : (n[o] = t.value);
    }
  },
  XS = function (t) {
    for (var n = t.map, i = t.keys, r = i.length, a = 0; a < r; a++) {
      var o = i[a];
      if (Ge(o)) throw Error('Tried to get map with object key');
      if (((n = n[o]), n == null)) return n;
    }
    return n;
  };
function DB(e) {
  var t = typeof e;
  return e != null && (t == 'object' || t == 'function');
}
var Xs = DB,
  wd =
    typeof globalThis < 'u'
      ? globalThis
      : typeof window < 'u'
        ? window
        : typeof global < 'u'
          ? global
          : typeof self < 'u'
            ? self
            : {};
function TB(e, t) {
  return (t = { exports: {} }), e(t, t.exports), t.exports;
}
var MB = typeof wd == 'object' && wd && wd.Object === Object && wd,
  AB = MB,
  IB = typeof self == 'object' && self && self.Object === Object && self,
  RB = AB || IB || Function('return this')(),
  am = RB,
  OB = function () {
    return am.Date.now();
  },
  Ey = OB,
  PB = /\s/;
function LB(e) {
  for (var t = e.length; t-- && PB.test(e.charAt(t)); );
  return t;
}
var NB = LB,
  FB = /^\s+/;
function BB(e) {
  return e && e.slice(0, NB(e) + 1).replace(FB, '');
}
var zB = BB,
  VB = am.Symbol,
  dc = VB,
  ZS = Object.prototype,
  jB = ZS.hasOwnProperty,
  qB = ZS.toString,
  vd = dc ? dc.toStringTag : void 0;
function UB(e) {
  var t = jB.call(e, vd),
    n = e[vd];
  try {
    e[vd] = void 0;
    var i = !0;
  } catch {}
  var r = qB.call(e);
  return i && (t ? (e[vd] = n) : delete e[vd]), r;
}
var HB = UB,
  WB = Object.prototype,
  $B = WB.toString;
function GB(e) {
  return $B.call(e);
}
var YB = GB,
  KB = '[object Null]',
  XB = '[object Undefined]',
  IE = dc ? dc.toStringTag : void 0;
function ZB(e) {
  return e == null
    ? e === void 0
      ? XB
      : KB
    : IE && IE in Object(e)
      ? HB(e)
      : YB(e);
}
var QS = ZB;
function QB(e) {
  return e != null && typeof e == 'object';
}
var JB = QB,
  tz = '[object Symbol]';
function ez(e) {
  return typeof e == 'symbol' || (JB(e) && QS(e) == tz);
}
var qd = ez,
  RE = NaN,
  iz = /^[-+]0x[0-9a-f]+$/i,
  nz = /^0b[01]+$/i,
  rz = /^0o[0-7]+$/i,
  az = parseInt;
function oz(e) {
  if (typeof e == 'number') return e;
  if (qd(e)) return RE;
  if (Xs(e)) {
    var t = typeof e.valueOf == 'function' ? e.valueOf() : e;
    e = Xs(t) ? t + '' : t;
  }
  if (typeof e != 'string') return e === 0 ? e : +e;
  e = zB(e);
  var n = nz.test(e);
  return n || rz.test(e) ? az(e.slice(2), n ? 2 : 8) : iz.test(e) ? RE : +e;
}
var OE = oz,
  sz = 'Expected a function',
  lz = Math.max,
  cz = Math.min;
function uz(e, t, n) {
  var i,
    r,
    a,
    o,
    s,
    l,
    c = 0,
    u = !1,
    d = !1,
    h = !0;
  if (typeof e != 'function') throw new TypeError(sz);
  (t = OE(t) || 0),
    Xs(n) &&
      ((u = !!n.leading),
      (d = 'maxWait' in n),
      (a = d ? lz(OE(n.maxWait) || 0, t) : a),
      (h = 'trailing' in n ? !!n.trailing : h));
  function p(g) {
    var D = i,
      T = r;
    return (i = r = void 0), (c = g), (o = e.apply(T, D)), o;
  }
  function m(g) {
    return (c = g), (s = setTimeout(y, t)), u ? p(g) : o;
  }
  function _(g) {
    var D = g - l,
      T = g - c,
      O = t - D;
    return d ? cz(O, a - T) : O;
  }
  function v(g) {
    var D = g - l,
      T = g - c;
    return l === void 0 || D >= t || D < 0 || (d && T >= a);
  }
  function y() {
    var g = Ey();
    if (v(g)) return w(g);
    s = setTimeout(y, _(g));
  }
  function w(g) {
    return (s = void 0), h && i ? p(g) : ((i = r = void 0), o);
  }
  function x() {
    s !== void 0 && clearTimeout(s), (c = 0), (i = l = r = s = void 0);
  }
  function C() {
    return s === void 0 ? o : w(Ey());
  }
  function S() {
    var g = Ey(),
      D = v(g);
    if (((i = arguments), (r = this), (l = g), D)) {
      if (s === void 0) return m(l);
      if (d) return clearTimeout(s), (s = setTimeout(y, t)), p(l);
    }
    return s === void 0 && (s = setTimeout(y, t)), o;
  }
  return (S.cancel = x), (S.flush = C), S;
}
var om = uz,
  Sy = dn ? dn.performance : null,
  JS =
    Sy && Sy.now
      ? function () {
          return Sy.now();
        }
      : function () {
          return Date.now();
        },
  dz = (function () {
    if (dn) {
      if (dn.requestAnimationFrame)
        return function (e) {
          dn.requestAnimationFrame(e);
        };
      if (dn.mozRequestAnimationFrame)
        return function (e) {
          dn.mozRequestAnimationFrame(e);
        };
      if (dn.webkitRequestAnimationFrame)
        return function (e) {
          dn.webkitRequestAnimationFrame(e);
        };
      if (dn.msRequestAnimationFrame)
        return function (e) {
          dn.msRequestAnimationFrame(e);
        };
    }
    return function (e) {
      e &&
        setTimeout(function () {
          e(JS());
        }, 1e3 / 60);
    };
  })(),
  Yp = function (t) {
    return dz(t);
  },
  Za = JS,
  rc = 9261,
  tD = 65599,
  kd = 5381,
  eD = function (t) {
    for (
      var n =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : rc,
        i = n,
        r;
      (r = t.next()), !r.done;

    )
      i = (i * tD + r.value) | 0;
    return i;
  },
  Ad = function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : rc;
    return (n * tD + t) | 0;
  },
  Id = function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : kd;
    return ((n << 5) + n + t) | 0;
  },
  hz = function (t, n) {
    return t * 2097152 + n;
  },
  Oo = function (t) {
    return t[0] * 2097152 + t[1];
  },
  Sp = function (t, n) {
    return [Ad(t[0], n[0]), Id(t[1], n[1])];
  },
  fz = function (t, n) {
    var i = { value: 0, done: !1 },
      r = 0,
      a = t.length,
      o = {
        next: function () {
          return r < a ? (i.value = t[r++]) : (i.done = !0), i;
        },
      };
    return eD(o, n);
  },
  Zs = function (t, n) {
    var i = { value: 0, done: !1 },
      r = 0,
      a = t.length,
      o = {
        next: function () {
          return r < a ? (i.value = t.charCodeAt(r++)) : (i.done = !0), i;
        },
      };
    return eD(o, n);
  },
  iD = function () {
    return pz(arguments);
  },
  pz = function (t) {
    for (var n, i = 0; i < t.length; i++) {
      var r = t[i];
      i === 0 ? (n = Zs(r)) : (n = Zs(r, n));
    }
    return n;
  },
  PE = !0,
  mz = console.warn != null,
  gz = console.trace != null,
  r0 = Number.MAX_SAFE_INTEGER || 9007199254740991,
  nD = function () {
    return !0;
  },
  Kp = function () {
    return !1;
  },
  LE = function () {
    return 0;
  },
  a0 = function () {},
  Xi = function (t) {
    throw new Error(t);
  },
  rD = function (t) {
    if (t !== void 0) PE = !!t;
    else return PE;
  },
  li = function (t) {
    rD() && (mz ? console.warn(t) : (console.log(t), gz && console.trace()));
  },
  vz = function (t) {
    return be({}, t);
  },
  Ca = function (t) {
    return t == null ? t : _i(t) ? t.slice() : Ge(t) ? vz(t) : t;
  },
  bz = function (t) {
    return t.slice();
  },
  aD = function (t, n) {
    for (
      n = t = '';
      t++ < 36;
      n +=
        (t * 51) & 52
          ? (t ^ 15 ? 8 ^ (Math.random() * (t ^ 20 ? 16 : 4)) : 4).toString(16)
          : '-'
    );
    return n;
  },
  yz = {},
  oD = function () {
    return yz;
  },
  An = function (t) {
    var n = Object.keys(t);
    return function (i) {
      for (var r = {}, a = 0; a < n.length; a++) {
        var o = n[a],
          s = i?.[o];
        r[o] = s === void 0 ? t[o] : s;
      }
      return r;
    };
  },
  Vo = function (t, n, i) {
    for (
      var r = t.length - 1;
      r >= 0 && !(t[r] === n && (t.splice(r, 1), i));
      r--
    );
  },
  o0 = function (t) {
    t.splice(0, t.length);
  },
  _z = function (t, n) {
    for (var i = 0; i < n.length; i++) {
      var r = n[i];
      t.push(r);
    }
  },
  ra = function (t, n, i) {
    return i && (n = GS(i, n)), t[n];
  },
  Lo = function (t, n, i, r) {
    i && (n = GS(i, n)), (t[n] = r);
  },
  xz = (function () {
    function e() {
      t0(this, e), (this._obj = {});
    }
    return (
      e0(e, [
        {
          key: 'set',
          value: function (n, i) {
            return (this._obj[n] = i), this;
          },
        },
        {
          key: 'delete',
          value: function (n) {
            return (this._obj[n] = void 0), this;
          },
        },
        {
          key: 'clear',
          value: function () {
            this._obj = {};
          },
        },
        {
          key: 'has',
          value: function (n) {
            return this._obj[n] !== void 0;
          },
        },
        {
          key: 'get',
          value: function (n) {
            return this._obj[n];
          },
        },
      ]),
      e
    );
  })(),
  Ea = typeof Map < 'u' ? Map : xz,
  wz = 'undefined',
  kz = (function () {
    function e(t) {
      if (
        (t0(this, e),
        (this._obj = Object.create(null)),
        (this.size = 0),
        t != null)
      ) {
        var n;
        t.instanceString != null && t.instanceString() === this.instanceString()
          ? (n = t.toArray())
          : (n = t);
        for (var i = 0; i < n.length; i++) this.add(n[i]);
      }
    }
    return (
      e0(e, [
        {
          key: 'instanceString',
          value: function () {
            return 'set';
          },
        },
        {
          key: 'add',
          value: function (n) {
            var i = this._obj;
            i[n] !== 1 && ((i[n] = 1), this.size++);
          },
        },
        {
          key: 'delete',
          value: function (n) {
            var i = this._obj;
            i[n] === 1 && ((i[n] = 0), this.size--);
          },
        },
        {
          key: 'clear',
          value: function () {
            this._obj = Object.create(null);
          },
        },
        {
          key: 'has',
          value: function (n) {
            return this._obj[n] === 1;
          },
        },
        {
          key: 'toArray',
          value: function () {
            var n = this;
            return Object.keys(this._obj).filter(function (i) {
              return n.has(i);
            });
          },
        },
        {
          key: 'forEach',
          value: function (n, i) {
            return this.toArray().forEach(n, i);
          },
        },
      ]),
      e
    );
  })(),
  mc = (typeof Set > 'u' ? 'undefined' : fn(Set)) !== wz ? Set : kz,
  sm = function (t, n) {
    var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
    if (t === void 0 || n === void 0 || !i0(t)) {
      Xi('An element must have a core reference and parameters set');
      return;
    }
    var r = n.group;
    if (
      (r == null &&
        (n.data && n.data.source != null && n.data.target != null
          ? (r = 'edges')
          : (r = 'nodes')),
      r !== 'nodes' && r !== 'edges')
    ) {
      Xi(
        'An element must be of type `nodes` or `edges`; you specified `' +
          r +
          '`'
      );
      return;
    }
    (this.length = 1), (this[0] = this);
    var a = (this._private = {
      cy: t,
      single: !0,
      data: n.data || {},
      position: n.position || { x: 0, y: 0 },
      autoWidth: void 0,
      autoHeight: void 0,
      autoPadding: void 0,
      compoundBoundsClean: !1,
      listeners: [],
      group: r,
      style: {},
      rstyle: {},
      styleCxts: [],
      styleKeys: {},
      removed: !0,
      selected: !!n.selected,
      selectable: n.selectable === void 0 ? !0 : !!n.selectable,
      locked: !!n.locked,
      grabbed: !1,
      grabbable: n.grabbable === void 0 ? !0 : !!n.grabbable,
      pannable: n.pannable === void 0 ? r === 'edges' : !!n.pannable,
      active: !1,
      classes: new mc(),
      animation: { current: [], queue: [] },
      rscratch: {},
      scratch: n.scratch || {},
      edges: [],
      children: [],
      parent: n.parent && n.parent.isNode() ? n.parent : null,
      traversalCache: {},
      backgrounding: !1,
      bbCache: null,
      bbCacheShift: { x: 0, y: 0 },
      bodyBounds: null,
      overlayBounds: null,
      labelBounds: { all: null, source: null, target: null, main: null },
      arrowBounds: {
        source: null,
        target: null,
        'mid-source': null,
        'mid-target': null,
      },
    });
    if (
      (a.position.x == null && (a.position.x = 0),
      a.position.y == null && (a.position.y = 0),
      n.renderedPosition)
    ) {
      var o = n.renderedPosition,
        s = t.pan(),
        l = t.zoom();
      a.position = { x: (o.x - s.x) / l, y: (o.y - s.y) / l };
    }
    var c = [];
    _i(n.classes)
      ? (c = n.classes)
      : he(n.classes) && (c = n.classes.split(/\s+/));
    for (var u = 0, d = c.length; u < d; u++) {
      var h = c[u];
      !h || h === '' || a.classes.add(h);
    }
    this.createEmitter();
    var p = n.style || n.css;
    p &&
      (li(
        'Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead.'
      ),
      this.style(p)),
      (i === void 0 || i) && this.restore();
  },
  NE = function (t) {
    return (
      (t = { bfs: t.bfs || !t.dfs, dfs: t.dfs || !t.bfs }),
      function (i, r, a) {
        var o;
        Ge(i) &&
          !vr(i) &&
          ((o = i), (i = o.roots || o.root), (r = o.visit), (a = o.directed)),
          (a = arguments.length === 2 && !ji(r) ? r : a),
          (r = ji(r) ? r : function () {});
        for (
          var s = this._private.cy,
            l = (i = he(i) ? this.filter(i) : i),
            c = [],
            u = [],
            d = {},
            h = {},
            p = {},
            m = 0,
            _,
            v = this.byGroup(),
            y = v.nodes,
            w = v.edges,
            x = 0;
          x < l.length;
          x++
        ) {
          var C = l[x],
            S = C.id();
          C.isNode() &&
            (c.unshift(C), t.bfs && ((p[S] = !0), u.push(C)), (h[S] = 0));
        }
        for (
          var g = function () {
            var V = t.bfs ? c.shift() : c.pop(),
              B = V.id();
            if (t.dfs) {
              if (p[B]) return 'continue';
              (p[B] = !0), u.push(V);
            }
            var q = h[B],
              U = d[B],
              W = U != null ? U.source() : null,
              Z = U != null ? U.target() : null,
              it = U == null ? void 0 : V.same(W) ? Z[0] : W[0],
              rt = void 0;
            if (((rt = r(V, U, it, m++, q)), rt === !0))
              return (_ = V), 'break';
            if (rt === !1) return 'break';
            for (
              var nt = V.connectedEdges().filter(function (bt) {
                  return (!a || bt.source().same(V)) && w.has(bt);
                }),
                J = 0;
              J < nt.length;
              J++
            ) {
              var dt = nt[J],
                yt = dt.connectedNodes().filter(function (bt) {
                  return !bt.same(V) && y.has(bt);
                }),
                wt = yt.id();
              yt.length !== 0 &&
                !p[wt] &&
                ((yt = yt[0]),
                c.push(yt),
                t.bfs && ((p[wt] = !0), u.push(yt)),
                (d[wt] = dt),
                (h[wt] = h[B] + 1));
            }
          };
          c.length !== 0;

        ) {
          var D = g();
          if (D !== 'continue' && D === 'break') break;
        }
        for (var T = s.collection(), O = 0; O < u.length; O++) {
          var R = u[O],
            P = d[R.id()];
          P != null && T.push(P), T.push(R);
        }
        return { path: s.collection(T), found: s.collection(_) };
      }
    );
  },
  Rd = {
    breadthFirstSearch: NE({ bfs: !0 }),
    depthFirstSearch: NE({ dfs: !0 }),
  };
Rd.bfs = Rd.breadthFirstSearch;
Rd.dfs = Rd.depthFirstSearch;
var Cz = TB(function (e, t) {
    (function () {
      var n, i, r, a, o, s, l, c, u, d, h, p, m, _, v;
      (r = Math.floor),
        (d = Math.min),
        (i = function (y, w) {
          return y < w ? -1 : y > w ? 1 : 0;
        }),
        (u = function (y, w, x, C, S) {
          var g;
          if ((x == null && (x = 0), S == null && (S = i), x < 0))
            throw new Error('lo must be non-negative');
          for (C == null && (C = y.length); x < C; )
            (g = r((x + C) / 2)), S(w, y[g]) < 0 ? (C = g) : (x = g + 1);
          return [].splice.apply(y, [x, x - x].concat(w)), w;
        }),
        (s = function (y, w, x) {
          return x == null && (x = i), y.push(w), _(y, 0, y.length - 1, x);
        }),
        (o = function (y, w) {
          var x, C;
          return (
            w == null && (w = i),
            (x = y.pop()),
            y.length ? ((C = y[0]), (y[0] = x), v(y, 0, w)) : (C = x),
            C
          );
        }),
        (c = function (y, w, x) {
          var C;
          return x == null && (x = i), (C = y[0]), (y[0] = w), v(y, 0, x), C;
        }),
        (l = function (y, w, x) {
          var C;
          return (
            x == null && (x = i),
            y.length &&
              x(y[0], w) < 0 &&
              ((C = [y[0], w]), (w = C[0]), (y[0] = C[1]), v(y, 0, x)),
            w
          );
        }),
        (a = function (y, w) {
          var x, C, S, g, D, T;
          for (
            w == null && (w = i),
              g = function () {
                T = [];
                for (
                  var O = 0, R = r(y.length / 2);
                  0 <= R ? O < R : O > R;
                  0 <= R ? O++ : O--
                )
                  T.push(O);
                return T;
              }
                .apply(this)
                .reverse(),
              D = [],
              C = 0,
              S = g.length;
            C < S;
            C++
          )
            (x = g[C]), D.push(v(y, x, w));
          return D;
        }),
        (m = function (y, w, x) {
          var C;
          if ((x == null && (x = i), (C = y.indexOf(w)), C !== -1))
            return _(y, 0, C, x), v(y, C, x);
        }),
        (h = function (y, w, x) {
          var C, S, g, D, T;
          if ((x == null && (x = i), (S = y.slice(0, w)), !S.length)) return S;
          for (a(S, x), T = y.slice(w), g = 0, D = T.length; g < D; g++)
            (C = T[g]), l(S, C, x);
          return S.sort(x).reverse();
        }),
        (p = function (y, w, x) {
          var C, S, g, D, T, O, R, P, L;
          if ((x == null && (x = i), w * 10 <= y.length)) {
            if (((g = y.slice(0, w).sort(x)), !g.length)) return g;
            for (
              S = g[g.length - 1], R = y.slice(w), D = 0, O = R.length;
              D < O;
              D++
            )
              (C = R[D]),
                x(C, S) < 0 &&
                  (u(g, C, 0, null, x), g.pop(), (S = g[g.length - 1]));
            return g;
          }
          for (
            a(y, x), L = [], T = 0, P = d(w, y.length);
            0 <= P ? T < P : T > P;
            0 <= P ? ++T : --T
          )
            L.push(o(y, x));
          return L;
        }),
        (_ = function (y, w, x, C) {
          var S, g, D;
          for (C == null && (C = i), S = y[x]; x > w; ) {
            if (((D = (x - 1) >> 1), (g = y[D]), C(S, g) < 0)) {
              (y[x] = g), (x = D);
              continue;
            }
            break;
          }
          return (y[x] = S);
        }),
        (v = function (y, w, x) {
          var C, S, g, D, T;
          for (
            x == null && (x = i), S = y.length, T = w, g = y[w], C = 2 * w + 1;
            C < S;

          )
            (D = C + 1),
              D < S && !(x(y[C], y[D]) < 0) && (C = D),
              (y[w] = y[C]),
              (w = C),
              (C = 2 * w + 1);
          return (y[w] = g), _(y, T, w, x);
        }),
        (n = (function () {
          (y.push = s),
            (y.pop = o),
            (y.replace = c),
            (y.pushpop = l),
            (y.heapify = a),
            (y.updateItem = m),
            (y.nlargest = h),
            (y.nsmallest = p);
          function y(w) {
            (this.cmp = w ?? i), (this.nodes = []);
          }
          return (
            (y.prototype.push = function (w) {
              return s(this.nodes, w, this.cmp);
            }),
            (y.prototype.pop = function () {
              return o(this.nodes, this.cmp);
            }),
            (y.prototype.peek = function () {
              return this.nodes[0];
            }),
            (y.prototype.contains = function (w) {
              return this.nodes.indexOf(w) !== -1;
            }),
            (y.prototype.replace = function (w) {
              return c(this.nodes, w, this.cmp);
            }),
            (y.prototype.pushpop = function (w) {
              return l(this.nodes, w, this.cmp);
            }),
            (y.prototype.heapify = function () {
              return a(this.nodes, this.cmp);
            }),
            (y.prototype.updateItem = function (w) {
              return m(this.nodes, w, this.cmp);
            }),
            (y.prototype.clear = function () {
              return (this.nodes = []);
            }),
            (y.prototype.empty = function () {
              return this.nodes.length === 0;
            }),
            (y.prototype.size = function () {
              return this.nodes.length;
            }),
            (y.prototype.clone = function () {
              var w;
              return (w = new y()), (w.nodes = this.nodes.slice(0)), w;
            }),
            (y.prototype.toArray = function () {
              return this.nodes.slice(0);
            }),
            (y.prototype.insert = y.prototype.push),
            (y.prototype.top = y.prototype.peek),
            (y.prototype.front = y.prototype.peek),
            (y.prototype.has = y.prototype.contains),
            (y.prototype.copy = y.prototype.clone),
            y
          );
        })()),
        (function (y, w) {
          return (e.exports = w());
        })(this, function () {
          return n;
        });
    }).call(wd);
  }),
  Ud = Cz,
  Ez = An({
    root: null,
    weight: function (t) {
      return 1;
    },
    directed: !1,
  }),
  Sz = {
    dijkstra: function (t) {
      if (!Ge(t)) {
        var n = arguments;
        t = { root: n[0], weight: n[1], directed: n[2] };
      }
      var i = Ez(t),
        r = i.root,
        a = i.weight,
        o = i.directed,
        s = this,
        l = a,
        c = he(r) ? this.filter(r)[0] : r[0],
        u = {},
        d = {},
        h = {},
        p = this.byGroup(),
        m = p.nodes,
        _ = p.edges;
      _.unmergeBy(function (q) {
        return q.isLoop();
      });
      for (
        var v = function (U) {
            return u[U.id()];
          },
          y = function (U, W) {
            (u[U.id()] = W), w.updateItem(U);
          },
          w = new Ud(function (q, U) {
            return v(q) - v(U);
          }),
          x = 0;
        x < m.length;
        x++
      ) {
        var C = m[x];
        (u[C.id()] = C.same(c) ? 0 : 1 / 0), w.push(C);
      }
      for (
        var S = function (U, W) {
          for (
            var Z = (o ? U.edgesTo(W) : U.edgesWith(W)).intersect(_),
              it = 1 / 0,
              rt,
              nt = 0;
            nt < Z.length;
            nt++
          ) {
            var J = Z[nt],
              dt = l(J);
            (dt < it || !rt) && ((it = dt), (rt = J));
          }
          return { edge: rt, dist: it };
        };
        w.size() > 0;

      ) {
        var g = w.pop(),
          D = v(g),
          T = g.id();
        if (((h[T] = D), D !== 1 / 0))
          for (
            var O = g.neighborhood().intersect(m), R = 0;
            R < O.length;
            R++
          ) {
            var P = O[R],
              L = P.id(),
              V = S(g, P),
              B = D + V.dist;
            B < v(P) && (y(P, B), (d[L] = { node: g, edge: V.edge }));
          }
      }
      return {
        distanceTo: function (U) {
          var W = he(U) ? m.filter(U)[0] : U[0];
          return h[W.id()];
        },
        pathTo: function (U) {
          var W = he(U) ? m.filter(U)[0] : U[0],
            Z = [],
            it = W,
            rt = it.id();
          if (W.length > 0)
            for (Z.unshift(W); d[rt]; ) {
              var nt = d[rt];
              Z.unshift(nt.edge),
                Z.unshift(nt.node),
                (it = nt.node),
                (rt = it.id());
            }
          return s.spawn(Z);
        },
      };
    },
  },
  Dz = {
    kruskal: function (t) {
      t =
        t ||
        function (x) {
          return 1;
        };
      for (
        var n = this.byGroup(),
          i = n.nodes,
          r = n.edges,
          a = i.length,
          o = new Array(a),
          s = i,
          l = function (C) {
            for (var S = 0; S < o.length; S++) {
              var g = o[S];
              if (g.has(C)) return S;
            }
          },
          c = 0;
        c < a;
        c++
      )
        o[c] = this.spawn(i[c]);
      for (
        var u = r.sort(function (x, C) {
            return t(x) - t(C);
          }),
          d = 0;
        d < u.length;
        d++
      ) {
        var h = u[d],
          p = h.source()[0],
          m = h.target()[0],
          _ = l(p),
          v = l(m),
          y = o[_],
          w = o[v];
        _ !== v && (s.merge(h), y.merge(w), o.splice(v, 1));
      }
      return s;
    },
  },
  Tz = An({
    root: null,
    goal: null,
    weight: function (t) {
      return 1;
    },
    heuristic: function (t) {
      return 0;
    },
    directed: !1,
  }),
  Mz = {
    aStar: function (t) {
      var n = this.cy(),
        i = Tz(t),
        r = i.root,
        a = i.goal,
        o = i.heuristic,
        s = i.directed,
        l = i.weight;
      (r = n.collection(r)[0]), (a = n.collection(a)[0]);
      var c = r.id(),
        u = a.id(),
        d = {},
        h = {},
        p = {},
        m = new Ud(function (rt, nt) {
          return h[rt.id()] - h[nt.id()];
        }),
        _ = new mc(),
        v = {},
        y = {},
        w = function (nt, J) {
          m.push(nt), _.add(J);
        },
        x,
        C,
        S = function () {
          (x = m.pop()), (C = x.id()), _.delete(C);
        },
        g = function (nt) {
          return _.has(nt);
        };
      w(r, c), (d[c] = 0), (h[c] = o(r));
      for (var D = 0; m.size() > 0; ) {
        if ((S(), D++, C === u)) {
          for (
            var T = [], O = a, R = u, P = y[R];
            T.unshift(O), P != null && T.unshift(P), (O = v[R]), O != null;

          )
            (R = O.id()), (P = y[R]);
          return { found: !0, distance: d[C], path: this.spawn(T), steps: D };
        }
        p[C] = !0;
        for (var L = x._private.edges, V = 0; V < L.length; V++) {
          var B = L[V];
          if (this.hasElementWithId(B.id()) && !(s && B.data('source') !== C)) {
            var q = B.source(),
              U = B.target(),
              W = q.id() !== C ? q : U,
              Z = W.id();
            if (this.hasElementWithId(Z) && !p[Z]) {
              var it = d[C] + l(B);
              if (!g(Z)) {
                (d[Z] = it),
                  (h[Z] = it + o(W)),
                  w(W, Z),
                  (v[Z] = x),
                  (y[Z] = B);
                continue;
              }
              it < d[Z] &&
                ((d[Z] = it), (h[Z] = it + o(W)), (v[Z] = x), (y[Z] = B));
            }
          }
        }
      }
      return { found: !1, distance: void 0, path: void 0, steps: D };
    },
  },
  Az = An({
    weight: function (t) {
      return 1;
    },
    directed: !1,
  }),
  Iz = {
    floydWarshall: function (t) {
      for (
        var n = this.cy(),
          i = Az(t),
          r = i.weight,
          a = i.directed,
          o = r,
          s = this.byGroup(),
          l = s.nodes,
          c = s.edges,
          u = l.length,
          d = u * u,
          h = function (dt) {
            return l.indexOf(dt);
          },
          p = function (dt) {
            return l[dt];
          },
          m = new Array(d),
          _ = 0;
        _ < d;
        _++
      ) {
        var v = _ % u,
          y = (_ - v) / u;
        y === v ? (m[_] = 0) : (m[_] = 1 / 0);
      }
      for (var w = new Array(d), x = new Array(d), C = 0; C < c.length; C++) {
        var S = c[C],
          g = S.source()[0],
          D = S.target()[0];
        if (g !== D) {
          var T = h(g),
            O = h(D),
            R = T * u + O,
            P = o(S);
          if ((m[R] > P && ((m[R] = P), (w[R] = O), (x[R] = S)), !a)) {
            var L = O * u + T;
            !a && m[L] > P && ((m[L] = P), (w[L] = T), (x[L] = S));
          }
        }
      }
      for (var V = 0; V < u; V++)
        for (var B = 0; B < u; B++)
          for (var q = B * u + V, U = 0; U < u; U++) {
            var W = B * u + U,
              Z = V * u + U;
            m[q] + m[Z] < m[W] && ((m[W] = m[q] + m[Z]), (w[W] = w[q]));
          }
      var it = function (dt) {
          return (he(dt) ? n.filter(dt) : dt)[0];
        },
        rt = function (dt) {
          return h(it(dt));
        },
        nt = {
          distance: function (dt, yt) {
            var wt = rt(dt),
              bt = rt(yt);
            return m[wt * u + bt];
          },
          path: function (dt, yt) {
            var wt = rt(dt),
              bt = rt(yt),
              At = p(wt);
            if (wt === bt) return At.collection();
            if (w[wt * u + bt] == null) return n.collection();
            var _t = n.collection(),
              K = wt,
              lt;
            for (_t.merge(At); wt !== bt; )
              (K = wt),
                (wt = w[wt * u + bt]),
                (lt = x[K * u + wt]),
                _t.merge(lt),
                _t.merge(p(wt));
            return _t;
          },
        };
      return nt;
    },
  },
  Rz = An({
    weight: function (t) {
      return 1;
    },
    directed: !1,
    root: null,
  }),
  Oz = {
    bellmanFord: function (t) {
      var n = this,
        i = Rz(t),
        r = i.weight,
        a = i.directed,
        o = i.root,
        s = r,
        l = this,
        c = this.cy(),
        u = this.byGroup(),
        d = u.edges,
        h = u.nodes,
        p = h.length,
        m = new Ea(),
        _ = !1,
        v = [];
      (o = c.collection(o)[0]),
        d.unmergeBy(function (Wt) {
          return Wt.isLoop();
        });
      for (
        var y = d.length,
          w = function (Jt) {
            var le = m.get(Jt.id());
            return le || ((le = {}), m.set(Jt.id(), le)), le;
          },
          x = function (Jt) {
            return (he(Jt) ? c.$(Jt) : Jt)[0];
          },
          C = function (Jt) {
            return w(x(Jt)).dist;
          },
          S = function (Jt) {
            for (
              var le =
                  arguments.length > 1 && arguments[1] !== void 0
                    ? arguments[1]
                    : o,
                Fe = x(Jt),
                _e = [],
                ce = Fe;
              ;

            ) {
              if (ce == null) return n.spawn();
              var Ee = w(ce),
                st = Ee.edge,
                z = Ee.pred;
              if ((_e.unshift(ce[0]), ce.same(le) && _e.length > 0)) break;
              st != null && _e.unshift(st), (ce = z);
            }
            return l.spawn(_e);
          },
          g = 0;
        g < p;
        g++
      ) {
        var D = h[g],
          T = w(D);
        D.same(o) ? (T.dist = 0) : (T.dist = 1 / 0),
          (T.pred = null),
          (T.edge = null);
      }
      for (
        var O = !1,
          R = function (Jt, le, Fe, _e, ce, Ee) {
            var st = _e.dist + Ee;
            st < ce.dist &&
              !Fe.same(_e.edge) &&
              ((ce.dist = st), (ce.pred = Jt), (ce.edge = Fe), (O = !0));
          },
          P = 1;
        P < p;
        P++
      ) {
        O = !1;
        for (var L = 0; L < y; L++) {
          var V = d[L],
            B = V.source(),
            q = V.target(),
            U = s(V),
            W = w(B),
            Z = w(q);
          R(B, q, V, W, Z, U), a || R(q, B, V, Z, W, U);
        }
        if (!O) break;
      }
      if (O)
        for (var it = [], rt = 0; rt < y; rt++) {
          var nt = d[rt],
            J = nt.source(),
            dt = nt.target(),
            yt = s(nt),
            wt = w(J).dist,
            bt = w(dt).dist;
          if (wt + yt < bt || (!a && bt + yt < wt))
            if (
              (_ ||
                (li('Graph contains a negative weight cycle for Bellman-Ford'),
                (_ = !0)),
              t.findNegativeWeightCycles !== !1)
            ) {
              var At = [];
              wt + yt < bt && At.push(J), !a && bt + yt < wt && At.push(dt);
              for (var _t = At.length, K = 0; K < _t; K++) {
                var lt = At[K],
                  ot = [lt];
                ot.push(w(lt).edge);
                for (var Mt = w(lt).pred; ot.indexOf(Mt) === -1; )
                  ot.push(Mt), ot.push(w(Mt).edge), (Mt = w(Mt).pred);
                ot = ot.slice(ot.indexOf(Mt));
                for (
                  var Vt = ot[0].id(), Ot = 0, Lt = 2;
                  Lt < ot.length;
                  Lt += 2
                )
                  ot[Lt].id() < Vt && ((Vt = ot[Lt].id()), (Ot = Lt));
                (ot = ot.slice(Ot).concat(ot.slice(0, Ot))), ot.push(ot[0]);
                var Ut = ot
                  .map(function (Wt) {
                    return Wt.id();
                  })
                  .join(',');
                it.indexOf(Ut) === -1 && (v.push(l.spawn(ot)), it.push(Ut));
              }
            } else break;
        }
      return {
        distanceTo: C,
        pathTo: S,
        hasNegativeWeightCycle: _,
        negativeWeightCycles: v,
      };
    },
  },
  Pz = Math.sqrt(2),
  Lz = function (t, n, i) {
    i.length === 0 && Xi('Karger-Stein must be run on a connected (sub)graph');
    for (
      var r = i[t],
        a = r[1],
        o = r[2],
        s = n[a],
        l = n[o],
        c = i,
        u = c.length - 1;
      u >= 0;
      u--
    ) {
      var d = c[u],
        h = d[1],
        p = d[2];
      ((n[h] === s && n[p] === l) || (n[h] === l && n[p] === s)) &&
        c.splice(u, 1);
    }
    for (var m = 0; m < c.length; m++) {
      var _ = c[m];
      _[1] === l
        ? ((c[m] = _.slice()), (c[m][1] = s))
        : _[2] === l && ((c[m] = _.slice()), (c[m][2] = s));
    }
    for (var v = 0; v < n.length; v++) n[v] === l && (n[v] = s);
    return c;
  },
  Dy = function (t, n, i, r) {
    for (; i > r; ) {
      var a = Math.floor(Math.random() * n.length);
      (n = Lz(a, t, n)), i--;
    }
    return n;
  },
  Nz = {
    kargerStein: function () {
      var t = this,
        n = this.byGroup(),
        i = n.nodes,
        r = n.edges;
      r.unmergeBy(function (Z) {
        return Z.isLoop();
      });
      var a = i.length,
        o = r.length,
        s = Math.ceil(Math.pow(Math.log(a) / Math.LN2, 2)),
        l = Math.floor(a / Pz);
      if (a < 2) {
        Xi('At least 2 nodes are required for Karger-Stein algorithm');
        return;
      }
      for (var c = [], u = 0; u < o; u++) {
        var d = r[u];
        c.push([u, i.indexOf(d.source()), i.indexOf(d.target())]);
      }
      for (
        var h = 1 / 0,
          p = [],
          m = new Array(a),
          _ = new Array(a),
          v = new Array(a),
          y = function (it, rt) {
            for (var nt = 0; nt < a; nt++) rt[nt] = it[nt];
          },
          w = 0;
        w <= s;
        w++
      ) {
        for (var x = 0; x < a; x++) _[x] = x;
        var C = Dy(_, c.slice(), a, l),
          S = C.slice();
        y(_, v);
        var g = Dy(_, C, l, 2),
          D = Dy(v, S, l, 2);
        g.length <= D.length && g.length < h
          ? ((h = g.length), (p = g), y(_, m))
          : D.length <= g.length &&
            D.length < h &&
            ((h = D.length), (p = D), y(v, m));
      }
      for (
        var T = this.spawn(
            p.map(function (Z) {
              return r[Z[0]];
            })
          ),
          O = this.spawn(),
          R = this.spawn(),
          P = m[0],
          L = 0;
        L < m.length;
        L++
      ) {
        var V = m[L],
          B = i[L];
        V === P ? O.merge(B) : R.merge(B);
      }
      var q = function (it) {
          var rt = t.spawn();
          return (
            it.forEach(function (nt) {
              rt.merge(nt),
                nt.connectedEdges().forEach(function (J) {
                  t.contains(J) && !T.contains(J) && rt.merge(J);
                });
            }),
            rt
          );
        },
        U = [q(O), q(R)],
        W = { cut: T, components: U, partition1: O, partition2: R };
      return W;
    },
  },
  Fz = function (t) {
    return { x: t.x, y: t.y };
  },
  lm = function (t, n, i) {
    return { x: t.x * n + i.x, y: t.y * n + i.y };
  },
  sD = function (t, n, i) {
    return { x: (t.x - i.x) / n, y: (t.y - i.y) / n };
  },
  ac = function (t) {
    return { x: t[0], y: t[1] };
  },
  Bz = function (t) {
    for (
      var n =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
        i =
          arguments.length > 2 && arguments[2] !== void 0
            ? arguments[2]
            : t.length,
        r = 1 / 0,
        a = n;
      a < i;
      a++
    ) {
      var o = t[a];
      isFinite(o) && (r = Math.min(o, r));
    }
    return r;
  },
  zz = function (t) {
    for (
      var n =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
        i =
          arguments.length > 2 && arguments[2] !== void 0
            ? arguments[2]
            : t.length,
        r = -1 / 0,
        a = n;
      a < i;
      a++
    ) {
      var o = t[a];
      isFinite(o) && (r = Math.max(o, r));
    }
    return r;
  },
  Vz = function (t) {
    for (
      var n =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
        i =
          arguments.length > 2 && arguments[2] !== void 0
            ? arguments[2]
            : t.length,
        r = 0,
        a = 0,
        o = n;
      o < i;
      o++
    ) {
      var s = t[o];
      isFinite(s) && ((r += s), a++);
    }
    return r / a;
  },
  jz = function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
      i =
        arguments.length > 2 && arguments[2] !== void 0
          ? arguments[2]
          : t.length,
      r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0,
      a = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !0,
      o = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : !0;
    r
      ? (t = t.slice(n, i))
      : (i < t.length && t.splice(i, t.length - i), n > 0 && t.splice(0, n));
    for (var s = 0, l = t.length - 1; l >= 0; l--) {
      var c = t[l];
      o ? isFinite(c) || ((t[l] = -1 / 0), s++) : t.splice(l, 1);
    }
    a &&
      t.sort(function (h, p) {
        return h - p;
      });
    var u = t.length,
      d = Math.floor(u / 2);
    return u % 2 !== 0 ? t[d + 1 + s] : (t[d - 1 + s] + t[d + s]) / 2;
  },
  qz = function (t) {
    return (Math.PI * t) / 180;
  },
  Dp = function (t, n) {
    return Math.atan2(n, t) - Math.PI / 2;
  },
  s0 =
    Math.log2 ||
    function (e) {
      return Math.log(e) / Math.log(2);
    },
  lD = function (t) {
    return t > 0 ? 1 : t < 0 ? -1 : 0;
  },
  Qs = function (t, n) {
    return Math.sqrt(Ws(t, n));
  },
  Ws = function (t, n) {
    var i = n.x - t.x,
      r = n.y - t.y;
    return i * i + r * r;
  },
  Uz = function (t) {
    for (var n = t.length, i = 0, r = 0; r < n; r++) i += t[r];
    for (var a = 0; a < n; a++) t[a] = t[a] / i;
    return t;
  },
  _n = function (t, n, i, r) {
    return (1 - r) * (1 - r) * t + 2 * (1 - r) * r * n + r * r * i;
  },
  sc = function (t, n, i, r) {
    return { x: _n(t.x, n.x, i.x, r), y: _n(t.y, n.y, i.y, r) };
  },
  Hz = function (t, n, i, r) {
    var a = { x: n.x - t.x, y: n.y - t.y },
      o = Qs(t, n),
      s = { x: a.x / o, y: a.y / o };
    return (
      (i = i ?? 0), (r = r ?? i * o), { x: t.x + s.x * r, y: t.y + s.y * r }
    );
  },
  Od = function (t, n, i) {
    return Math.max(t, Math.min(i, n));
  },
  or = function (t) {
    if (t == null)
      return { x1: 1 / 0, y1: 1 / 0, x2: -1 / 0, y2: -1 / 0, w: 0, h: 0 };
    if (t.x1 != null && t.y1 != null) {
      if (t.x2 != null && t.y2 != null && t.x2 >= t.x1 && t.y2 >= t.y1)
        return {
          x1: t.x1,
          y1: t.y1,
          x2: t.x2,
          y2: t.y2,
          w: t.x2 - t.x1,
          h: t.y2 - t.y1,
        };
      if (t.w != null && t.h != null && t.w >= 0 && t.h >= 0)
        return {
          x1: t.x1,
          y1: t.y1,
          x2: t.x1 + t.w,
          y2: t.y1 + t.h,
          w: t.w,
          h: t.h,
        };
    }
  },
  Wz = function (t) {
    return { x1: t.x1, x2: t.x2, w: t.w, y1: t.y1, y2: t.y2, h: t.h };
  },
  $z = function (t) {
    (t.x1 = 1 / 0),
      (t.y1 = 1 / 0),
      (t.x2 = -1 / 0),
      (t.y2 = -1 / 0),
      (t.w = 0),
      (t.h = 0);
  },
  Gz = function (t, n, i) {
    return {
      x1: t.x1 + n,
      x2: t.x2 + n,
      y1: t.y1 + i,
      y2: t.y2 + i,
      w: t.w,
      h: t.h,
    };
  },
  cD = function (t, n) {
    (t.x1 = Math.min(t.x1, n.x1)),
      (t.x2 = Math.max(t.x2, n.x2)),
      (t.w = t.x2 - t.x1),
      (t.y1 = Math.min(t.y1, n.y1)),
      (t.y2 = Math.max(t.y2, n.y2)),
      (t.h = t.y2 - t.y1);
  },
  Yz = function (t, n, i) {
    (t.x1 = Math.min(t.x1, n)),
      (t.x2 = Math.max(t.x2, n)),
      (t.w = t.x2 - t.x1),
      (t.y1 = Math.min(t.y1, i)),
      (t.y2 = Math.max(t.y2, i)),
      (t.h = t.y2 - t.y1);
  },
  Bp = function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return (
      (t.x1 -= n),
      (t.x2 += n),
      (t.y1 -= n),
      (t.y2 += n),
      (t.w = t.x2 - t.x1),
      (t.h = t.y2 - t.y1),
      t
    );
  },
  zp = function (t) {
    var n =
        arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [0],
      i,
      r,
      a,
      o;
    if (n.length === 1) i = r = a = o = n[0];
    else if (n.length === 2) (i = a = n[0]), (o = r = n[1]);
    else if (n.length === 4) {
      var s = ia(n, 4);
      (i = s[0]), (r = s[1]), (a = s[2]), (o = s[3]);
    }
    return (
      (t.x1 -= o),
      (t.x2 += r),
      (t.y1 -= i),
      (t.y2 += a),
      (t.w = t.x2 - t.x1),
      (t.h = t.y2 - t.y1),
      t
    );
  },
  FE = function (t, n) {
    (t.x1 = n.x1),
      (t.y1 = n.y1),
      (t.x2 = n.x2),
      (t.y2 = n.y2),
      (t.w = t.x2 - t.x1),
      (t.h = t.y2 - t.y1);
  },
  l0 = function (t, n) {
    return !(
      t.x1 > n.x2 ||
      n.x1 > t.x2 ||
      t.x2 < n.x1 ||
      n.x2 < t.x1 ||
      t.y2 < n.y1 ||
      n.y2 < t.y1 ||
      t.y1 > n.y2 ||
      n.y1 > t.y2
    );
  },
  hc = function (t, n, i) {
    return t.x1 <= n && n <= t.x2 && t.y1 <= i && i <= t.y2;
  },
  Kz = function (t, n) {
    return hc(t, n.x, n.y);
  },
  uD = function (t, n) {
    return hc(t, n.x1, n.y1) && hc(t, n.x2, n.y2);
  },
  dD = function (t, n, i, r, a, o, s) {
    var l =
        arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : 'auto',
      c = l === 'auto' ? Js(a, o) : l,
      u = a / 2,
      d = o / 2;
    c = Math.min(c, u, d);
    var h = c !== u,
      p = c !== d,
      m;
    if (h) {
      var _ = i - u + c - s,
        v = r - d - s,
        y = i + u - c + s,
        w = v;
      if (((m = No(t, n, i, r, _, v, y, w, !1)), m.length > 0)) return m;
    }
    if (p) {
      var x = i + u + s,
        C = r - d + c - s,
        S = x,
        g = r + d - c + s;
      if (((m = No(t, n, i, r, x, C, S, g, !1)), m.length > 0)) return m;
    }
    if (h) {
      var D = i - u + c - s,
        T = r + d + s,
        O = i + u - c + s,
        R = T;
      if (((m = No(t, n, i, r, D, T, O, R, !1)), m.length > 0)) return m;
    }
    if (p) {
      var P = i - u - s,
        L = r - d + c - s,
        V = P,
        B = r + d - c + s;
      if (((m = No(t, n, i, r, P, L, V, B, !1)), m.length > 0)) return m;
    }
    var q;
    {
      var U = i - u + c,
        W = r - d + c;
      if (
        ((q = Cd(t, n, i, r, U, W, c + s)),
        q.length > 0 && q[0] <= U && q[1] <= W)
      )
        return [q[0], q[1]];
    }
    {
      var Z = i + u - c,
        it = r - d + c;
      if (
        ((q = Cd(t, n, i, r, Z, it, c + s)),
        q.length > 0 && q[0] >= Z && q[1] <= it)
      )
        return [q[0], q[1]];
    }
    {
      var rt = i + u - c,
        nt = r + d - c;
      if (
        ((q = Cd(t, n, i, r, rt, nt, c + s)),
        q.length > 0 && q[0] >= rt && q[1] >= nt)
      )
        return [q[0], q[1]];
    }
    {
      var J = i - u + c,
        dt = r + d - c;
      if (
        ((q = Cd(t, n, i, r, J, dt, c + s)),
        q.length > 0 && q[0] <= J && q[1] >= dt)
      )
        return [q[0], q[1]];
    }
    return [];
  },
  Xz = function (t, n, i, r, a, o, s) {
    var l = s,
      c = Math.min(i, a),
      u = Math.max(i, a),
      d = Math.min(r, o),
      h = Math.max(r, o);
    return c - l <= t && t <= u + l && d - l <= n && n <= h + l;
  },
  Zz = function (t, n, i, r, a, o, s, l, c) {
    var u = {
      x1: Math.min(i, s, a) - c,
      x2: Math.max(i, s, a) + c,
      y1: Math.min(r, l, o) - c,
      y2: Math.max(r, l, o) + c,
    };
    return !(t < u.x1 || t > u.x2 || n < u.y1 || n > u.y2);
  },
  Qz = function (t, n, i, r) {
    i -= r;
    var a = n * n - 4 * t * i;
    if (a < 0) return [];
    var o = Math.sqrt(a),
      s = 2 * t,
      l = (-n + o) / s,
      c = (-n - o) / s;
    return [l, c];
  },
  Jz = function (t, n, i, r, a) {
    var o = 1e-5;
    t === 0 && (t = o), (n /= t), (i /= t), (r /= t);
    var s, l, c, u, d, h, p, m;
    if (
      ((l = (3 * i - n * n) / 9),
      (c = -(27 * r) + n * (9 * i - 2 * (n * n))),
      (c /= 54),
      (s = l * l * l + c * c),
      (a[1] = 0),
      (p = n / 3),
      s > 0)
    ) {
      (d = c + Math.sqrt(s)),
        (d = d < 0 ? -Math.pow(-d, 1 / 3) : Math.pow(d, 1 / 3)),
        (h = c - Math.sqrt(s)),
        (h = h < 0 ? -Math.pow(-h, 1 / 3) : Math.pow(h, 1 / 3)),
        (a[0] = -p + d + h),
        (p += (d + h) / 2),
        (a[4] = a[2] = -p),
        (p = (Math.sqrt(3) * (-h + d)) / 2),
        (a[3] = p),
        (a[5] = -p);
      return;
    }
    if (((a[5] = a[3] = 0), s === 0)) {
      (m = c < 0 ? -Math.pow(-c, 1 / 3) : Math.pow(c, 1 / 3)),
        (a[0] = -p + 2 * m),
        (a[4] = a[2] = -(m + p));
      return;
    }
    (l = -l),
      (u = l * l * l),
      (u = Math.acos(c / Math.sqrt(u))),
      (m = 2 * Math.sqrt(l)),
      (a[0] = -p + m * Math.cos(u / 3)),
      (a[2] = -p + m * Math.cos((u + 2 * Math.PI) / 3)),
      (a[4] = -p + m * Math.cos((u + 4 * Math.PI) / 3));
  },
  tV = function (t, n, i, r, a, o, s, l) {
    var c =
        1 * i * i -
        4 * i * a +
        2 * i * s +
        4 * a * a -
        4 * a * s +
        s * s +
        r * r -
        4 * r * o +
        2 * r * l +
        4 * o * o -
        4 * o * l +
        l * l,
      u =
        1 * 9 * i * a -
        3 * i * i -
        3 * i * s -
        6 * a * a +
        3 * a * s +
        9 * r * o -
        3 * r * r -
        3 * r * l -
        6 * o * o +
        3 * o * l,
      d =
        1 * 3 * i * i -
        6 * i * a +
        i * s -
        i * t +
        2 * a * a +
        2 * a * t -
        s * t +
        3 * r * r -
        6 * r * o +
        r * l -
        r * n +
        2 * o * o +
        2 * o * n -
        l * n,
      h = 1 * i * a - i * i + i * t - a * t + r * o - r * r + r * n - o * n,
      p = [];
    Jz(c, u, d, h, p);
    for (var m = 1e-7, _ = [], v = 0; v < 6; v += 2)
      Math.abs(p[v + 1]) < m && p[v] >= 0 && p[v] <= 1 && _.push(p[v]);
    _.push(1), _.push(0);
    for (var y = -1, w, x, C, S = 0; S < _.length; S++)
      (w =
        Math.pow(1 - _[S], 2) * i +
        2 * (1 - _[S]) * _[S] * a +
        _[S] * _[S] * s),
        (x =
          Math.pow(1 - _[S], 2) * r +
          2 * (1 - _[S]) * _[S] * o +
          _[S] * _[S] * l),
        (C = Math.pow(w - t, 2) + Math.pow(x - n, 2)),
        y >= 0 ? C < y && (y = C) : (y = C);
    return y;
  },
  eV = function (t, n, i, r, a, o) {
    var s = [t - i, n - r],
      l = [a - i, o - r],
      c = l[0] * l[0] + l[1] * l[1],
      u = s[0] * s[0] + s[1] * s[1],
      d = s[0] * l[0] + s[1] * l[1],
      h = (d * d) / c;
    return d < 0 ? u : h > c ? (t - a) * (t - a) + (n - o) * (n - o) : u - h;
  },
  ar = function (t, n, i) {
    for (var r, a, o, s, l, c = 0, u = 0; u < i.length / 2; u++)
      if (
        ((r = i[u * 2]),
        (a = i[u * 2 + 1]),
        u + 1 < i.length / 2
          ? ((o = i[(u + 1) * 2]), (s = i[(u + 1) * 2 + 1]))
          : ((o = i[(u + 1 - i.length / 2) * 2]),
            (s = i[(u + 1 - i.length / 2) * 2 + 1])),
        !(r == t && o == t))
      )
        if ((r >= t && t >= o) || (r <= t && t <= o))
          (l = ((t - r) / (o - r)) * (s - a) + a), l > n && c++;
        else continue;
    return c % 2 !== 0;
  },
  Qa = function (t, n, i, r, a, o, s, l, c) {
    var u = new Array(i.length),
      d;
    l[0] != null
      ? ((d = Math.atan(l[1] / l[0])),
        l[0] < 0 ? (d = d + Math.PI / 2) : (d = -d - Math.PI / 2))
      : (d = l);
    for (var h = Math.cos(-d), p = Math.sin(-d), m = 0; m < u.length / 2; m++)
      (u[m * 2] = (o / 2) * (i[m * 2] * h - i[m * 2 + 1] * p)),
        (u[m * 2 + 1] = (s / 2) * (i[m * 2 + 1] * h + i[m * 2] * p)),
        (u[m * 2] += r),
        (u[m * 2 + 1] += a);
    var _;
    if (c > 0) {
      var v = Zp(u, -c);
      _ = Xp(v);
    } else _ = u;
    return ar(t, n, _);
  },
  iV = function (t, n, i, r, a, o, s, l) {
    for (var c = new Array(i.length * 2), u = 0; u < l.length; u++) {
      var d = l[u];
      (c[u * 4 + 0] = d.startX),
        (c[u * 4 + 1] = d.startY),
        (c[u * 4 + 2] = d.stopX),
        (c[u * 4 + 3] = d.stopY);
      var h = Math.pow(d.cx - t, 2) + Math.pow(d.cy - n, 2);
      if (h <= Math.pow(d.radius, 2)) return !0;
    }
    return ar(t, n, c);
  },
  Xp = function (t) {
    for (
      var n = new Array(t.length / 2), i, r, a, o, s, l, c, u, d = 0;
      d < t.length / 4;
      d++
    ) {
      (i = t[d * 4]),
        (r = t[d * 4 + 1]),
        (a = t[d * 4 + 2]),
        (o = t[d * 4 + 3]),
        d < t.length / 4 - 1
          ? ((s = t[(d + 1) * 4]),
            (l = t[(d + 1) * 4 + 1]),
            (c = t[(d + 1) * 4 + 2]),
            (u = t[(d + 1) * 4 + 3]))
          : ((s = t[0]), (l = t[1]), (c = t[2]), (u = t[3]));
      var h = No(i, r, a, o, s, l, c, u, !0);
      (n[d * 2] = h[0]), (n[d * 2 + 1] = h[1]);
    }
    return n;
  },
  Zp = function (t, n) {
    for (
      var i = new Array(t.length * 2), r, a, o, s, l = 0;
      l < t.length / 2;
      l++
    ) {
      (r = t[l * 2]),
        (a = t[l * 2 + 1]),
        l < t.length / 2 - 1
          ? ((o = t[(l + 1) * 2]), (s = t[(l + 1) * 2 + 1]))
          : ((o = t[0]), (s = t[1]));
      var c = s - a,
        u = -(o - r),
        d = Math.sqrt(c * c + u * u),
        h = c / d,
        p = u / d;
      (i[l * 4] = r + h * n),
        (i[l * 4 + 1] = a + p * n),
        (i[l * 4 + 2] = o + h * n),
        (i[l * 4 + 3] = s + p * n);
    }
    return i;
  },
  nV = function (t, n, i, r, a, o) {
    var s = i - t,
      l = r - n;
    (s /= a), (l /= o);
    var c = Math.sqrt(s * s + l * l),
      u = c - 1;
    if (u < 0) return [];
    var d = u / c;
    return [(i - t) * d + t, (r - n) * d + n];
  },
  Ks = function (t, n, i, r, a, o, s) {
    return (
      (t -= a), (n -= o), (t /= i / 2 + s), (n /= r / 2 + s), t * t + n * n <= 1
    );
  },
  Cd = function (t, n, i, r, a, o, s) {
    var l = [i - t, r - n],
      c = [t - a, n - o],
      u = l[0] * l[0] + l[1] * l[1],
      d = 2 * (c[0] * l[0] + c[1] * l[1]),
      h = c[0] * c[0] + c[1] * c[1] - s * s,
      p = d * d - 4 * u * h;
    if (p < 0) return [];
    var m = (-d + Math.sqrt(p)) / (2 * u),
      _ = (-d - Math.sqrt(p)) / (2 * u),
      v = Math.min(m, _),
      y = Math.max(m, _),
      w = [];
    if (
      (v >= 0 && v <= 1 && w.push(v),
      y >= 0 && y <= 1 && w.push(y),
      w.length === 0)
    )
      return [];
    var x = w[0] * l[0] + t,
      C = w[0] * l[1] + n;
    if (w.length > 1) {
      if (w[0] == w[1]) return [x, C];
      var S = w[1] * l[0] + t,
        g = w[1] * l[1] + n;
      return [x, C, S, g];
    } else return [x, C];
  },
  Ty = function (t, n, i) {
    return (n <= t && t <= i) || (i <= t && t <= n)
      ? t
      : (t <= n && n <= i) || (i <= n && n <= t)
        ? n
        : i;
  },
  No = function (t, n, i, r, a, o, s, l, c) {
    var u = t - a,
      d = i - t,
      h = s - a,
      p = n - o,
      m = r - n,
      _ = l - o,
      v = h * p - _ * u,
      y = d * p - m * u,
      w = _ * d - h * m;
    if (w !== 0) {
      var x = v / w,
        C = y / w,
        S = 0.001,
        g = 0 - S,
        D = 1 + S;
      return g <= x && x <= D && g <= C && C <= D
        ? [t + x * d, n + x * m]
        : c
          ? [t + x * d, n + x * m]
          : [];
    } else
      return v === 0 || y === 0
        ? Ty(t, i, s) === s
          ? [s, l]
          : Ty(t, i, a) === a
            ? [a, o]
            : Ty(a, s, i) === i
              ? [i, r]
              : []
        : [];
  },
  Pd = function (t, n, i, r, a, o, s, l) {
    var c = [],
      u,
      d = new Array(i.length),
      h = !0;
    o == null && (h = !1);
    var p;
    if (h) {
      for (var m = 0; m < d.length / 2; m++)
        (d[m * 2] = i[m * 2] * o + r), (d[m * 2 + 1] = i[m * 2 + 1] * s + a);
      if (l > 0) {
        var _ = Zp(d, -l);
        p = Xp(_);
      } else p = d;
    } else p = i;
    for (var v, y, w, x, C = 0; C < p.length / 2; C++)
      (v = p[C * 2]),
        (y = p[C * 2 + 1]),
        C < p.length / 2 - 1
          ? ((w = p[(C + 1) * 2]), (x = p[(C + 1) * 2 + 1]))
          : ((w = p[0]), (x = p[1])),
        (u = No(t, n, r, a, v, y, w, x)),
        u.length !== 0 && c.push(u[0], u[1]);
    return c;
  },
  rV = function (t, n, i, r, a, o, s, l, c) {
    var u = [],
      d,
      h = new Array(i.length * 2);
    c.forEach(function (w, x) {
      x === 0
        ? ((h[h.length - 2] = w.startX), (h[h.length - 1] = w.startY))
        : ((h[x * 4 - 2] = w.startX), (h[x * 4 - 1] = w.startY)),
        (h[x * 4] = w.stopX),
        (h[x * 4 + 1] = w.stopY),
        (d = Cd(t, n, r, a, w.cx, w.cy, w.radius)),
        d.length !== 0 && u.push(d[0], d[1]);
    });
    for (var p = 0; p < h.length / 4; p++)
      (d = No(
        t,
        n,
        r,
        a,
        h[p * 4],
        h[p * 4 + 1],
        h[p * 4 + 2],
        h[p * 4 + 3],
        !1
      )),
        d.length !== 0 && u.push(d[0], d[1]);
    if (u.length > 2) {
      for (
        var m = [u[0], u[1]],
          _ = Math.pow(m[0] - t, 2) + Math.pow(m[1] - n, 2),
          v = 1;
        v < u.length / 2;
        v++
      ) {
        var y = Math.pow(u[v * 2] - t, 2) + Math.pow(u[v * 2 + 1] - n, 2);
        y <= _ && ((m[0] = u[v * 2]), (m[1] = u[v * 2 + 1]), (_ = y));
      }
      return m;
    }
    return u;
  },
  Tp = function (t, n, i) {
    var r = [t[0] - n[0], t[1] - n[1]],
      a = Math.sqrt(r[0] * r[0] + r[1] * r[1]),
      o = (a - i) / a;
    return o < 0 && (o = 1e-5), [n[0] + o * r[0], n[1] + o * r[1]];
  },
  Jn = function (t, n) {
    var i = By(t, n);
    return (i = hD(i)), i;
  },
  hD = function (t) {
    for (
      var n,
        i,
        r = t.length / 2,
        a = 1 / 0,
        o = 1 / 0,
        s = -1 / 0,
        l = -1 / 0,
        c = 0;
      c < r;
      c++
    )
      (n = t[2 * c]),
        (i = t[2 * c + 1]),
        (a = Math.min(a, n)),
        (s = Math.max(s, n)),
        (o = Math.min(o, i)),
        (l = Math.max(l, i));
    for (var u = 2 / (s - a), d = 2 / (l - o), h = 0; h < r; h++)
      (n = t[2 * h] = t[2 * h] * u),
        (i = t[2 * h + 1] = t[2 * h + 1] * d),
        (a = Math.min(a, n)),
        (s = Math.max(s, n)),
        (o = Math.min(o, i)),
        (l = Math.max(l, i));
    if (o < -1)
      for (var p = 0; p < r; p++) i = t[2 * p + 1] = t[2 * p + 1] + (-1 - o);
    return t;
  },
  By = function (t, n) {
    var i = (1 / t) * 2 * Math.PI,
      r = t % 2 === 0 ? Math.PI / 2 + i / 2 : Math.PI / 2;
    r += n;
    for (var a = new Array(t * 2), o, s = 0; s < t; s++)
      (o = s * i + r), (a[2 * s] = Math.cos(o)), (a[2 * s + 1] = Math.sin(-o));
    return a;
  },
  Js = function (t, n) {
    return Math.min(t / 4, n / 4, 8);
  },
  fD = function (t, n) {
    return Math.min(t / 10, n / 10, 8);
  },
  c0 = function () {
    return 8;
  },
  aV = function (t, n, i) {
    return [t - 2 * n + i, 2 * (n - t), t];
  },
  zy = function (t, n) {
    return {
      heightOffset: Math.min(15, 0.05 * n),
      widthOffset: Math.min(100, 0.25 * t),
      ctrlPtOffsetPct: 0.05,
    };
  },
  oV = An({
    dampingFactor: 0.8,
    precision: 1e-6,
    iterations: 200,
    weight: function (t) {
      return 1;
    },
  }),
  sV = {
    pageRank: function (t) {
      for (
        var n = oV(t),
          i = n.dampingFactor,
          r = n.precision,
          a = n.iterations,
          o = n.weight,
          s = this._private.cy,
          l = this.byGroup(),
          c = l.nodes,
          u = l.edges,
          d = c.length,
          h = d * d,
          p = u.length,
          m = new Array(h),
          _ = new Array(d),
          v = (1 - i) / d,
          y = 0;
        y < d;
        y++
      ) {
        for (var w = 0; w < d; w++) {
          var x = y * d + w;
          m[x] = 0;
        }
        _[y] = 0;
      }
      for (var C = 0; C < p; C++) {
        var S = u[C],
          g = S.data('source'),
          D = S.data('target');
        if (g !== D) {
          var T = c.indexOfId(g),
            O = c.indexOfId(D),
            R = o(S),
            P = O * d + T;
          (m[P] += R), (_[T] += R);
        }
      }
      for (var L = 1 / d + v, V = 0; V < d; V++)
        if (_[V] === 0)
          for (var B = 0; B < d; B++) {
            var q = B * d + V;
            m[q] = L;
          }
        else
          for (var U = 0; U < d; U++) {
            var W = U * d + V;
            m[W] = m[W] / _[V] + v;
          }
      for (var Z = new Array(d), it = new Array(d), rt, nt = 0; nt < d; nt++)
        Z[nt] = 1;
      for (var J = 0; J < a; J++) {
        for (var dt = 0; dt < d; dt++) it[dt] = 0;
        for (var yt = 0; yt < d; yt++)
          for (var wt = 0; wt < d; wt++) {
            var bt = yt * d + wt;
            it[yt] += m[bt] * Z[wt];
          }
        Uz(it), (rt = Z), (Z = it), (it = rt);
        for (var At = 0, _t = 0; _t < d; _t++) {
          var K = rt[_t] - Z[_t];
          At += K * K;
        }
        if (At < r) break;
      }
      var lt = {
        rank: function (Mt) {
          return (Mt = s.collection(Mt)[0]), Z[c.indexOf(Mt)];
        },
      };
      return lt;
    },
  },
  BE = An({
    root: null,
    weight: function (t) {
      return 1;
    },
    directed: !1,
    alpha: 0,
  }),
  lc = {
    degreeCentralityNormalized: function (t) {
      t = BE(t);
      var n = this.cy(),
        i = this.nodes(),
        r = i.length;
      if (t.directed) {
        for (var u = {}, d = {}, h = 0, p = 0, m = 0; m < r; m++) {
          var _ = i[m],
            v = _.id();
          t.root = _;
          var y = this.degreeCentrality(t);
          h < y.indegree && (h = y.indegree),
            p < y.outdegree && (p = y.outdegree),
            (u[v] = y.indegree),
            (d[v] = y.outdegree);
        }
        return {
          indegree: function (x) {
            return h == 0 ? 0 : (he(x) && (x = n.filter(x)), u[x.id()] / h);
          },
          outdegree: function (x) {
            return p === 0 ? 0 : (he(x) && (x = n.filter(x)), d[x.id()] / p);
          },
        };
      } else {
        for (var a = {}, o = 0, s = 0; s < r; s++) {
          var l = i[s];
          t.root = l;
          var c = this.degreeCentrality(t);
          o < c.degree && (o = c.degree), (a[l.id()] = c.degree);
        }
        return {
          degree: function (x) {
            return o === 0 ? 0 : (he(x) && (x = n.filter(x)), a[x.id()] / o);
          },
        };
      }
    },
    degreeCentrality: function (t) {
      t = BE(t);
      var n = this.cy(),
        i = this,
        r = t,
        a = r.root,
        o = r.weight,
        s = r.directed,
        l = r.alpha;
      if (((a = n.collection(a)[0]), s)) {
        for (
          var p = a.connectedEdges(),
            m = p.filter(function (g) {
              return g.target().same(a) && i.has(g);
            }),
            _ = p.filter(function (g) {
              return g.source().same(a) && i.has(g);
            }),
            v = m.length,
            y = _.length,
            w = 0,
            x = 0,
            C = 0;
          C < m.length;
          C++
        )
          w += o(m[C]);
        for (var S = 0; S < _.length; S++) x += o(_[S]);
        return {
          indegree: Math.pow(v, 1 - l) * Math.pow(w, l),
          outdegree: Math.pow(y, 1 - l) * Math.pow(x, l),
        };
      } else {
        for (
          var c = a.connectedEdges().intersection(i),
            u = c.length,
            d = 0,
            h = 0;
          h < c.length;
          h++
        )
          d += o(c[h]);
        return { degree: Math.pow(u, 1 - l) * Math.pow(d, l) };
      }
    },
  };
lc.dc = lc.degreeCentrality;
lc.dcn = lc.degreeCentralityNormalised = lc.degreeCentralityNormalized;
var zE = An({
    harmonic: !0,
    weight: function () {
      return 1;
    },
    directed: !1,
    root: null,
  }),
  cc = {
    closenessCentralityNormalized: function (t) {
      for (
        var n = zE(t),
          i = n.harmonic,
          r = n.weight,
          a = n.directed,
          o = this.cy(),
          s = {},
          l = 0,
          c = this.nodes(),
          u = this.floydWarshall({ weight: r, directed: a }),
          d = 0;
        d < c.length;
        d++
      ) {
        for (var h = 0, p = c[d], m = 0; m < c.length; m++)
          if (d !== m) {
            var _ = u.distance(p, c[m]);
            i ? (h += 1 / _) : (h += _);
          }
        i || (h = 1 / h), l < h && (l = h), (s[p.id()] = h);
      }
      return {
        closeness: function (y) {
          return l == 0
            ? 0
            : (he(y) ? (y = o.filter(y)[0].id()) : (y = y.id()), s[y] / l);
        },
      };
    },
    closenessCentrality: function (t) {
      var n = zE(t),
        i = n.root,
        r = n.weight,
        a = n.directed,
        o = n.harmonic;
      i = this.filter(i)[0];
      for (
        var s = this.dijkstra({ root: i, weight: r, directed: a }),
          l = 0,
          c = this.nodes(),
          u = 0;
        u < c.length;
        u++
      ) {
        var d = c[u];
        if (!d.same(i)) {
          var h = s.distanceTo(d);
          o ? (l += 1 / h) : (l += h);
        }
      }
      return o ? l : 1 / l;
    },
  };
cc.cc = cc.closenessCentrality;
cc.ccn = cc.closenessCentralityNormalised = cc.closenessCentralityNormalized;
var lV = An({ weight: null, directed: !1 }),
  Vy = {
    betweennessCentrality: function (t) {
      for (
        var n = lV(t),
          i = n.directed,
          r = n.weight,
          a = r != null,
          o = this.cy(),
          s = this.nodes(),
          l = {},
          c = {},
          u = 0,
          d = {
            set: function (x, C) {
              (c[x] = C), C > u && (u = C);
            },
            get: function (x) {
              return c[x];
            },
          },
          h = 0;
        h < s.length;
        h++
      ) {
        var p = s[h],
          m = p.id();
        i
          ? (l[m] = p.outgoers().nodes())
          : (l[m] = p.openNeighborhood().nodes()),
          d.set(m, 0);
      }
      for (
        var _ = function (x) {
            for (
              var C = s[x].id(),
                S = [],
                g = {},
                D = {},
                T = {},
                O = new Ud(function (wt, bt) {
                  return T[wt] - T[bt];
                }),
                R = 0;
              R < s.length;
              R++
            ) {
              var P = s[R].id();
              (g[P] = []), (D[P] = 0), (T[P] = 1 / 0);
            }
            for (D[C] = 1, T[C] = 0, O.push(C); !O.empty(); ) {
              var L = O.pop();
              if ((S.push(L), a))
                for (var V = 0; V < l[L].length; V++) {
                  var B = l[L][V],
                    q = o.getElementById(L),
                    U = void 0;
                  q.edgesTo(B).length > 0
                    ? (U = q.edgesTo(B)[0])
                    : (U = B.edgesTo(q)[0]);
                  var W = r(U);
                  (B = B.id()),
                    T[B] > T[L] + W &&
                      ((T[B] = T[L] + W),
                      O.nodes.indexOf(B) < 0 ? O.push(B) : O.updateItem(B),
                      (D[B] = 0),
                      (g[B] = [])),
                    T[B] == T[L] + W && ((D[B] = D[B] + D[L]), g[B].push(L));
                }
              else
                for (var Z = 0; Z < l[L].length; Z++) {
                  var it = l[L][Z].id();
                  T[it] == 1 / 0 && (O.push(it), (T[it] = T[L] + 1)),
                    T[it] == T[L] + 1 &&
                      ((D[it] = D[it] + D[L]), g[it].push(L));
                }
            }
            for (var rt = {}, nt = 0; nt < s.length; nt++) rt[s[nt].id()] = 0;
            for (; S.length > 0; ) {
              for (var J = S.pop(), dt = 0; dt < g[J].length; dt++) {
                var yt = g[J][dt];
                rt[yt] = rt[yt] + (D[yt] / D[J]) * (1 + rt[J]);
              }
              J != s[x].id() && d.set(J, d.get(J) + rt[J]);
            }
          },
          v = 0;
        v < s.length;
        v++
      )
        _(v);
      var y = {
        betweenness: function (x) {
          var C = o.collection(x).id();
          return d.get(C);
        },
        betweennessNormalized: function (x) {
          if (u == 0) return 0;
          var C = o.collection(x).id();
          return d.get(C) / u;
        },
      };
      return (y.betweennessNormalised = y.betweennessNormalized), y;
    },
  };
Vy.bc = Vy.betweennessCentrality;
var cV = An({
    expandFactor: 2,
    inflateFactor: 2,
    multFactor: 1,
    maxIterations: 20,
    attributes: [
      function (e) {
        return 1;
      },
    ],
  }),
  uV = function (t) {
    return cV(t);
  },
  dV = function (t, n) {
    for (var i = 0, r = 0; r < n.length; r++) i += n[r](t);
    return i;
  },
  hV = function (t, n, i) {
    for (var r = 0; r < n; r++) t[r * n + r] = i;
  },
  pD = function (t, n) {
    for (var i, r = 0; r < n; r++) {
      i = 0;
      for (var a = 0; a < n; a++) i += t[a * n + r];
      for (var o = 0; o < n; o++) t[o * n + r] = t[o * n + r] / i;
    }
  },
  fV = function (t, n, i) {
    for (var r = new Array(i * i), a = 0; a < i; a++) {
      for (var o = 0; o < i; o++) r[a * i + o] = 0;
      for (var s = 0; s < i; s++)
        for (var l = 0; l < i; l++) r[a * i + l] += t[a * i + s] * n[s * i + l];
    }
    return r;
  },
  pV = function (t, n, i) {
    for (var r = t.slice(0), a = 1; a < i; a++) t = fV(t, r, n);
    return t;
  },
  mV = function (t, n, i) {
    for (var r = new Array(n * n), a = 0; a < n * n; a++)
      r[a] = Math.pow(t[a], i);
    return pD(r, n), r;
  },
  gV = function (t, n, i, r) {
    for (var a = 0; a < i; a++) {
      var o = Math.round(t[a] * Math.pow(10, r)) / Math.pow(10, r),
        s = Math.round(n[a] * Math.pow(10, r)) / Math.pow(10, r);
      if (o !== s) return !1;
    }
    return !0;
  },
  vV = function (t, n, i, r) {
    for (var a = [], o = 0; o < n; o++) {
      for (var s = [], l = 0; l < n; l++)
        Math.round(t[o * n + l] * 1e3) / 1e3 > 0 && s.push(i[l]);
      s.length !== 0 && a.push(r.collection(s));
    }
    return a;
  },
  bV = function (t, n) {
    for (var i = 0; i < t.length; i++)
      if (!n[i] || t[i].id() !== n[i].id()) return !1;
    return !0;
  },
  yV = function (t) {
    for (var n = 0; n < t.length; n++)
      for (var i = 0; i < t.length; i++)
        n != i && bV(t[n], t[i]) && t.splice(i, 1);
    return t;
  },
  VE = function (t) {
    for (
      var n = this.nodes(),
        i = this.edges(),
        r = this.cy(),
        a = uV(t),
        o = {},
        s = 0;
      s < n.length;
      s++
    )
      o[n[s].id()] = s;
    for (var l = n.length, c = l * l, u = new Array(c), d, h = 0; h < c; h++)
      u[h] = 0;
    for (var p = 0; p < i.length; p++) {
      var m = i[p],
        _ = o[m.source().id()],
        v = o[m.target().id()],
        y = dV(m, a.attributes);
      (u[_ * l + v] += y), (u[v * l + _] += y);
    }
    hV(u, l, a.multFactor), pD(u, l);
    for (var w = !0, x = 0; w && x < a.maxIterations; )
      (w = !1),
        (d = pV(u, l, a.expandFactor)),
        (u = mV(d, l, a.inflateFactor)),
        gV(u, d, c, 4) || (w = !0),
        x++;
    var C = vV(u, l, n, r);
    return (C = yV(C)), C;
  },
  _V = { markovClustering: VE, mcl: VE },
  xV = function (t) {
    return t;
  },
  mD = function (t, n) {
    return Math.abs(n - t);
  },
  jE = function (t, n, i) {
    return t + mD(n, i);
  },
  qE = function (t, n, i) {
    return t + Math.pow(i - n, 2);
  },
  wV = function (t) {
    return Math.sqrt(t);
  },
  kV = function (t, n, i) {
    return Math.max(t, mD(n, i));
  },
  bd = function (t, n, i, r, a) {
    for (
      var o =
          arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : xV,
        s = r,
        l,
        c,
        u = 0;
      u < t;
      u++
    )
      (l = n(u)), (c = i(u)), (s = a(s, l, c));
    return o(s);
  },
  fc = {
    euclidean: function (t, n, i) {
      return t >= 2 ? bd(t, n, i, 0, qE, wV) : bd(t, n, i, 0, jE);
    },
    squaredEuclidean: function (t, n, i) {
      return bd(t, n, i, 0, qE);
    },
    manhattan: function (t, n, i) {
      return bd(t, n, i, 0, jE);
    },
    max: function (t, n, i) {
      return bd(t, n, i, -1 / 0, kV);
    },
  };
fc['squared-euclidean'] = fc.squaredEuclidean;
fc.squaredeuclidean = fc.squaredEuclidean;
function cm(e, t, n, i, r, a) {
  var o;
  return (
    ji(e) ? (o = e) : (o = fc[e] || fc.euclidean),
    t === 0 && ji(e) ? o(r, a) : o(t, n, i, r, a)
  );
}
var CV = An({
    k: 2,
    m: 2,
    sensitivityThreshold: 1e-4,
    distance: 'euclidean',
    maxIterations: 10,
    attributes: [],
    testMode: !1,
    testCentroids: null,
  }),
  u0 = function (t) {
    return CV(t);
  },
  Qp = function (t, n, i, r, a) {
    var o = a !== 'kMedoids',
      s = o
        ? function (d) {
            return i[d];
          }
        : function (d) {
            return r[d](i);
          },
      l = function (h) {
        return r[h](n);
      },
      c = i,
      u = n;
    return cm(t, r.length, s, l, c, u);
  },
  My = function (t, n, i) {
    for (
      var r = i.length,
        a = new Array(r),
        o = new Array(r),
        s = new Array(n),
        l = null,
        c = 0;
      c < r;
      c++
    )
      (a[c] = t.min(i[c]).value), (o[c] = t.max(i[c]).value);
    for (var u = 0; u < n; u++) {
      l = [];
      for (var d = 0; d < r; d++) l[d] = Math.random() * (o[d] - a[d]) + a[d];
      s[u] = l;
    }
    return s;
  },
  gD = function (t, n, i, r, a) {
    for (var o = 1 / 0, s = 0, l = 0; l < n.length; l++) {
      var c = Qp(i, t, n[l], r, a);
      c < o && ((o = c), (s = l));
    }
    return s;
  },
  vD = function (t, n, i) {
    for (var r = [], a = null, o = 0; o < n.length; o++)
      (a = n[o]), i[a.id()] === t && r.push(a);
    return r;
  },
  EV = function (t, n, i) {
    return Math.abs(n - t) <= i;
  },
  SV = function (t, n, i) {
    for (var r = 0; r < t.length; r++)
      for (var a = 0; a < t[r].length; a++) {
        var o = Math.abs(t[r][a] - n[r][a]);
        if (o > i) return !1;
      }
    return !0;
  },
  DV = function (t, n, i) {
    for (var r = 0; r < i; r++) if (t === n[r]) return !0;
    return !1;
  },
  UE = function (t, n) {
    var i = new Array(n);
    if (t.length < 50)
      for (var r = 0; r < n; r++) {
        for (var a = t[Math.floor(Math.random() * t.length)]; DV(a, i, r); )
          a = t[Math.floor(Math.random() * t.length)];
        i[r] = a;
      }
    else
      for (var o = 0; o < n; o++)
        i[o] = t[Math.floor(Math.random() * t.length)];
    return i;
  },
  HE = function (t, n, i) {
    for (var r = 0, a = 0; a < n.length; a++)
      r += Qp('manhattan', n[a], t, i, 'kMedoids');
    return r;
  },
  TV = function (t) {
    var n = this.cy(),
      i = this.nodes(),
      r = null,
      a = u0(t),
      o = new Array(a.k),
      s = {},
      l;
    a.testMode
      ? typeof a.testCentroids == 'number'
        ? (a.testCentroids, (l = My(i, a.k, a.attributes)))
        : fn(a.testCentroids) === 'object'
          ? (l = a.testCentroids)
          : (l = My(i, a.k, a.attributes))
      : (l = My(i, a.k, a.attributes));
    for (var c = !0, u = 0; c && u < a.maxIterations; ) {
      for (var d = 0; d < i.length; d++)
        (r = i[d]), (s[r.id()] = gD(r, l, a.distance, a.attributes, 'kMeans'));
      c = !1;
      for (var h = 0; h < a.k; h++) {
        var p = vD(h, i, s);
        if (p.length !== 0) {
          for (
            var m = a.attributes.length,
              _ = l[h],
              v = new Array(m),
              y = new Array(m),
              w = 0;
            w < m;
            w++
          ) {
            y[w] = 0;
            for (var x = 0; x < p.length; x++)
              (r = p[x]), (y[w] += a.attributes[w](r));
            (v[w] = y[w] / p.length),
              EV(v[w], _[w], a.sensitivityThreshold) || (c = !0);
          }
          (l[h] = v), (o[h] = n.collection(p));
        }
      }
      u++;
    }
    return o;
  },
  MV = function (t) {
    var n = this.cy(),
      i = this.nodes(),
      r = null,
      a = u0(t),
      o = new Array(a.k),
      s,
      l = {},
      c,
      u = new Array(a.k);
    a.testMode
      ? typeof a.testCentroids == 'number' ||
        (fn(a.testCentroids) === 'object'
          ? (s = a.testCentroids)
          : (s = UE(i, a.k)))
      : (s = UE(i, a.k));
    for (var d = !0, h = 0; d && h < a.maxIterations; ) {
      for (var p = 0; p < i.length; p++)
        (r = i[p]),
          (l[r.id()] = gD(r, s, a.distance, a.attributes, 'kMedoids'));
      d = !1;
      for (var m = 0; m < s.length; m++) {
        var _ = vD(m, i, l);
        if (_.length !== 0) {
          u[m] = HE(s[m], _, a.attributes);
          for (var v = 0; v < _.length; v++)
            (c = HE(_[v], _, a.attributes)),
              c < u[m] && ((u[m] = c), (s[m] = _[v]), (d = !0));
          o[m] = n.collection(_);
        }
      }
      h++;
    }
    return o;
  },
  AV = function (t, n, i, r, a) {
    for (var o, s, l = 0; l < n.length; l++)
      for (var c = 0; c < t.length; c++) r[l][c] = Math.pow(i[l][c], a.m);
    for (var u = 0; u < t.length; u++)
      for (var d = 0; d < a.attributes.length; d++) {
        (o = 0), (s = 0);
        for (var h = 0; h < n.length; h++)
          (o += r[h][u] * a.attributes[d](n[h])), (s += r[h][u]);
        t[u][d] = o / s;
      }
  },
  IV = function (t, n, i, r, a) {
    for (var o = 0; o < t.length; o++) n[o] = t[o].slice();
    for (var s, l, c, u = 2 / (a.m - 1), d = 0; d < i.length; d++)
      for (var h = 0; h < r.length; h++) {
        s = 0;
        for (var p = 0; p < i.length; p++)
          (l = Qp(a.distance, r[h], i[d], a.attributes, 'cmeans')),
            (c = Qp(a.distance, r[h], i[p], a.attributes, 'cmeans')),
            (s += Math.pow(l / c, u));
        t[h][d] = 1 / s;
      }
  },
  RV = function (t, n, i, r) {
    for (var a = new Array(i.k), o = 0; o < a.length; o++) a[o] = [];
    for (var s, l, c = 0; c < n.length; c++) {
      (s = -1 / 0), (l = -1);
      for (var u = 0; u < n[0].length; u++)
        n[c][u] > s && ((s = n[c][u]), (l = u));
      a[l].push(t[c]);
    }
    for (var d = 0; d < a.length; d++) a[d] = r.collection(a[d]);
    return a;
  },
  WE = function (t) {
    var n = this.cy(),
      i = this.nodes(),
      r = u0(t),
      a,
      o,
      s,
      l,
      c;
    l = new Array(i.length);
    for (var u = 0; u < i.length; u++) l[u] = new Array(r.k);
    s = new Array(i.length);
    for (var d = 0; d < i.length; d++) s[d] = new Array(r.k);
    for (var h = 0; h < i.length; h++) {
      for (var p = 0, m = 0; m < r.k; m++)
        (s[h][m] = Math.random()), (p += s[h][m]);
      for (var _ = 0; _ < r.k; _++) s[h][_] = s[h][_] / p;
    }
    o = new Array(r.k);
    for (var v = 0; v < r.k; v++) o[v] = new Array(r.attributes.length);
    c = new Array(i.length);
    for (var y = 0; y < i.length; y++) c[y] = new Array(r.k);
    for (var w = !0, x = 0; w && x < r.maxIterations; )
      (w = !1),
        AV(o, i, s, c, r),
        IV(s, l, o, i, r),
        SV(s, l, r.sensitivityThreshold) || (w = !0),
        x++;
    return (a = RV(i, s, r, n)), { clusters: a, degreeOfMembership: s };
  },
  OV = { kMeans: TV, kMedoids: MV, fuzzyCMeans: WE, fcm: WE },
  PV = An({
    distance: 'euclidean',
    linkage: 'min',
    mode: 'threshold',
    threshold: 1 / 0,
    addDendrogram: !1,
    dendrogramDepth: 0,
    attributes: [],
  }),
  LV = { single: 'min', complete: 'max' },
  NV = function (t) {
    var n = PV(t),
      i = LV[n.linkage];
    return i != null && (n.linkage = i), n;
  },
  $E = function (t, n, i, r, a) {
    for (
      var o = 0,
        s = 1 / 0,
        l,
        c = a.attributes,
        u = function (O, R) {
          return cm(
            a.distance,
            c.length,
            function (P) {
              return c[P](O);
            },
            function (P) {
              return c[P](R);
            },
            O,
            R
          );
        },
        d = 0;
      d < t.length;
      d++
    ) {
      var h = t[d].key,
        p = i[h][r[h]];
      p < s && ((o = h), (s = p));
    }
    if (
      (a.mode === 'threshold' && s >= a.threshold) ||
      (a.mode === 'dendrogram' && t.length === 1)
    )
      return !1;
    var m = n[o],
      _ = n[r[o]],
      v;
    a.mode === 'dendrogram'
      ? (v = { left: m, right: _, key: m.key })
      : (v = { value: m.value.concat(_.value), key: m.key }),
      (t[m.index] = v),
      t.splice(_.index, 1),
      (n[m.key] = v);
    for (var y = 0; y < t.length; y++) {
      var w = t[y];
      m.key === w.key
        ? (l = 1 / 0)
        : a.linkage === 'min'
          ? ((l = i[m.key][w.key]),
            i[m.key][w.key] > i[_.key][w.key] && (l = i[_.key][w.key]))
          : a.linkage === 'max'
            ? ((l = i[m.key][w.key]),
              i[m.key][w.key] < i[_.key][w.key] && (l = i[_.key][w.key]))
            : a.linkage === 'mean'
              ? (l =
                  (i[m.key][w.key] * m.size + i[_.key][w.key] * _.size) /
                  (m.size + _.size))
              : a.mode === 'dendrogram'
                ? (l = u(w.value, m.value))
                : (l = u(w.value[0], m.value[0])),
        (i[m.key][w.key] = i[w.key][m.key] = l);
    }
    for (var x = 0; x < t.length; x++) {
      var C = t[x].key;
      if (r[C] === m.key || r[C] === _.key) {
        for (var S = C, g = 0; g < t.length; g++) {
          var D = t[g].key;
          i[C][D] < i[C][S] && (S = D);
        }
        r[C] = S;
      }
      t[x].index = x;
    }
    return (m.key = _.key = m.index = _.index = null), !0;
  },
  Mp = function e(t, n, i) {
    t &&
      (t.value
        ? n.push(t.value)
        : (t.left && e(t.left, n), t.right && e(t.right, n)));
  },
  FV = function e(t, n) {
    if (!t) return '';
    if (t.left && t.right) {
      var i = e(t.left, n),
        r = e(t.right, n),
        a = n.add({ group: 'nodes', data: { id: i + ',' + r } });
      return (
        n.add({ group: 'edges', data: { source: i, target: a.id() } }),
        n.add({ group: 'edges', data: { source: r, target: a.id() } }),
        a.id()
      );
    } else if (t.value) return t.value.id();
  },
  BV = function e(t, n, i) {
    if (!t) return [];
    var r = [],
      a = [],
      o = [];
    return n === 0
      ? (t.left && Mp(t.left, r),
        t.right && Mp(t.right, a),
        (o = r.concat(a)),
        [i.collection(o)])
      : n === 1
        ? t.value
          ? [i.collection(t.value)]
          : (t.left && Mp(t.left, r),
            t.right && Mp(t.right, a),
            [i.collection(r), i.collection(a)])
        : t.value
          ? [i.collection(t.value)]
          : (t.left && (r = e(t.left, n - 1, i)),
            t.right && (a = e(t.right, n - 1, i)),
            r.concat(a));
  },
  GE = function (t) {
    for (
      var n = this.cy(),
        i = this.nodes(),
        r = NV(t),
        a = r.attributes,
        o = function (x, C) {
          return cm(
            r.distance,
            a.length,
            function (S) {
              return a[S](x);
            },
            function (S) {
              return a[S](C);
            },
            x,
            C
          );
        },
        s = [],
        l = [],
        c = [],
        u = [],
        d = 0;
      d < i.length;
      d++
    ) {
      var h = {
        value: r.mode === 'dendrogram' ? i[d] : [i[d]],
        key: d,
        index: d,
      };
      (s[d] = h), (u[d] = h), (l[d] = []), (c[d] = 0);
    }
    for (var p = 0; p < s.length; p++)
      for (var m = 0; m <= p; m++) {
        var _ = void 0;
        r.mode === 'dendrogram'
          ? (_ = p === m ? 1 / 0 : o(s[p].value, s[m].value))
          : (_ = p === m ? 1 / 0 : o(s[p].value[0], s[m].value[0])),
          (l[p][m] = _),
          (l[m][p] = _),
          _ < l[p][c[p]] && (c[p] = m);
      }
    for (var v = $E(s, u, l, c, r); v; ) v = $E(s, u, l, c, r);
    var y;
    return (
      r.mode === 'dendrogram'
        ? ((y = BV(s[0], r.dendrogramDepth, n)), r.addDendrogram && FV(s[0], n))
        : ((y = new Array(s.length)),
          s.forEach(function (w, x) {
            (w.key = w.index = null), (y[x] = n.collection(w.value));
          })),
      y
    );
  },
  zV = { hierarchicalClustering: GE, hca: GE },
  VV = An({
    distance: 'euclidean',
    preference: 'median',
    damping: 0.8,
    maxIterations: 1e3,
    minIterations: 100,
    attributes: [],
  }),
  jV = function (t) {
    var n = t.damping,
      i = t.preference;
    (0.5 <= n && n < 1) ||
      Xi('Damping must range on [0.5, 1).  Got: '.concat(n));
    var r = ['median', 'mean', 'min', 'max'];
    return (
      r.some(function (a) {
        return a === i;
      }) ||
        $t(i) ||
        Xi(
          'Preference must be one of ['
            .concat(
              r
                .map(function (a) {
                  return "'".concat(a, "'");
                })
                .join(', '),
              '] or a number.  Got: '
            )
            .concat(i)
        ),
      VV(t)
    );
  },
  qV = function (t, n, i, r) {
    var a = function (s, l) {
      return r[l](s);
    };
    return -cm(
      t,
      r.length,
      function (o) {
        return a(n, o);
      },
      function (o) {
        return a(i, o);
      },
      n,
      i
    );
  },
  UV = function (t, n) {
    var i = null;
    return (
      n === 'median'
        ? (i = jz(t))
        : n === 'mean'
          ? (i = Vz(t))
          : n === 'min'
            ? (i = Bz(t))
            : n === 'max'
              ? (i = zz(t))
              : (i = n),
      i
    );
  },
  HV = function (t, n, i) {
    for (var r = [], a = 0; a < t; a++)
      n[a * t + a] + i[a * t + a] > 0 && r.push(a);
    return r;
  },
  YE = function (t, n, i) {
    for (var r = [], a = 0; a < t; a++) {
      for (var o = -1, s = -1 / 0, l = 0; l < i.length; l++) {
        var c = i[l];
        n[a * t + c] > s && ((o = c), (s = n[a * t + c]));
      }
      o > 0 && r.push(o);
    }
    for (var u = 0; u < i.length; u++) r[i[u]] = i[u];
    return r;
  },
  WV = function (t, n, i) {
    for (var r = YE(t, n, i), a = 0; a < i.length; a++) {
      for (var o = [], s = 0; s < r.length; s++) r[s] === i[a] && o.push(s);
      for (var l = -1, c = -1 / 0, u = 0; u < o.length; u++) {
        for (var d = 0, h = 0; h < o.length; h++) d += n[o[h] * t + o[u]];
        d > c && ((l = u), (c = d));
      }
      i[a] = o[l];
    }
    return (r = YE(t, n, i)), r;
  },
  KE = function (t) {
    for (
      var n = this.cy(), i = this.nodes(), r = jV(t), a = {}, o = 0;
      o < i.length;
      o++
    )
      a[i[o].id()] = o;
    var s, l, c, u, d, h;
    (s = i.length), (l = s * s), (c = new Array(l));
    for (var p = 0; p < l; p++) c[p] = -1 / 0;
    for (var m = 0; m < s; m++)
      for (var _ = 0; _ < s; _++)
        m !== _ && (c[m * s + _] = qV(r.distance, i[m], i[_], r.attributes));
    u = UV(c, r.preference);
    for (var v = 0; v < s; v++) c[v * s + v] = u;
    d = new Array(l);
    for (var y = 0; y < l; y++) d[y] = 0;
    h = new Array(l);
    for (var w = 0; w < l; w++) h[w] = 0;
    for (
      var x = new Array(s), C = new Array(s), S = new Array(s), g = 0;
      g < s;
      g++
    )
      (x[g] = 0), (C[g] = 0), (S[g] = 0);
    for (var D = new Array(s * r.minIterations), T = 0; T < D.length; T++)
      D[T] = 0;
    var O;
    for (O = 0; O < r.maxIterations; O++) {
      for (var R = 0; R < s; R++) {
        for (var P = -1 / 0, L = -1 / 0, V = -1, B = 0, q = 0; q < s; q++)
          (x[q] = d[R * s + q]),
            (B = h[R * s + q] + c[R * s + q]),
            B >= P ? ((L = P), (P = B), (V = q)) : B > L && (L = B);
        for (var U = 0; U < s; U++)
          d[R * s + U] =
            (1 - r.damping) * (c[R * s + U] - P) + r.damping * x[U];
        d[R * s + V] = (1 - r.damping) * (c[R * s + V] - L) + r.damping * x[V];
      }
      for (var W = 0; W < s; W++) {
        for (var Z = 0, it = 0; it < s; it++)
          (x[it] = h[it * s + W]),
            (C[it] = Math.max(0, d[it * s + W])),
            (Z += C[it]);
        (Z -= C[W]), (C[W] = d[W * s + W]), (Z += C[W]);
        for (var rt = 0; rt < s; rt++)
          h[rt * s + W] =
            (1 - r.damping) * Math.min(0, Z - C[rt]) + r.damping * x[rt];
        h[W * s + W] = (1 - r.damping) * (Z - C[W]) + r.damping * x[W];
      }
      for (var nt = 0, J = 0; J < s; J++) {
        var dt = h[J * s + J] + d[J * s + J] > 0 ? 1 : 0;
        (D[(O % r.minIterations) * s + J] = dt), (nt += dt);
      }
      if (nt > 0 && (O >= r.minIterations - 1 || O == r.maxIterations - 1)) {
        for (var yt = 0, wt = 0; wt < s; wt++) {
          S[wt] = 0;
          for (var bt = 0; bt < r.minIterations; bt++) S[wt] += D[bt * s + wt];
          (S[wt] === 0 || S[wt] === r.minIterations) && yt++;
        }
        if (yt === s) break;
      }
    }
    for (
      var At = HV(s, d, h), _t = WV(s, c, At), K = {}, lt = 0;
      lt < At.length;
      lt++
    )
      K[At[lt]] = [];
    for (var ot = 0; ot < i.length; ot++) {
      var Mt = a[i[ot].id()],
        Vt = _t[Mt];
      Vt != null && K[Vt].push(i[ot]);
    }
    for (var Ot = new Array(At.length), Lt = 0; Lt < At.length; Lt++)
      Ot[Lt] = n.collection(K[At[Lt]]);
    return Ot;
  },
  $V = { affinityPropagation: KE, ap: KE },
  GV = An({ root: void 0, directed: !1 }),
  YV = {
    hierholzer: function (t) {
      if (!Ge(t)) {
        var n = arguments;
        t = { root: n[0], directed: n[1] };
      }
      var i = GV(t),
        r = i.root,
        a = i.directed,
        o = this,
        s = !1,
        l,
        c,
        u;
      r && (u = he(r) ? this.filter(r)[0].id() : r[0].id());
      var d = {},
        h = {};
      a
        ? o.forEach(function (w) {
            var x = w.id();
            if (w.isNode()) {
              var C = w.indegree(!0),
                S = w.outdegree(!0),
                g = C - S,
                D = S - C;
              g == 1
                ? l
                  ? (s = !0)
                  : (l = x)
                : D == 1
                  ? c
                    ? (s = !0)
                    : (c = x)
                  : (D > 1 || g > 1) && (s = !0),
                (d[x] = []),
                w.outgoers().forEach(function (T) {
                  T.isEdge() && d[x].push(T.id());
                });
            } else h[x] = [void 0, w.target().id()];
          })
        : o.forEach(function (w) {
            var x = w.id();
            if (w.isNode()) {
              var C = w.degree(!0);
              C % 2 && (l ? (c ? (s = !0) : (c = x)) : (l = x)),
                (d[x] = []),
                w.connectedEdges().forEach(function (S) {
                  return d[x].push(S.id());
                });
            } else h[x] = [w.source().id(), w.target().id()];
          });
      var p = { found: !1, trail: void 0 };
      if (s) return p;
      if (c && l)
        if (a) {
          if (u && c != u) return p;
          u = c;
        } else {
          if (u && c != u && l != u) return p;
          u || (u = c);
        }
      else u || (u = o[0].id());
      var m = function (x) {
          for (var C = x, S = [x], g, D, T; d[C].length; )
            (g = d[C].shift()),
              (D = h[g][0]),
              (T = h[g][1]),
              C != T
                ? ((d[T] = d[T].filter(function (O) {
                    return O != g;
                  })),
                  (C = T))
                : !a &&
                  C != D &&
                  ((d[D] = d[D].filter(function (O) {
                    return O != g;
                  })),
                  (C = D)),
              S.unshift(g),
              S.unshift(C);
          return S;
        },
        _ = [],
        v = [];
      for (v = m(u); v.length != 1; )
        d[v[0]].length == 0
          ? (_.unshift(o.getElementById(v.shift())),
            _.unshift(o.getElementById(v.shift())))
          : (v = m(v.shift()).concat(v));
      _.unshift(o.getElementById(v.shift()));
      for (var y in d) if (d[y].length) return p;
      return (p.found = !0), (p.trail = this.spawn(_, !0)), p;
    },
  },
  Ap = function () {
    var t = this,
      n = {},
      i = 0,
      r = 0,
      a = [],
      o = [],
      s = {},
      l = function (h, p) {
        for (
          var m = o.length - 1, _ = [], v = t.spawn();
          o[m].x != h || o[m].y != p;

        )
          _.push(o.pop().edge), m--;
        _.push(o.pop().edge),
          _.forEach(function (y) {
            var w = y.connectedNodes().intersection(t);
            v.merge(y),
              w.forEach(function (x) {
                var C = x.id(),
                  S = x.connectedEdges().intersection(t);
                v.merge(x),
                  n[C].cutVertex
                    ? v.merge(
                        S.filter(function (g) {
                          return g.isLoop();
                        })
                      )
                    : v.merge(S);
              });
          }),
          a.push(v);
      },
      c = function d(h, p, m) {
        h === m && (r += 1), (n[p] = { id: i, low: i++, cutVertex: !1 });
        var _ = t.getElementById(p).connectedEdges().intersection(t);
        if (_.size() === 0) a.push(t.spawn(t.getElementById(p)));
        else {
          var v, y, w, x;
          _.forEach(function (C) {
            (v = C.source().id()),
              (y = C.target().id()),
              (w = v === p ? y : v),
              w !== m &&
                ((x = C.id()),
                s[x] || ((s[x] = !0), o.push({ x: p, y: w, edge: C })),
                w in n
                  ? (n[p].low = Math.min(n[p].low, n[w].id))
                  : (d(h, w, p),
                    (n[p].low = Math.min(n[p].low, n[w].low)),
                    n[p].id <= n[w].low && ((n[p].cutVertex = !0), l(p, w))));
          });
        }
      };
    t.forEach(function (d) {
      if (d.isNode()) {
        var h = d.id();
        h in n || ((r = 0), c(h, h), (n[h].cutVertex = r > 1));
      }
    });
    var u = Object.keys(n)
      .filter(function (d) {
        return n[d].cutVertex;
      })
      .map(function (d) {
        return t.getElementById(d);
      });
    return { cut: t.spawn(u), components: a };
  },
  KV = {
    hopcroftTarjanBiconnected: Ap,
    htbc: Ap,
    htb: Ap,
    hopcroftTarjanBiconnectedComponents: Ap,
  },
  Ip = function () {
    var t = this,
      n = {},
      i = 0,
      r = [],
      a = [],
      o = t.spawn(t),
      s = function l(c) {
        a.push(c), (n[c] = { index: i, low: i++, explored: !1 });
        var u = t.getElementById(c).connectedEdges().intersection(t);
        if (
          (u.forEach(function (_) {
            var v = _.target().id();
            v !== c &&
              (v in n || l(v),
              n[v].explored || (n[c].low = Math.min(n[c].low, n[v].low)));
          }),
          n[c].index === n[c].low)
        ) {
          for (var d = t.spawn(); ; ) {
            var h = a.pop();
            if (
              (d.merge(t.getElementById(h)),
              (n[h].low = n[c].index),
              (n[h].explored = !0),
              h === c)
            )
              break;
          }
          var p = d.edgesWith(d),
            m = d.merge(p);
          r.push(m), (o = o.difference(m));
        }
      };
    return (
      t.forEach(function (l) {
        if (l.isNode()) {
          var c = l.id();
          c in n || s(c);
        }
      }),
      { cut: o, components: r }
    );
  },
  XV = {
    tarjanStronglyConnected: Ip,
    tsc: Ip,
    tscc: Ip,
    tarjanStronglyConnectedComponents: Ip,
  },
  bD = {};
[
  Rd,
  Sz,
  Dz,
  Mz,
  Iz,
  Oz,
  Nz,
  sV,
  lc,
  cc,
  Vy,
  _V,
  OV,
  zV,
  $V,
  YV,
  KV,
  XV,
].forEach(function (e) {
  be(bD, e);
});
var yD = 0,
  _D = 1,
  xD = 2,
  Ja = function e(t) {
    if (!(this instanceof e)) return new e(t);
    (this.id = 'Thenable/1.0.7'),
      (this.state = yD),
      (this.fulfillValue = void 0),
      (this.rejectReason = void 0),
      (this.onFulfilled = []),
      (this.onRejected = []),
      (this.proxy = { then: this.then.bind(this) }),
      typeof t == 'function' &&
        t.call(this, this.fulfill.bind(this), this.reject.bind(this));
  };
Ja.prototype = {
  fulfill: function (t) {
    return XE(this, _D, 'fulfillValue', t);
  },
  reject: function (t) {
    return XE(this, xD, 'rejectReason', t);
  },
  then: function (t, n) {
    var i = this,
      r = new Ja();
    return (
      i.onFulfilled.push(QE(t, r, 'fulfill')),
      i.onRejected.push(QE(n, r, 'reject')),
      wD(i),
      r.proxy
    );
  },
};
var XE = function (t, n, i, r) {
    return t.state === yD && ((t.state = n), (t[i] = r), wD(t)), t;
  },
  wD = function (t) {
    t.state === _D
      ? ZE(t, 'onFulfilled', t.fulfillValue)
      : t.state === xD && ZE(t, 'onRejected', t.rejectReason);
  },
  ZE = function (t, n, i) {
    if (t[n].length !== 0) {
      var r = t[n];
      t[n] = [];
      var a = function () {
        for (var s = 0; s < r.length; s++) r[s](i);
      };
      typeof setImmediate == 'function' ? setImmediate(a) : setTimeout(a, 0);
    }
  },
  QE = function (t, n, i) {
    return function (r) {
      if (typeof t != 'function') n[i].call(n, r);
      else {
        var a;
        try {
          a = t(r);
        } catch (o) {
          n.reject(o);
          return;
        }
        ZV(n, a);
      }
    };
  },
  ZV = function e(t, n) {
    if (t === n || t.proxy === n) {
      t.reject(new TypeError('cannot resolve promise with itself'));
      return;
    }
    var i;
    if ((fn(n) === 'object' && n !== null) || typeof n == 'function')
      try {
        i = n.then;
      } catch (a) {
        t.reject(a);
        return;
      }
    if (typeof i == 'function') {
      var r = !1;
      try {
        i.call(
          n,
          function (a) {
            r ||
              ((r = !0),
              a === n
                ? t.reject(new TypeError('circular thenable chain'))
                : e(t, a));
          },
          function (a) {
            r || ((r = !0), t.reject(a));
          }
        );
      } catch (a) {
        r || t.reject(a);
      }
      return;
    }
    t.fulfill(n);
  };
Ja.all = function (e) {
  return new Ja(function (t, n) {
    for (
      var i = new Array(e.length),
        r = 0,
        a = function (l, c) {
          (i[l] = c), r++, r === e.length && t(i);
        },
        o = 0;
      o < e.length;
      o++
    )
      (function (s) {
        var l = e[s],
          c = l != null && l.then != null;
        if (c)
          l.then(
            function (d) {
              a(s, d);
            },
            function (d) {
              n(d);
            }
          );
        else {
          var u = l;
          a(s, u);
        }
      })(o);
  });
};
Ja.resolve = function (e) {
  return new Ja(function (t, n) {
    t(e);
  });
};
Ja.reject = function (e) {
  return new Ja(function (t, n) {
    n(e);
  });
};
var gc = typeof Promise < 'u' ? Promise : Ja,
  jy = function (t, n, i) {
    var r = i0(t),
      a = !r,
      o = (this._private = be({ duration: 1e3 }, n, i));
    if (
      ((o.target = t),
      (o.style = o.style || o.css),
      (o.started = !1),
      (o.playing = !1),
      (o.hooked = !1),
      (o.applying = !1),
      (o.progress = 0),
      (o.completes = []),
      (o.frames = []),
      o.complete && ji(o.complete) && o.completes.push(o.complete),
      a)
    ) {
      var s = t.position();
      (o.startPosition = o.startPosition || { x: s.x, y: s.y }),
        (o.startStyle =
          o.startStyle || t.cy().style().getAnimationStartStyle(t, o.style));
    }
    if (r) {
      var l = t.pan();
      (o.startPan = { x: l.x, y: l.y }), (o.startZoom = t.zoom());
    }
    (this.length = 1), (this[0] = this);
  },
  tl = jy.prototype;
be(tl, {
  instanceString: function () {
    return 'animation';
  },
  hook: function () {
    var t = this._private;
    if (!t.hooked) {
      var n,
        i = t.target._private.animation;
      t.queue ? (n = i.queue) : (n = i.current),
        n.push(this),
        vr(t.target) && t.target.cy().addToAnimationPool(t.target),
        (t.hooked = !0);
    }
    return this;
  },
  play: function () {
    var t = this._private;
    return (
      t.progress === 1 && (t.progress = 0),
      (t.playing = !0),
      (t.started = !1),
      (t.stopped = !1),
      this.hook(),
      this
    );
  },
  playing: function () {
    return this._private.playing;
  },
  apply: function () {
    var t = this._private;
    return (
      (t.applying = !0), (t.started = !1), (t.stopped = !1), this.hook(), this
    );
  },
  applying: function () {
    return this._private.applying;
  },
  pause: function () {
    var t = this._private;
    return (t.playing = !1), (t.started = !1), this;
  },
  stop: function () {
    var t = this._private;
    return (t.playing = !1), (t.started = !1), (t.stopped = !0), this;
  },
  rewind: function () {
    return this.progress(0);
  },
  fastforward: function () {
    return this.progress(1);
  },
  time: function (t) {
    var n = this._private;
    return t === void 0
      ? n.progress * n.duration
      : this.progress(t / n.duration);
  },
  progress: function (t) {
    var n = this._private,
      i = n.playing;
    return t === void 0
      ? n.progress
      : (i && this.pause(),
        (n.progress = t),
        (n.started = !1),
        i && this.play(),
        this);
  },
  completed: function () {
    return this._private.progress === 1;
  },
  reverse: function () {
    var t = this._private,
      n = t.playing;
    n && this.pause(), (t.progress = 1 - t.progress), (t.started = !1);
    var i = function (c, u) {
      var d = t[c];
      d != null && ((t[c] = t[u]), (t[u] = d));
    };
    if (
      (i('zoom', 'startZoom'),
      i('pan', 'startPan'),
      i('position', 'startPosition'),
      t.style)
    )
      for (var r = 0; r < t.style.length; r++) {
        var a = t.style[r],
          o = a.name,
          s = t.startStyle[o];
        (t.startStyle[o] = a), (t.style[r] = s);
      }
    return n && this.play(), this;
  },
  promise: function (t) {
    var n = this._private,
      i;
    switch (t) {
      case 'frame':
        i = n.frames;
        break;
      default:
      case 'complete':
      case 'completed':
        i = n.completes;
    }
    return new gc(function (r, a) {
      i.push(function () {
        r();
      });
    });
  },
});
tl.complete = tl.completed;
tl.run = tl.play;
tl.running = tl.playing;
var QV = {
    animated: function () {
      return function () {
        var n = this,
          i = n.length !== void 0,
          r = i ? n : [n],
          a = this._private.cy || this;
        if (!a.styleEnabled()) return !1;
        var o = r[0];
        if (o) return o._private.animation.current.length > 0;
      };
    },
    clearQueue: function () {
      return function () {
        var n = this,
          i = n.length !== void 0,
          r = i ? n : [n],
          a = this._private.cy || this;
        if (!a.styleEnabled()) return this;
        for (var o = 0; o < r.length; o++) {
          var s = r[o];
          s._private.animation.queue = [];
        }
        return this;
      };
    },
    delay: function () {
      return function (n, i) {
        var r = this._private.cy || this;
        return r.styleEnabled()
          ? this.animate({ delay: n, duration: n, complete: i })
          : this;
      };
    },
    delayAnimation: function () {
      return function (n, i) {
        var r = this._private.cy || this;
        return r.styleEnabled()
          ? this.animation({ delay: n, duration: n, complete: i })
          : this;
      };
    },
    animation: function () {
      return function (n, i) {
        var r = this,
          a = r.length !== void 0,
          o = a ? r : [r],
          s = this._private.cy || this,
          l = !a,
          c = !l;
        if (!s.styleEnabled()) return this;
        var u = s.style();
        n = be({}, n, i);
        var d = Object.keys(n).length === 0;
        if (d) return new jy(o[0], n);
        switch ((n.duration === void 0 && (n.duration = 400), n.duration)) {
          case 'slow':
            n.duration = 600;
            break;
          case 'fast':
            n.duration = 200;
            break;
        }
        if (
          (c &&
            ((n.style = u.getPropsList(n.style || n.css)), (n.css = void 0)),
          c && n.renderedPosition != null)
        ) {
          var h = n.renderedPosition,
            p = s.pan(),
            m = s.zoom();
          n.position = sD(h, m, p);
        }
        if (l && n.panBy != null) {
          var _ = n.panBy,
            v = s.pan();
          n.pan = { x: v.x + _.x, y: v.y + _.y };
        }
        var y = n.center || n.centre;
        if (l && y != null) {
          var w = s.getCenterPan(y.eles, n.zoom);
          w != null && (n.pan = w);
        }
        if (l && n.fit != null) {
          var x = n.fit,
            C = s.getFitViewport(x.eles || x.boundingBox, x.padding);
          C != null && ((n.pan = C.pan), (n.zoom = C.zoom));
        }
        if (l && Ge(n.zoom)) {
          var S = s.getZoomedViewport(n.zoom);
          S != null
            ? (S.zoomed && (n.zoom = S.zoom), S.panned && (n.pan = S.pan))
            : (n.zoom = null);
        }
        return new jy(o[0], n);
      };
    },
    animate: function () {
      return function (n, i) {
        var r = this,
          a = r.length !== void 0,
          o = a ? r : [r],
          s = this._private.cy || this;
        if (!s.styleEnabled()) return this;
        i && (n = be({}, n, i));
        for (var l = 0; l < o.length; l++) {
          var c = o[l],
            u = c.animated() && (n.queue === void 0 || n.queue),
            d = c.animation(n, u ? { queue: !0 } : void 0);
          d.play();
        }
        return this;
      };
    },
    stop: function () {
      return function (n, i) {
        var r = this,
          a = r.length !== void 0,
          o = a ? r : [r],
          s = this._private.cy || this;
        if (!s.styleEnabled()) return this;
        for (var l = 0; l < o.length; l++) {
          for (
            var c = o[l], u = c._private, d = u.animation.current, h = 0;
            h < d.length;
            h++
          ) {
            var p = d[h],
              m = p._private;
            i && (m.duration = 0);
          }
          n && (u.animation.queue = []), i || (u.animation.current = []);
        }
        return s.notify('draw'), this;
      };
    },
  },
  JV = Array.isArray,
  um = JV,
  tj = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
  ej = /^\w*$/;
function ij(e, t) {
  if (um(e)) return !1;
  var n = typeof e;
  return n == 'number' || n == 'symbol' || n == 'boolean' || e == null || qd(e)
    ? !0
    : ej.test(e) || !tj.test(e) || (t != null && e in Object(t));
}
var nj = ij,
  rj = '[object AsyncFunction]',
  aj = '[object Function]',
  oj = '[object GeneratorFunction]',
  sj = '[object Proxy]';
function lj(e) {
  if (!Xs(e)) return !1;
  var t = QS(e);
  return t == aj || t == oj || t == rj || t == sj;
}
var cj = lj,
  uj = am['__core-js_shared__'],
  Ay = uj,
  JE = (function () {
    var e = /[^.]+$/.exec((Ay && Ay.keys && Ay.keys.IE_PROTO) || '');
    return e ? 'Symbol(src)_1.' + e : '';
  })();
function dj(e) {
  return !!JE && JE in e;
}
var hj = dj,
  fj = Function.prototype,
  pj = fj.toString;
function mj(e) {
  if (e != null) {
    try {
      return pj.call(e);
    } catch {}
    try {
      return e + '';
    } catch {}
  }
  return '';
}
var gj = mj,
  vj = /[\\^$.*+?()[\]{}|]/g,
  bj = /^\[object .+?Constructor\]$/,
  yj = Function.prototype,
  _j = Object.prototype,
  xj = yj.toString,
  wj = _j.hasOwnProperty,
  kj = RegExp(
    '^' +
      xj
        .call(wj)
        .replace(vj, '\\$&')
        .replace(
          /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
          '$1.*?'
        ) +
      '$'
  );
function Cj(e) {
  if (!Xs(e) || hj(e)) return !1;
  var t = cj(e) ? kj : bj;
  return t.test(gj(e));
}
var Ej = Cj;
function Sj(e, t) {
  return e?.[t];
}
var Dj = Sj;
function Tj(e, t) {
  var n = Dj(e, t);
  return Ej(n) ? n : void 0;
}
var d0 = Tj,
  Mj = d0(Object, 'create'),
  Ld = Mj;
function Aj() {
  (this.__data__ = Ld ? Ld(null) : {}), (this.size = 0);
}
var Ij = Aj;
function Rj(e) {
  var t = this.has(e) && delete this.__data__[e];
  return (this.size -= t ? 1 : 0), t;
}
var Oj = Rj,
  Pj = '__lodash_hash_undefined__',
  Lj = Object.prototype,
  Nj = Lj.hasOwnProperty;
function Fj(e) {
  var t = this.__data__;
  if (Ld) {
    var n = t[e];
    return n === Pj ? void 0 : n;
  }
  return Nj.call(t, e) ? t[e] : void 0;
}
var Bj = Fj,
  zj = Object.prototype,
  Vj = zj.hasOwnProperty;
function jj(e) {
  var t = this.__data__;
  return Ld ? t[e] !== void 0 : Vj.call(t, e);
}
var qj = jj,
  Uj = '__lodash_hash_undefined__';
function Hj(e, t) {
  var n = this.__data__;
  return (
    (this.size += this.has(e) ? 0 : 1),
    (n[e] = Ld && t === void 0 ? Uj : t),
    this
  );
}
var Wj = Hj;
function vc(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.clear(); ++t < n; ) {
    var i = e[t];
    this.set(i[0], i[1]);
  }
}
vc.prototype.clear = Ij;
vc.prototype.delete = Oj;
vc.prototype.get = Bj;
vc.prototype.has = qj;
vc.prototype.set = Wj;
var tS = vc;
function $j() {
  (this.__data__ = []), (this.size = 0);
}
var Gj = $j;
function Yj(e, t) {
  return e === t || (e !== e && t !== t);
}
var kD = Yj;
function Kj(e, t) {
  for (var n = e.length; n--; ) if (kD(e[n][0], t)) return n;
  return -1;
}
var dm = Kj,
  Xj = Array.prototype,
  Zj = Xj.splice;
function Qj(e) {
  var t = this.__data__,
    n = dm(t, e);
  if (n < 0) return !1;
  var i = t.length - 1;
  return n == i ? t.pop() : Zj.call(t, n, 1), --this.size, !0;
}
var Jj = Qj;
function t5(e) {
  var t = this.__data__,
    n = dm(t, e);
  return n < 0 ? void 0 : t[n][1];
}
var e5 = t5;
function i5(e) {
  return dm(this.__data__, e) > -1;
}
var n5 = i5;
function r5(e, t) {
  var n = this.__data__,
    i = dm(n, e);
  return i < 0 ? (++this.size, n.push([e, t])) : (n[i][1] = t), this;
}
var a5 = r5;
function bc(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.clear(); ++t < n; ) {
    var i = e[t];
    this.set(i[0], i[1]);
  }
}
bc.prototype.clear = Gj;
bc.prototype.delete = Jj;
bc.prototype.get = e5;
bc.prototype.has = n5;
bc.prototype.set = a5;
var o5 = bc,
  s5 = d0(am, 'Map'),
  l5 = s5;
function c5() {
  (this.size = 0),
    (this.__data__ = {
      hash: new tS(),
      map: new (l5 || o5)(),
      string: new tS(),
    });
}
var u5 = c5;
function d5(e) {
  var t = typeof e;
  return t == 'string' || t == 'number' || t == 'symbol' || t == 'boolean'
    ? e !== '__proto__'
    : e === null;
}
var h5 = d5;
function f5(e, t) {
  var n = e.__data__;
  return h5(t) ? n[typeof t == 'string' ? 'string' : 'hash'] : n.map;
}
var hm = f5;
function p5(e) {
  var t = hm(this, e).delete(e);
  return (this.size -= t ? 1 : 0), t;
}
var m5 = p5;
function g5(e) {
  return hm(this, e).get(e);
}
var v5 = g5;
function b5(e) {
  return hm(this, e).has(e);
}
var y5 = b5;
function _5(e, t) {
  var n = hm(this, e),
    i = n.size;
  return n.set(e, t), (this.size += n.size == i ? 0 : 1), this;
}
var x5 = _5;
function yc(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.clear(); ++t < n; ) {
    var i = e[t];
    this.set(i[0], i[1]);
  }
}
yc.prototype.clear = u5;
yc.prototype.delete = m5;
yc.prototype.get = v5;
yc.prototype.has = y5;
yc.prototype.set = x5;
var CD = yc,
  w5 = 'Expected a function';
function h0(e, t) {
  if (typeof e != 'function' || (t != null && typeof t != 'function'))
    throw new TypeError(w5);
  var n = function () {
    var i = arguments,
      r = t ? t.apply(this, i) : i[0],
      a = n.cache;
    if (a.has(r)) return a.get(r);
    var o = e.apply(this, i);
    return (n.cache = a.set(r, o) || a), o;
  };
  return (n.cache = new (h0.Cache || CD)()), n;
}
h0.Cache = CD;
var k5 = h0,
  C5 = 500;
function E5(e) {
  var t = k5(e, function (i) {
      return n.size === C5 && n.clear(), i;
    }),
    n = t.cache;
  return t;
}
var S5 = E5,
  D5 =
    /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
  T5 = /\\(\\)?/g,
  M5 = S5(function (e) {
    var t = [];
    return (
      e.charCodeAt(0) === 46 && t.push(''),
      e.replace(D5, function (n, i, r, a) {
        t.push(r ? a.replace(T5, '$1') : i || n);
      }),
      t
    );
  }),
  ED = M5;
function A5(e, t) {
  for (var n = -1, i = e == null ? 0 : e.length, r = Array(i); ++n < i; )
    r[n] = t(e[n], n, e);
  return r;
}
var SD = A5,
  I5 = 1 / 0,
  eS = dc ? dc.prototype : void 0,
  iS = eS ? eS.toString : void 0;
function DD(e) {
  if (typeof e == 'string') return e;
  if (um(e)) return SD(e, DD) + '';
  if (qd(e)) return iS ? iS.call(e) : '';
  var t = e + '';
  return t == '0' && 1 / e == -I5 ? '-0' : t;
}
var R5 = DD;
function O5(e) {
  return e == null ? '' : R5(e);
}
var TD = O5;
function P5(e, t) {
  return um(e) ? e : nj(e, t) ? [e] : ED(TD(e));
}
var MD = P5,
  L5 = 1 / 0;
function N5(e) {
  if (typeof e == 'string' || qd(e)) return e;
  var t = e + '';
  return t == '0' && 1 / e == -L5 ? '-0' : t;
}
var f0 = N5;
function F5(e, t) {
  t = MD(t, e);
  for (var n = 0, i = t.length; e != null && n < i; ) e = e[f0(t[n++])];
  return n && n == i ? e : void 0;
}
var B5 = F5;
function z5(e, t, n) {
  var i = e == null ? void 0 : B5(e, t);
  return i === void 0 ? n : i;
}
var V5 = z5,
  j5 = (function () {
    try {
      var e = d0(Object, 'defineProperty');
      return e({}, '', {}), e;
    } catch {}
  })(),
  nS = j5;
function q5(e, t, n) {
  t == '__proto__' && nS
    ? nS(e, t, { configurable: !0, enumerable: !0, value: n, writable: !0 })
    : (e[t] = n);
}
var U5 = q5,
  H5 = Object.prototype,
  W5 = H5.hasOwnProperty;
function $5(e, t, n) {
  var i = e[t];
  (!(W5.call(e, t) && kD(i, n)) || (n === void 0 && !(t in e))) && U5(e, t, n);
}
var G5 = $5,
  Y5 = 9007199254740991,
  K5 = /^(?:0|[1-9]\d*)$/;
function X5(e, t) {
  var n = typeof e;
  return (
    (t = t ?? Y5),
    !!t &&
      (n == 'number' || (n != 'symbol' && K5.test(e))) &&
      e > -1 &&
      e % 1 == 0 &&
      e < t
  );
}
var Z5 = X5;
function Q5(e, t, n, i) {
  if (!Xs(e)) return e;
  t = MD(t, e);
  for (var r = -1, a = t.length, o = a - 1, s = e; s != null && ++r < a; ) {
    var l = f0(t[r]),
      c = n;
    if (l === '__proto__' || l === 'constructor' || l === 'prototype') return e;
    if (r != o) {
      var u = s[l];
      (c = i ? i(u, l, s) : void 0),
        c === void 0 && (c = Xs(u) ? u : Z5(t[r + 1]) ? [] : {});
    }
    G5(s, l, c), (s = s[l]);
  }
  return e;
}
var J5 = Q5;
function tq(e, t, n) {
  return e == null ? e : J5(e, t, n);
}
var eq = tq;
function iq(e, t) {
  var n = -1,
    i = e.length;
  for (t || (t = Array(i)); ++n < i; ) t[n] = e[n];
  return t;
}
var nq = iq;
function rq(e) {
  return um(e) ? SD(e, f0) : qd(e) ? [e] : nq(ED(TD(e)));
}
var aq = rq,
  oq = {
    data: function (t) {
      var n = {
        field: 'data',
        bindingEvent: 'data',
        allowBinding: !1,
        allowSetting: !1,
        allowGetting: !1,
        settingEvent: 'data',
        settingTriggersEvent: !1,
        triggerFnName: 'trigger',
        immutableKeys: {},
        updateStyle: !1,
        beforeGet: function (r) {},
        beforeSet: function (r, a) {},
        onSet: function (r) {},
        canSet: function (r) {
          return !0;
        },
      };
      return (
        (t = be({}, n, t)),
        function (r, a) {
          var o = t,
            s = this,
            l = s.length !== void 0,
            c = l ? s : [s],
            u = l ? s[0] : s;
          if (he(r)) {
            var d = r.indexOf('.') !== -1,
              h = d && aq(r);
            if (o.allowGetting && a === void 0) {
              var p;
              return (
                u &&
                  (o.beforeGet(u),
                  h && u._private[o.field][r] === void 0
                    ? (p = V5(u._private[o.field], h))
                    : (p = u._private[o.field][r])),
                p
              );
            } else if (o.allowSetting && a !== void 0) {
              var m = !o.immutableKeys[r];
              if (m) {
                var _ = jS({}, r, a);
                o.beforeSet(s, _);
                for (var v = 0, y = c.length; v < y; v++) {
                  var w = c[v];
                  o.canSet(w) &&
                    (h && u._private[o.field][r] === void 0
                      ? eq(w._private[o.field], h, a)
                      : (w._private[o.field][r] = a));
                }
                o.updateStyle && s.updateStyle(),
                  o.onSet(s),
                  o.settingTriggersEvent && s[o.triggerFnName](o.settingEvent);
              }
            }
          } else if (o.allowSetting && Ge(r)) {
            var x = r,
              C,
              S,
              g = Object.keys(x);
            o.beforeSet(s, x);
            for (var D = 0; D < g.length; D++) {
              (C = g[D]), (S = x[C]);
              var T = !o.immutableKeys[C];
              if (T)
                for (var O = 0; O < c.length; O++) {
                  var R = c[O];
                  o.canSet(R) && (R._private[o.field][C] = S);
                }
            }
            o.updateStyle && s.updateStyle(),
              o.onSet(s),
              o.settingTriggersEvent && s[o.triggerFnName](o.settingEvent);
          } else if (o.allowBinding && ji(r)) {
            var P = r;
            s.on(o.bindingEvent, P);
          } else if (o.allowGetting && r === void 0) {
            var L;
            return u && (o.beforeGet(u), (L = u._private[o.field])), L;
          }
          return s;
        }
      );
    },
    removeData: function (t) {
      var n = {
        field: 'data',
        event: 'data',
        triggerFnName: 'trigger',
        triggerEvent: !1,
        immutableKeys: {},
      };
      return (
        (t = be({}, n, t)),
        function (r) {
          var a = t,
            o = this,
            s = o.length !== void 0,
            l = s ? o : [o];
          if (he(r)) {
            for (var c = r.split(/\s+/), u = c.length, d = 0; d < u; d++) {
              var h = c[d];
              if (!zo(h)) {
                var p = !a.immutableKeys[h];
                if (p)
                  for (var m = 0, _ = l.length; m < _; m++)
                    l[m]._private[a.field][h] = void 0;
              }
            }
            a.triggerEvent && o[a.triggerFnName](a.event);
          } else if (r === void 0) {
            for (var v = 0, y = l.length; v < y; v++)
              for (
                var w = l[v]._private[a.field], x = Object.keys(w), C = 0;
                C < x.length;
                C++
              ) {
                var S = x[C],
                  g = !a.immutableKeys[S];
                g && (w[S] = void 0);
              }
            a.triggerEvent && o[a.triggerFnName](a.event);
          }
          return o;
        }
      );
    },
  },
  sq = {
    eventAliasesOn: function (t) {
      var n = t;
      (n.addListener = n.listen = n.bind = n.on),
        (n.unlisten = n.unbind = n.off = n.removeListener),
        (n.trigger = n.emit),
        (n.pon = n.promiseOn =
          function (i, r) {
            var a = this,
              o = Array.prototype.slice.call(arguments, 0);
            return new gc(function (s, l) {
              var c = function (p) {
                  a.off.apply(a, d), s(p);
                },
                u = o.concat([c]),
                d = u.concat([]);
              a.on.apply(a, u);
            });
          });
    },
  },
  si = {};
[QV, oq, sq].forEach(function (e) {
  be(si, e);
});
var lq = {
    animate: si.animate(),
    animation: si.animation(),
    animated: si.animated(),
    clearQueue: si.clearQueue(),
    delay: si.delay(),
    delayAnimation: si.delayAnimation(),
    stop: si.stop(),
  },
  Vp = {
    classes: function (t) {
      var n = this;
      if (t === void 0) {
        var i = [];
        return (
          n[0]._private.classes.forEach(function (m) {
            return i.push(m);
          }),
          i
        );
      } else _i(t) || (t = (t || '').match(/\S+/g) || []);
      for (var r = [], a = new mc(t), o = 0; o < n.length; o++) {
        for (
          var s = n[o], l = s._private, c = l.classes, u = !1, d = 0;
          d < t.length;
          d++
        ) {
          var h = t[d],
            p = c.has(h);
          if (!p) {
            u = !0;
            break;
          }
        }
        u || (u = c.size !== t.length), u && ((l.classes = a), r.push(s));
      }
      return r.length > 0 && this.spawn(r).updateStyle().emit('class'), n;
    },
    addClass: function (t) {
      return this.toggleClass(t, !0);
    },
    hasClass: function (t) {
      var n = this[0];
      return n != null && n._private.classes.has(t);
    },
    toggleClass: function (t, n) {
      _i(t) || (t = t.match(/\S+/g) || []);
      for (
        var i = this, r = n === void 0, a = [], o = 0, s = i.length;
        o < s;
        o++
      )
        for (
          var l = i[o], c = l._private.classes, u = !1, d = 0;
          d < t.length;
          d++
        ) {
          var h = t[d],
            p = c.has(h),
            m = !1;
          n || (r && !p)
            ? (c.add(h), (m = !0))
            : (!n || (r && p)) && (c.delete(h), (m = !0)),
            !u && m && (a.push(l), (u = !0));
        }
      return a.length > 0 && this.spawn(a).updateStyle().emit('class'), i;
    },
    removeClass: function (t) {
      return this.toggleClass(t, !1);
    },
    flashClass: function (t, n) {
      var i = this;
      if (n == null) n = 250;
      else if (n === 0) return i;
      return (
        i.addClass(t),
        setTimeout(function () {
          i.removeClass(t);
        }, n),
        i
      );
    },
  };
Vp.className = Vp.classNames = Vp.classes;
var $e = {
  metaChar:
    '[\\!\\"\\#\\$\\%\\&\\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]',
  comparatorOp: '=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=',
  boolOp: '\\?|\\!|\\^',
  string: `"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,
  number: hn,
  meta: 'degree|indegree|outdegree',
  separator: '\\s*,\\s*',
  descendant: '\\s+',
  child: '\\s+>\\s+',
  subject: '\\$',
  group: 'node|edge|\\*',
  directedEdge: '\\s+->\\s+',
  undirectedEdge: '\\s+<->\\s+',
};
$e.variable = '(?:[\\w-.]|(?:\\\\' + $e.metaChar + '))+';
$e.className = '(?:[\\w-]|(?:\\\\' + $e.metaChar + '))+';
$e.value = $e.string + '|' + $e.number;
$e.id = $e.variable;
(function () {
  var e, t, n;
  for (e = $e.comparatorOp.split('|'), n = 0; n < e.length; n++)
    (t = e[n]), ($e.comparatorOp += '|@' + t);
  for (e = $e.comparatorOp.split('|'), n = 0; n < e.length; n++)
    (t = e[n]),
      !(t.indexOf('!') >= 0) && t !== '=' && ($e.comparatorOp += '|\\!' + t);
})();
var mi = function () {
    return { checks: [] };
  },
  ee = {
    GROUP: 0,
    COLLECTION: 1,
    FILTER: 2,
    DATA_COMPARE: 3,
    DATA_EXIST: 4,
    DATA_BOOL: 5,
    META_COMPARE: 6,
    STATE: 7,
    ID: 8,
    CLASS: 9,
    UNDIRECTED_EDGE: 10,
    DIRECTED_EDGE: 11,
    NODE_SOURCE: 12,
    NODE_TARGET: 13,
    NODE_NEIGHBOR: 14,
    CHILD: 15,
    DESCENDANT: 16,
    PARENT: 17,
    ANCESTOR: 18,
    COMPOUND_SPLIT: 19,
    TRUE: 20,
  },
  qy = [
    {
      selector: ':selected',
      matches: function (t) {
        return t.selected();
      },
    },
    {
      selector: ':unselected',
      matches: function (t) {
        return !t.selected();
      },
    },
    {
      selector: ':selectable',
      matches: function (t) {
        return t.selectable();
      },
    },
    {
      selector: ':unselectable',
      matches: function (t) {
        return !t.selectable();
      },
    },
    {
      selector: ':locked',
      matches: function (t) {
        return t.locked();
      },
    },
    {
      selector: ':unlocked',
      matches: function (t) {
        return !t.locked();
      },
    },
    {
      selector: ':visible',
      matches: function (t) {
        return t.visible();
      },
    },
    {
      selector: ':hidden',
      matches: function (t) {
        return !t.visible();
      },
    },
    {
      selector: ':transparent',
      matches: function (t) {
        return t.transparent();
      },
    },
    {
      selector: ':grabbed',
      matches: function (t) {
        return t.grabbed();
      },
    },
    {
      selector: ':free',
      matches: function (t) {
        return !t.grabbed();
      },
    },
    {
      selector: ':removed',
      matches: function (t) {
        return t.removed();
      },
    },
    {
      selector: ':inside',
      matches: function (t) {
        return !t.removed();
      },
    },
    {
      selector: ':grabbable',
      matches: function (t) {
        return t.grabbable();
      },
    },
    {
      selector: ':ungrabbable',
      matches: function (t) {
        return !t.grabbable();
      },
    },
    {
      selector: ':animated',
      matches: function (t) {
        return t.animated();
      },
    },
    {
      selector: ':unanimated',
      matches: function (t) {
        return !t.animated();
      },
    },
    {
      selector: ':parent',
      matches: function (t) {
        return t.isParent();
      },
    },
    {
      selector: ':childless',
      matches: function (t) {
        return t.isChildless();
      },
    },
    {
      selector: ':child',
      matches: function (t) {
        return t.isChild();
      },
    },
    {
      selector: ':orphan',
      matches: function (t) {
        return t.isOrphan();
      },
    },
    {
      selector: ':nonorphan',
      matches: function (t) {
        return t.isChild();
      },
    },
    {
      selector: ':compound',
      matches: function (t) {
        return t.isNode()
          ? t.isParent()
          : t.source().isParent() || t.target().isParent();
      },
    },
    {
      selector: ':loop',
      matches: function (t) {
        return t.isLoop();
      },
    },
    {
      selector: ':simple',
      matches: function (t) {
        return t.isSimple();
      },
    },
    {
      selector: ':active',
      matches: function (t) {
        return t.active();
      },
    },
    {
      selector: ':inactive',
      matches: function (t) {
        return !t.active();
      },
    },
    {
      selector: ':backgrounding',
      matches: function (t) {
        return t.backgrounding();
      },
    },
    {
      selector: ':nonbackgrounding',
      matches: function (t) {
        return !t.backgrounding();
      },
    },
  ].sort(function (e, t) {
    return _B(e.selector, t.selector);
  }),
  cq = (function () {
    for (var e = {}, t, n = 0; n < qy.length; n++)
      (t = qy[n]), (e[t.selector] = t.matches);
    return e;
  })(),
  uq = function (t, n) {
    return cq[t](n);
  },
  dq =
    '(' +
    qy
      .map(function (e) {
        return e.selector;
      })
      .join('|') +
    ')',
  Jl = function (t) {
    return t.replace(
      new RegExp('\\\\(' + $e.metaChar + ')', 'g'),
      function (n, i) {
        return i;
      }
    );
  },
  Po = function (t, n, i) {
    t[t.length - 1] = i;
  },
  Uy = [
    {
      name: 'group',
      query: !0,
      regex: '(' + $e.group + ')',
      populate: function (t, n, i) {
        var r = ia(i, 1),
          a = r[0];
        n.checks.push({ type: ee.GROUP, value: a === '*' ? a : a + 's' });
      },
    },
    {
      name: 'state',
      query: !0,
      regex: dq,
      populate: function (t, n, i) {
        var r = ia(i, 1),
          a = r[0];
        n.checks.push({ type: ee.STATE, value: a });
      },
    },
    {
      name: 'id',
      query: !0,
      regex: '\\#(' + $e.id + ')',
      populate: function (t, n, i) {
        var r = ia(i, 1),
          a = r[0];
        n.checks.push({ type: ee.ID, value: Jl(a) });
      },
    },
    {
      name: 'className',
      query: !0,
      regex: '\\.(' + $e.className + ')',
      populate: function (t, n, i) {
        var r = ia(i, 1),
          a = r[0];
        n.checks.push({ type: ee.CLASS, value: Jl(a) });
      },
    },
    {
      name: 'dataExists',
      query: !0,
      regex: '\\[\\s*(' + $e.variable + ')\\s*\\]',
      populate: function (t, n, i) {
        var r = ia(i, 1),
          a = r[0];
        n.checks.push({ type: ee.DATA_EXIST, field: Jl(a) });
      },
    },
    {
      name: 'dataCompare',
      query: !0,
      regex:
        '\\[\\s*(' +
        $e.variable +
        ')\\s*(' +
        $e.comparatorOp +
        ')\\s*(' +
        $e.value +
        ')\\s*\\]',
      populate: function (t, n, i) {
        var r = ia(i, 3),
          a = r[0],
          o = r[1],
          s = r[2],
          l = new RegExp('^' + $e.string + '$').exec(s) != null;
        l ? (s = s.substring(1, s.length - 1)) : (s = parseFloat(s)),
          n.checks.push({
            type: ee.DATA_COMPARE,
            field: Jl(a),
            operator: o,
            value: s,
          });
      },
    },
    {
      name: 'dataBool',
      query: !0,
      regex: '\\[\\s*(' + $e.boolOp + ')\\s*(' + $e.variable + ')\\s*\\]',
      populate: function (t, n, i) {
        var r = ia(i, 2),
          a = r[0],
          o = r[1];
        n.checks.push({ type: ee.DATA_BOOL, field: Jl(o), operator: a });
      },
    },
    {
      name: 'metaCompare',
      query: !0,
      regex:
        '\\[\\[\\s*(' +
        $e.meta +
        ')\\s*(' +
        $e.comparatorOp +
        ')\\s*(' +
        $e.number +
        ')\\s*\\]\\]',
      populate: function (t, n, i) {
        var r = ia(i, 3),
          a = r[0],
          o = r[1],
          s = r[2];
        n.checks.push({
          type: ee.META_COMPARE,
          field: Jl(a),
          operator: o,
          value: parseFloat(s),
        });
      },
    },
    {
      name: 'nextQuery',
      separator: !0,
      regex: $e.separator,
      populate: function (t, n) {
        var i = t.currentSubject,
          r = t.edgeCount,
          a = t.compoundCount,
          o = t[t.length - 1];
        i != null && ((o.subject = i), (t.currentSubject = null)),
          (o.edgeCount = r),
          (o.compoundCount = a),
          (t.edgeCount = 0),
          (t.compoundCount = 0);
        var s = (t[t.length++] = mi());
        return s;
      },
    },
    {
      name: 'directedEdge',
      separator: !0,
      regex: $e.directedEdge,
      populate: function (t, n) {
        if (t.currentSubject == null) {
          var i = mi(),
            r = n,
            a = mi();
          return (
            i.checks.push({ type: ee.DIRECTED_EDGE, source: r, target: a }),
            Po(t, n, i),
            t.edgeCount++,
            a
          );
        } else {
          var o = mi(),
            s = n,
            l = mi();
          return (
            o.checks.push({ type: ee.NODE_SOURCE, source: s, target: l }),
            Po(t, n, o),
            t.edgeCount++,
            l
          );
        }
      },
    },
    {
      name: 'undirectedEdge',
      separator: !0,
      regex: $e.undirectedEdge,
      populate: function (t, n) {
        if (t.currentSubject == null) {
          var i = mi(),
            r = n,
            a = mi();
          return (
            i.checks.push({ type: ee.UNDIRECTED_EDGE, nodes: [r, a] }),
            Po(t, n, i),
            t.edgeCount++,
            a
          );
        } else {
          var o = mi(),
            s = n,
            l = mi();
          return (
            o.checks.push({ type: ee.NODE_NEIGHBOR, node: s, neighbor: l }),
            Po(t, n, o),
            l
          );
        }
      },
    },
    {
      name: 'child',
      separator: !0,
      regex: $e.child,
      populate: function (t, n) {
        if (t.currentSubject == null) {
          var i = mi(),
            r = mi(),
            a = t[t.length - 1];
          return (
            i.checks.push({ type: ee.CHILD, parent: a, child: r }),
            Po(t, n, i),
            t.compoundCount++,
            r
          );
        } else if (t.currentSubject === n) {
          var o = mi(),
            s = t[t.length - 1],
            l = mi(),
            c = mi(),
            u = mi(),
            d = mi();
          return (
            o.checks.push({
              type: ee.COMPOUND_SPLIT,
              left: s,
              right: l,
              subject: c,
            }),
            (c.checks = n.checks),
            (n.checks = [{ type: ee.TRUE }]),
            d.checks.push({ type: ee.TRUE }),
            l.checks.push({ type: ee.PARENT, parent: d, child: u }),
            Po(t, s, o),
            (t.currentSubject = c),
            t.compoundCount++,
            u
          );
        } else {
          var h = mi(),
            p = mi(),
            m = [{ type: ee.PARENT, parent: h, child: p }];
          return (h.checks = n.checks), (n.checks = m), t.compoundCount++, p;
        }
      },
    },
    {
      name: 'descendant',
      separator: !0,
      regex: $e.descendant,
      populate: function (t, n) {
        if (t.currentSubject == null) {
          var i = mi(),
            r = mi(),
            a = t[t.length - 1];
          return (
            i.checks.push({ type: ee.DESCENDANT, ancestor: a, descendant: r }),
            Po(t, n, i),
            t.compoundCount++,
            r
          );
        } else if (t.currentSubject === n) {
          var o = mi(),
            s = t[t.length - 1],
            l = mi(),
            c = mi(),
            u = mi(),
            d = mi();
          return (
            o.checks.push({
              type: ee.COMPOUND_SPLIT,
              left: s,
              right: l,
              subject: c,
            }),
            (c.checks = n.checks),
            (n.checks = [{ type: ee.TRUE }]),
            d.checks.push({ type: ee.TRUE }),
            l.checks.push({ type: ee.ANCESTOR, ancestor: d, descendant: u }),
            Po(t, s, o),
            (t.currentSubject = c),
            t.compoundCount++,
            u
          );
        } else {
          var h = mi(),
            p = mi(),
            m = [{ type: ee.ANCESTOR, ancestor: h, descendant: p }];
          return (h.checks = n.checks), (n.checks = m), t.compoundCount++, p;
        }
      },
    },
    {
      name: 'subject',
      modifier: !0,
      regex: $e.subject,
      populate: function (t, n) {
        if (t.currentSubject != null && t.currentSubject !== n)
          return (
            li('Redefinition of subject in selector `' + t.toString() + '`'), !1
          );
        t.currentSubject = n;
        var i = t[t.length - 1],
          r = i.checks[0],
          a = r == null ? null : r.type;
        a === ee.DIRECTED_EDGE
          ? (r.type = ee.NODE_TARGET)
          : a === ee.UNDIRECTED_EDGE &&
            ((r.type = ee.NODE_NEIGHBOR),
            (r.node = r.nodes[1]),
            (r.neighbor = r.nodes[0]),
            (r.nodes = null));
      },
    },
  ];
Uy.forEach(function (e) {
  return (e.regexObj = new RegExp('^' + e.regex));
});
var hq = function (t) {
    for (var n, i, r, a = 0; a < Uy.length; a++) {
      var o = Uy[a],
        s = o.name,
        l = t.match(o.regexObj);
      if (l != null) {
        (i = l), (n = o), (r = s);
        var c = l[0];
        t = t.substring(c.length);
        break;
      }
    }
    return { expr: n, match: i, name: r, remaining: t };
  },
  fq = function (t) {
    var n = t.match(/^\s+/);
    if (n) {
      var i = n[0];
      t = t.substring(i.length);
    }
    return t;
  },
  pq = function (t) {
    var n = this,
      i = (n.inputText = t),
      r = (n[0] = mi());
    for (n.length = 1, i = fq(i); ; ) {
      var a = hq(i);
      if (a.expr == null) return li('The selector `' + t + '`is invalid'), !1;
      var o = a.match.slice(1),
        s = a.expr.populate(n, r, o);
      if (s === !1) return !1;
      if ((s != null && (r = s), (i = a.remaining), i.match(/^\s*$/))) break;
    }
    var l = n[n.length - 1];
    n.currentSubject != null && (l.subject = n.currentSubject),
      (l.edgeCount = n.edgeCount),
      (l.compoundCount = n.compoundCount);
    for (var c = 0; c < n.length; c++) {
      var u = n[c];
      if (u.compoundCount > 0 && u.edgeCount > 0)
        return (
          li(
            'The selector `' +
              t +
              '` is invalid because it uses both a compound selector and an edge selector'
          ),
          !1
        );
      if (u.edgeCount > 1)
        return (
          li(
            'The selector `' +
              t +
              '` is invalid because it uses multiple edge selectors'
          ),
          !1
        );
      u.edgeCount === 1 &&
        li(
          'The selector `' +
            t +
            '` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.'
        );
    }
    return !0;
  },
  mq = function () {
    if (this.toStringCache != null) return this.toStringCache;
    for (
      var t = function (u) {
          return u ?? '';
        },
        n = function (u) {
          return he(u) ? '"' + u + '"' : t(u);
        },
        i = function (u) {
          return ' ' + u + ' ';
        },
        r = function (u, d) {
          var h = u.type,
            p = u.value;
          switch (h) {
            case ee.GROUP: {
              var m = t(p);
              return m.substring(0, m.length - 1);
            }
            case ee.DATA_COMPARE: {
              var _ = u.field,
                v = u.operator;
              return '[' + _ + i(t(v)) + n(p) + ']';
            }
            case ee.DATA_BOOL: {
              var y = u.operator,
                w = u.field;
              return '[' + t(y) + w + ']';
            }
            case ee.DATA_EXIST: {
              var x = u.field;
              return '[' + x + ']';
            }
            case ee.META_COMPARE: {
              var C = u.operator,
                S = u.field;
              return '[[' + S + i(t(C)) + n(p) + ']]';
            }
            case ee.STATE:
              return p;
            case ee.ID:
              return '#' + p;
            case ee.CLASS:
              return '.' + p;
            case ee.PARENT:
            case ee.CHILD:
              return a(u.parent, d) + i('>') + a(u.child, d);
            case ee.ANCESTOR:
            case ee.DESCENDANT:
              return a(u.ancestor, d) + ' ' + a(u.descendant, d);
            case ee.COMPOUND_SPLIT: {
              var g = a(u.left, d),
                D = a(u.subject, d),
                T = a(u.right, d);
              return g + (g.length > 0 ? ' ' : '') + D + T;
            }
            case ee.TRUE:
              return '';
          }
        },
        a = function (u, d) {
          return u.checks.reduce(function (h, p, m) {
            return h + (d === u && m === 0 ? '$' : '') + r(p, d);
          }, '');
        },
        o = '',
        s = 0;
      s < this.length;
      s++
    ) {
      var l = this[s];
      (o += a(l, l.subject)),
        this.length > 1 && s < this.length - 1 && (o += ', ');
    }
    return (this.toStringCache = o), o;
  },
  gq = { parse: pq, toString: mq },
  AD = function (t, n, i) {
    var r,
      a = he(t),
      o = $t(t),
      s = he(i),
      l,
      c,
      u = !1,
      d = !1,
      h = !1;
    switch (
      (n.indexOf('!') >= 0 && ((n = n.replace('!', '')), (d = !0)),
      n.indexOf('@') >= 0 && ((n = n.replace('@', '')), (u = !0)),
      (a || s || u) && ((l = !a && !o ? '' : '' + t), (c = '' + i)),
      u && ((t = l = l.toLowerCase()), (i = c = c.toLowerCase())),
      n)
    ) {
      case '*=':
        r = l.indexOf(c) >= 0;
        break;
      case '$=':
        r = l.indexOf(c, l.length - c.length) >= 0;
        break;
      case '^=':
        r = l.indexOf(c) === 0;
        break;
      case '=':
        r = t === i;
        break;
      case '>':
        (h = !0), (r = t > i);
        break;
      case '>=':
        (h = !0), (r = t >= i);
        break;
      case '<':
        (h = !0), (r = t < i);
        break;
      case '<=':
        (h = !0), (r = t <= i);
        break;
      default:
        r = !1;
        break;
    }
    return d && (t != null || !h) && (r = !r), r;
  },
  vq = function (t, n) {
    switch (n) {
      case '?':
        return !!t;
      case '!':
        return !t;
      case '^':
        return t === void 0;
    }
  },
  bq = function (t) {
    return t !== void 0;
  },
  p0 = function (t, n) {
    return t.data(n);
  },
  yq = function (t, n) {
    return t[n]();
  },
  Zi = [],
  Ii = function (t, n) {
    return t.checks.every(function (i) {
      return Zi[i.type](i, n);
    });
  };
Zi[ee.GROUP] = function (e, t) {
  var n = e.value;
  return n === '*' || n === t.group();
};
Zi[ee.STATE] = function (e, t) {
  var n = e.value;
  return uq(n, t);
};
Zi[ee.ID] = function (e, t) {
  var n = e.value;
  return t.id() === n;
};
Zi[ee.CLASS] = function (e, t) {
  var n = e.value;
  return t.hasClass(n);
};
Zi[ee.META_COMPARE] = function (e, t) {
  var n = e.field,
    i = e.operator,
    r = e.value;
  return AD(yq(t, n), i, r);
};
Zi[ee.DATA_COMPARE] = function (e, t) {
  var n = e.field,
    i = e.operator,
    r = e.value;
  return AD(p0(t, n), i, r);
};
Zi[ee.DATA_BOOL] = function (e, t) {
  var n = e.field,
    i = e.operator;
  return vq(p0(t, n), i);
};
Zi[ee.DATA_EXIST] = function (e, t) {
  var n = e.field;
  return e.operator, bq(p0(t, n));
};
Zi[ee.UNDIRECTED_EDGE] = function (e, t) {
  var n = e.nodes[0],
    i = e.nodes[1],
    r = t.source(),
    a = t.target();
  return (Ii(n, r) && Ii(i, a)) || (Ii(i, r) && Ii(n, a));
};
Zi[ee.NODE_NEIGHBOR] = function (e, t) {
  return (
    Ii(e.node, t) &&
    t.neighborhood().some(function (n) {
      return n.isNode() && Ii(e.neighbor, n);
    })
  );
};
Zi[ee.DIRECTED_EDGE] = function (e, t) {
  return Ii(e.source, t.source()) && Ii(e.target, t.target());
};
Zi[ee.NODE_SOURCE] = function (e, t) {
  return (
    Ii(e.source, t) &&
    t.outgoers().some(function (n) {
      return n.isNode() && Ii(e.target, n);
    })
  );
};
Zi[ee.NODE_TARGET] = function (e, t) {
  return (
    Ii(e.target, t) &&
    t.incomers().some(function (n) {
      return n.isNode() && Ii(e.source, n);
    })
  );
};
Zi[ee.CHILD] = function (e, t) {
  return Ii(e.child, t) && Ii(e.parent, t.parent());
};
Zi[ee.PARENT] = function (e, t) {
  return (
    Ii(e.parent, t) &&
    t.children().some(function (n) {
      return Ii(e.child, n);
    })
  );
};
Zi[ee.DESCENDANT] = function (e, t) {
  return (
    Ii(e.descendant, t) &&
    t.ancestors().some(function (n) {
      return Ii(e.ancestor, n);
    })
  );
};
Zi[ee.ANCESTOR] = function (e, t) {
  return (
    Ii(e.ancestor, t) &&
    t.descendants().some(function (n) {
      return Ii(e.descendant, n);
    })
  );
};
Zi[ee.COMPOUND_SPLIT] = function (e, t) {
  return Ii(e.subject, t) && Ii(e.left, t) && Ii(e.right, t);
};
Zi[ee.TRUE] = function () {
  return !0;
};
Zi[ee.COLLECTION] = function (e, t) {
  var n = e.value;
  return n.has(t);
};
Zi[ee.FILTER] = function (e, t) {
  var n = e.value;
  return n(t);
};
var _q = function (t) {
    var n = this;
    if (
      n.length === 1 &&
      n[0].checks.length === 1 &&
      n[0].checks[0].type === ee.ID
    )
      return t.getElementById(n[0].checks[0].value).collection();
    var i = function (a) {
      for (var o = 0; o < n.length; o++) {
        var s = n[o];
        if (Ii(s, a)) return !0;
      }
      return !1;
    };
    return (
      n.text() == null &&
        (i = function () {
          return !0;
        }),
      t.filter(i)
    );
  },
  xq = function (t) {
    for (var n = this, i = 0; i < n.length; i++) {
      var r = n[i];
      if (Ii(r, t)) return !0;
    }
    return !1;
  },
  wq = { matches: xq, filter: _q },
  jo = function (t) {
    (this.inputText = t),
      (this.currentSubject = null),
      (this.compoundCount = 0),
      (this.edgeCount = 0),
      (this.length = 0),
      t == null ||
        (he(t) && t.match(/^\s*$/)) ||
        (vr(t)
          ? this.addQuery({
              checks: [{ type: ee.COLLECTION, value: t.collection() }],
            })
          : ji(t)
            ? this.addQuery({ checks: [{ type: ee.FILTER, value: t }] })
            : he(t)
              ? this.parse(t) || (this.invalid = !0)
              : Xi('A selector must be created from a string; found '));
  },
  qo = jo.prototype;
[gq, wq].forEach(function (e) {
  return be(qo, e);
});
qo.text = function () {
  return this.inputText;
};
qo.size = function () {
  return this.length;
};
qo.eq = function (e) {
  return this[e];
};
qo.sameText = function (e) {
  return !this.invalid && !e.invalid && this.text() === e.text();
};
qo.addQuery = function (e) {
  this[this.length++] = e;
};
qo.selector = qo.toString;
var Fo = {
  allAre: function (t) {
    var n = new jo(t);
    return this.every(function (i) {
      return n.matches(i);
    });
  },
  is: function (t) {
    var n = new jo(t);
    return this.some(function (i) {
      return n.matches(i);
    });
  },
  some: function (t, n) {
    for (var i = 0; i < this.length; i++) {
      var r = n ? t.apply(n, [this[i], i, this]) : t(this[i], i, this);
      if (r) return !0;
    }
    return !1;
  },
  every: function (t, n) {
    for (var i = 0; i < this.length; i++) {
      var r = n ? t.apply(n, [this[i], i, this]) : t(this[i], i, this);
      if (!r) return !1;
    }
    return !0;
  },
  same: function (t) {
    if (this === t) return !0;
    t = this.cy().collection(t);
    var n = this.length,
      i = t.length;
    return n !== i
      ? !1
      : n === 1
        ? this[0] === t[0]
        : this.every(function (r) {
            return t.hasElementWithId(r.id());
          });
  },
  anySame: function (t) {
    return (
      (t = this.cy().collection(t)),
      this.some(function (n) {
        return t.hasElementWithId(n.id());
      })
    );
  },
  allAreNeighbors: function (t) {
    t = this.cy().collection(t);
    var n = this.neighborhood();
    return t.every(function (i) {
      return n.hasElementWithId(i.id());
    });
  },
  contains: function (t) {
    t = this.cy().collection(t);
    var n = this;
    return t.every(function (i) {
      return n.hasElementWithId(i.id());
    });
  },
};
Fo.allAreNeighbours = Fo.allAreNeighbors;
Fo.has = Fo.contains;
Fo.equal = Fo.equals = Fo.same;
var Nr = function (t, n) {
    return function (r, a, o, s) {
      var l = r,
        c = this,
        u;
      if (
        (l == null ? (u = '') : vr(l) && l.length === 1 && (u = l.id()),
        c.length === 1 && u)
      ) {
        var d = c[0]._private,
          h = (d.traversalCache = d.traversalCache || {}),
          p = (h[n] = h[n] || []),
          m = Zs(u),
          _ = p[m];
        return _ || (p[m] = t.call(c, r, a, o, s));
      } else return t.call(c, r, a, o, s);
    };
  },
  pc = {
    parent: function (t) {
      var n = [];
      if (this.length === 1) {
        var i = this[0]._private.parent;
        if (i) return i;
      }
      for (var r = 0; r < this.length; r++) {
        var a = this[r],
          o = a._private.parent;
        o && n.push(o);
      }
      return this.spawn(n, !0).filter(t);
    },
    parents: function (t) {
      for (var n = [], i = this.parent(); i.nonempty(); ) {
        for (var r = 0; r < i.length; r++) {
          var a = i[r];
          n.push(a);
        }
        i = i.parent();
      }
      return this.spawn(n, !0).filter(t);
    },
    commonAncestors: function (t) {
      for (var n, i = 0; i < this.length; i++) {
        var r = this[i],
          a = r.parents();
        (n = n || a), (n = n.intersect(a));
      }
      return n.filter(t);
    },
    orphans: function (t) {
      return this.stdFilter(function (n) {
        return n.isOrphan();
      }).filter(t);
    },
    nonorphans: function (t) {
      return this.stdFilter(function (n) {
        return n.isChild();
      }).filter(t);
    },
    children: Nr(function (e) {
      for (var t = [], n = 0; n < this.length; n++)
        for (var i = this[n], r = i._private.children, a = 0; a < r.length; a++)
          t.push(r[a]);
      return this.spawn(t, !0).filter(e);
    }, 'children'),
    siblings: function (t) {
      return this.parent().children().not(this).filter(t);
    },
    isParent: function () {
      var t = this[0];
      if (t) return t.isNode() && t._private.children.length !== 0;
    },
    isChildless: function () {
      var t = this[0];
      if (t) return t.isNode() && t._private.children.length === 0;
    },
    isChild: function () {
      var t = this[0];
      if (t) return t.isNode() && t._private.parent != null;
    },
    isOrphan: function () {
      var t = this[0];
      if (t) return t.isNode() && t._private.parent == null;
    },
    descendants: function (t) {
      var n = [];
      function i(r) {
        for (var a = 0; a < r.length; a++) {
          var o = r[a];
          n.push(o), o.children().nonempty() && i(o.children());
        }
      }
      return i(this.children()), this.spawn(n, !0).filter(t);
    },
  };
function m0(e, t, n, i) {
  for (
    var r = [], a = new mc(), o = e.cy(), s = o.hasCompoundNodes(), l = 0;
    l < e.length;
    l++
  ) {
    var c = e[l];
    n ? r.push(c) : s && i(r, a, c);
  }
  for (; r.length > 0; ) {
    var u = r.shift();
    t(u), a.add(u.id()), s && i(r, a, u);
  }
  return e;
}
function ID(e, t, n) {
  if (n.isParent())
    for (var i = n._private.children, r = 0; r < i.length; r++) {
      var a = i[r];
      t.has(a.id()) || e.push(a);
    }
}
pc.forEachDown = function (e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
  return m0(this, e, t, ID);
};
function RD(e, t, n) {
  if (n.isChild()) {
    var i = n._private.parent;
    t.has(i.id()) || e.push(i);
  }
}
pc.forEachUp = function (e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
  return m0(this, e, t, RD);
};
function kq(e, t, n) {
  RD(e, t, n), ID(e, t, n);
}
pc.forEachUpAndDown = function (e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
  return m0(this, e, t, kq);
};
pc.ancestors = pc.parents;
var Nd, OD;
Nd = OD = {
  data: si.data({
    field: 'data',
    bindingEvent: 'data',
    allowBinding: !0,
    allowSetting: !0,
    settingEvent: 'data',
    settingTriggersEvent: !0,
    triggerFnName: 'trigger',
    allowGetting: !0,
    immutableKeys: { id: !0, source: !0, target: !0, parent: !0 },
    updateStyle: !0,
  }),
  removeData: si.removeData({
    field: 'data',
    event: 'data',
    triggerFnName: 'trigger',
    triggerEvent: !0,
    immutableKeys: { id: !0, source: !0, target: !0, parent: !0 },
    updateStyle: !0,
  }),
  scratch: si.data({
    field: 'scratch',
    bindingEvent: 'scratch',
    allowBinding: !0,
    allowSetting: !0,
    settingEvent: 'scratch',
    settingTriggersEvent: !0,
    triggerFnName: 'trigger',
    allowGetting: !0,
    updateStyle: !0,
  }),
  removeScratch: si.removeData({
    field: 'scratch',
    event: 'scratch',
    triggerFnName: 'trigger',
    triggerEvent: !0,
    updateStyle: !0,
  }),
  rscratch: si.data({
    field: 'rscratch',
    allowBinding: !1,
    allowSetting: !0,
    settingTriggersEvent: !1,
    allowGetting: !0,
  }),
  removeRscratch: si.removeData({ field: 'rscratch', triggerEvent: !1 }),
  id: function () {
    var t = this[0];
    if (t) return t._private.data.id;
  },
};
Nd.attr = Nd.data;
Nd.removeAttr = Nd.removeData;
var Cq = OD,
  fm = {};
function Iy(e) {
  return function (t) {
    var n = this;
    if ((t === void 0 && (t = !0), n.length !== 0))
      if (n.isNode() && !n.removed()) {
        for (
          var i = 0, r = n[0], a = r._private.edges, o = 0;
          o < a.length;
          o++
        ) {
          var s = a[o];
          (!t && s.isLoop()) || (i += e(r, s));
        }
        return i;
      } else return;
  };
}
be(fm, {
  degree: Iy(function (e, t) {
    return t.source().same(t.target()) ? 2 : 1;
  }),
  indegree: Iy(function (e, t) {
    return t.target().same(e) ? 1 : 0;
  }),
  outdegree: Iy(function (e, t) {
    return t.source().same(e) ? 1 : 0;
  }),
});
function tc(e, t) {
  return function (n) {
    for (var i, r = this.nodes(), a = 0; a < r.length; a++) {
      var o = r[a],
        s = o[e](n);
      s !== void 0 && (i === void 0 || t(s, i)) && (i = s);
    }
    return i;
  };
}
be(fm, {
  minDegree: tc('degree', function (e, t) {
    return e < t;
  }),
  maxDegree: tc('degree', function (e, t) {
    return e > t;
  }),
  minIndegree: tc('indegree', function (e, t) {
    return e < t;
  }),
  maxIndegree: tc('indegree', function (e, t) {
    return e > t;
  }),
  minOutdegree: tc('outdegree', function (e, t) {
    return e < t;
  }),
  maxOutdegree: tc('outdegree', function (e, t) {
    return e > t;
  }),
});
be(fm, {
  totalDegree: function (t) {
    for (var n = 0, i = this.nodes(), r = 0; r < i.length; r++)
      n += i[r].degree(t);
    return n;
  },
});
var aa,
  PD,
  LD = function (t, n, i) {
    for (var r = 0; r < t.length; r++) {
      var a = t[r];
      if (!a.locked()) {
        var o = a._private.position,
          s = {
            x: n.x != null ? n.x - o.x : 0,
            y: n.y != null ? n.y - o.y : 0,
          };
        a.isParent() && !(s.x === 0 && s.y === 0) && a.children().shift(s, i),
          a.dirtyBoundingBoxCache();
      }
    }
  },
  rS = {
    field: 'position',
    bindingEvent: 'position',
    allowBinding: !0,
    allowSetting: !0,
    settingEvent: 'position',
    settingTriggersEvent: !0,
    triggerFnName: 'emitAndNotify',
    allowGetting: !0,
    validKeys: ['x', 'y'],
    beforeGet: function (t) {
      t.updateCompoundBounds();
    },
    beforeSet: function (t, n) {
      LD(t, n, !1);
    },
    onSet: function (t) {
      t.dirtyCompoundBoundsCache();
    },
    canSet: function (t) {
      return !t.locked();
    },
  };
aa = PD = {
  position: si.data(rS),
  silentPosition: si.data(
    be({}, rS, {
      allowBinding: !1,
      allowSetting: !0,
      settingTriggersEvent: !1,
      allowGetting: !1,
      beforeSet: function (t, n) {
        LD(t, n, !0);
      },
      onSet: function (t) {
        t.dirtyCompoundBoundsCache();
      },
    })
  ),
  positions: function (t, n) {
    if (Ge(t)) n ? this.silentPosition(t) : this.position(t);
    else if (ji(t)) {
      var i = t,
        r = this.cy();
      r.startBatch();
      for (var a = 0; a < this.length; a++) {
        var o = this[a],
          s = void 0;
        (s = i(o, a)) && (n ? o.silentPosition(s) : o.position(s));
      }
      r.endBatch();
    }
    return this;
  },
  silentPositions: function (t) {
    return this.positions(t, !0);
  },
  shift: function (t, n, i) {
    var r;
    if (
      (Ge(t)
        ? ((r = { x: $t(t.x) ? t.x : 0, y: $t(t.y) ? t.y : 0 }), (i = n))
        : he(t) && $t(n) && ((r = { x: 0, y: 0 }), (r[t] = n)),
      r != null)
    ) {
      var a = this.cy();
      a.startBatch();
      for (var o = 0; o < this.length; o++) {
        var s = this[o];
        if (
          !(a.hasCompoundNodes() && s.isChild() && s.ancestors().anySame(this))
        ) {
          var l = s.position(),
            c = { x: l.x + r.x, y: l.y + r.y };
          i ? s.silentPosition(c) : s.position(c);
        }
      }
      a.endBatch();
    }
    return this;
  },
  silentShift: function (t, n) {
    return (
      Ge(t) ? this.shift(t, !0) : he(t) && $t(n) && this.shift(t, n, !0), this
    );
  },
  renderedPosition: function (t, n) {
    var i = this[0],
      r = this.cy(),
      a = r.zoom(),
      o = r.pan(),
      s = Ge(t) ? t : void 0,
      l = s !== void 0 || (n !== void 0 && he(t));
    if (i && i.isNode())
      if (l)
        for (var c = 0; c < this.length; c++) {
          var u = this[c];
          n !== void 0
            ? u.position(t, (n - o[t]) / a)
            : s !== void 0 && u.position(sD(s, a, o));
        }
      else {
        var d = i.position();
        return (s = lm(d, a, o)), t === void 0 ? s : s[t];
      }
    else if (!l) return;
    return this;
  },
  relativePosition: function (t, n) {
    var i = this[0],
      r = this.cy(),
      a = Ge(t) ? t : void 0,
      o = a !== void 0 || (n !== void 0 && he(t)),
      s = r.hasCompoundNodes();
    if (i && i.isNode())
      if (o)
        for (var l = 0; l < this.length; l++) {
          var c = this[l],
            u = s ? c.parent() : null,
            d = u && u.length > 0,
            h = d;
          d && (u = u[0]);
          var p = h ? u.position() : { x: 0, y: 0 };
          n !== void 0
            ? c.position(t, n + p[t])
            : a !== void 0 && c.position({ x: a.x + p.x, y: a.y + p.y });
        }
      else {
        var m = i.position(),
          _ = s ? i.parent() : null,
          v = _ && _.length > 0,
          y = v;
        v && (_ = _[0]);
        var w = y ? _.position() : { x: 0, y: 0 };
        return (a = { x: m.x - w.x, y: m.y - w.y }), t === void 0 ? a : a[t];
      }
    else if (!o) return;
    return this;
  },
};
aa.modelPosition = aa.point = aa.position;
aa.modelPositions = aa.points = aa.positions;
aa.renderedPoint = aa.renderedPosition;
aa.relativePoint = aa.relativePosition;
var Eq = PD,
  uc,
  Ho;
uc = Ho = {};
Ho.renderedBoundingBox = function (e) {
  var t = this.boundingBox(e),
    n = this.cy(),
    i = n.zoom(),
    r = n.pan(),
    a = t.x1 * i + r.x,
    o = t.x2 * i + r.x,
    s = t.y1 * i + r.y,
    l = t.y2 * i + r.y;
  return { x1: a, x2: o, y1: s, y2: l, w: o - a, h: l - s };
};
Ho.dirtyCompoundBoundsCache = function () {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1,
    t = this.cy();
  return !t.styleEnabled() || !t.hasCompoundNodes()
    ? this
    : (this.forEachUp(function (n) {
        if (n.isParent()) {
          var i = n._private;
          (i.compoundBoundsClean = !1),
            (i.bbCache = null),
            e || n.emitAndNotify('bounds');
        }
      }),
      this);
};
Ho.updateCompoundBounds = function () {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1,
    t = this.cy();
  if (!t.styleEnabled() || !t.hasCompoundNodes()) return this;
  if (!e && t.batching()) return this;
  function n(o) {
    if (!o.isParent()) return;
    var s = o._private,
      l = o.children(),
      c = o.pstyle('compound-sizing-wrt-labels').value === 'include',
      u = {
        width: {
          val: o.pstyle('min-width').pfValue,
          left: o.pstyle('min-width-bias-left'),
          right: o.pstyle('min-width-bias-right'),
        },
        height: {
          val: o.pstyle('min-height').pfValue,
          top: o.pstyle('min-height-bias-top'),
          bottom: o.pstyle('min-height-bias-bottom'),
        },
      },
      d = l.boundingBox({
        includeLabels: c,
        includeOverlays: !1,
        useCache: !1,
      }),
      h = s.position;
    (d.w === 0 || d.h === 0) &&
      ((d = { w: o.pstyle('width').pfValue, h: o.pstyle('height').pfValue }),
      (d.x1 = h.x - d.w / 2),
      (d.x2 = h.x + d.w / 2),
      (d.y1 = h.y - d.h / 2),
      (d.y2 = h.y + d.h / 2));
    function p(O, R, P) {
      var L = 0,
        V = 0,
        B = R + P;
      return (
        O > 0 && B > 0 && ((L = (R / B) * O), (V = (P / B) * O)),
        { biasDiff: L, biasComplementDiff: V }
      );
    }
    function m(O, R, P, L) {
      if (P.units === '%')
        switch (L) {
          case 'width':
            return O > 0 ? P.pfValue * O : 0;
          case 'height':
            return R > 0 ? P.pfValue * R : 0;
          case 'average':
            return O > 0 && R > 0 ? (P.pfValue * (O + R)) / 2 : 0;
          case 'min':
            return O > 0 && R > 0 ? (O > R ? P.pfValue * R : P.pfValue * O) : 0;
          case 'max':
            return O > 0 && R > 0 ? (O > R ? P.pfValue * O : P.pfValue * R) : 0;
          default:
            return 0;
        }
      else return P.units === 'px' ? P.pfValue : 0;
    }
    var _ = u.width.left.value;
    u.width.left.units === 'px' &&
      u.width.val > 0 &&
      (_ = (_ * 100) / u.width.val);
    var v = u.width.right.value;
    u.width.right.units === 'px' &&
      u.width.val > 0 &&
      (v = (v * 100) / u.width.val);
    var y = u.height.top.value;
    u.height.top.units === 'px' &&
      u.height.val > 0 &&
      (y = (y * 100) / u.height.val);
    var w = u.height.bottom.value;
    u.height.bottom.units === 'px' &&
      u.height.val > 0 &&
      (w = (w * 100) / u.height.val);
    var x = p(u.width.val - d.w, _, v),
      C = x.biasDiff,
      S = x.biasComplementDiff,
      g = p(u.height.val - d.h, y, w),
      D = g.biasDiff,
      T = g.biasComplementDiff;
    (s.autoPadding = m(
      d.w,
      d.h,
      o.pstyle('padding'),
      o.pstyle('padding-relative-to').value
    )),
      (s.autoWidth = Math.max(d.w, u.width.val)),
      (h.x = (-C + d.x1 + d.x2 + S) / 2),
      (s.autoHeight = Math.max(d.h, u.height.val)),
      (h.y = (-D + d.y1 + d.y2 + T) / 2);
  }
  for (var i = 0; i < this.length; i++) {
    var r = this[i],
      a = r._private;
    (!a.compoundBoundsClean || e) &&
      (n(r), t.batching() || (a.compoundBoundsClean = !0));
  }
  return this;
};
var Lr = function (t) {
    return t === 1 / 0 || t === -1 / 0 ? 0 : t;
  },
  na = function (t, n, i, r, a) {
    r - n === 0 ||
      a - i === 0 ||
      n == null ||
      i == null ||
      r == null ||
      a == null ||
      ((t.x1 = n < t.x1 ? n : t.x1),
      (t.x2 = r > t.x2 ? r : t.x2),
      (t.y1 = i < t.y1 ? i : t.y1),
      (t.y2 = a > t.y2 ? a : t.y2),
      (t.w = t.x2 - t.x1),
      (t.h = t.y2 - t.y1));
  },
  $s = function (t, n) {
    return n == null ? t : na(t, n.x1, n.y1, n.x2, n.y2);
  },
  yd = function (t, n, i) {
    return ra(t, n, i);
  },
  Rp = function (t, n, i) {
    if (!n.cy().headless()) {
      var r = n._private,
        a = r.rstyle,
        o = a.arrowWidth / 2,
        s = n.pstyle(i + '-arrow-shape').value,
        l,
        c;
      if (s !== 'none') {
        i === 'source'
          ? ((l = a.srcX), (c = a.srcY))
          : i === 'target'
            ? ((l = a.tgtX), (c = a.tgtY))
            : ((l = a.midX), (c = a.midY));
        var u = (r.arrowBounds = r.arrowBounds || {}),
          d = (u[i] = u[i] || {});
        (d.x1 = l - o),
          (d.y1 = c - o),
          (d.x2 = l + o),
          (d.y2 = c + o),
          (d.w = d.x2 - d.x1),
          (d.h = d.y2 - d.y1),
          Bp(d, 1),
          na(t, d.x1, d.y1, d.x2, d.y2);
      }
    }
  },
  Ry = function (t, n, i) {
    if (!n.cy().headless()) {
      var r;
      i ? (r = i + '-') : (r = '');
      var a = n._private,
        o = a.rstyle,
        s = n.pstyle(r + 'label').strValue;
      if (s) {
        var l = n.pstyle('text-halign'),
          c = n.pstyle('text-valign'),
          u = yd(o, 'labelWidth', i),
          d = yd(o, 'labelHeight', i),
          h = yd(o, 'labelX', i),
          p = yd(o, 'labelY', i),
          m = n.pstyle(r + 'text-margin-x').pfValue,
          _ = n.pstyle(r + 'text-margin-y').pfValue,
          v = n.isEdge(),
          y = n.pstyle(r + 'text-rotation'),
          w = n.pstyle('text-outline-width').pfValue,
          x = n.pstyle('text-border-width').pfValue,
          C = x / 2,
          S = n.pstyle('text-background-padding').pfValue,
          g = 2,
          D = d,
          T = u,
          O = T / 2,
          R = D / 2,
          P,
          L,
          V,
          B;
        if (v) (P = h - O), (L = h + O), (V = p - R), (B = p + R);
        else {
          switch (l.value) {
            case 'left':
              (P = h - T), (L = h);
              break;
            case 'center':
              (P = h - O), (L = h + O);
              break;
            case 'right':
              (P = h), (L = h + T);
              break;
          }
          switch (c.value) {
            case 'top':
              (V = p - D), (B = p);
              break;
            case 'center':
              (V = p - R), (B = p + R);
              break;
            case 'bottom':
              (V = p), (B = p + D);
              break;
          }
        }
        (P += m - Math.max(w, C) - S - g),
          (L += m + Math.max(w, C) + S + g),
          (V += _ - Math.max(w, C) - S - g),
          (B += _ + Math.max(w, C) + S + g);
        var q = i || 'main',
          U = a.labelBounds,
          W = (U[q] = U[q] || {});
        (W.x1 = P),
          (W.y1 = V),
          (W.x2 = L),
          (W.y2 = B),
          (W.w = L - P),
          (W.h = B - V);
        var Z = v && y.strValue === 'autorotate',
          it = y.pfValue != null && y.pfValue !== 0;
        if (Z || it) {
          var rt = Z ? yd(a.rstyle, 'labelAngle', i) : y.pfValue,
            nt = Math.cos(rt),
            J = Math.sin(rt),
            dt = (P + L) / 2,
            yt = (V + B) / 2;
          if (!v) {
            switch (l.value) {
              case 'left':
                dt = L;
                break;
              case 'right':
                dt = P;
                break;
            }
            switch (c.value) {
              case 'top':
                yt = B;
                break;
              case 'bottom':
                yt = V;
                break;
            }
          }
          var wt = function (Vt, Ot) {
              return (
                (Vt = Vt - dt),
                (Ot = Ot - yt),
                { x: Vt * nt - Ot * J + dt, y: Vt * J + Ot * nt + yt }
              );
            },
            bt = wt(P, V),
            At = wt(P, B),
            _t = wt(L, V),
            K = wt(L, B);
          (P = Math.min(bt.x, At.x, _t.x, K.x)),
            (L = Math.max(bt.x, At.x, _t.x, K.x)),
            (V = Math.min(bt.y, At.y, _t.y, K.y)),
            (B = Math.max(bt.y, At.y, _t.y, K.y));
        }
        var lt = q + 'Rot',
          ot = (U[lt] = U[lt] || {});
        (ot.x1 = P),
          (ot.y1 = V),
          (ot.x2 = L),
          (ot.y2 = B),
          (ot.w = L - P),
          (ot.h = B - V),
          na(t, P, V, L, B),
          na(a.labelBounds.all, P, V, L, B);
      }
      return t;
    }
  },
  Sq = function (t, n) {
    if (!n.cy().headless()) {
      var i = n.pstyle('outline-opacity').value,
        r = n.pstyle('outline-width').value;
      if (i > 0 && r > 0) {
        var a = n.pstyle('outline-offset').value,
          o = n.pstyle('shape').value,
          s = r + a,
          l = (t.w + s * 2) / t.w,
          c = (t.h + s * 2) / t.h,
          u = 0,
          d = 0;
        ['diamond', 'pentagon', 'round-triangle'].includes(o)
          ? ((l = (t.w + s * 2.4) / t.w), (d = -s / 3.6))
          : ['concave-hexagon', 'rhomboid', 'right-rhomboid'].includes(o)
            ? (l = (t.w + s * 2.4) / t.w)
            : o === 'star'
              ? ((l = (t.w + s * 2.8) / t.w),
                (c = (t.h + s * 2.6) / t.h),
                (d = -s / 3.8))
              : o === 'triangle'
                ? ((l = (t.w + s * 2.8) / t.w),
                  (c = (t.h + s * 2.4) / t.h),
                  (d = -s / 1.4))
                : o === 'vee' &&
                  ((l = (t.w + s * 4.4) / t.w),
                  (c = (t.h + s * 3.8) / t.h),
                  (d = -s * 0.5));
        var h = t.h * c - t.h,
          p = t.w * l - t.w;
        if ((zp(t, [Math.ceil(h / 2), Math.ceil(p / 2)]), u != 0 || d !== 0)) {
          var m = Gz(t, u, d);
          cD(t, m);
        }
      }
    }
  },
  Dq = function (t, n) {
    var i = t._private.cy,
      r = i.styleEnabled(),
      a = i.headless(),
      o = or(),
      s = t._private,
      l = t.isNode(),
      c = t.isEdge(),
      u,
      d,
      h,
      p,
      m,
      _,
      v = s.rstyle,
      y = l && r ? t.pstyle('bounds-expansion').pfValue : [0],
      w = function (Ut) {
        return Ut.pstyle('display').value !== 'none';
      },
      x = !r || (w(t) && (!c || (w(t.source()) && w(t.target()))));
    if (x) {
      var C = 0,
        S = 0;
      r &&
        n.includeOverlays &&
        ((C = t.pstyle('overlay-opacity').value),
        C !== 0 && (S = t.pstyle('overlay-padding').value));
      var g = 0,
        D = 0;
      r &&
        n.includeUnderlays &&
        ((g = t.pstyle('underlay-opacity').value),
        g !== 0 && (D = t.pstyle('underlay-padding').value));
      var T = Math.max(S, D),
        O = 0,
        R = 0;
      if (
        (r && ((O = t.pstyle('width').pfValue), (R = O / 2)),
        l && n.includeNodes)
      ) {
        var P = t.position();
        (m = P.x), (_ = P.y);
        var L = t.outerWidth(),
          V = L / 2,
          B = t.outerHeight(),
          q = B / 2;
        (u = m - V),
          (d = m + V),
          (h = _ - q),
          (p = _ + q),
          na(o, u, h, d, p),
          r && n.includeOutlines && Sq(o, t);
      } else if (c && n.includeEdges)
        if (r && !a) {
          var U = t.pstyle('curve-style').strValue;
          if (
            ((u = Math.min(v.srcX, v.midX, v.tgtX)),
            (d = Math.max(v.srcX, v.midX, v.tgtX)),
            (h = Math.min(v.srcY, v.midY, v.tgtY)),
            (p = Math.max(v.srcY, v.midY, v.tgtY)),
            (u -= R),
            (d += R),
            (h -= R),
            (p += R),
            na(o, u, h, d, p),
            U === 'haystack')
          ) {
            var W = v.haystackPts;
            if (W && W.length === 2) {
              if (
                ((u = W[0].x), (h = W[0].y), (d = W[1].x), (p = W[1].y), u > d)
              ) {
                var Z = u;
                (u = d), (d = Z);
              }
              if (h > p) {
                var it = h;
                (h = p), (p = it);
              }
              na(o, u - R, h - R, d + R, p + R);
            }
          } else if (
            U === 'bezier' ||
            U === 'unbundled-bezier' ||
            U.endsWith('segments') ||
            U.endsWith('taxi')
          ) {
            var rt;
            switch (U) {
              case 'bezier':
              case 'unbundled-bezier':
                rt = v.bezierPts;
                break;
              case 'segments':
              case 'taxi':
              case 'round-segments':
              case 'round-taxi':
                rt = v.linePts;
                break;
            }
            if (rt != null)
              for (var nt = 0; nt < rt.length; nt++) {
                var J = rt[nt];
                (u = J.x - R),
                  (d = J.x + R),
                  (h = J.y - R),
                  (p = J.y + R),
                  na(o, u, h, d, p);
              }
          }
        } else {
          var dt = t.source(),
            yt = dt.position(),
            wt = t.target(),
            bt = wt.position();
          if (((u = yt.x), (d = bt.x), (h = yt.y), (p = bt.y), u > d)) {
            var At = u;
            (u = d), (d = At);
          }
          if (h > p) {
            var _t = h;
            (h = p), (p = _t);
          }
          (u -= R), (d += R), (h -= R), (p += R), na(o, u, h, d, p);
        }
      if (
        (r &&
          n.includeEdges &&
          c &&
          (Rp(o, t, 'mid-source'),
          Rp(o, t, 'mid-target'),
          Rp(o, t, 'source'),
          Rp(o, t, 'target')),
        r)
      ) {
        var K = t.pstyle('ghost').value === 'yes';
        if (K) {
          var lt = t.pstyle('ghost-offset-x').pfValue,
            ot = t.pstyle('ghost-offset-y').pfValue;
          na(o, o.x1 + lt, o.y1 + ot, o.x2 + lt, o.y2 + ot);
        }
      }
      var Mt = (s.bodyBounds = s.bodyBounds || {});
      FE(Mt, o),
        zp(Mt, y),
        Bp(Mt, 1),
        r &&
          ((u = o.x1),
          (d = o.x2),
          (h = o.y1),
          (p = o.y2),
          na(o, u - T, h - T, d + T, p + T));
      var Vt = (s.overlayBounds = s.overlayBounds || {});
      FE(Vt, o), zp(Vt, y), Bp(Vt, 1);
      var Ot = (s.labelBounds = s.labelBounds || {});
      Ot.all != null ? $z(Ot.all) : (Ot.all = or()),
        r &&
          n.includeLabels &&
          (n.includeMainLabels && Ry(o, t, null),
          c &&
            (n.includeSourceLabels && Ry(o, t, 'source'),
            n.includeTargetLabels && Ry(o, t, 'target')));
    }
    return (
      (o.x1 = Lr(o.x1)),
      (o.y1 = Lr(o.y1)),
      (o.x2 = Lr(o.x2)),
      (o.y2 = Lr(o.y2)),
      (o.w = Lr(o.x2 - o.x1)),
      (o.h = Lr(o.y2 - o.y1)),
      o.w > 0 && o.h > 0 && x && (zp(o, y), Bp(o, 1)),
      o
    );
  },
  ND = function (t) {
    var n = 0,
      i = function (o) {
        return (o ? 1 : 0) << n++;
      },
      r = 0;
    return (
      (r += i(t.incudeNodes)),
      (r += i(t.includeEdges)),
      (r += i(t.includeLabels)),
      (r += i(t.includeMainLabels)),
      (r += i(t.includeSourceLabels)),
      (r += i(t.includeTargetLabels)),
      (r += i(t.includeOverlays)),
      (r += i(t.includeOutlines)),
      r
    );
  },
  FD = function (t) {
    if (t.isEdge()) {
      var n = t.source().position(),
        i = t.target().position(),
        r = function (o) {
          return Math.round(o);
        };
      return fz([r(n.x), r(n.y), r(i.x), r(i.y)]);
    } else return 0;
  },
  aS = function (t, n) {
    var i = t._private,
      r,
      a = t.isEdge(),
      o = n == null ? oS : ND(n),
      s = o === oS,
      l = FD(t),
      c = i.bbCachePosKey === l,
      u = n.useCache && c,
      d = function (_) {
        return _._private.bbCache == null || _._private.styleDirty;
      },
      h = !u || d(t) || (a && d(t.source())) || d(t.target());
    if (
      (h
        ? (c || t.recalculateRenderedStyle(u),
          (r = Dq(t, Fd)),
          (i.bbCache = r),
          (i.bbCachePosKey = l))
        : (r = i.bbCache),
      !s)
    ) {
      var p = t.isNode();
      (r = or()),
        ((n.includeNodes && p) || (n.includeEdges && !p)) &&
          (n.includeOverlays ? $s(r, i.overlayBounds) : $s(r, i.bodyBounds)),
        n.includeLabels &&
          (n.includeMainLabels &&
          (!a || (n.includeSourceLabels && n.includeTargetLabels))
            ? $s(r, i.labelBounds.all)
            : (n.includeMainLabels && $s(r, i.labelBounds.mainRot),
              n.includeSourceLabels && $s(r, i.labelBounds.sourceRot),
              n.includeTargetLabels && $s(r, i.labelBounds.targetRot))),
        (r.w = r.x2 - r.x1),
        (r.h = r.y2 - r.y1);
    }
    return r;
  },
  Fd = {
    includeNodes: !0,
    includeEdges: !0,
    includeLabels: !0,
    includeMainLabels: !0,
    includeSourceLabels: !0,
    includeTargetLabels: !0,
    includeOverlays: !0,
    includeUnderlays: !0,
    includeOutlines: !0,
    useCache: !0,
  },
  oS = ND(Fd),
  sS = An(Fd);
Ho.boundingBox = function (e) {
  var t;
  if (
    this.length === 1 &&
    this[0]._private.bbCache != null &&
    !this[0]._private.styleDirty &&
    (e === void 0 || e.useCache === void 0 || e.useCache === !0)
  )
    e === void 0 ? (e = Fd) : (e = sS(e)), (t = aS(this[0], e));
  else {
    (t = or()), (e = e || Fd);
    var n = sS(e),
      i = this,
      r = i.cy(),
      a = r.styleEnabled();
    if (a)
      for (var o = 0; o < i.length; o++) {
        var s = i[o],
          l = s._private,
          c = FD(s),
          u = l.bbCachePosKey === c,
          d = n.useCache && u && !l.styleDirty;
        s.recalculateRenderedStyle(d);
      }
    this.updateCompoundBounds(!e.useCache);
    for (var h = 0; h < i.length; h++) {
      var p = i[h];
      $s(t, aS(p, n));
    }
  }
  return (
    (t.x1 = Lr(t.x1)),
    (t.y1 = Lr(t.y1)),
    (t.x2 = Lr(t.x2)),
    (t.y2 = Lr(t.y2)),
    (t.w = Lr(t.x2 - t.x1)),
    (t.h = Lr(t.y2 - t.y1)),
    t
  );
};
Ho.dirtyBoundingBoxCache = function () {
  for (var e = 0; e < this.length; e++) {
    var t = this[e]._private;
    (t.bbCache = null),
      (t.bbCachePosKey = null),
      (t.bodyBounds = null),
      (t.overlayBounds = null),
      (t.labelBounds.all = null),
      (t.labelBounds.source = null),
      (t.labelBounds.target = null),
      (t.labelBounds.main = null),
      (t.labelBounds.sourceRot = null),
      (t.labelBounds.targetRot = null),
      (t.labelBounds.mainRot = null),
      (t.arrowBounds.source = null),
      (t.arrowBounds.target = null),
      (t.arrowBounds['mid-source'] = null),
      (t.arrowBounds['mid-target'] = null);
  }
  return this.emitAndNotify('bounds'), this;
};
Ho.boundingBoxAt = function (e) {
  var t = this.nodes(),
    n = this.cy(),
    i = n.hasCompoundNodes(),
    r = n.collection();
  if (
    (i &&
      ((r = t.filter(function (c) {
        return c.isParent();
      })),
      (t = t.not(r))),
    Ge(e))
  ) {
    var a = e;
    e = function () {
      return a;
    };
  }
  var o = function (u, d) {
      return (u._private.bbAtOldPos = e(u, d));
    },
    s = function (u) {
      return u._private.bbAtOldPos;
    };
  n.startBatch(),
    t.forEach(o).silentPositions(e),
    i &&
      (r.dirtyCompoundBoundsCache(),
      r.dirtyBoundingBoxCache(),
      r.updateCompoundBounds(!0));
  var l = Wz(this.boundingBox({ useCache: !1 }));
  return (
    t.silentPositions(s),
    i &&
      (r.dirtyCompoundBoundsCache(),
      r.dirtyBoundingBoxCache(),
      r.updateCompoundBounds(!0)),
    n.endBatch(),
    l
  );
};
uc.boundingbox = uc.bb = uc.boundingBox;
uc.renderedBoundingbox = uc.renderedBoundingBox;
var Tq = Ho,
  Ed,
  Hd;
Ed = Hd = {};
var BD = function (t) {
  (t.uppercaseName = AE(t.name)),
    (t.autoName = 'auto' + t.uppercaseName),
    (t.labelName = 'label' + t.uppercaseName),
    (t.outerName = 'outer' + t.uppercaseName),
    (t.uppercaseOuterName = AE(t.outerName)),
    (Ed[t.name] = function () {
      var i = this[0],
        r = i._private,
        a = r.cy,
        o = a._private.styleEnabled;
      if (i)
        if (o) {
          if (i.isParent()) return i.updateCompoundBounds(), r[t.autoName] || 0;
          var s = i.pstyle(t.name);
          switch (s.strValue) {
            case 'label':
              return i.recalculateRenderedStyle(), r.rstyle[t.labelName] || 0;
            default:
              return s.pfValue;
          }
        } else return 1;
    }),
    (Ed['outer' + t.uppercaseName] = function () {
      var i = this[0],
        r = i._private,
        a = r.cy,
        o = a._private.styleEnabled;
      if (i)
        if (o) {
          var s = i[t.name](),
            l = i.pstyle('border-width').pfValue,
            c = 2 * i.padding();
          return s + l + c;
        } else return 1;
    }),
    (Ed['rendered' + t.uppercaseName] = function () {
      var i = this[0];
      if (i) {
        var r = i[t.name]();
        return r * this.cy().zoom();
      }
    }),
    (Ed['rendered' + t.uppercaseOuterName] = function () {
      var i = this[0];
      if (i) {
        var r = i[t.outerName]();
        return r * this.cy().zoom();
      }
    });
};
BD({ name: 'width' });
BD({ name: 'height' });
Hd.padding = function () {
  var e = this[0],
    t = e._private;
  return e.isParent()
    ? (e.updateCompoundBounds(),
      t.autoPadding !== void 0 ? t.autoPadding : e.pstyle('padding').pfValue)
    : e.pstyle('padding').pfValue;
};
Hd.paddedHeight = function () {
  var e = this[0];
  return e.height() + 2 * e.padding();
};
Hd.paddedWidth = function () {
  var e = this[0];
  return e.width() + 2 * e.padding();
};
var Mq = Hd,
  Aq = function (t, n) {
    if (t.isEdge()) return n(t);
  },
  Iq = function (t, n) {
    if (t.isEdge()) {
      var i = t.cy();
      return lm(n(t), i.zoom(), i.pan());
    }
  },
  Rq = function (t, n) {
    if (t.isEdge()) {
      var i = t.cy(),
        r = i.pan(),
        a = i.zoom();
      return n(t).map(function (o) {
        return lm(o, a, r);
      });
    }
  },
  Oq = function (t) {
    return t.renderer().getControlPoints(t);
  },
  Pq = function (t) {
    return t.renderer().getSegmentPoints(t);
  },
  Lq = function (t) {
    return t.renderer().getSourceEndpoint(t);
  },
  Nq = function (t) {
    return t.renderer().getTargetEndpoint(t);
  },
  Fq = function (t) {
    return t.renderer().getEdgeMidpoint(t);
  },
  lS = {
    controlPoints: { get: Oq, mult: !0 },
    segmentPoints: { get: Pq, mult: !0 },
    sourceEndpoint: { get: Lq },
    targetEndpoint: { get: Nq },
    midpoint: { get: Fq },
  },
  Bq = function (t) {
    return 'rendered' + t[0].toUpperCase() + t.substr(1);
  },
  zq = Object.keys(lS).reduce(function (e, t) {
    var n = lS[t],
      i = Bq(t);
    return (
      (e[t] = function () {
        return Aq(this, n.get);
      }),
      n.mult
        ? (e[i] = function () {
            return Rq(this, n.get);
          })
        : (e[i] = function () {
            return Iq(this, n.get);
          }),
      e
    );
  }, {}),
  Vq = be({}, Eq, Tq, Mq, zq);
var zD = function (t, n) {
  this.recycle(t, n);
};
function _d() {
  return !1;
}
function Op() {
  return !0;
}
zD.prototype = {
  instanceString: function () {
    return 'event';
  },
  recycle: function (t, n) {
    if (
      ((this.isImmediatePropagationStopped =
        this.isPropagationStopped =
        this.isDefaultPrevented =
          _d),
      t != null && t.preventDefault
        ? ((this.type = t.type),
          (this.isDefaultPrevented = t.defaultPrevented ? Op : _d))
        : t != null && t.type
          ? (n = t)
          : (this.type = t),
      n != null &&
        ((this.originalEvent = n.originalEvent),
        (this.type = n.type != null ? n.type : this.type),
        (this.cy = n.cy),
        (this.target = n.target),
        (this.position = n.position),
        (this.renderedPosition = n.renderedPosition),
        (this.namespace = n.namespace),
        (this.layout = n.layout)),
      this.cy != null && this.position != null && this.renderedPosition == null)
    ) {
      var i = this.position,
        r = this.cy.zoom(),
        a = this.cy.pan();
      this.renderedPosition = { x: i.x * r + a.x, y: i.y * r + a.y };
    }
    this.timeStamp = (t && t.timeStamp) || Date.now();
  },
  preventDefault: function () {
    this.isDefaultPrevented = Op;
    var t = this.originalEvent;
    t && t.preventDefault && t.preventDefault();
  },
  stopPropagation: function () {
    this.isPropagationStopped = Op;
    var t = this.originalEvent;
    t && t.stopPropagation && t.stopPropagation();
  },
  stopImmediatePropagation: function () {
    (this.isImmediatePropagationStopped = Op), this.stopPropagation();
  },
  isDefaultPrevented: _d,
  isPropagationStopped: _d,
  isImmediatePropagationStopped: _d,
};
var VD = /^([^.]+)(\.(?:[^.]+))?$/,
  jq = '.*',
  jD = {
    qualifierCompare: function (t, n) {
      return t === n;
    },
    eventMatches: function () {
      return !0;
    },
    addEventFields: function () {},
    callbackContext: function (t) {
      return t;
    },
    beforeEmit: function () {},
    afterEmit: function () {},
    bubble: function () {
      return !1;
    },
    parent: function () {
      return null;
    },
    context: null,
  },
  cS = Object.keys(jD),
  qq = {};
function pm() {
  for (
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : qq,
      t = arguments.length > 1 ? arguments[1] : void 0,
      n = 0;
    n < cS.length;
    n++
  ) {
    var i = cS[n];
    this[i] = e[i] || jD[i];
  }
  (this.context = t || this.context),
    (this.listeners = []),
    (this.emitting = 0);
}
var Uo = pm.prototype,
  qD = function (t, n, i, r, a, o, s) {
    ji(r) && ((a = r), (r = null)),
      s && (o == null ? (o = s) : (o = be({}, o, s)));
    for (var l = _i(i) ? i : i.split(/\s+/), c = 0; c < l.length; c++) {
      var u = l[c];
      if (!zo(u)) {
        var d = u.match(VD);
        if (d) {
          var h = d[1],
            p = d[2] ? d[2] : null,
            m = n(t, u, h, p, r, a, o);
          if (m === !1) break;
        }
      }
    }
  },
  uS = function (t, n) {
    return t.addEventFields(t.context, n), new zD(n.type, n);
  },
  Uq = function (t, n, i) {
    if (cB(i)) {
      n(t, i);
      return;
    } else if (Ge(i)) {
      n(t, uS(t, i));
      return;
    }
    for (var r = _i(i) ? i : i.split(/\s+/), a = 0; a < r.length; a++) {
      var o = r[a];
      if (!zo(o)) {
        var s = o.match(VD);
        if (s) {
          var l = s[1],
            c = s[2] ? s[2] : null,
            u = uS(t, { type: l, namespace: c, target: t.context });
          n(t, u);
        }
      }
    }
  };
Uo.on = Uo.addListener = function (e, t, n, i, r) {
  return (
    qD(
      this,
      function (a, o, s, l, c, u, d) {
        ji(u) &&
          a.listeners.push({
            event: o,
            callback: u,
            type: s,
            namespace: l,
            qualifier: c,
            conf: d,
          });
      },
      e,
      t,
      n,
      i,
      r
    ),
    this
  );
};
Uo.one = function (e, t, n, i) {
  return this.on(e, t, n, i, { one: !0 });
};
Uo.removeListener = Uo.off = function (e, t, n, i) {
  var r = this;
  this.emitting !== 0 && (this.listeners = bz(this.listeners));
  for (
    var a = this.listeners,
      o = function (c) {
        var u = a[c];
        qD(
          r,
          function (d, h, p, m, _, v) {
            if (
              (u.type === p || e === '*') &&
              ((!m && u.namespace !== '.*') || u.namespace === m) &&
              (!_ || d.qualifierCompare(u.qualifier, _)) &&
              (!v || u.callback === v)
            )
              return a.splice(c, 1), !1;
          },
          e,
          t,
          n,
          i
        );
      },
      s = a.length - 1;
    s >= 0;
    s--
  )
    o(s);
  return this;
};
Uo.removeAllListeners = function () {
  return this.removeListener('*');
};
Uo.emit = Uo.trigger = function (e, t, n) {
  var i = this.listeners,
    r = i.length;
  return (
    this.emitting++,
    _i(t) || (t = [t]),
    Uq(
      this,
      function (a, o) {
        n != null &&
          ((i = [
            {
              event: o.event,
              type: o.type,
              namespace: o.namespace,
              callback: n,
            },
          ]),
          (r = i.length));
        for (
          var s = function (u) {
              var d = i[u];
              if (
                d.type === o.type &&
                (!d.namespace ||
                  d.namespace === o.namespace ||
                  d.namespace === jq) &&
                a.eventMatches(a.context, d, o)
              ) {
                var h = [o];
                t != null && _z(h, t),
                  a.beforeEmit(a.context, d, o),
                  d.conf &&
                    d.conf.one &&
                    (a.listeners = a.listeners.filter(function (_) {
                      return _ !== d;
                    }));
                var p = a.callbackContext(a.context, d, o),
                  m = d.callback.apply(p, h);
                a.afterEmit(a.context, d, o),
                  m === !1 && (o.stopPropagation(), o.preventDefault());
              }
            },
            l = 0;
          l < r;
          l++
        )
          s(l);
        a.bubble(a.context) &&
          !o.isPropagationStopped() &&
          a.parent(a.context).emit(o, t);
      },
      e
    ),
    this.emitting--,
    this
  );
};
var Hq = {
    qualifierCompare: function (t, n) {
      return t == null || n == null ? t == null && n == null : t.sameText(n);
    },
    eventMatches: function (t, n, i) {
      var r = n.qualifier;
      return r != null
        ? t !== i.target && jd(i.target) && r.matches(i.target)
        : !0;
    },
    addEventFields: function (t, n) {
      (n.cy = t.cy()), (n.target = t);
    },
    callbackContext: function (t, n, i) {
      return n.qualifier != null ? i.target : t;
    },
    beforeEmit: function (t, n) {
      n.conf &&
        n.conf.once &&
        n.conf.onceCollection.removeListener(n.event, n.qualifier, n.callback);
    },
    bubble: function () {
      return !0;
    },
    parent: function (t) {
      return t.isChild() ? t.parent() : t.cy();
    },
  },
  Pp = function (t) {
    return he(t) ? new jo(t) : t;
  },
  UD = {
    createEmitter: function () {
      for (var t = 0; t < this.length; t++) {
        var n = this[t],
          i = n._private;
        i.emitter || (i.emitter = new pm(Hq, n));
      }
      return this;
    },
    emitter: function () {
      return this._private.emitter;
    },
    on: function (t, n, i) {
      for (var r = Pp(n), a = 0; a < this.length; a++) {
        var o = this[a];
        o.emitter().on(t, r, i);
      }
      return this;
    },
    removeListener: function (t, n, i) {
      for (var r = Pp(n), a = 0; a < this.length; a++) {
        var o = this[a];
        o.emitter().removeListener(t, r, i);
      }
      return this;
    },
    removeAllListeners: function () {
      for (var t = 0; t < this.length; t++) {
        var n = this[t];
        n.emitter().removeAllListeners();
      }
      return this;
    },
    one: function (t, n, i) {
      for (var r = Pp(n), a = 0; a < this.length; a++) {
        var o = this[a];
        o.emitter().one(t, r, i);
      }
      return this;
    },
    once: function (t, n, i) {
      for (var r = Pp(n), a = 0; a < this.length; a++) {
        var o = this[a];
        o.emitter().on(t, r, i, { once: !0, onceCollection: this });
      }
    },
    emit: function (t, n) {
      for (var i = 0; i < this.length; i++) {
        var r = this[i];
        r.emitter().emit(t, n);
      }
      return this;
    },
    emitAndNotify: function (t, n) {
      if (this.length !== 0)
        return this.cy().notify(t, this), this.emit(t, n), this;
    },
  };
si.eventAliasesOn(UD);
var HD = {
    nodes: function (t) {
      return this.filter(function (n) {
        return n.isNode();
      }).filter(t);
    },
    edges: function (t) {
      return this.filter(function (n) {
        return n.isEdge();
      }).filter(t);
    },
    byGroup: function () {
      for (
        var t = this.spawn(), n = this.spawn(), i = 0;
        i < this.length;
        i++
      ) {
        var r = this[i];
        r.isNode() ? t.push(r) : n.push(r);
      }
      return { nodes: t, edges: n };
    },
    filter: function (t, n) {
      if (t === void 0) return this;
      if (he(t) || vr(t)) return new jo(t).filter(this);
      if (ji(t)) {
        for (var i = this.spawn(), r = this, a = 0; a < r.length; a++) {
          var o = r[a],
            s = n ? t.apply(n, [o, a, r]) : t(o, a, r);
          s && i.push(o);
        }
        return i;
      }
      return this.spawn();
    },
    not: function (t) {
      if (t) {
        he(t) && (t = this.filter(t));
        for (var n = this.spawn(), i = 0; i < this.length; i++) {
          var r = this[i],
            a = t.has(r);
          a || n.push(r);
        }
        return n;
      } else return this;
    },
    absoluteComplement: function () {
      var t = this.cy();
      return t.mutableElements().not(this);
    },
    intersect: function (t) {
      if (he(t)) {
        var n = t;
        return this.filter(n);
      }
      for (
        var i = this.spawn(),
          r = this,
          a = t,
          o = this.length < t.length,
          s = o ? r : a,
          l = o ? a : r,
          c = 0;
        c < s.length;
        c++
      ) {
        var u = s[c];
        l.has(u) && i.push(u);
      }
      return i;
    },
    xor: function (t) {
      var n = this._private.cy;
      he(t) && (t = n.$(t));
      var i = this.spawn(),
        r = this,
        a = t,
        o = function (l, c) {
          for (var u = 0; u < l.length; u++) {
            var d = l[u],
              h = d._private.data.id,
              p = c.hasElementWithId(h);
            p || i.push(d);
          }
        };
      return o(r, a), o(a, r), i;
    },
    diff: function (t) {
      var n = this._private.cy;
      he(t) && (t = n.$(t));
      var i = this.spawn(),
        r = this.spawn(),
        a = this.spawn(),
        o = this,
        s = t,
        l = function (u, d, h) {
          for (var p = 0; p < u.length; p++) {
            var m = u[p],
              _ = m._private.data.id,
              v = d.hasElementWithId(_);
            v ? a.merge(m) : h.push(m);
          }
        };
      return l(o, s, i), l(s, o, r), { left: i, right: r, both: a };
    },
    add: function (t) {
      var n = this._private.cy;
      if (!t) return this;
      if (he(t)) {
        var i = t;
        t = n.mutableElements().filter(i);
      }
      for (var r = this.spawnSelf(), a = 0; a < t.length; a++) {
        var o = t[a],
          s = !this.has(o);
        s && r.push(o);
      }
      return r;
    },
    merge: function (t) {
      var n = this._private,
        i = n.cy;
      if (!t) return this;
      if (t && he(t)) {
        var r = t;
        t = i.mutableElements().filter(r);
      }
      for (var a = n.map, o = 0; o < t.length; o++) {
        var s = t[o],
          l = s._private.data.id,
          c = !a.has(l);
        if (c) {
          var u = this.length++;
          (this[u] = s), a.set(l, { ele: s, index: u });
        }
      }
      return this;
    },
    unmergeAt: function (t) {
      var n = this[t],
        i = n.id(),
        r = this._private,
        a = r.map;
      (this[t] = void 0), a.delete(i);
      var o = t === this.length - 1;
      if (this.length > 1 && !o) {
        var s = this.length - 1,
          l = this[s],
          c = l._private.data.id;
        (this[s] = void 0), (this[t] = l), a.set(c, { ele: l, index: t });
      }
      return this.length--, this;
    },
    unmergeOne: function (t) {
      t = t[0];
      var n = this._private,
        i = t._private.data.id,
        r = n.map,
        a = r.get(i);
      if (!a) return this;
      var o = a.index;
      return this.unmergeAt(o), this;
    },
    unmerge: function (t) {
      var n = this._private.cy;
      if (!t) return this;
      if (t && he(t)) {
        var i = t;
        t = n.mutableElements().filter(i);
      }
      for (var r = 0; r < t.length; r++) this.unmergeOne(t[r]);
      return this;
    },
    unmergeBy: function (t) {
      for (var n = this.length - 1; n >= 0; n--) {
        var i = this[n];
        t(i) && this.unmergeAt(n);
      }
      return this;
    },
    map: function (t, n) {
      for (var i = [], r = this, a = 0; a < r.length; a++) {
        var o = r[a],
          s = n ? t.apply(n, [o, a, r]) : t(o, a, r);
        i.push(s);
      }
      return i;
    },
    reduce: function (t, n) {
      for (var i = n, r = this, a = 0; a < r.length; a++) i = t(i, r[a], a, r);
      return i;
    },
    max: function (t, n) {
      for (var i = -1 / 0, r, a = this, o = 0; o < a.length; o++) {
        var s = a[o],
          l = n ? t.apply(n, [s, o, a]) : t(s, o, a);
        l > i && ((i = l), (r = s));
      }
      return { value: i, ele: r };
    },
    min: function (t, n) {
      for (var i = 1 / 0, r, a = this, o = 0; o < a.length; o++) {
        var s = a[o],
          l = n ? t.apply(n, [s, o, a]) : t(s, o, a);
        l < i && ((i = l), (r = s));
      }
      return { value: i, ele: r };
    },
  },
  Xe = HD;
Xe.u = Xe['|'] = Xe['+'] = Xe.union = Xe.or = Xe.add;
Xe['\\'] =
  Xe['!'] =
  Xe['-'] =
  Xe.difference =
  Xe.relativeComplement =
  Xe.subtract =
    Xe.not;
Xe.n = Xe['&'] = Xe['.'] = Xe.and = Xe.intersection = Xe.intersect;
Xe['^'] = Xe['(+)'] = Xe['(-)'] = Xe.symmetricDifference = Xe.symdiff = Xe.xor;
Xe.fnFilter = Xe.filterFn = Xe.stdFilter = Xe.filter;
Xe.complement = Xe.abscomp = Xe.absoluteComplement;
var Wq = {
    isNode: function () {
      return this.group() === 'nodes';
    },
    isEdge: function () {
      return this.group() === 'edges';
    },
    isLoop: function () {
      return this.isEdge() && this.source()[0] === this.target()[0];
    },
    isSimple: function () {
      return this.isEdge() && this.source()[0] !== this.target()[0];
    },
    group: function () {
      var t = this[0];
      if (t) return t._private.group;
    },
  },
  WD = function (t, n) {
    var i = t.cy(),
      r = i.hasCompoundNodes();
    function a(u) {
      var d = u.pstyle('z-compound-depth');
      return d.value === 'auto'
        ? r
          ? u.zDepth()
          : 0
        : d.value === 'bottom'
          ? -1
          : d.value === 'top'
            ? r0
            : 0;
    }
    var o = a(t) - a(n);
    if (o !== 0) return o;
    function s(u) {
      var d = u.pstyle('z-index-compare');
      return d.value === 'auto' && u.isNode() ? 1 : 0;
    }
    var l = s(t) - s(n);
    if (l !== 0) return l;
    var c = t.pstyle('z-index').value - n.pstyle('z-index').value;
    return c !== 0 ? c : t.poolIndex() - n.poolIndex();
  },
  Jp = {
    forEach: function (t, n) {
      if (ji(t))
        for (var i = this.length, r = 0; r < i; r++) {
          var a = this[r],
            o = n ? t.apply(n, [a, r, this]) : t(a, r, this);
          if (o === !1) break;
        }
      return this;
    },
    toArray: function () {
      for (var t = [], n = 0; n < this.length; n++) t.push(this[n]);
      return t;
    },
    slice: function (t, n) {
      var i = [],
        r = this.length;
      n == null && (n = r),
        t == null && (t = 0),
        t < 0 && (t = r + t),
        n < 0 && (n = r + n);
      for (var a = t; a >= 0 && a < n && a < r; a++) i.push(this[a]);
      return this.spawn(i);
    },
    size: function () {
      return this.length;
    },
    eq: function (t) {
      return this[t] || this.spawn();
    },
    first: function () {
      return this[0] || this.spawn();
    },
    last: function () {
      return this[this.length - 1] || this.spawn();
    },
    empty: function () {
      return this.length === 0;
    },
    nonempty: function () {
      return !this.empty();
    },
    sort: function (t) {
      if (!ji(t)) return this;
      var n = this.toArray().sort(t);
      return this.spawn(n);
    },
    sortByZIndex: function () {
      return this.sort(WD);
    },
    zDepth: function () {
      var t = this[0];
      if (t) {
        var n = t._private,
          i = n.group;
        if (i === 'nodes') {
          var r = n.data.parent ? t.parents().size() : 0;
          return t.isParent() ? r : r0 - 1;
        } else {
          var a = n.source,
            o = n.target,
            s = a.zDepth(),
            l = o.zDepth();
          return Math.max(s, l, 0);
        }
      }
    },
  };
Jp.each = Jp.forEach;
var $q = function () {
  var t = 'undefined',
    n =
      (typeof Symbol > 'u' ? 'undefined' : fn(Symbol)) != t &&
      fn(Symbol.iterator) != t;
  n &&
    (Jp[Symbol.iterator] = function () {
      var i = this,
        r = { value: void 0, done: !1 },
        a = 0,
        o = this.length;
      return jS(
        {
          next: function () {
            return (
              a < o ? (r.value = i[a++]) : ((r.value = void 0), (r.done = !0)),
              r
            );
          },
        },
        Symbol.iterator,
        function () {
          return this;
        }
      );
    });
};
$q();
var Gq = An({ nodeDimensionsIncludeLabels: !1 }),
  jp = {
    layoutDimensions: function (t) {
      t = Gq(t);
      var n;
      if (!this.takesUpSpace()) n = { w: 0, h: 0 };
      else if (t.nodeDimensionsIncludeLabels) {
        var i = this.boundingBox();
        n = { w: i.w, h: i.h };
      } else n = { w: this.outerWidth(), h: this.outerHeight() };
      return (n.w === 0 || n.h === 0) && (n.w = n.h = 1), n;
    },
    layoutPositions: function (t, n, i) {
      var r = this.nodes().filter(function (S) {
          return !S.isParent();
        }),
        a = this.cy(),
        o = n.eles,
        s = function (g) {
          return g.id();
        },
        l = Md(i, s);
      t.emit({ type: 'layoutstart', layout: t }), (t.animations = []);
      var c = function (g, D, T) {
          var O = { x: D.x1 + D.w / 2, y: D.y1 + D.h / 2 },
            R = { x: (T.x - O.x) * g, y: (T.y - O.y) * g };
          return { x: O.x + R.x, y: O.y + R.y };
        },
        u = n.spacingFactor && n.spacingFactor !== 1,
        d = function () {
          if (!u) return null;
          for (var g = or(), D = 0; D < r.length; D++) {
            var T = r[D],
              O = l(T, D);
            Yz(g, O.x, O.y);
          }
          return g;
        },
        h = d(),
        p = Md(function (S, g) {
          var D = l(S, g);
          if (u) {
            var T = Math.abs(n.spacingFactor);
            D = c(T, h, D);
          }
          return n.transform != null && (D = n.transform(S, D)), D;
        }, s);
      if (n.animate) {
        for (var m = 0; m < r.length; m++) {
          var _ = r[m],
            v = p(_, m),
            y = n.animateFilter == null || n.animateFilter(_, m);
          if (y) {
            var w = _.animation({
              position: v,
              duration: n.animationDuration,
              easing: n.animationEasing,
            });
            t.animations.push(w);
          } else _.position(v);
        }
        if (n.fit) {
          var x = a.animation({
            fit: { boundingBox: o.boundingBoxAt(p), padding: n.padding },
            duration: n.animationDuration,
            easing: n.animationEasing,
          });
          t.animations.push(x);
        } else if (n.zoom !== void 0 && n.pan !== void 0) {
          var C = a.animation({
            zoom: n.zoom,
            pan: n.pan,
            duration: n.animationDuration,
            easing: n.animationEasing,
          });
          t.animations.push(C);
        }
        t.animations.forEach(function (S) {
          return S.play();
        }),
          t.one('layoutready', n.ready),
          t.emit({ type: 'layoutready', layout: t }),
          gc
            .all(
              t.animations.map(function (S) {
                return S.promise();
              })
            )
            .then(function () {
              t.one('layoutstop', n.stop),
                t.emit({ type: 'layoutstop', layout: t });
            });
      } else
        r.positions(p),
          n.fit && a.fit(n.eles, n.padding),
          n.zoom != null && a.zoom(n.zoom),
          n.pan && a.pan(n.pan),
          t.one('layoutready', n.ready),
          t.emit({ type: 'layoutready', layout: t }),
          t.one('layoutstop', n.stop),
          t.emit({ type: 'layoutstop', layout: t });
      return this;
    },
    layout: function (t) {
      var n = this.cy();
      return n.makeLayout(be({}, t, { eles: this }));
    },
  };
jp.createLayout = jp.makeLayout = jp.layout;
function $D(e, t, n) {
  var i = n._private,
    r = (i.styleCache = i.styleCache || []),
    a;
  return (a = r[e]) != null || (a = r[e] = t(n)), a;
}
function mm(e, t) {
  return (
    (e = Zs(e)),
    function (i) {
      return $D(e, t, i);
    }
  );
}
function gm(e, t) {
  e = Zs(e);
  var n = function (r) {
    return t.call(r);
  };
  return function () {
    var r = this[0];
    if (r) return $D(e, n, r);
  };
}
var Tn = {
  recalculateRenderedStyle: function (t) {
    var n = this.cy(),
      i = n.renderer(),
      r = n.styleEnabled();
    return i && r && i.recalculateRenderedStyle(this, t), this;
  },
  dirtyStyleCache: function () {
    var t = this.cy(),
      n = function (a) {
        return (a._private.styleCache = null);
      };
    if (t.hasCompoundNodes()) {
      var i;
      (i = this.spawnSelf().merge(this.descendants()).merge(this.parents())),
        i.merge(i.connectedEdges()),
        i.forEach(n);
    } else
      this.forEach(function (r) {
        n(r), r.connectedEdges().forEach(n);
      });
    return this;
  },
  updateStyle: function (t) {
    var n = this._private.cy;
    if (!n.styleEnabled()) return this;
    if (n.batching()) {
      var i = n._private.batchStyleEles;
      return i.merge(this), this;
    }
    var r = n.hasCompoundNodes(),
      a = this;
    (t = !!(t || t === void 0)),
      r &&
        (a = this.spawnSelf().merge(this.descendants()).merge(this.parents()));
    var o = a;
    return (
      t ? o.emitAndNotify('style') : o.emit('style'),
      a.forEach(function (s) {
        return (s._private.styleDirty = !0);
      }),
      this
    );
  },
  cleanStyle: function () {
    var t = this.cy();
    if (t.styleEnabled())
      for (var n = 0; n < this.length; n++) {
        var i = this[n];
        i._private.styleDirty &&
          ((i._private.styleDirty = !1), t.style().apply(i));
      }
  },
  parsedStyle: function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0,
      i = this[0],
      r = i.cy();
    if (r.styleEnabled() && i) {
      this.cleanStyle();
      var a = i._private.style[t];
      return a ?? (n ? r.style().getDefaultProperty(t) : null);
    }
  },
  numericStyle: function (t) {
    var n = this[0];
    if (n.cy().styleEnabled() && n) {
      var i = n.pstyle(t);
      return i.pfValue !== void 0 ? i.pfValue : i.value;
    }
  },
  numericStyleUnits: function (t) {
    var n = this[0];
    if (n.cy().styleEnabled() && n) return n.pstyle(t).units;
  },
  renderedStyle: function (t) {
    var n = this.cy();
    if (!n.styleEnabled()) return this;
    var i = this[0];
    if (i) return n.style().getRenderedStyle(i, t);
  },
  style: function (t, n) {
    var i = this.cy();
    if (!i.styleEnabled()) return this;
    var r = !1,
      a = i.style();
    if (Ge(t)) {
      var o = t;
      a.applyBypass(this, o, r), this.emitAndNotify('style');
    } else if (he(t))
      if (n === void 0) {
        var s = this[0];
        return s ? a.getStylePropertyValue(s, t) : void 0;
      } else a.applyBypass(this, t, n, r), this.emitAndNotify('style');
    else if (t === void 0) {
      var l = this[0];
      return l ? a.getRawStyle(l) : void 0;
    }
    return this;
  },
  removeStyle: function (t) {
    var n = this.cy();
    if (!n.styleEnabled()) return this;
    var i = !1,
      r = n.style(),
      a = this;
    if (t === void 0)
      for (var o = 0; o < a.length; o++) {
        var s = a[o];
        r.removeAllBypasses(s, i);
      }
    else {
      t = t.split(/\s+/);
      for (var l = 0; l < a.length; l++) {
        var c = a[l];
        r.removeBypasses(c, t, i);
      }
    }
    return this.emitAndNotify('style'), this;
  },
  show: function () {
    return this.css('display', 'element'), this;
  },
  hide: function () {
    return this.css('display', 'none'), this;
  },
  effectiveOpacity: function () {
    var t = this.cy();
    if (!t.styleEnabled()) return 1;
    var n = t.hasCompoundNodes(),
      i = this[0];
    if (i) {
      var r = i._private,
        a = i.pstyle('opacity').value;
      if (!n) return a;
      var o = r.data.parent ? i.parents() : null;
      if (o)
        for (var s = 0; s < o.length; s++) {
          var l = o[s],
            c = l.pstyle('opacity').value;
          a = c * a;
        }
      return a;
    }
  },
  transparent: function () {
    var t = this.cy();
    if (!t.styleEnabled()) return !1;
    var n = this[0],
      i = n.cy().hasCompoundNodes();
    if (n)
      return i ? n.effectiveOpacity() === 0 : n.pstyle('opacity').value === 0;
  },
  backgrounding: function () {
    var t = this.cy();
    if (!t.styleEnabled()) return !1;
    var n = this[0];
    return !!n._private.backgrounding;
  },
};
function Oy(e, t) {
  var n = e._private,
    i = n.data.parent ? e.parents() : null;
  if (i)
    for (var r = 0; r < i.length; r++) {
      var a = i[r];
      if (!t(a)) return !1;
    }
  return !0;
}
function g0(e) {
  var t = e.ok,
    n = e.edgeOkViaNode || e.ok,
    i = e.parentOk || e.ok;
  return function () {
    var r = this.cy();
    if (!r.styleEnabled()) return !0;
    var a = this[0],
      o = r.hasCompoundNodes();
    if (a) {
      var s = a._private;
      if (!t(a)) return !1;
      if (a.isNode()) return !o || Oy(a, i);
      var l = s.source,
        c = s.target;
      return (
        n(l) && (!o || Oy(l, n)) && (l === c || (n(c) && (!o || Oy(c, n))))
      );
    }
  };
}
var _c = mm('eleTakesUpSpace', function (e) {
  return (
    e.pstyle('display').value === 'element' &&
    e.width() !== 0 &&
    (e.isNode() ? e.height() !== 0 : !0)
  );
});
Tn.takesUpSpace = gm('takesUpSpace', g0({ ok: _c }));
var Yq = mm('eleInteractive', function (e) {
    return (
      e.pstyle('events').value === 'yes' &&
      e.pstyle('visibility').value === 'visible' &&
      _c(e)
    );
  }),
  Kq = mm('parentInteractive', function (e) {
    return e.pstyle('visibility').value === 'visible' && _c(e);
  });
Tn.interactive = gm(
  'interactive',
  g0({ ok: Yq, parentOk: Kq, edgeOkViaNode: _c })
);
Tn.noninteractive = function () {
  var e = this[0];
  if (e) return !e.interactive();
};
var Xq = mm('eleVisible', function (e) {
    return (
      e.pstyle('visibility').value === 'visible' &&
      e.pstyle('opacity').pfValue !== 0 &&
      _c(e)
    );
  }),
  Zq = _c;
Tn.visible = gm('visible', g0({ ok: Xq, edgeOkViaNode: Zq }));
Tn.hidden = function () {
  var e = this[0];
  if (e) return !e.visible();
};
Tn.isBundledBezier = gm('isBundledBezier', function () {
  return this.cy().styleEnabled()
    ? !this.removed() &&
        this.pstyle('curve-style').value === 'bezier' &&
        this.takesUpSpace()
    : !1;
});
Tn.bypass = Tn.css = Tn.style;
Tn.renderedCss = Tn.renderedStyle;
Tn.removeBypass = Tn.removeCss = Tn.removeStyle;
Tn.pstyle = Tn.parsedStyle;
var Bo = {};
function dS(e) {
  return function () {
    var t = arguments,
      n = [];
    if (t.length === 2) {
      var i = t[0],
        r = t[1];
      this.on(e.event, i, r);
    } else if (t.length === 1 && ji(t[0])) {
      var a = t[0];
      this.on(e.event, a);
    } else if (t.length === 0 || (t.length === 1 && _i(t[0]))) {
      for (var o = t.length === 1 ? t[0] : null, s = 0; s < this.length; s++) {
        var l = this[s],
          c = !e.ableField || l._private[e.ableField],
          u = l._private[e.field] != e.value;
        if (e.overrideAble) {
          var d = e.overrideAble(l);
          if (d !== void 0 && ((c = d), !d)) return this;
        }
        c && ((l._private[e.field] = e.value), u && n.push(l));
      }
      var h = this.spawn(n);
      h.updateStyle(), h.emit(e.event), o && h.emit(o);
    }
    return this;
  };
}
function xc(e) {
  (Bo[e.field] = function () {
    var t = this[0];
    if (t) {
      if (e.overrideField) {
        var n = e.overrideField(t);
        if (n !== void 0) return n;
      }
      return t._private[e.field];
    }
  }),
    (Bo[e.on] = dS({
      event: e.on,
      field: e.field,
      ableField: e.ableField,
      overrideAble: e.overrideAble,
      value: !0,
    })),
    (Bo[e.off] = dS({
      event: e.off,
      field: e.field,
      ableField: e.ableField,
      overrideAble: e.overrideAble,
      value: !1,
    }));
}
xc({
  field: 'locked',
  overrideField: function (t) {
    return t.cy().autolock() ? !0 : void 0;
  },
  on: 'lock',
  off: 'unlock',
});
xc({
  field: 'grabbable',
  overrideField: function (t) {
    return t.cy().autoungrabify() || t.pannable() ? !1 : void 0;
  },
  on: 'grabify',
  off: 'ungrabify',
});
xc({
  field: 'selected',
  ableField: 'selectable',
  overrideAble: function (t) {
    return t.cy().autounselectify() ? !1 : void 0;
  },
  on: 'select',
  off: 'unselect',
});
xc({
  field: 'selectable',
  overrideField: function (t) {
    return t.cy().autounselectify() ? !1 : void 0;
  },
  on: 'selectify',
  off: 'unselectify',
});
Bo.deselect = Bo.unselect;
Bo.grabbed = function () {
  var e = this[0];
  if (e) return e._private.grabbed;
};
xc({ field: 'active', on: 'activate', off: 'unactivate' });
xc({ field: 'pannable', on: 'panify', off: 'unpanify' });
Bo.inactive = function () {
  var e = this[0];
  if (e) return !e._private.active;
};
var jn = {},
  hS = function (t) {
    return function (i) {
      for (var r = this, a = [], o = 0; o < r.length; o++) {
        var s = r[o];
        if (s.isNode()) {
          for (var l = !1, c = s.connectedEdges(), u = 0; u < c.length; u++) {
            var d = c[u],
              h = d.source(),
              p = d.target();
            if (
              (t.noIncomingEdges && p === s && h !== s) ||
              (t.noOutgoingEdges && h === s && p !== s)
            ) {
              l = !0;
              break;
            }
          }
          l || a.push(s);
        }
      }
      return this.spawn(a, !0).filter(i);
    };
  },
  fS = function (t) {
    return function (n) {
      for (var i = this, r = [], a = 0; a < i.length; a++) {
        var o = i[a];
        if (o.isNode())
          for (var s = o.connectedEdges(), l = 0; l < s.length; l++) {
            var c = s[l],
              u = c.source(),
              d = c.target();
            t.outgoing && u === o
              ? (r.push(c), r.push(d))
              : t.incoming && d === o && (r.push(c), r.push(u));
          }
      }
      return this.spawn(r, !0).filter(n);
    };
  },
  pS = function (t) {
    return function (n) {
      for (var i = this, r = [], a = {}; ; ) {
        var o = t.outgoing ? i.outgoers() : i.incomers();
        if (o.length === 0) break;
        for (var s = !1, l = 0; l < o.length; l++) {
          var c = o[l],
            u = c.id();
          a[u] || ((a[u] = !0), r.push(c), (s = !0));
        }
        if (!s) break;
        i = o;
      }
      return this.spawn(r, !0).filter(n);
    };
  };
jn.clearTraversalCache = function () {
  for (var e = 0; e < this.length; e++) this[e]._private.traversalCache = null;
};
be(jn, {
  roots: hS({ noIncomingEdges: !0 }),
  leaves: hS({ noOutgoingEdges: !0 }),
  outgoers: Nr(fS({ outgoing: !0 }), 'outgoers'),
  successors: pS({ outgoing: !0 }),
  incomers: Nr(fS({ incoming: !0 }), 'incomers'),
  predecessors: pS({ incoming: !0 }),
});
be(jn, {
  neighborhood: Nr(function (e) {
    for (var t = [], n = this.nodes(), i = 0; i < n.length; i++)
      for (var r = n[i], a = r.connectedEdges(), o = 0; o < a.length; o++) {
        var s = a[o],
          l = s.source(),
          c = s.target(),
          u = r === l ? c : l;
        u.length > 0 && t.push(u[0]), t.push(s[0]);
      }
    return this.spawn(t, !0).filter(e);
  }, 'neighborhood'),
  closedNeighborhood: function (t) {
    return this.neighborhood().add(this).filter(t);
  },
  openNeighborhood: function (t) {
    return this.neighborhood(t);
  },
});
jn.neighbourhood = jn.neighborhood;
jn.closedNeighbourhood = jn.closedNeighborhood;
jn.openNeighbourhood = jn.openNeighborhood;
be(jn, {
  source: Nr(function (t) {
    var n = this[0],
      i;
    return (
      n && (i = n._private.source || n.cy().collection()),
      i && t ? i.filter(t) : i
    );
  }, 'source'),
  target: Nr(function (t) {
    var n = this[0],
      i;
    return (
      n && (i = n._private.target || n.cy().collection()),
      i && t ? i.filter(t) : i
    );
  }, 'target'),
  sources: mS({ attr: 'source' }),
  targets: mS({ attr: 'target' }),
});
function mS(e) {
  return function (n) {
    for (var i = [], r = 0; r < this.length; r++) {
      var a = this[r],
        o = a._private[e.attr];
      o && i.push(o);
    }
    return this.spawn(i, !0).filter(n);
  };
}
be(jn, {
  edgesWith: Nr(gS(), 'edgesWith'),
  edgesTo: Nr(gS({ thisIsSrc: !0 }), 'edgesTo'),
});
function gS(e) {
  return function (n) {
    var i = [],
      r = this._private.cy,
      a = e || {};
    he(n) && (n = r.$(n));
    for (var o = 0; o < n.length; o++)
      for (var s = n[o]._private.edges, l = 0; l < s.length; l++) {
        var c = s[l],
          u = c._private.data,
          d = this.hasElementWithId(u.source) && n.hasElementWithId(u.target),
          h = n.hasElementWithId(u.source) && this.hasElementWithId(u.target),
          p = d || h;
        p &&
          (((a.thisIsSrc || a.thisIsTgt) &&
            ((a.thisIsSrc && !d) || (a.thisIsTgt && !h))) ||
            i.push(c));
      }
    return this.spawn(i, !0);
  };
}
be(jn, {
  connectedEdges: Nr(function (e) {
    for (var t = [], n = this, i = 0; i < n.length; i++) {
      var r = n[i];
      if (r.isNode())
        for (var a = r._private.edges, o = 0; o < a.length; o++) {
          var s = a[o];
          t.push(s);
        }
    }
    return this.spawn(t, !0).filter(e);
  }, 'connectedEdges'),
  connectedNodes: Nr(function (e) {
    for (var t = [], n = this, i = 0; i < n.length; i++) {
      var r = n[i];
      r.isEdge() && (t.push(r.source()[0]), t.push(r.target()[0]));
    }
    return this.spawn(t, !0).filter(e);
  }, 'connectedNodes'),
  parallelEdges: Nr(vS(), 'parallelEdges'),
  codirectedEdges: Nr(vS({ codirected: !0 }), 'codirectedEdges'),
});
function vS(e) {
  var t = { codirected: !1 };
  return (
    (e = be({}, t, e)),
    function (i) {
      for (var r = [], a = this.edges(), o = e, s = 0; s < a.length; s++)
        for (
          var l = a[s],
            c = l._private,
            u = c.source,
            d = u._private.data.id,
            h = c.data.target,
            p = u._private.edges,
            m = 0;
          m < p.length;
          m++
        ) {
          var _ = p[m],
            v = _._private.data,
            y = v.target,
            w = v.source,
            x = y === h && w === d,
            C = d === y && h === w;
          ((o.codirected && x) || (!o.codirected && (x || C))) && r.push(_);
        }
      return this.spawn(r, !0).filter(i);
    }
  );
}
be(jn, {
  components: function (t) {
    var n = this,
      i = n.cy(),
      r = i.collection(),
      a = t == null ? n.nodes() : t.nodes(),
      o = [];
    t != null && a.empty() && (a = t.sources());
    var s = function (u, d) {
      r.merge(u), a.unmerge(u), d.merge(u);
    };
    if (a.empty()) return n.spawn();
    var l = function () {
      var u = i.collection();
      o.push(u);
      var d = a[0];
      s(d, u),
        n.bfs({
          directed: !1,
          roots: d,
          visit: function (p) {
            return s(p, u);
          },
        }),
        u.forEach(function (h) {
          h.connectedEdges().forEach(function (p) {
            n.has(p) && u.has(p.source()) && u.has(p.target()) && u.merge(p);
          });
        });
    };
    do l();
    while (a.length > 0);
    return o;
  },
  component: function () {
    var t = this[0];
    return t.cy().mutableElements().components(t)[0];
  },
});
jn.componentsOf = jn.components;
var Mn = function (t, n) {
    var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
      r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
    if (t === void 0) {
      Xi('A collection must have a reference to the core');
      return;
    }
    var a = new Ea(),
      o = !1;
    if (!n) n = [];
    else if (n.length > 0 && Ge(n[0]) && !jd(n[0])) {
      o = !0;
      for (var s = [], l = new mc(), c = 0, u = n.length; c < u; c++) {
        var d = n[c];
        d.data == null && (d.data = {});
        var h = d.data;
        if (h.id == null) h.id = aD();
        else if (t.hasElementWithId(h.id) || l.has(h.id)) continue;
        var p = new sm(t, d, !1);
        s.push(p), l.add(h.id);
      }
      n = s;
    }
    this.length = 0;
    for (var m = 0, _ = n.length; m < _; m++) {
      var v = n[m][0];
      if (v != null) {
        var y = v._private.data.id;
        (!i || !a.has(y)) &&
          (i && a.set(y, { index: this.length, ele: v }),
          (this[this.length] = v),
          this.length++);
      }
    }
    (this._private = {
      eles: this,
      cy: t,
      get map() {
        return this.lazyMap == null && this.rebuildMap(), this.lazyMap;
      },
      set map(w) {
        this.lazyMap = w;
      },
      rebuildMap: function () {
        for (
          var x = (this.lazyMap = new Ea()), C = this.eles, S = 0;
          S < C.length;
          S++
        ) {
          var g = C[S];
          x.set(g.id(), { index: S, ele: g });
        }
      },
    }),
      i && (this._private.map = a),
      o && !r && this.restore();
  },
  Si = (sm.prototype = Mn.prototype = Object.create(Array.prototype));
Si.instanceString = function () {
  return 'collection';
};
Si.spawn = function (e, t) {
  return new Mn(this.cy(), e, t);
};
Si.spawnSelf = function () {
  return this.spawn(this);
};
Si.cy = function () {
  return this._private.cy;
};
Si.renderer = function () {
  return this._private.cy.renderer();
};
Si.element = function () {
  return this[0];
};
Si.collection = function () {
  return WS(this) ? this : new Mn(this._private.cy, [this]);
};
Si.unique = function () {
  return new Mn(this._private.cy, this, !0);
};
Si.hasElementWithId = function (e) {
  return (e = '' + e), this._private.map.has(e);
};
Si.getElementById = function (e) {
  e = '' + e;
  var t = this._private.cy,
    n = this._private.map.get(e);
  return n ? n.ele : new Mn(t);
};
Si.$id = Si.getElementById;
Si.poolIndex = function () {
  var e = this._private.cy,
    t = e._private.elements,
    n = this[0]._private.data.id;
  return t._private.map.get(n).index;
};
Si.indexOf = function (e) {
  var t = e[0]._private.data.id;
  return this._private.map.get(t).index;
};
Si.indexOfId = function (e) {
  return (e = '' + e), this._private.map.get(e).index;
};
Si.json = function (e) {
  var t = this.element(),
    n = this.cy();
  if (t == null && e) return this;
  if (t != null) {
    var i = t._private;
    if (Ge(e)) {
      if ((n.startBatch(), e.data)) {
        t.data(e.data);
        var r = i.data;
        if (t.isEdge()) {
          var a = !1,
            o = {},
            s = e.data.source,
            l = e.data.target;
          s != null && s != r.source && ((o.source = '' + s), (a = !0)),
            l != null && l != r.target && ((o.target = '' + l), (a = !0)),
            a && (t = t.move(o));
        } else {
          var c = 'parent' in e.data,
            u = e.data.parent;
          c &&
            (u != null || r.parent != null) &&
            u != r.parent &&
            (u === void 0 && (u = null),
            u != null && (u = '' + u),
            (t = t.move({ parent: u })));
        }
      }
      e.position && t.position(e.position);
      var d = function (_, v, y) {
        var w = e[_];
        w != null && w !== i[_] && (w ? t[v]() : t[y]());
      };
      return (
        d('removed', 'remove', 'restore'),
        d('selected', 'select', 'unselect'),
        d('selectable', 'selectify', 'unselectify'),
        d('locked', 'lock', 'unlock'),
        d('grabbable', 'grabify', 'ungrabify'),
        d('pannable', 'panify', 'unpanify'),
        e.classes != null && t.classes(e.classes),
        n.endBatch(),
        this
      );
    } else if (e === void 0) {
      var h = {
        data: Ca(i.data),
        position: Ca(i.position),
        group: i.group,
        removed: i.removed,
        selected: i.selected,
        selectable: i.selectable,
        locked: i.locked,
        grabbable: i.grabbable,
        pannable: i.pannable,
        classes: null,
      };
      h.classes = '';
      var p = 0;
      return (
        i.classes.forEach(function (m) {
          return (h.classes += p++ === 0 ? m : ' ' + m);
        }),
        h
      );
    }
  }
};
Si.jsons = function () {
  for (var e = [], t = 0; t < this.length; t++) {
    var n = this[t],
      i = n.json();
    e.push(i);
  }
  return e;
};
Si.clone = function () {
  for (var e = this.cy(), t = [], n = 0; n < this.length; n++) {
    var i = this[n],
      r = i.json(),
      a = new sm(e, r, !1);
    t.push(a);
  }
  return new Mn(e, t);
};
Si.copy = Si.clone;
Si.restore = function () {
  for (
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0,
      t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0,
      n = this,
      i = n.cy(),
      r = i._private,
      a = [],
      o = [],
      s,
      l = 0,
      c = n.length;
    l < c;
    l++
  ) {
    var u = n[l];
    (t && !u.removed()) || (u.isNode() ? a.push(u) : o.push(u));
  }
  s = a.concat(o);
  var d,
    h = function () {
      s.splice(d, 1), d--;
    };
  for (d = 0; d < s.length; d++) {
    var p = s[d],
      m = p._private,
      _ = m.data;
    if ((p.clearTraversalCache(), !(!t && !m.removed))) {
      if (_.id === void 0) _.id = aD();
      else if ($t(_.id)) _.id = '' + _.id;
      else if (zo(_.id) || !he(_.id)) {
        Xi('Can not create element with invalid string ID `' + _.id + '`'), h();
        continue;
      } else if (i.hasElementWithId(_.id)) {
        Xi('Can not create second element with ID `' + _.id + '`'), h();
        continue;
      }
    }
    var v = _.id;
    if (p.isNode()) {
      var y = m.position;
      y.x == null && (y.x = 0), y.y == null && (y.y = 0);
    }
    if (p.isEdge()) {
      for (
        var w = p, x = ['source', 'target'], C = x.length, S = !1, g = 0;
        g < C;
        g++
      ) {
        var D = x[g],
          T = _[D];
        $t(T) && (T = _[D] = '' + _[D]),
          T == null || T === ''
            ? (Xi('Can not create edge `' + v + '` with unspecified ' + D),
              (S = !0))
            : i.hasElementWithId(T) ||
              (Xi(
                'Can not create edge `' +
                  v +
                  '` with nonexistant ' +
                  D +
                  ' `' +
                  T +
                  '`'
              ),
              (S = !0));
      }
      if (S) {
        h();
        continue;
      }
      var O = i.getElementById(_.source),
        R = i.getElementById(_.target);
      O.same(R)
        ? O._private.edges.push(w)
        : (O._private.edges.push(w), R._private.edges.push(w)),
        (w._private.source = O),
        (w._private.target = R);
    }
    (m.map = new Ea()),
      m.map.set(v, { ele: p, index: 0 }),
      (m.removed = !1),
      t && i.addToPool(p);
  }
  for (var P = 0; P < a.length; P++) {
    var L = a[P],
      V = L._private.data;
    $t(V.parent) && (V.parent = '' + V.parent);
    var B = V.parent,
      q = B != null;
    if (q || L._private.parent) {
      var U = L._private.parent
        ? i.collection().merge(L._private.parent)
        : i.getElementById(B);
      if (U.empty()) V.parent = void 0;
      else if (U[0].removed())
        li('Node added with missing parent, reference to parent removed'),
          (V.parent = void 0),
          (L._private.parent = null);
      else {
        for (var W = !1, Z = U; !Z.empty(); ) {
          if (L.same(Z)) {
            (W = !0), (V.parent = void 0);
            break;
          }
          Z = Z.parent();
        }
        W ||
          (U[0]._private.children.push(L),
          (L._private.parent = U[0]),
          (r.hasCompoundNodes = !0));
      }
    }
  }
  if (s.length > 0) {
    for (
      var it = s.length === n.length ? n : new Mn(i, s), rt = 0;
      rt < it.length;
      rt++
    ) {
      var nt = it[rt];
      nt.isNode() ||
        (nt.parallelEdges().clearTraversalCache(),
        nt.source().clearTraversalCache(),
        nt.target().clearTraversalCache());
    }
    var J;
    r.hasCompoundNodes
      ? (J = i
          .collection()
          .merge(it)
          .merge(it.connectedNodes())
          .merge(it.parent()))
      : (J = it),
      J.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),
      e ? it.emitAndNotify('add') : t && it.emit('add');
  }
  return n;
};
Si.removed = function () {
  var e = this[0];
  return e && e._private.removed;
};
Si.inside = function () {
  var e = this[0];
  return e && !e._private.removed;
};
Si.remove = function () {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0,
    t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0,
    n = this,
    i = [],
    r = {},
    a = n._private.cy;
  function o(B) {
    for (var q = B._private.edges, U = 0; U < q.length; U++) l(q[U]);
  }
  function s(B) {
    for (var q = B._private.children, U = 0; U < q.length; U++) l(q[U]);
  }
  function l(B) {
    var q = r[B.id()];
    (t && B.removed()) ||
      q ||
      ((r[B.id()] = !0), B.isNode() ? (i.push(B), o(B), s(B)) : i.unshift(B));
  }
  for (var c = 0, u = n.length; c < u; c++) {
    var d = n[c];
    l(d);
  }
  function h(B, q) {
    var U = B._private.edges;
    Vo(U, q), B.clearTraversalCache();
  }
  function p(B) {
    B.clearTraversalCache();
  }
  var m = [];
  m.ids = {};
  function _(B, q) {
    (q = q[0]), (B = B[0]);
    var U = B._private.children,
      W = B.id();
    Vo(U, q),
      (q._private.parent = null),
      m.ids[W] || ((m.ids[W] = !0), m.push(B));
  }
  n.dirtyCompoundBoundsCache(), t && a.removeFromPool(i);
  for (var v = 0; v < i.length; v++) {
    var y = i[v];
    if (y.isEdge()) {
      var w = y.source()[0],
        x = y.target()[0];
      h(w, y), h(x, y);
      for (var C = y.parallelEdges(), S = 0; S < C.length; S++) {
        var g = C[S];
        p(g), g.isBundledBezier() && g.dirtyBoundingBoxCache();
      }
    } else {
      var D = y.parent();
      D.length !== 0 && _(D, y);
    }
    t && (y._private.removed = !0);
  }
  var T = a._private.elements;
  a._private.hasCompoundNodes = !1;
  for (var O = 0; O < T.length; O++) {
    var R = T[O];
    if (R.isParent()) {
      a._private.hasCompoundNodes = !0;
      break;
    }
  }
  var P = new Mn(this.cy(), i);
  P.size() > 0 && (e ? P.emitAndNotify('remove') : t && P.emit('remove'));
  for (var L = 0; L < m.length; L++) {
    var V = m[L];
    (!t || !V.removed()) && V.updateStyle();
  }
  return P;
};
Si.move = function (e) {
  var t = this._private.cy,
    n = this,
    i = !1,
    r = !1,
    a = function (m) {
      return m == null ? m : '' + m;
    };
  if (e.source !== void 0 || e.target !== void 0) {
    var o = a(e.source),
      s = a(e.target),
      l = o != null && t.hasElementWithId(o),
      c = s != null && t.hasElementWithId(s);
    (l || c) &&
      (t.batch(function () {
        n.remove(i, r), n.emitAndNotify('moveout');
        for (var p = 0; p < n.length; p++) {
          var m = n[p],
            _ = m._private.data;
          m.isEdge() && (l && (_.source = o), c && (_.target = s));
        }
        n.restore(i, r);
      }),
      n.emitAndNotify('move'));
  } else if (e.parent !== void 0) {
    var u = a(e.parent),
      d = u === null || t.hasElementWithId(u);
    if (d) {
      var h = u === null ? void 0 : u;
      t.batch(function () {
        var p = n.remove(i, r);
        p.emitAndNotify('moveout');
        for (var m = 0; m < n.length; m++) {
          var _ = n[m],
            v = _._private.data;
          _.isNode() && (v.parent = h);
        }
        p.restore(i, r);
      }),
        n.emitAndNotify('move');
    }
  }
  return this;
};
[bD, lq, Vp, Fo, pc, Cq, fm, Vq, UD, HD, Wq, Jp, jp, Tn, Bo, jn].forEach(
  function (e) {
    be(Si, e);
  }
);
var Qq = {
  add: function (t) {
    var n,
      i = this;
    if (vr(t)) {
      var r = t;
      if (r._private.cy === i) n = r.restore();
      else {
        for (var a = [], o = 0; o < r.length; o++) {
          var s = r[o];
          a.push(s.json());
        }
        n = new Mn(i, a);
      }
    } else if (_i(t)) {
      var l = t;
      n = new Mn(i, l);
    } else if (Ge(t) && (_i(t.nodes) || _i(t.edges))) {
      for (
        var c = t, u = [], d = ['nodes', 'edges'], h = 0, p = d.length;
        h < p;
        h++
      ) {
        var m = d[h],
          _ = c[m];
        if (_i(_))
          for (var v = 0, y = _.length; v < y; v++) {
            var w = be({ group: m }, _[v]);
            u.push(w);
          }
      }
      n = new Mn(i, u);
    } else {
      var x = t;
      n = new sm(i, x).collection();
    }
    return n;
  },
  remove: function (t) {
    if (!vr(t)) {
      if (he(t)) {
        var n = t;
        t = this.$(n);
      }
    }
    return t.remove();
  },
};
function Jq(e, t, n, i) {
  var r = 4,
    a = 0.001,
    o = 1e-7,
    s = 10,
    l = 11,
    c = 1 / (l - 1),
    u = typeof Float32Array < 'u';
  if (arguments.length !== 4) return !1;
  for (var d = 0; d < 4; ++d)
    if (
      typeof arguments[d] != 'number' ||
      isNaN(arguments[d]) ||
      !isFinite(arguments[d])
    )
      return !1;
  (e = Math.min(e, 1)),
    (n = Math.min(n, 1)),
    (e = Math.max(e, 0)),
    (n = Math.max(n, 0));
  var h = u ? new Float32Array(l) : new Array(l);
  function p(R, P) {
    return 1 - 3 * P + 3 * R;
  }
  function m(R, P) {
    return 3 * P - 6 * R;
  }
  function _(R) {
    return 3 * R;
  }
  function v(R, P, L) {
    return ((p(P, L) * R + m(P, L)) * R + _(P)) * R;
  }
  function y(R, P, L) {
    return 3 * p(P, L) * R * R + 2 * m(P, L) * R + _(P);
  }
  function w(R, P) {
    for (var L = 0; L < r; ++L) {
      var V = y(P, e, n);
      if (V === 0) return P;
      var B = v(P, e, n) - R;
      P -= B / V;
    }
    return P;
  }
  function x() {
    for (var R = 0; R < l; ++R) h[R] = v(R * c, e, n);
  }
  function C(R, P, L) {
    var V,
      B,
      q = 0;
    do (B = P + (L - P) / 2), (V = v(B, e, n) - R), V > 0 ? (L = B) : (P = B);
    while (Math.abs(V) > o && ++q < s);
    return B;
  }
  function S(R) {
    for (var P = 0, L = 1, V = l - 1; L !== V && h[L] <= R; ++L) P += c;
    --L;
    var B = (R - h[L]) / (h[L + 1] - h[L]),
      q = P + B * c,
      U = y(q, e, n);
    return U >= a ? w(R, q) : U === 0 ? q : C(R, P, P + c);
  }
  var g = !1;
  function D() {
    (g = !0), (e !== t || n !== i) && x();
  }
  var T = function (P) {
    return (
      g || D(),
      e === t && n === i ? P : P === 0 ? 0 : P === 1 ? 1 : v(S(P), t, i)
    );
  };
  T.getControlPoints = function () {
    return [
      { x: e, y: t },
      { x: n, y: i },
    ];
  };
  var O = 'generateBezier(' + [e, t, n, i] + ')';
  return (
    (T.toString = function () {
      return O;
    }),
    T
  );
}
var t3 = (function () {
    function e(i) {
      return -i.tension * i.x - i.friction * i.v;
    }
    function t(i, r, a) {
      var o = {
        x: i.x + a.dx * r,
        v: i.v + a.dv * r,
        tension: i.tension,
        friction: i.friction,
      };
      return { dx: o.v, dv: e(o) };
    }
    function n(i, r) {
      var a = { dx: i.v, dv: e(i) },
        o = t(i, r * 0.5, a),
        s = t(i, r * 0.5, o),
        l = t(i, r, s),
        c = (1 / 6) * (a.dx + 2 * (o.dx + s.dx) + l.dx),
        u = (1 / 6) * (a.dv + 2 * (o.dv + s.dv) + l.dv);
      return (i.x = i.x + c * r), (i.v = i.v + u * r), i;
    }
    return function i(r, a, o) {
      var s = { x: -1, v: 0, tension: null, friction: null },
        l = [0],
        c = 0,
        u = 1 / 1e4,
        d = 16 / 1e3,
        h,
        p,
        m;
      for (
        r = parseFloat(r) || 500,
          a = parseFloat(a) || 20,
          o = o || null,
          s.tension = r,
          s.friction = a,
          h = o !== null,
          h ? ((c = i(r, a)), (p = (c / o) * d)) : (p = d);
        (m = n(m || s, p)),
          l.push(1 + m.x),
          (c += 16),
          Math.abs(m.x) > u && Math.abs(m.v) > u;

      );
      return h
        ? function (_) {
            return l[(_ * (l.length - 1)) | 0];
          }
        : c;
    };
  })(),
  Ei = function (t, n, i, r) {
    var a = Jq(t, n, i, r);
    return function (o, s, l) {
      return o + (s - o) * a(l);
    };
  },
  qp = {
    linear: function (t, n, i) {
      return t + (n - t) * i;
    },
    ease: Ei(0.25, 0.1, 0.25, 1),
    'ease-in': Ei(0.42, 0, 1, 1),
    'ease-out': Ei(0, 0, 0.58, 1),
    'ease-in-out': Ei(0.42, 0, 0.58, 1),
    'ease-in-sine': Ei(0.47, 0, 0.745, 0.715),
    'ease-out-sine': Ei(0.39, 0.575, 0.565, 1),
    'ease-in-out-sine': Ei(0.445, 0.05, 0.55, 0.95),
    'ease-in-quad': Ei(0.55, 0.085, 0.68, 0.53),
    'ease-out-quad': Ei(0.25, 0.46, 0.45, 0.94),
    'ease-in-out-quad': Ei(0.455, 0.03, 0.515, 0.955),
    'ease-in-cubic': Ei(0.55, 0.055, 0.675, 0.19),
    'ease-out-cubic': Ei(0.215, 0.61, 0.355, 1),
    'ease-in-out-cubic': Ei(0.645, 0.045, 0.355, 1),
    'ease-in-quart': Ei(0.895, 0.03, 0.685, 0.22),
    'ease-out-quart': Ei(0.165, 0.84, 0.44, 1),
    'ease-in-out-quart': Ei(0.77, 0, 0.175, 1),
    'ease-in-quint': Ei(0.755, 0.05, 0.855, 0.06),
    'ease-out-quint': Ei(0.23, 1, 0.32, 1),
    'ease-in-out-quint': Ei(0.86, 0, 0.07, 1),
    'ease-in-expo': Ei(0.95, 0.05, 0.795, 0.035),
    'ease-out-expo': Ei(0.19, 1, 0.22, 1),
    'ease-in-out-expo': Ei(1, 0, 0, 1),
    'ease-in-circ': Ei(0.6, 0.04, 0.98, 0.335),
    'ease-out-circ': Ei(0.075, 0.82, 0.165, 1),
    'ease-in-out-circ': Ei(0.785, 0.135, 0.15, 0.86),
    spring: function (t, n, i) {
      if (i === 0) return qp.linear;
      var r = t3(t, n, i);
      return function (a, o, s) {
        return a + (o - a) * r(s);
      };
    },
    'cubic-bezier': Ei,
  };
function bS(e, t, n, i, r) {
  if (i === 1 || t === n) return n;
  var a = r(t, n, i);
  return (
    e == null ||
      ((e.roundValue || e.color) && (a = Math.round(a)),
      e.min !== void 0 && (a = Math.max(a, e.min)),
      e.max !== void 0 && (a = Math.min(a, e.max))),
    a
  );
}
function yS(e, t) {
  return e.pfValue != null || e.value != null
    ? e.pfValue != null && (t == null || t.type.units !== '%')
      ? e.pfValue
      : e.value
    : e;
}
function ec(e, t, n, i, r) {
  var a = r != null ? r.type : null;
  n < 0 ? (n = 0) : n > 1 && (n = 1);
  var o = yS(e, r),
    s = yS(t, r);
  if ($t(o) && $t(s)) return bS(a, o, s, n, i);
  if (_i(o) && _i(s)) {
    for (var l = [], c = 0; c < s.length; c++) {
      var u = o[c],
        d = s[c];
      if (u != null && d != null) {
        var h = bS(a, u, d, n, i);
        l.push(h);
      } else l.push(d);
    }
    return l;
  }
}
function e3(e, t, n, i) {
  var r = !i,
    a = e._private,
    o = t._private,
    s = o.easing,
    l = o.startTime,
    c = i ? e : e.cy(),
    u = c.style();
  if (!o.easingImpl)
    if (s == null) o.easingImpl = qp.linear;
    else {
      var d;
      if (he(s)) {
        var h = u.parse('transition-timing-function', s);
        d = h.value;
      } else d = s;
      var p, m;
      he(d)
        ? ((p = d), (m = []))
        : ((p = d[1]),
          (m = d.slice(2).map(function (it) {
            return +it;
          }))),
        m.length > 0
          ? (p === 'spring' && m.push(o.duration),
            (o.easingImpl = qp[p].apply(null, m)))
          : (o.easingImpl = qp[p]);
    }
  var _ = o.easingImpl,
    v;
  if (
    (o.duration === 0 ? (v = 1) : (v = (n - l) / o.duration),
    o.applying && (v = o.progress),
    v < 0 ? (v = 0) : v > 1 && (v = 1),
    o.delay == null)
  ) {
    var y = o.startPosition,
      w = o.position;
    if (w && r && !e.locked()) {
      var x = {};
      xd(y.x, w.x) && (x.x = ec(y.x, w.x, v, _)),
        xd(y.y, w.y) && (x.y = ec(y.y, w.y, v, _)),
        e.position(x);
    }
    var C = o.startPan,
      S = o.pan,
      g = a.pan,
      D = S != null && i;
    D &&
      (xd(C.x, S.x) && (g.x = ec(C.x, S.x, v, _)),
      xd(C.y, S.y) && (g.y = ec(C.y, S.y, v, _)),
      e.emit('pan'));
    var T = o.startZoom,
      O = o.zoom,
      R = O != null && i;
    R &&
      (xd(T, O) && (a.zoom = Od(a.minZoom, ec(T, O, v, _), a.maxZoom)),
      e.emit('zoom')),
      (D || R) && e.emit('viewport');
    var P = o.style;
    if (P && P.length > 0 && r) {
      for (var L = 0; L < P.length; L++) {
        var V = P[L],
          B = V.name,
          q = V,
          U = o.startStyle[B],
          W = u.properties[U.name],
          Z = ec(U, q, v, _, W);
        u.overrideBypass(e, B, Z);
      }
      e.emit('style');
    }
  }
  return (o.progress = v), v;
}
function xd(e, t) {
  return e == null || t == null ? !1 : $t(e) && $t(t) ? !0 : !!(e && t);
}
function i3(e, t, n, i) {
  var r = t._private;
  (r.started = !0), (r.startTime = n - r.progress * r.duration);
}
function _S(e, t) {
  var n = t._private.aniEles,
    i = [];
  function r(u, d) {
    var h = u._private,
      p = h.animation.current,
      m = h.animation.queue,
      _ = !1;
    if (p.length === 0) {
      var v = m.shift();
      v && p.push(v);
    }
    for (
      var y = function (g) {
          for (var D = g.length - 1; D >= 0; D--) {
            var T = g[D];
            T();
          }
          g.splice(0, g.length);
        },
        w = p.length - 1;
      w >= 0;
      w--
    ) {
      var x = p[w],
        C = x._private;
      if (C.stopped) {
        p.splice(w, 1),
          (C.hooked = !1),
          (C.playing = !1),
          (C.started = !1),
          y(C.frames);
        continue;
      }
      (!C.playing && !C.applying) ||
        (C.playing && C.applying && (C.applying = !1),
        C.started || i3(u, x, e),
        e3(u, x, e, d),
        C.applying && (C.applying = !1),
        y(C.frames),
        C.step != null && C.step(e),
        x.completed() &&
          (p.splice(w, 1),
          (C.hooked = !1),
          (C.playing = !1),
          (C.started = !1),
          y(C.completes)),
        (_ = !0));
    }
    return !d && p.length === 0 && m.length === 0 && i.push(u), _;
  }
  for (var a = !1, o = 0; o < n.length; o++) {
    var s = n[o],
      l = r(s);
    a = a || l;
  }
  var c = r(t, !0);
  (a || c) && (n.length > 0 ? t.notify('draw', n) : t.notify('draw')),
    n.unmerge(i),
    t.emit('step');
}
var n3 = {
    animate: si.animate(),
    animation: si.animation(),
    animated: si.animated(),
    clearQueue: si.clearQueue(),
    delay: si.delay(),
    delayAnimation: si.delayAnimation(),
    stop: si.stop(),
    addToAnimationPool: function (t) {
      var n = this;
      n.styleEnabled() && n._private.aniEles.merge(t);
    },
    stopAnimationLoop: function () {
      this._private.animationsRunning = !1;
    },
    startAnimationLoop: function () {
      var t = this;
      if (((t._private.animationsRunning = !0), !t.styleEnabled())) return;
      function n() {
        t._private.animationsRunning &&
          Yp(function (a) {
            _S(a, t), n();
          });
      }
      var i = t.renderer();
      i && i.beforeRender
        ? i.beforeRender(function (a, o) {
            _S(o, t);
          }, i.beforeRenderPriorities.animations)
        : n();
    },
  },
  r3 = {
    qualifierCompare: function (t, n) {
      return t == null || n == null ? t == null && n == null : t.sameText(n);
    },
    eventMatches: function (t, n, i) {
      var r = n.qualifier;
      return r != null
        ? t !== i.target && jd(i.target) && r.matches(i.target)
        : !0;
    },
    addEventFields: function (t, n) {
      (n.cy = t), (n.target = t);
    },
    callbackContext: function (t, n, i) {
      return n.qualifier != null ? i.target : t;
    },
  },
  Lp = function (t) {
    return he(t) ? new jo(t) : t;
  },
  GD = {
    createEmitter: function () {
      var t = this._private;
      return t.emitter || (t.emitter = new pm(r3, this)), this;
    },
    emitter: function () {
      return this._private.emitter;
    },
    on: function (t, n, i) {
      return this.emitter().on(t, Lp(n), i), this;
    },
    removeListener: function (t, n, i) {
      return this.emitter().removeListener(t, Lp(n), i), this;
    },
    removeAllListeners: function () {
      return this.emitter().removeAllListeners(), this;
    },
    one: function (t, n, i) {
      return this.emitter().one(t, Lp(n), i), this;
    },
    once: function (t, n, i) {
      return this.emitter().one(t, Lp(n), i), this;
    },
    emit: function (t, n) {
      return this.emitter().emit(t, n), this;
    },
    emitAndNotify: function (t, n) {
      return this.emit(t), this.notify(t, n), this;
    },
  };
si.eventAliasesOn(GD);
var Hy = {
  png: function (t) {
    var n = this._private.renderer;
    return (t = t || {}), n.png(t);
  },
  jpg: function (t) {
    var n = this._private.renderer;
    return (t = t || {}), (t.bg = t.bg || '#fff'), n.jpg(t);
  },
};
Hy.jpeg = Hy.jpg;
var Up = {
  layout: function (t) {
    var n = this;
    if (t == null) {
      Xi('Layout options must be specified to make a layout');
      return;
    }
    if (t.name == null) {
      Xi('A `name` must be specified to make a layout');
      return;
    }
    var i = t.name,
      r = n.extension('layout', i);
    if (r == null) {
      Xi(
        'No such layout `' +
          i +
          '` found.  Did you forget to import it and `cytoscape.use()` it?'
      );
      return;
    }
    var a;
    he(t.eles) ? (a = n.$(t.eles)) : (a = t.eles != null ? t.eles : n.$());
    var o = new r(be({}, t, { cy: n, eles: a }));
    return o;
  },
};
Up.createLayout = Up.makeLayout = Up.layout;
var a3 = {
    notify: function (t, n) {
      var i = this._private;
      if (this.batching()) {
        i.batchNotifications = i.batchNotifications || {};
        var r = (i.batchNotifications[t] =
          i.batchNotifications[t] || this.collection());
        n != null && r.merge(n);
        return;
      }
      if (i.notificationsEnabled) {
        var a = this.renderer();
        this.destroyed() || !a || a.notify(t, n);
      }
    },
    notifications: function (t) {
      var n = this._private;
      return t === void 0
        ? n.notificationsEnabled
        : ((n.notificationsEnabled = !!t), this);
    },
    noNotifications: function (t) {
      this.notifications(!1), t(), this.notifications(!0);
    },
    batching: function () {
      return this._private.batchCount > 0;
    },
    startBatch: function () {
      var t = this._private;
      return (
        t.batchCount == null && (t.batchCount = 0),
        t.batchCount === 0 &&
          ((t.batchStyleEles = this.collection()), (t.batchNotifications = {})),
        t.batchCount++,
        this
      );
    },
    endBatch: function () {
      var t = this._private;
      if (t.batchCount === 0) return this;
      if ((t.batchCount--, t.batchCount === 0)) {
        t.batchStyleEles.updateStyle();
        var n = this.renderer();
        Object.keys(t.batchNotifications).forEach(function (i) {
          var r = t.batchNotifications[i];
          r.empty() ? n.notify(i) : n.notify(i, r);
        });
      }
      return this;
    },
    batch: function (t) {
      return this.startBatch(), t(), this.endBatch(), this;
    },
    batchData: function (t) {
      var n = this;
      return this.batch(function () {
        for (var i = Object.keys(t), r = 0; r < i.length; r++) {
          var a = i[r],
            o = t[a],
            s = n.getElementById(a);
          s.data(o);
        }
      });
    },
  },
  o3 = An({
    hideEdgesOnViewport: !1,
    textureOnViewport: !1,
    motionBlur: !1,
    motionBlurOpacity: 0.05,
    pixelRatio: void 0,
    desktopTapThreshold: 4,
    touchTapThreshold: 8,
    wheelSensitivity: 1,
    debug: !1,
    showFps: !1,
  }),
  Wy = {
    renderTo: function (t, n, i, r) {
      var a = this._private.renderer;
      return a.renderTo(t, n, i, r), this;
    },
    renderer: function () {
      return this._private.renderer;
    },
    forceRender: function () {
      return this.notify('draw'), this;
    },
    resize: function () {
      return this.invalidateSize(), this.emitAndNotify('resize'), this;
    },
    initRenderer: function (t) {
      var n = this,
        i = n.extension('renderer', t.name);
      if (i == null) {
        Xi(
          'Can not initialise: No such renderer `'.concat(
            t.name,
            '` found. Did you forget to import it and `cytoscape.use()` it?'
          )
        );
        return;
      }
      t.wheelSensitivity !== void 0 &&
        li(
          'You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.'
        );
      var r = o3(t);
      (r.cy = n), (n._private.renderer = new i(r)), this.notify('init');
    },
    destroyRenderer: function () {
      var t = this;
      t.notify('destroy');
      var n = t.container();
      if (n)
        for (n._cyreg = null; n.childNodes.length > 0; )
          n.removeChild(n.childNodes[0]);
      (t._private.renderer = null),
        t.mutableElements().forEach(function (i) {
          var r = i._private;
          (r.rscratch = {}),
            (r.rstyle = {}),
            (r.animation.current = []),
            (r.animation.queue = []);
        });
    },
    onRender: function (t) {
      return this.on('render', t);
    },
    offRender: function (t) {
      return this.off('render', t);
    },
  };
Wy.invalidateDimensions = Wy.resize;
var Hp = {
  collection: function (t, n) {
    return he(t)
      ? this.$(t)
      : vr(t)
        ? t.collection()
        : _i(t)
          ? (n || (n = {}), new Mn(this, t, n.unique, n.removed))
          : new Mn(this);
  },
  nodes: function (t) {
    var n = this.$(function (i) {
      return i.isNode();
    });
    return t ? n.filter(t) : n;
  },
  edges: function (t) {
    var n = this.$(function (i) {
      return i.isEdge();
    });
    return t ? n.filter(t) : n;
  },
  $: function (t) {
    var n = this._private.elements;
    return t ? n.filter(t) : n.spawnSelf();
  },
  mutableElements: function () {
    return this._private.elements;
  },
};
Hp.elements = Hp.filter = Hp.$;
var Un = {},
  Dd = 't',
  s3 = 'f';
Un.apply = function (e) {
  for (
    var t = this, n = t._private, i = n.cy, r = i.collection(), a = 0;
    a < e.length;
    a++
  ) {
    var o = e[a],
      s = t.getContextMeta(o);
    if (!s.empty) {
      var l = t.getContextStyle(s),
        c = t.applyContextStyle(s, l, o);
      o._private.appliedInitStyle
        ? t.updateTransitions(o, c.diffProps)
        : (o._private.appliedInitStyle = !0);
      var u = t.updateStyleHints(o);
      u && r.push(o);
    }
  }
  return r;
};
Un.getPropertiesDiff = function (e, t) {
  var n = this,
    i = (n._private.propDiffs = n._private.propDiffs || {}),
    r = e + '-' + t,
    a = i[r];
  if (a) return a;
  for (var o = [], s = {}, l = 0; l < n.length; l++) {
    var c = n[l],
      u = e[l] === Dd,
      d = t[l] === Dd,
      h = u !== d,
      p = c.mappedProperties.length > 0;
    if (h || (d && p)) {
      var m = void 0;
      (h && p) || h ? (m = c.properties) : p && (m = c.mappedProperties);
      for (var _ = 0; _ < m.length; _++) {
        for (var v = m[_], y = v.name, w = !1, x = l + 1; x < n.length; x++) {
          var C = n[x],
            S = t[x] === Dd;
          if (S && ((w = C.properties[v.name] != null), w)) break;
        }
        !s[y] && !w && ((s[y] = !0), o.push(y));
      }
    }
  }
  return (i[r] = o), o;
};
Un.getContextMeta = function (e) {
  for (
    var t = this, n = '', i, r = e._private.styleCxtKey || '', a = 0;
    a < t.length;
    a++
  ) {
    var o = t[a],
      s = o.selector && o.selector.matches(e);
    s ? (n += Dd) : (n += s3);
  }
  return (
    (i = t.getPropertiesDiff(r, n)),
    (e._private.styleCxtKey = n),
    { key: n, diffPropNames: i, empty: i.length === 0 }
  );
};
Un.getContextStyle = function (e) {
  var t = e.key,
    n = this,
    i = (this._private.contextStyles = this._private.contextStyles || {});
  if (i[t]) return i[t];
  for (var r = { _private: { key: t } }, a = 0; a < n.length; a++) {
    var o = n[a],
      s = t[a] === Dd;
    if (s)
      for (var l = 0; l < o.properties.length; l++) {
        var c = o.properties[l];
        r[c.name] = c;
      }
  }
  return (i[t] = r), r;
};
Un.applyContextStyle = function (e, t, n) {
  for (
    var i = this, r = e.diffPropNames, a = {}, o = i.types, s = 0;
    s < r.length;
    s++
  ) {
    var l = r[s],
      c = t[l],
      u = n.pstyle(l);
    if (!c)
      if (u)
        u.bypass
          ? (c = { name: l, deleteBypassed: !0 })
          : (c = { name: l, delete: !0 });
      else continue;
    if (u !== c) {
      if (
        c.mapped === o.fn &&
        u != null &&
        u.mapping != null &&
        u.mapping.value === c.value
      ) {
        var d = u.mapping,
          h = (d.fnValue = c.value(n));
        if (h === d.prevFnValue) continue;
      }
      var p = (a[l] = { prev: u });
      i.applyParsedProperty(n, c),
        (p.next = n.pstyle(l)),
        p.next && p.next.bypass && (p.next = p.next.bypassed);
    }
  }
  return { diffProps: a };
};
Un.updateStyleHints = function (e) {
  var t = e._private,
    n = this,
    i = n.propertyGroupNames,
    r = n.propertyGroupKeys,
    a = function (ot, Mt, Vt) {
      return n.getPropertiesHash(ot, Mt, Vt);
    },
    o = t.styleKey;
  if (e.removed()) return !1;
  var s = t.group === 'nodes',
    l = e._private.style;
  i = Object.keys(l);
  for (var c = 0; c < r.length; c++) {
    var u = r[c];
    t.styleKeys[u] = [rc, kd];
  }
  for (
    var d = function (ot, Mt) {
        return (t.styleKeys[Mt][0] = Ad(ot, t.styleKeys[Mt][0]));
      },
      h = function (ot, Mt) {
        return (t.styleKeys[Mt][1] = Id(ot, t.styleKeys[Mt][1]));
      },
      p = function (ot, Mt) {
        d(ot, Mt), h(ot, Mt);
      },
      m = function (ot, Mt) {
        for (var Vt = 0; Vt < ot.length; Vt++) {
          var Ot = ot.charCodeAt(Vt);
          d(Ot, Mt), h(Ot, Mt);
        }
      },
      _ = 2e9,
      v = function (ot) {
        return -128 < ot && ot < 128 && Math.floor(ot) !== ot
          ? _ - ((ot * 1024) | 0)
          : ot;
      },
      y = 0;
    y < i.length;
    y++
  ) {
    var w = i[y],
      x = l[w];
    if (x != null) {
      var C = this.properties[w],
        S = C.type,
        g = C.groupKey,
        D = void 0;
      C.hashOverride != null
        ? (D = C.hashOverride(e, x))
        : x.pfValue != null && (D = x.pfValue);
      var T = C.enums == null ? x.value : null,
        O = D != null,
        R = T != null,
        P = O || R,
        L = x.units;
      if (S.number && P && !S.multiple) {
        var V = O ? D : T;
        p(v(V), g), !O && L != null && m(L, g);
      } else m(x.strValue, g);
    }
  }
  for (var B = [rc, kd], q = 0; q < r.length; q++) {
    var U = r[q],
      W = t.styleKeys[U];
    (B[0] = Ad(W[0], B[0])), (B[1] = Id(W[1], B[1]));
  }
  t.styleKey = hz(B[0], B[1]);
  var Z = t.styleKeys;
  t.labelDimsKey = Oo(Z.labelDimensions);
  var it = a(e, ['label'], Z.labelDimensions);
  if (
    ((t.labelKey = Oo(it)), (t.labelStyleKey = Oo(Sp(Z.commonLabel, it))), !s)
  ) {
    var rt = a(e, ['source-label'], Z.labelDimensions);
    (t.sourceLabelKey = Oo(rt)),
      (t.sourceLabelStyleKey = Oo(Sp(Z.commonLabel, rt)));
    var nt = a(e, ['target-label'], Z.labelDimensions);
    (t.targetLabelKey = Oo(nt)),
      (t.targetLabelStyleKey = Oo(Sp(Z.commonLabel, nt)));
  }
  if (s) {
    var J = t.styleKeys,
      dt = J.nodeBody,
      yt = J.nodeBorder,
      wt = J.nodeOutline,
      bt = J.backgroundImage,
      At = J.compound,
      _t = J.pie,
      K = [dt, yt, wt, bt, At, _t]
        .filter(function (lt) {
          return lt != null;
        })
        .reduce(Sp, [rc, kd]);
    (t.nodeKey = Oo(K)),
      (t.hasPie = _t != null && _t[0] !== rc && _t[1] !== kd);
  }
  return o !== t.styleKey;
};
Un.clearStyleHints = function (e) {
  var t = e._private;
  (t.styleCxtKey = ''),
    (t.styleKeys = {}),
    (t.styleKey = null),
    (t.labelKey = null),
    (t.labelStyleKey = null),
    (t.sourceLabelKey = null),
    (t.sourceLabelStyleKey = null),
    (t.targetLabelKey = null),
    (t.targetLabelStyleKey = null),
    (t.nodeKey = null),
    (t.hasPie = null);
};
Un.applyParsedProperty = function (e, t) {
  var n = this,
    i = t,
    r = e._private.style,
    a,
    o = n.types,
    s = n.properties[i.name].type,
    l = i.bypass,
    c = r[i.name],
    u = c && c.bypass,
    d = e._private,
    h = 'mapping',
    p = function (dt) {
      return dt == null ? null : dt.pfValue != null ? dt.pfValue : dt.value;
    },
    m = function () {
      var dt = p(c),
        yt = p(i);
      n.checkTriggers(e, i.name, dt, yt);
    };
  if (
    (t.name === 'curve-style' &&
      e.isEdge() &&
      ((t.value !== 'bezier' && e.isLoop()) ||
        (t.value === 'haystack' &&
          (e.source().isParent() || e.target().isParent()))) &&
      (i = t = this.parse(t.name, 'bezier', l)),
    i.delete)
  )
    return (r[i.name] = void 0), m(), !0;
  if (i.deleteBypassed)
    return c ? (c.bypass ? ((c.bypassed = void 0), m(), !0) : !1) : (m(), !0);
  if (i.deleteBypass)
    return c
      ? c.bypass
        ? ((r[i.name] = c.bypassed), m(), !0)
        : !1
      : (m(), !0);
  var _ = function () {
    li(
      'Do not assign mappings to elements without corresponding data (i.e. ele `' +
        e.id() +
        '` has no mapping for property `' +
        i.name +
        '` with data field `' +
        i.field +
        '`); try a `[' +
        i.field +
        ']` selector to limit scope to elements with `' +
        i.field +
        '` defined'
    );
  };
  switch (i.mapped) {
    case o.mapData: {
      for (
        var v = i.field.split('.'), y = d.data, w = 0;
        w < v.length && y;
        w++
      ) {
        var x = v[w];
        y = y[x];
      }
      if (y == null) return _(), !1;
      var C;
      if ($t(y)) {
        var S = i.fieldMax - i.fieldMin;
        S === 0 ? (C = 0) : (C = (y - i.fieldMin) / S);
      } else
        return (
          li(
            'Do not use continuous mappers without specifying numeric data (i.e. `' +
              i.field +
              ': ' +
              y +
              '` for `' +
              e.id() +
              '` is non-numeric)'
          ),
          !1
        );
      if ((C < 0 ? (C = 0) : C > 1 && (C = 1), s.color)) {
        var g = i.valueMin[0],
          D = i.valueMax[0],
          T = i.valueMin[1],
          O = i.valueMax[1],
          R = i.valueMin[2],
          P = i.valueMax[2],
          L = i.valueMin[3] == null ? 1 : i.valueMin[3],
          V = i.valueMax[3] == null ? 1 : i.valueMax[3],
          B = [
            Math.round(g + (D - g) * C),
            Math.round(T + (O - T) * C),
            Math.round(R + (P - R) * C),
            Math.round(L + (V - L) * C),
          ];
        a = {
          bypass: i.bypass,
          name: i.name,
          value: B,
          strValue: 'rgb(' + B[0] + ', ' + B[1] + ', ' + B[2] + ')',
        };
      } else if (s.number) {
        var q = i.valueMin + (i.valueMax - i.valueMin) * C;
        a = this.parse(i.name, q, i.bypass, h);
      } else return !1;
      if (!a) return _(), !1;
      (a.mapping = i), (i = a);
      break;
    }
    case o.data: {
      for (
        var U = i.field.split('.'), W = d.data, Z = 0;
        Z < U.length && W;
        Z++
      ) {
        var it = U[Z];
        W = W[it];
      }
      if ((W != null && (a = this.parse(i.name, W, i.bypass, h)), !a))
        return _(), !1;
      (a.mapping = i), (i = a);
      break;
    }
    case o.fn: {
      var rt = i.value,
        nt = i.fnValue != null ? i.fnValue : rt(e);
      if (((i.prevFnValue = nt), nt == null))
        return (
          li(
            'Custom function mappers may not return null (i.e. `' +
              i.name +
              '` for ele `' +
              e.id() +
              '` is null)'
          ),
          !1
        );
      if (((a = this.parse(i.name, nt, i.bypass, h)), !a))
        return (
          li(
            'Custom function mappers may not return invalid values for the property type (i.e. `' +
              i.name +
              '` for ele `' +
              e.id() +
              '` is invalid)'
          ),
          !1
        );
      (a.mapping = Ca(i)), (i = a);
      break;
    }
    case void 0:
      break;
    default:
      return !1;
  }
  return (
    l
      ? (u ? (i.bypassed = c.bypassed) : (i.bypassed = c), (r[i.name] = i))
      : u
        ? (c.bypassed = i)
        : (r[i.name] = i),
    m(),
    !0
  );
};
Un.cleanElements = function (e, t) {
  for (var n = 0; n < e.length; n++) {
    var i = e[n];
    if (
      (this.clearStyleHints(i),
      i.dirtyCompoundBoundsCache(),
      i.dirtyBoundingBoxCache(),
      !t)
    )
      i._private.style = {};
    else
      for (
        var r = i._private.style, a = Object.keys(r), o = 0;
        o < a.length;
        o++
      ) {
        var s = a[o],
          l = r[s];
        l != null && (l.bypass ? (l.bypassed = null) : (r[s] = null));
      }
  }
};
Un.update = function () {
  var e = this._private.cy,
    t = e.mutableElements();
  t.updateStyle();
};
Un.updateTransitions = function (e, t) {
  var n = this,
    i = e._private,
    r = e.pstyle('transition-property').value,
    a = e.pstyle('transition-duration').pfValue,
    o = e.pstyle('transition-delay').pfValue;
  if (r.length > 0 && a > 0) {
    for (var s = {}, l = !1, c = 0; c < r.length; c++) {
      var u = r[c],
        d = e.pstyle(u),
        h = t[u];
      if (h) {
        var p = h.prev,
          m = p,
          _ = h.next != null ? h.next : d,
          v = !1,
          y = void 0,
          w = 1e-6;
        m &&
          ($t(m.pfValue) && $t(_.pfValue)
            ? ((v = _.pfValue - m.pfValue), (y = m.pfValue + w * v))
            : $t(m.value) && $t(_.value)
              ? ((v = _.value - m.value), (y = m.value + w * v))
              : _i(m.value) &&
                _i(_.value) &&
                ((v =
                  m.value[0] !== _.value[0] ||
                  m.value[1] !== _.value[1] ||
                  m.value[2] !== _.value[2]),
                (y = m.strValue)),
          v && ((s[u] = _.strValue), this.applyBypass(e, u, y), (l = !0)));
      }
    }
    if (!l) return;
    (i.transitioning = !0),
      new gc(function (x) {
        o > 0 ? e.delayAnimation(o).play().promise().then(x) : x();
      })
        .then(function () {
          return e
            .animation({
              style: s,
              duration: a,
              easing: e.pstyle('transition-timing-function').value,
              queue: !1,
            })
            .play()
            .promise();
        })
        .then(function () {
          n.removeBypasses(e, r),
            e.emitAndNotify('style'),
            (i.transitioning = !1);
        });
  } else
    i.transitioning &&
      (this.removeBypasses(e, r),
      e.emitAndNotify('style'),
      (i.transitioning = !1));
};
Un.checkTrigger = function (e, t, n, i, r, a) {
  var o = this.properties[t],
    s = r(o);
  s != null && s(n, i) && a(o);
};
Un.checkZOrderTrigger = function (e, t, n, i) {
  var r = this;
  this.checkTrigger(
    e,
    t,
    n,
    i,
    function (a) {
      return a.triggersZOrder;
    },
    function () {
      r._private.cy.notify('zorder', e);
    }
  );
};
Un.checkBoundsTrigger = function (e, t, n, i) {
  this.checkTrigger(
    e,
    t,
    n,
    i,
    function (r) {
      return r.triggersBounds;
    },
    function (r) {
      e.dirtyCompoundBoundsCache(),
        e.dirtyBoundingBoxCache(),
        r.triggersBoundsOfParallelBeziers &&
          t === 'curve-style' &&
          (n === 'bezier' || i === 'bezier') &&
          e.parallelEdges().forEach(function (a) {
            a.isBundledBezier() && a.dirtyBoundingBoxCache();
          }),
        r.triggersBoundsOfConnectedEdges &&
          t === 'display' &&
          (n === 'none' || i === 'none') &&
          e.connectedEdges().forEach(function (a) {
            a.dirtyBoundingBoxCache();
          });
    }
  );
};
Un.checkTriggers = function (e, t, n, i) {
  e.dirtyStyleCache(),
    this.checkZOrderTrigger(e, t, n, i),
    this.checkBoundsTrigger(e, t, n, i);
};
var Wd = {};
Wd.applyBypass = function (e, t, n, i) {
  var r = this,
    a = [],
    o = !0;
  if (t === '*' || t === '**') {
    if (n !== void 0)
      for (var s = 0; s < r.properties.length; s++) {
        var l = r.properties[s],
          c = l.name,
          u = this.parse(c, n, !0);
        u && a.push(u);
      }
  } else if (he(t)) {
    var d = this.parse(t, n, !0);
    d && a.push(d);
  } else if (Ge(t)) {
    var h = t;
    i = n;
    for (var p = Object.keys(h), m = 0; m < p.length; m++) {
      var _ = p[m],
        v = h[_];
      if ((v === void 0 && (v = h[rm(_)]), v !== void 0)) {
        var y = this.parse(_, v, !0);
        y && a.push(y);
      }
    }
  } else return !1;
  if (a.length === 0) return !1;
  for (var w = !1, x = 0; x < e.length; x++) {
    for (var C = e[x], S = {}, g = void 0, D = 0; D < a.length; D++) {
      var T = a[D];
      if (i) {
        var O = C.pstyle(T.name);
        g = S[T.name] = { prev: O };
      }
      (w = this.applyParsedProperty(C, Ca(T)) || w),
        i && (g.next = C.pstyle(T.name));
    }
    w && this.updateStyleHints(C), i && this.updateTransitions(C, S, o);
  }
  return w;
};
Wd.overrideBypass = function (e, t, n) {
  t = n0(t);
  for (var i = 0; i < e.length; i++) {
    var r = e[i],
      a = r._private.style[t],
      o = this.properties[t].type,
      s = o.color,
      l = o.mutiple,
      c = a ? (a.pfValue != null ? a.pfValue : a.value) : null;
    !a || !a.bypass
      ? this.applyBypass(r, t, n)
      : ((a.value = n),
        a.pfValue != null && (a.pfValue = n),
        s
          ? (a.strValue = 'rgb(' + n.join(',') + ')')
          : l
            ? (a.strValue = n.join(' '))
            : (a.strValue = '' + n),
        this.updateStyleHints(r)),
      this.checkTriggers(r, t, c, n);
  }
};
Wd.removeAllBypasses = function (e, t) {
  return this.removeBypasses(e, this.propertyNames, t);
};
Wd.removeBypasses = function (e, t, n) {
  for (var i = !0, r = 0; r < e.length; r++) {
    for (var a = e[r], o = {}, s = 0; s < t.length; s++) {
      var l = t[s],
        c = this.properties[l],
        u = a.pstyle(c.name);
      if (!(!u || !u.bypass)) {
        var d = '',
          h = this.parse(l, d, !0),
          p = (o[c.name] = { prev: u });
        this.applyParsedProperty(a, h), (p.next = a.pstyle(c.name));
      }
    }
    this.updateStyleHints(a), n && this.updateTransitions(a, o, i);
  }
};
var v0 = {};
v0.getEmSizeInPixels = function () {
  var e = this.containerCss('font-size');
  return e != null ? parseFloat(e) : 1;
};
v0.containerCss = function (e) {
  var t = this._private.cy,
    n = t.container(),
    i = t.window();
  if (i && n && i.getComputedStyle)
    return i.getComputedStyle(n).getPropertyValue(e);
};
var Sa = {};
Sa.getRenderedStyle = function (e, t) {
  return t ? this.getStylePropertyValue(e, t, !0) : this.getRawStyle(e, !0);
};
Sa.getRawStyle = function (e, t) {
  var n = this;
  if (((e = e[0]), e)) {
    for (var i = {}, r = 0; r < n.properties.length; r++) {
      var a = n.properties[r],
        o = n.getStylePropertyValue(e, a.name, t);
      o != null && ((i[a.name] = o), (i[rm(a.name)] = o));
    }
    return i;
  }
};
Sa.getIndexedStyle = function (e, t, n, i) {
  var r = e.pstyle(t)[n][i];
  return r ?? e.cy().style().getDefaultProperty(t)[n][0];
};
Sa.getStylePropertyValue = function (e, t, n) {
  var i = this;
  if (((e = e[0]), e)) {
    var r = i.properties[t];
    r.alias && (r = r.pointsTo);
    var a = r.type,
      o = e.pstyle(r.name);
    if (o) {
      var s = o.value,
        l = o.units,
        c = o.strValue;
      if (n && a.number && s != null && $t(s)) {
        var u = e.cy().zoom(),
          d = function (v) {
            return v * u;
          },
          h = function (v, y) {
            return d(v) + y;
          },
          p = _i(s),
          m = p
            ? l.every(function (_) {
                return _ != null;
              })
            : l != null;
        return m
          ? p
            ? s
                .map(function (_, v) {
                  return h(_, l[v]);
                })
                .join(' ')
            : h(s, l)
          : p
            ? s
                .map(function (_) {
                  return he(_) ? _ : '' + d(_);
                })
                .join(' ')
            : '' + d(s);
      } else if (c != null) return c;
    }
    return null;
  }
};
Sa.getAnimationStartStyle = function (e, t) {
  for (var n = {}, i = 0; i < t.length; i++) {
    var r = t[i],
      a = r.name,
      o = e.pstyle(a);
    o !== void 0 &&
      (Ge(o) ? (o = this.parse(a, o.strValue)) : (o = this.parse(a, o))),
      o && (n[a] = o);
  }
  return n;
};
Sa.getPropsList = function (e) {
  var t = this,
    n = [],
    i = e,
    r = t.properties;
  if (i)
    for (var a = Object.keys(i), o = 0; o < a.length; o++) {
      var s = a[o],
        l = i[s],
        c = r[s] || r[n0(s)],
        u = this.parse(c.name, l);
      u && n.push(u);
    }
  return n;
};
Sa.getNonDefaultPropertiesHash = function (e, t, n) {
  var i = n.slice(),
    r,
    a,
    o,
    s,
    l,
    c;
  for (l = 0; l < t.length; l++)
    if (((r = t[l]), (a = e.pstyle(r, !1)), a != null))
      if (a.pfValue != null) (i[0] = Ad(s, i[0])), (i[1] = Id(s, i[1]));
      else
        for (o = a.strValue, c = 0; c < o.length; c++)
          (s = o.charCodeAt(c)), (i[0] = Ad(s, i[0])), (i[1] = Id(s, i[1]));
  return i;
};
Sa.getPropertiesHash = Sa.getNonDefaultPropertiesHash;
var vm = {};
vm.appendFromJson = function (e) {
  for (var t = this, n = 0; n < e.length; n++) {
    var i = e[n],
      r = i.selector,
      a = i.style || i.css,
      o = Object.keys(a);
    t.selector(r);
    for (var s = 0; s < o.length; s++) {
      var l = o[s],
        c = a[l];
      t.css(l, c);
    }
  }
  return t;
};
vm.fromJson = function (e) {
  var t = this;
  return t.resetToDefault(), t.appendFromJson(e), t;
};
vm.json = function () {
  for (var e = [], t = this.defaultLength; t < this.length; t++) {
    for (
      var n = this[t], i = n.selector, r = n.properties, a = {}, o = 0;
      o < r.length;
      o++
    ) {
      var s = r[o];
      a[s.name] = s.strValue;
    }
    e.push({ selector: i ? i.toString() : 'core', style: a });
  }
  return e;
};
var b0 = {};
b0.appendFromString = function (e) {
  var t = this,
    n = this,
    i = '' + e,
    r,
    a,
    o;
  i = i.replace(/[/][*](\s|.)+?[*][/]/g, '');
  function s() {
    i.length > r.length ? (i = i.substr(r.length)) : (i = '');
  }
  function l() {
    a.length > o.length ? (a = a.substr(o.length)) : (a = '');
  }
  for (;;) {
    var c = i.match(/^\s*$/);
    if (c) break;
    var u = i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);
    if (!u) {
      li(
        'Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: ' +
          i
      );
      break;
    }
    r = u[0];
    var d = u[1];
    if (d !== 'core') {
      var h = new jo(d);
      if (h.invalid) {
        li(
          'Skipping parsing of block: Invalid selector found in string stylesheet: ' +
            d
        ),
          s();
        continue;
      }
    }
    var p = u[2],
      m = !1;
    a = p;
    for (var _ = []; ; ) {
      var v = a.match(/^\s*$/);
      if (v) break;
      var y = a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);
      if (!y) {
        li(
          'Skipping parsing of block: Invalid formatting of style property and value definitions found in:' +
            p
        ),
          (m = !0);
        break;
      }
      o = y[0];
      var w = y[1],
        x = y[2],
        C = t.properties[w];
      if (!C) {
        li('Skipping property: Invalid property name in: ' + o), l();
        continue;
      }
      var S = n.parse(w, x);
      if (!S) {
        li('Skipping property: Invalid property definition in: ' + o), l();
        continue;
      }
      _.push({ name: w, val: x }), l();
    }
    if (m) {
      s();
      break;
    }
    n.selector(d);
    for (var g = 0; g < _.length; g++) {
      var D = _[g];
      n.css(D.name, D.val);
    }
    s();
  }
  return n;
};
b0.fromString = function (e) {
  var t = this;
  return t.resetToDefault(), t.appendFromString(e), t;
};
var Dn = {};
(function () {
  var e = hn,
    t = mB,
    n = vB,
    i = bB,
    r = yB,
    a = function (K) {
      return '^' + K + '\\s*\\(\\s*([\\w\\.]+)\\s*\\)$';
    },
    o = function (K) {
      var lt = e + '|\\w+|' + t + '|' + n + '|' + i + '|' + r;
      return (
        '^' +
        K +
        '\\s*\\(([\\w\\.]+)\\s*\\,\\s*(' +
        e +
        ')\\s*\\,\\s*(' +
        e +
        ')\\s*,\\s*(' +
        lt +
        ')\\s*\\,\\s*(' +
        lt +
        ')\\)$'
      );
    },
    s = [`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`, '^(none)$', '^(.+)$'];
  Dn.types = {
    time: { number: !0, min: 0, units: 's|ms', implicitUnits: 'ms' },
    percent: { number: !0, min: 0, max: 100, units: '%', implicitUnits: '%' },
    percentages: {
      number: !0,
      min: 0,
      max: 100,
      units: '%',
      implicitUnits: '%',
      multiple: !0,
    },
    zeroOneNumber: { number: !0, min: 0, max: 1, unitless: !0 },
    zeroOneNumbers: { number: !0, min: 0, max: 1, unitless: !0, multiple: !0 },
    nOneOneNumber: { number: !0, min: -1, max: 1, unitless: !0 },
    nonNegativeInt: { number: !0, min: 0, integer: !0, unitless: !0 },
    nonNegativeNumber: { number: !0, min: 0, unitless: !0 },
    position: { enums: ['parent', 'origin'] },
    nodeSize: { number: !0, min: 0, enums: ['label'] },
    number: { number: !0, unitless: !0 },
    numbers: { number: !0, unitless: !0, multiple: !0 },
    positiveNumber: { number: !0, unitless: !0, min: 0, strictMin: !0 },
    size: { number: !0, min: 0 },
    bidirectionalSize: { number: !0 },
    bidirectionalSizeMaybePercent: { number: !0, allowPercent: !0 },
    bidirectionalSizes: { number: !0, multiple: !0 },
    sizeMaybePercent: { number: !0, min: 0, allowPercent: !0 },
    axisDirection: {
      enums: [
        'horizontal',
        'leftward',
        'rightward',
        'vertical',
        'upward',
        'downward',
        'auto',
      ],
    },
    paddingRelativeTo: { enums: ['width', 'height', 'average', 'min', 'max'] },
    bgWH: {
      number: !0,
      min: 0,
      allowPercent: !0,
      enums: ['auto'],
      multiple: !0,
    },
    bgPos: { number: !0, allowPercent: !0, multiple: !0 },
    bgRelativeTo: { enums: ['inner', 'include-padding'], multiple: !0 },
    bgRepeat: {
      enums: ['repeat', 'repeat-x', 'repeat-y', 'no-repeat'],
      multiple: !0,
    },
    bgFit: { enums: ['none', 'contain', 'cover'], multiple: !0 },
    bgCrossOrigin: {
      enums: ['anonymous', 'use-credentials', 'null'],
      multiple: !0,
    },
    bgClip: { enums: ['none', 'node'], multiple: !0 },
    bgContainment: { enums: ['inside', 'over'], multiple: !0 },
    color: { color: !0 },
    colors: { color: !0, multiple: !0 },
    fill: { enums: ['solid', 'linear-gradient', 'radial-gradient'] },
    bool: { enums: ['yes', 'no'] },
    bools: { enums: ['yes', 'no'], multiple: !0 },
    lineStyle: { enums: ['solid', 'dotted', 'dashed'] },
    lineCap: { enums: ['butt', 'round', 'square'] },
    linePosition: { enums: ['center', 'inside', 'outside'] },
    lineJoin: { enums: ['round', 'bevel', 'miter'] },
    borderStyle: { enums: ['solid', 'dotted', 'dashed', 'double'] },
    curveStyle: {
      enums: [
        'bezier',
        'unbundled-bezier',
        'haystack',
        'segments',
        'straight',
        'straight-triangle',
        'taxi',
        'round-segments',
        'round-taxi',
      ],
    },
    radiusType: { enums: ['arc-radius', 'influence-radius'], multiple: !0 },
    fontFamily: { regex: '^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$' },
    fontStyle: { enums: ['italic', 'normal', 'oblique'] },
    fontWeight: {
      enums: [
        'normal',
        'bold',
        'bolder',
        'lighter',
        '100',
        '200',
        '300',
        '400',
        '500',
        '600',
        '800',
        '900',
        100,
        200,
        300,
        400,
        500,
        600,
        700,
        800,
        900,
      ],
    },
    textDecoration: {
      enums: ['none', 'underline', 'overline', 'line-through'],
    },
    textTransform: { enums: ['none', 'uppercase', 'lowercase'] },
    textWrap: { enums: ['none', 'wrap', 'ellipsis'] },
    textOverflowWrap: { enums: ['whitespace', 'anywhere'] },
    textBackgroundShape: {
      enums: ['rectangle', 'roundrectangle', 'round-rectangle'],
    },
    nodeShape: {
      enums: [
        'rectangle',
        'roundrectangle',
        'round-rectangle',
        'cutrectangle',
        'cut-rectangle',
        'bottomroundrectangle',
        'bottom-round-rectangle',
        'barrel',
        'ellipse',
        'triangle',
        'round-triangle',
        'square',
        'pentagon',
        'round-pentagon',
        'hexagon',
        'round-hexagon',
        'concavehexagon',
        'concave-hexagon',
        'heptagon',
        'round-heptagon',
        'octagon',
        'round-octagon',
        'tag',
        'round-tag',
        'star',
        'diamond',
        'round-diamond',
        'vee',
        'rhomboid',
        'right-rhomboid',
        'polygon',
      ],
    },
    overlayShape: { enums: ['roundrectangle', 'round-rectangle', 'ellipse'] },
    cornerRadius: {
      number: !0,
      min: 0,
      units: 'px|em',
      implicitUnits: 'px',
      enums: ['auto'],
    },
    compoundIncludeLabels: { enums: ['include', 'exclude'] },
    arrowShape: {
      enums: [
        'tee',
        'triangle',
        'triangle-tee',
        'circle-triangle',
        'triangle-cross',
        'triangle-backcurve',
        'vee',
        'square',
        'circle',
        'diamond',
        'chevron',
        'none',
      ],
    },
    arrowFill: { enums: ['filled', 'hollow'] },
    arrowWidth: {
      number: !0,
      units: '%|px|em',
      implicitUnits: 'px',
      enums: ['match-line'],
    },
    display: { enums: ['element', 'none'] },
    visibility: { enums: ['hidden', 'visible'] },
    zCompoundDepth: { enums: ['bottom', 'orphan', 'auto', 'top'] },
    zIndexCompare: { enums: ['auto', 'manual'] },
    valign: { enums: ['top', 'center', 'bottom'] },
    halign: { enums: ['left', 'center', 'right'] },
    justification: { enums: ['left', 'center', 'right', 'auto'] },
    text: { string: !0 },
    data: { mapping: !0, regex: a('data') },
    layoutData: { mapping: !0, regex: a('layoutData') },
    scratch: { mapping: !0, regex: a('scratch') },
    mapData: { mapping: !0, regex: o('mapData') },
    mapLayoutData: { mapping: !0, regex: o('mapLayoutData') },
    mapScratch: { mapping: !0, regex: o('mapScratch') },
    fn: { mapping: !0, fn: !0 },
    url: { regexes: s, singleRegexMatchValue: !0 },
    urls: { regexes: s, singleRegexMatchValue: !0, multiple: !0 },
    propList: { propList: !0 },
    angle: { number: !0, units: 'deg|rad', implicitUnits: 'rad' },
    textRotation: {
      number: !0,
      units: 'deg|rad',
      implicitUnits: 'rad',
      enums: ['none', 'autorotate'],
    },
    polygonPointList: {
      number: !0,
      multiple: !0,
      evenMultiple: !0,
      min: -1,
      max: 1,
      unitless: !0,
    },
    edgeDistances: { enums: ['intersection', 'node-position', 'endpoints'] },
    edgeEndpoint: {
      number: !0,
      multiple: !0,
      units: '%|px|em|deg|rad',
      implicitUnits: 'px',
      enums: [
        'inside-to-node',
        'outside-to-node',
        'outside-to-node-or-label',
        'outside-to-line',
        'outside-to-line-or-label',
      ],
      singleEnum: !0,
      validate: function (K, lt) {
        switch (K.length) {
          case 2:
            return (
              lt[0] !== 'deg' &&
              lt[0] !== 'rad' &&
              lt[1] !== 'deg' &&
              lt[1] !== 'rad'
            );
          case 1:
            return he(K[0]) || lt[0] === 'deg' || lt[0] === 'rad';
          default:
            return !1;
        }
      },
    },
    easing: {
      regexes: [
        '^(spring)\\s*\\(\\s*(' + e + ')\\s*,\\s*(' + e + ')\\s*\\)$',
        '^(cubic-bezier)\\s*\\(\\s*(' +
          e +
          ')\\s*,\\s*(' +
          e +
          ')\\s*,\\s*(' +
          e +
          ')\\s*,\\s*(' +
          e +
          ')\\s*\\)$',
      ],
      enums: [
        'linear',
        'ease',
        'ease-in',
        'ease-out',
        'ease-in-out',
        'ease-in-sine',
        'ease-out-sine',
        'ease-in-out-sine',
        'ease-in-quad',
        'ease-out-quad',
        'ease-in-out-quad',
        'ease-in-cubic',
        'ease-out-cubic',
        'ease-in-out-cubic',
        'ease-in-quart',
        'ease-out-quart',
        'ease-in-out-quart',
        'ease-in-quint',
        'ease-out-quint',
        'ease-in-out-quint',
        'ease-in-expo',
        'ease-out-expo',
        'ease-in-out-expo',
        'ease-in-circ',
        'ease-out-circ',
        'ease-in-out-circ',
      ],
    },
    gradientDirection: {
      enums: [
        'to-bottom',
        'to-top',
        'to-left',
        'to-right',
        'to-bottom-right',
        'to-bottom-left',
        'to-top-right',
        'to-top-left',
        'to-right-bottom',
        'to-left-bottom',
        'to-right-top',
        'to-left-top',
      ],
    },
    boundsExpansion: {
      number: !0,
      multiple: !0,
      min: 0,
      validate: function (K) {
        var lt = K.length;
        return lt === 1 || lt === 2 || lt === 4;
      },
    },
  };
  var l = {
      zeroNonZero: function (K, lt) {
        return ((K == null || lt == null) && K !== lt) || (K == 0 && lt != 0)
          ? !0
          : K != 0 && lt == 0;
      },
      any: function (K, lt) {
        return K != lt;
      },
      emptyNonEmpty: function (K, lt) {
        var ot = zo(K),
          Mt = zo(lt);
        return (ot && !Mt) || (!ot && Mt);
      },
    },
    c = Dn.types,
    u = [
      {
        name: 'label',
        type: c.text,
        triggersBounds: l.any,
        triggersZOrder: l.emptyNonEmpty,
      },
      { name: 'text-rotation', type: c.textRotation, triggersBounds: l.any },
      {
        name: 'text-margin-x',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      {
        name: 'text-margin-y',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
    ],
    d = [
      { name: 'source-label', type: c.text, triggersBounds: l.any },
      {
        name: 'source-text-rotation',
        type: c.textRotation,
        triggersBounds: l.any,
      },
      {
        name: 'source-text-margin-x',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      {
        name: 'source-text-margin-y',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      { name: 'source-text-offset', type: c.size, triggersBounds: l.any },
    ],
    h = [
      { name: 'target-label', type: c.text, triggersBounds: l.any },
      {
        name: 'target-text-rotation',
        type: c.textRotation,
        triggersBounds: l.any,
      },
      {
        name: 'target-text-margin-x',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      {
        name: 'target-text-margin-y',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      { name: 'target-text-offset', type: c.size, triggersBounds: l.any },
    ],
    p = [
      { name: 'font-family', type: c.fontFamily, triggersBounds: l.any },
      { name: 'font-style', type: c.fontStyle, triggersBounds: l.any },
      { name: 'font-weight', type: c.fontWeight, triggersBounds: l.any },
      { name: 'font-size', type: c.size, triggersBounds: l.any },
      { name: 'text-transform', type: c.textTransform, triggersBounds: l.any },
      { name: 'text-wrap', type: c.textWrap, triggersBounds: l.any },
      {
        name: 'text-overflow-wrap',
        type: c.textOverflowWrap,
        triggersBounds: l.any,
      },
      { name: 'text-max-width', type: c.size, triggersBounds: l.any },
      { name: 'text-outline-width', type: c.size, triggersBounds: l.any },
      { name: 'line-height', type: c.positiveNumber, triggersBounds: l.any },
    ],
    m = [
      { name: 'text-valign', type: c.valign, triggersBounds: l.any },
      { name: 'text-halign', type: c.halign, triggersBounds: l.any },
      { name: 'color', type: c.color },
      { name: 'text-outline-color', type: c.color },
      { name: 'text-outline-opacity', type: c.zeroOneNumber },
      { name: 'text-background-color', type: c.color },
      { name: 'text-background-opacity', type: c.zeroOneNumber },
      { name: 'text-background-padding', type: c.size, triggersBounds: l.any },
      { name: 'text-border-opacity', type: c.zeroOneNumber },
      { name: 'text-border-color', type: c.color },
      { name: 'text-border-width', type: c.size, triggersBounds: l.any },
      { name: 'text-border-style', type: c.borderStyle, triggersBounds: l.any },
      {
        name: 'text-background-shape',
        type: c.textBackgroundShape,
        triggersBounds: l.any,
      },
      { name: 'text-justification', type: c.justification },
    ],
    _ = [
      { name: 'events', type: c.bool, triggersZOrder: l.any },
      { name: 'text-events', type: c.bool, triggersZOrder: l.any },
    ],
    v = [
      {
        name: 'display',
        type: c.display,
        triggersZOrder: l.any,
        triggersBounds: l.any,
        triggersBoundsOfConnectedEdges: !0,
      },
      { name: 'visibility', type: c.visibility, triggersZOrder: l.any },
      { name: 'opacity', type: c.zeroOneNumber, triggersZOrder: l.zeroNonZero },
      { name: 'text-opacity', type: c.zeroOneNumber },
      { name: 'min-zoomed-font-size', type: c.size },
      {
        name: 'z-compound-depth',
        type: c.zCompoundDepth,
        triggersZOrder: l.any,
      },
      { name: 'z-index-compare', type: c.zIndexCompare, triggersZOrder: l.any },
      { name: 'z-index', type: c.number, triggersZOrder: l.any },
    ],
    y = [
      { name: 'overlay-padding', type: c.size, triggersBounds: l.any },
      { name: 'overlay-color', type: c.color },
      {
        name: 'overlay-opacity',
        type: c.zeroOneNumber,
        triggersBounds: l.zeroNonZero,
      },
      { name: 'overlay-shape', type: c.overlayShape, triggersBounds: l.any },
      { name: 'overlay-corner-radius', type: c.cornerRadius },
    ],
    w = [
      { name: 'underlay-padding', type: c.size, triggersBounds: l.any },
      { name: 'underlay-color', type: c.color },
      {
        name: 'underlay-opacity',
        type: c.zeroOneNumber,
        triggersBounds: l.zeroNonZero,
      },
      { name: 'underlay-shape', type: c.overlayShape, triggersBounds: l.any },
      { name: 'underlay-corner-radius', type: c.cornerRadius },
    ],
    x = [
      { name: 'transition-property', type: c.propList },
      { name: 'transition-duration', type: c.time },
      { name: 'transition-delay', type: c.time },
      { name: 'transition-timing-function', type: c.easing },
    ],
    C = function (K, lt) {
      return lt.value === 'label' ? -K.poolIndex() : lt.pfValue;
    },
    S = [
      {
        name: 'height',
        type: c.nodeSize,
        triggersBounds: l.any,
        hashOverride: C,
      },
      {
        name: 'width',
        type: c.nodeSize,
        triggersBounds: l.any,
        hashOverride: C,
      },
      { name: 'shape', type: c.nodeShape, triggersBounds: l.any },
      {
        name: 'shape-polygon-points',
        type: c.polygonPointList,
        triggersBounds: l.any,
      },
      { name: 'corner-radius', type: c.cornerRadius },
      { name: 'background-color', type: c.color },
      { name: 'background-fill', type: c.fill },
      { name: 'background-opacity', type: c.zeroOneNumber },
      { name: 'background-blacken', type: c.nOneOneNumber },
      { name: 'background-gradient-stop-colors', type: c.colors },
      { name: 'background-gradient-stop-positions', type: c.percentages },
      { name: 'background-gradient-direction', type: c.gradientDirection },
      { name: 'padding', type: c.sizeMaybePercent, triggersBounds: l.any },
      {
        name: 'padding-relative-to',
        type: c.paddingRelativeTo,
        triggersBounds: l.any,
      },
      {
        name: 'bounds-expansion',
        type: c.boundsExpansion,
        triggersBounds: l.any,
      },
    ],
    g = [
      { name: 'border-color', type: c.color },
      { name: 'border-opacity', type: c.zeroOneNumber },
      { name: 'border-width', type: c.size, triggersBounds: l.any },
      { name: 'border-style', type: c.borderStyle },
      { name: 'border-cap', type: c.lineCap },
      { name: 'border-join', type: c.lineJoin },
      { name: 'border-dash-pattern', type: c.numbers },
      { name: 'border-dash-offset', type: c.number },
      { name: 'border-position', type: c.linePosition },
    ],
    D = [
      { name: 'outline-color', type: c.color },
      { name: 'outline-opacity', type: c.zeroOneNumber },
      { name: 'outline-width', type: c.size, triggersBounds: l.any },
      { name: 'outline-style', type: c.borderStyle },
      { name: 'outline-offset', type: c.size, triggersBounds: l.any },
    ],
    T = [
      { name: 'background-image', type: c.urls },
      { name: 'background-image-crossorigin', type: c.bgCrossOrigin },
      { name: 'background-image-opacity', type: c.zeroOneNumbers },
      { name: 'background-image-containment', type: c.bgContainment },
      { name: 'background-image-smoothing', type: c.bools },
      { name: 'background-position-x', type: c.bgPos },
      { name: 'background-position-y', type: c.bgPos },
      { name: 'background-width-relative-to', type: c.bgRelativeTo },
      { name: 'background-height-relative-to', type: c.bgRelativeTo },
      { name: 'background-repeat', type: c.bgRepeat },
      { name: 'background-fit', type: c.bgFit },
      { name: 'background-clip', type: c.bgClip },
      { name: 'background-width', type: c.bgWH },
      { name: 'background-height', type: c.bgWH },
      { name: 'background-offset-x', type: c.bgPos },
      { name: 'background-offset-y', type: c.bgPos },
    ],
    O = [
      { name: 'position', type: c.position, triggersBounds: l.any },
      {
        name: 'compound-sizing-wrt-labels',
        type: c.compoundIncludeLabels,
        triggersBounds: l.any,
      },
      { name: 'min-width', type: c.size, triggersBounds: l.any },
      {
        name: 'min-width-bias-left',
        type: c.sizeMaybePercent,
        triggersBounds: l.any,
      },
      {
        name: 'min-width-bias-right',
        type: c.sizeMaybePercent,
        triggersBounds: l.any,
      },
      { name: 'min-height', type: c.size, triggersBounds: l.any },
      {
        name: 'min-height-bias-top',
        type: c.sizeMaybePercent,
        triggersBounds: l.any,
      },
      {
        name: 'min-height-bias-bottom',
        type: c.sizeMaybePercent,
        triggersBounds: l.any,
      },
    ],
    R = [
      { name: 'line-style', type: c.lineStyle },
      { name: 'line-color', type: c.color },
      { name: 'line-fill', type: c.fill },
      { name: 'line-cap', type: c.lineCap },
      { name: 'line-opacity', type: c.zeroOneNumber },
      { name: 'line-dash-pattern', type: c.numbers },
      { name: 'line-dash-offset', type: c.number },
      { name: 'line-outline-width', type: c.size },
      { name: 'line-outline-color', type: c.color },
      { name: 'line-gradient-stop-colors', type: c.colors },
      { name: 'line-gradient-stop-positions', type: c.percentages },
      {
        name: 'curve-style',
        type: c.curveStyle,
        triggersBounds: l.any,
        triggersBoundsOfParallelBeziers: !0,
      },
      { name: 'haystack-radius', type: c.zeroOneNumber, triggersBounds: l.any },
      { name: 'source-endpoint', type: c.edgeEndpoint, triggersBounds: l.any },
      { name: 'target-endpoint', type: c.edgeEndpoint, triggersBounds: l.any },
      { name: 'control-point-step-size', type: c.size, triggersBounds: l.any },
      {
        name: 'control-point-distances',
        type: c.bidirectionalSizes,
        triggersBounds: l.any,
      },
      { name: 'control-point-weights', type: c.numbers, triggersBounds: l.any },
      {
        name: 'segment-distances',
        type: c.bidirectionalSizes,
        triggersBounds: l.any,
      },
      { name: 'segment-weights', type: c.numbers, triggersBounds: l.any },
      { name: 'segment-radii', type: c.numbers, triggersBounds: l.any },
      { name: 'radius-type', type: c.radiusType, triggersBounds: l.any },
      {
        name: 'taxi-turn',
        type: c.bidirectionalSizeMaybePercent,
        triggersBounds: l.any,
      },
      { name: 'taxi-turn-min-distance', type: c.size, triggersBounds: l.any },
      { name: 'taxi-direction', type: c.axisDirection, triggersBounds: l.any },
      { name: 'taxi-radius', type: c.number, triggersBounds: l.any },
      { name: 'edge-distances', type: c.edgeDistances, triggersBounds: l.any },
      { name: 'arrow-scale', type: c.positiveNumber, triggersBounds: l.any },
      { name: 'loop-direction', type: c.angle, triggersBounds: l.any },
      { name: 'loop-sweep', type: c.angle, triggersBounds: l.any },
      {
        name: 'source-distance-from-node',
        type: c.size,
        triggersBounds: l.any,
      },
      {
        name: 'target-distance-from-node',
        type: c.size,
        triggersBounds: l.any,
      },
    ],
    P = [
      { name: 'ghost', type: c.bool, triggersBounds: l.any },
      {
        name: 'ghost-offset-x',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      {
        name: 'ghost-offset-y',
        type: c.bidirectionalSize,
        triggersBounds: l.any,
      },
      { name: 'ghost-opacity', type: c.zeroOneNumber },
    ],
    L = [
      { name: 'selection-box-color', type: c.color },
      { name: 'selection-box-opacity', type: c.zeroOneNumber },
      { name: 'selection-box-border-color', type: c.color },
      { name: 'selection-box-border-width', type: c.size },
      { name: 'active-bg-color', type: c.color },
      { name: 'active-bg-opacity', type: c.zeroOneNumber },
      { name: 'active-bg-size', type: c.size },
      { name: 'outside-texture-bg-color', type: c.color },
      { name: 'outside-texture-bg-opacity', type: c.zeroOneNumber },
    ],
    V = [];
  (Dn.pieBackgroundN = 16),
    V.push({ name: 'pie-size', type: c.sizeMaybePercent });
  for (var B = 1; B <= Dn.pieBackgroundN; B++)
    V.push({ name: 'pie-' + B + '-background-color', type: c.color }),
      V.push({ name: 'pie-' + B + '-background-size', type: c.percent }),
      V.push({
        name: 'pie-' + B + '-background-opacity',
        type: c.zeroOneNumber,
      });
  var q = [],
    U = (Dn.arrowPrefixes = ['source', 'mid-source', 'target', 'mid-target']);
  [
    { name: 'arrow-shape', type: c.arrowShape, triggersBounds: l.any },
    { name: 'arrow-color', type: c.color },
    { name: 'arrow-fill', type: c.arrowFill },
    { name: 'arrow-width', type: c.arrowWidth },
  ].forEach(function (_t) {
    U.forEach(function (K) {
      var lt = K + '-' + _t.name,
        ot = _t.type,
        Mt = _t.triggersBounds;
      q.push({ name: lt, type: ot, triggersBounds: Mt });
    });
  }, {});
  var W = (Dn.properties = [].concat(
      _,
      x,
      v,
      y,
      w,
      P,
      m,
      p,
      u,
      d,
      h,
      S,
      g,
      D,
      T,
      V,
      O,
      R,
      q,
      L
    )),
    Z = (Dn.propertyGroups = {
      behavior: _,
      transition: x,
      visibility: v,
      overlay: y,
      underlay: w,
      ghost: P,
      commonLabel: m,
      labelDimensions: p,
      mainLabel: u,
      sourceLabel: d,
      targetLabel: h,
      nodeBody: S,
      nodeBorder: g,
      nodeOutline: D,
      backgroundImage: T,
      pie: V,
      compound: O,
      edgeLine: R,
      edgeArrow: q,
      core: L,
    }),
    it = (Dn.propertyGroupNames = {}),
    rt = (Dn.propertyGroupKeys = Object.keys(Z));
  rt.forEach(function (_t) {
    (it[_t] = Z[_t].map(function (K) {
      return K.name;
    })),
      Z[_t].forEach(function (K) {
        return (K.groupKey = _t);
      });
  });
  var nt = (Dn.aliases = [
    { name: 'content', pointsTo: 'label' },
    { name: 'control-point-distance', pointsTo: 'control-point-distances' },
    { name: 'control-point-weight', pointsTo: 'control-point-weights' },
    { name: 'segment-distance', pointsTo: 'segment-distances' },
    { name: 'segment-weight', pointsTo: 'segment-weights' },
    { name: 'segment-radius', pointsTo: 'segment-radii' },
    { name: 'edge-text-rotation', pointsTo: 'text-rotation' },
    { name: 'padding-left', pointsTo: 'padding' },
    { name: 'padding-right', pointsTo: 'padding' },
    { name: 'padding-top', pointsTo: 'padding' },
    { name: 'padding-bottom', pointsTo: 'padding' },
  ]);
  Dn.propertyNames = W.map(function (_t) {
    return _t.name;
  });
  for (var J = 0; J < W.length; J++) {
    var dt = W[J];
    W[dt.name] = dt;
  }
  for (var yt = 0; yt < nt.length; yt++) {
    var wt = nt[yt],
      bt = W[wt.pointsTo],
      At = { name: wt.name, alias: !0, pointsTo: bt };
    W.push(At), (W[wt.name] = At);
  }
})();
Dn.getDefaultProperty = function (e) {
  return this.getDefaultProperties()[e];
};
Dn.getDefaultProperties = function () {
  var e = this._private;
  if (e.defaultProperties != null) return e.defaultProperties;
  for (
    var t = be(
        {
          'selection-box-color': '#ddd',
          'selection-box-opacity': 0.65,
          'selection-box-border-color': '#aaa',
          'selection-box-border-width': 1,
          'active-bg-color': 'black',
          'active-bg-opacity': 0.15,
          'active-bg-size': 30,
          'outside-texture-bg-color': '#000',
          'outside-texture-bg-opacity': 0.125,
          events: 'yes',
          'text-events': 'no',
          'text-valign': 'top',
          'text-halign': 'center',
          'text-justification': 'auto',
          'line-height': 1,
          color: '#000',
          'text-outline-color': '#000',
          'text-outline-width': 0,
          'text-outline-opacity': 1,
          'text-opacity': 1,
          'text-decoration': 'none',
          'text-transform': 'none',
          'text-wrap': 'none',
          'text-overflow-wrap': 'whitespace',
          'text-max-width': 9999,
          'text-background-color': '#000',
          'text-background-opacity': 0,
          'text-background-shape': 'rectangle',
          'text-background-padding': 0,
          'text-border-opacity': 0,
          'text-border-width': 0,
          'text-border-style': 'solid',
          'text-border-color': '#000',
          'font-family': 'Helvetica Neue, Helvetica, sans-serif',
          'font-style': 'normal',
          'font-weight': 'normal',
          'font-size': 16,
          'min-zoomed-font-size': 0,
          'text-rotation': 'none',
          'source-text-rotation': 'none',
          'target-text-rotation': 'none',
          visibility: 'visible',
          display: 'element',
          opacity: 1,
          'z-compound-depth': 'auto',
          'z-index-compare': 'auto',
          'z-index': 0,
          label: '',
          'text-margin-x': 0,
          'text-margin-y': 0,
          'source-label': '',
          'source-text-offset': 0,
          'source-text-margin-x': 0,
          'source-text-margin-y': 0,
          'target-label': '',
          'target-text-offset': 0,
          'target-text-margin-x': 0,
          'target-text-margin-y': 0,
          'overlay-opacity': 0,
          'overlay-color': '#000',
          'overlay-padding': 10,
          'overlay-shape': 'round-rectangle',
          'overlay-corner-radius': 'auto',
          'underlay-opacity': 0,
          'underlay-color': '#000',
          'underlay-padding': 10,
          'underlay-shape': 'round-rectangle',
          'underlay-corner-radius': 'auto',
          'transition-property': 'none',
          'transition-duration': 0,
          'transition-delay': 0,
          'transition-timing-function': 'linear',
          'background-blacken': 0,
          'background-color': '#999',
          'background-fill': 'solid',
          'background-opacity': 1,
          'background-image': 'none',
          'background-image-crossorigin': 'anonymous',
          'background-image-opacity': 1,
          'background-image-containment': 'inside',
          'background-image-smoothing': 'yes',
          'background-position-x': '50%',
          'background-position-y': '50%',
          'background-offset-x': 0,
          'background-offset-y': 0,
          'background-width-relative-to': 'include-padding',
          'background-height-relative-to': 'include-padding',
          'background-repeat': 'no-repeat',
          'background-fit': 'none',
          'background-clip': 'node',
          'background-width': 'auto',
          'background-height': 'auto',
          'border-color': '#000',
          'border-opacity': 1,
          'border-width': 0,
          'border-style': 'solid',
          'border-dash-pattern': [4, 2],
          'border-dash-offset': 0,
          'border-cap': 'butt',
          'border-join': 'miter',
          'border-position': 'center',
          'outline-color': '#999',
          'outline-opacity': 1,
          'outline-width': 0,
          'outline-offset': 0,
          'outline-style': 'solid',
          height: 30,
          width: 30,
          shape: 'ellipse',
          'shape-polygon-points': '-1, -1,   1, -1,   1, 1,   -1, 1',
          'corner-radius': 'auto',
          'bounds-expansion': 0,
          'background-gradient-direction': 'to-bottom',
          'background-gradient-stop-colors': '#999',
          'background-gradient-stop-positions': '0%',
          ghost: 'no',
          'ghost-offset-y': 0,
          'ghost-offset-x': 0,
          'ghost-opacity': 0,
          padding: 0,
          'padding-relative-to': 'width',
          position: 'origin',
          'compound-sizing-wrt-labels': 'include',
          'min-width': 0,
          'min-width-bias-left': 0,
          'min-width-bias-right': 0,
          'min-height': 0,
          'min-height-bias-top': 0,
          'min-height-bias-bottom': 0,
        },
        { 'pie-size': '100%' },
        [
          { name: 'pie-{{i}}-background-color', value: 'black' },
          { name: 'pie-{{i}}-background-size', value: '0%' },
          { name: 'pie-{{i}}-background-opacity', value: 1 },
        ].reduce(function (l, c) {
          for (var u = 1; u <= Dn.pieBackgroundN; u++) {
            var d = c.name.replace('{{i}}', u),
              h = c.value;
            l[d] = h;
          }
          return l;
        }, {}),
        {
          'line-style': 'solid',
          'line-color': '#999',
          'line-fill': 'solid',
          'line-cap': 'butt',
          'line-opacity': 1,
          'line-outline-width': 0,
          'line-outline-color': '#000',
          'line-gradient-stop-colors': '#999',
          'line-gradient-stop-positions': '0%',
          'control-point-step-size': 40,
          'control-point-weights': 0.5,
          'segment-weights': 0.5,
          'segment-distances': 20,
          'segment-radii': 15,
          'radius-type': 'arc-radius',
          'taxi-turn': '50%',
          'taxi-radius': 15,
          'taxi-turn-min-distance': 10,
          'taxi-direction': 'auto',
          'edge-distances': 'intersection',
          'curve-style': 'haystack',
          'haystack-radius': 0,
          'arrow-scale': 1,
          'loop-direction': '-45deg',
          'loop-sweep': '-90deg',
          'source-distance-from-node': 0,
          'target-distance-from-node': 0,
          'source-endpoint': 'outside-to-node',
          'target-endpoint': 'outside-to-node',
          'line-dash-pattern': [6, 3],
          'line-dash-offset': 0,
        },
        [
          { name: 'arrow-shape', value: 'none' },
          { name: 'arrow-color', value: '#999' },
          { name: 'arrow-fill', value: 'filled' },
          { name: 'arrow-width', value: 1 },
        ].reduce(function (l, c) {
          return (
            Dn.arrowPrefixes.forEach(function (u) {
              var d = u + '-' + c.name,
                h = c.value;
              l[d] = h;
            }),
            l
          );
        }, {})
      ),
      n = {},
      i = 0;
    i < this.properties.length;
    i++
  ) {
    var r = this.properties[i];
    if (!r.pointsTo) {
      var a = r.name,
        o = t[a],
        s = this.parse(a, o);
      n[a] = s;
    }
  }
  return (e.defaultProperties = n), e.defaultProperties;
};
Dn.addDefaultStylesheet = function () {
  this.selector(':parent')
    .css({
      shape: 'rectangle',
      padding: 10,
      'background-color': '#eee',
      'border-color': '#ccc',
      'border-width': 1,
    })
    .selector('edge')
    .css({ width: 3 })
    .selector(':loop')
    .css({ 'curve-style': 'bezier' })
    .selector('edge:compound')
    .css({
      'curve-style': 'bezier',
      'source-endpoint': 'outside-to-line',
      'target-endpoint': 'outside-to-line',
    })
    .selector(':selected')
    .css({
      'background-color': '#0169D9',
      'line-color': '#0169D9',
      'source-arrow-color': '#0169D9',
      'target-arrow-color': '#0169D9',
      'mid-source-arrow-color': '#0169D9',
      'mid-target-arrow-color': '#0169D9',
    })
    .selector(':parent:selected')
    .css({ 'background-color': '#CCE1F9', 'border-color': '#aec8e5' })
    .selector(':active')
    .css({
      'overlay-color': 'black',
      'overlay-padding': 10,
      'overlay-opacity': 0.25,
    }),
    (this.defaultLength = this.length);
};
var bm = {};
bm.parse = function (e, t, n, i) {
  var r = this;
  if (ji(t)) return r.parseImplWarn(e, t, n, i);
  var a = i === 'mapping' || i === !0 || i === !1 || i == null ? 'dontcare' : i,
    o = n ? 't' : 'f',
    s = '' + t,
    l = iD(e, s, o, a),
    c = (r.propCache = r.propCache || []),
    u;
  return (
    (u = c[l]) || (u = c[l] = r.parseImplWarn(e, t, n, i)),
    (n || i === 'mapping') && ((u = Ca(u)), u && (u.value = Ca(u.value))),
    u
  );
};
bm.parseImplWarn = function (e, t, n, i) {
  var r = this.parseImpl(e, t, n, i);
  return (
    !r &&
      t != null &&
      li('The style property `'.concat(e, ': ').concat(t, '` is invalid')),
    r &&
      (r.name === 'width' || r.name === 'height') &&
      t === 'label' &&
      li('The style value of `label` is deprecated for `' + r.name + '`'),
    r
  );
};
bm.parseImpl = function (e, t, n, i) {
  var r = this;
  e = n0(e);
  var a = r.properties[e],
    o = t,
    s = r.types;
  if (!a || t === void 0) return null;
  a.alias && ((a = a.pointsTo), (e = a.name));
  var l = he(t);
  l && (t = t.trim());
  var c = a.type;
  if (!c) return null;
  if (n && (t === '' || t === null))
    return { name: e, value: t, bypass: !0, deleteBypass: !0 };
  if (ji(t))
    return { name: e, value: t, strValue: 'fn', mapped: s.fn, bypass: n };
  var u, d;
  if (!(!l || i || t.length < 7 || t[1] !== 'a')) {
    if (
      t.length >= 7 &&
      t[0] === 'd' &&
      (u = new RegExp(s.data.regex).exec(t))
    ) {
      if (n) return !1;
      var h = s.data;
      return {
        name: e,
        value: u,
        strValue: '' + t,
        mapped: h,
        field: u[1],
        bypass: n,
      };
    } else if (
      t.length >= 10 &&
      t[0] === 'm' &&
      (d = new RegExp(s.mapData.regex).exec(t))
    ) {
      if (n || c.multiple) return !1;
      var p = s.mapData;
      if (!(c.color || c.number)) return !1;
      var m = this.parse(e, d[4]);
      if (!m || m.mapped) return !1;
      var _ = this.parse(e, d[5]);
      if (!_ || _.mapped) return !1;
      if (m.pfValue === _.pfValue || m.strValue === _.strValue)
        return (
          li(
            '`' +
              e +
              ': ' +
              t +
              '` is not a valid mapper because the output range is zero; converting to `' +
              e +
              ': ' +
              m.strValue +
              '`'
          ),
          this.parse(e, m.strValue)
        );
      if (c.color) {
        var v = m.value,
          y = _.value,
          w =
            v[0] === y[0] &&
            v[1] === y[1] &&
            v[2] === y[2] &&
            (v[3] === y[3] ||
              ((v[3] == null || v[3] === 1) && (y[3] == null || y[3] === 1)));
        if (w) return !1;
      }
      return {
        name: e,
        value: d,
        strValue: '' + t,
        mapped: p,
        field: d[1],
        fieldMin: parseFloat(d[2]),
        fieldMax: parseFloat(d[3]),
        valueMin: m.value,
        valueMax: _.value,
        bypass: n,
      };
    }
  }
  if (c.multiple && i !== 'multiple') {
    var x;
    if (
      (l ? (x = t.split(/\s+/)) : _i(t) ? (x = t) : (x = [t]),
      c.evenMultiple && x.length % 2 !== 0)
    )
      return null;
    for (var C = [], S = [], g = [], D = '', T = !1, O = 0; O < x.length; O++) {
      var R = r.parse(e, x[O], n, 'multiple');
      (T = T || he(R.value)),
        C.push(R.value),
        g.push(R.pfValue != null ? R.pfValue : R.value),
        S.push(R.units),
        (D += (O > 0 ? ' ' : '') + R.strValue);
    }
    return c.validate && !c.validate(C, S)
      ? null
      : c.singleEnum && T
        ? C.length === 1 && he(C[0])
          ? { name: e, value: C[0], strValue: C[0], bypass: n }
          : null
        : { name: e, value: C, pfValue: g, strValue: D, bypass: n, units: S };
  }
  var P = function () {
    for (var K = 0; K < c.enums.length; K++) {
      var lt = c.enums[K];
      if (lt === t) return { name: e, value: t, strValue: '' + t, bypass: n };
    }
    return null;
  };
  if (c.number) {
    var L,
      V = 'px';
    if (
      (c.units && (L = c.units),
      c.implicitUnits && (V = c.implicitUnits),
      !c.unitless)
    )
      if (l) {
        var B = 'px|em' + (c.allowPercent ? '|\\%' : '');
        L && (B = L);
        var q = t.match('^(' + hn + ')(' + B + ')?$');
        q && ((t = q[1]), (L = q[2] || V));
      } else (!L || c.implicitUnits) && (L = V);
    if (((t = parseFloat(t)), isNaN(t) && c.enums === void 0)) return null;
    if (isNaN(t) && c.enums !== void 0) return (t = o), P();
    if (
      (c.integer && !lB(t)) ||
      (c.min !== void 0 && (t < c.min || (c.strictMin && t === c.min))) ||
      (c.max !== void 0 && (t > c.max || (c.strictMax && t === c.max)))
    )
      return null;
    var U = {
      name: e,
      value: t,
      strValue: '' + t + (L || ''),
      units: L,
      bypass: n,
    };
    return (
      c.unitless || (L !== 'px' && L !== 'em')
        ? (U.pfValue = t)
        : (U.pfValue = L === 'px' || !L ? t : this.getEmSizeInPixels() * t),
      (L === 'ms' || L === 's') && (U.pfValue = L === 'ms' ? t : 1e3 * t),
      (L === 'deg' || L === 'rad') && (U.pfValue = L === 'rad' ? t : qz(t)),
      L === '%' && (U.pfValue = t / 100),
      U
    );
  } else if (c.propList) {
    var W = [],
      Z = '' + t;
    if (Z !== 'none') {
      for (var it = Z.split(/\s*,\s*|\s+/), rt = 0; rt < it.length; rt++) {
        var nt = it[rt].trim();
        r.properties[nt]
          ? W.push(nt)
          : li('`' + nt + '` is not a valid property name');
      }
      if (W.length === 0) return null;
    }
    return {
      name: e,
      value: W,
      strValue: W.length === 0 ? 'none' : W.join(' '),
      bypass: n,
    };
  } else if (c.color) {
    var J = EB(t);
    return J
      ? {
          name: e,
          value: J,
          pfValue: J,
          strValue: 'rgb(' + J[0] + ',' + J[1] + ',' + J[2] + ')',
          bypass: n,
        }
      : null;
  } else if (c.regex || c.regexes) {
    if (c.enums) {
      var dt = P();
      if (dt) return dt;
    }
    for (
      var yt = c.regexes ? c.regexes : [c.regex], wt = 0;
      wt < yt.length;
      wt++
    ) {
      var bt = new RegExp(yt[wt]),
        At = bt.exec(t);
      if (At)
        return {
          name: e,
          value: c.singleRegexMatchValue ? At[1] : At,
          strValue: '' + t,
          bypass: n,
        };
    }
    return null;
  } else
    return c.string
      ? { name: e, value: '' + t, strValue: '' + t, bypass: n }
      : c.enums
        ? P()
        : null;
};
var Vn = function e(t) {
    if (!(this instanceof e)) return new e(t);
    if (!i0(t)) {
      Xi('A style must have a core reference');
      return;
    }
    (this._private = { cy: t, coreStyle: {} }),
      (this.length = 0),
      this.resetToDefault();
  },
  qn = Vn.prototype;
qn.instanceString = function () {
  return 'style';
};
qn.clear = function () {
  for (
    var e = this._private, t = e.cy, n = t.elements(), i = 0;
    i < this.length;
    i++
  )
    this[i] = void 0;
  return (
    (this.length = 0),
    (e.contextStyles = {}),
    (e.propDiffs = {}),
    this.cleanElements(n, !0),
    n.forEach(function (r) {
      var a = r[0]._private;
      (a.styleDirty = !0), (a.appliedInitStyle = !1);
    }),
    this
  );
};
qn.resetToDefault = function () {
  return this.clear(), this.addDefaultStylesheet(), this;
};
qn.core = function (e) {
  return this._private.coreStyle[e] || this.getDefaultProperty(e);
};
qn.selector = function (e) {
  var t = e === 'core' ? null : new jo(e),
    n = this.length++;
  return (
    (this[n] = { selector: t, properties: [], mappedProperties: [], index: n }),
    this
  );
};
qn.css = function () {
  var e = this,
    t = arguments;
  if (t.length === 1)
    for (var n = t[0], i = 0; i < e.properties.length; i++) {
      var r = e.properties[i],
        a = n[r.name];
      a === void 0 && (a = n[rm(r.name)]),
        a !== void 0 && this.cssRule(r.name, a);
    }
  else t.length === 2 && this.cssRule(t[0], t[1]);
  return this;
};
qn.style = qn.css;
qn.cssRule = function (e, t) {
  var n = this.parse(e, t);
  if (n) {
    var i = this.length - 1;
    this[i].properties.push(n),
      (this[i].properties[n.name] = n),
      n.name.match(/pie-(\d+)-background-size/) &&
        n.value &&
        (this._private.hasPie = !0),
      n.mapped && this[i].mappedProperties.push(n);
    var r = !this[i].selector;
    r && (this._private.coreStyle[n.name] = n);
  }
  return this;
};
qn.append = function (e) {
  return (
    $S(e)
      ? e.appendToStyle(this)
      : _i(e)
        ? this.appendFromJson(e)
        : he(e) && this.appendFromString(e),
    this
  );
};
Vn.fromJson = function (e, t) {
  var n = new Vn(e);
  return n.fromJson(t), n;
};
Vn.fromString = function (e, t) {
  return new Vn(e).fromString(t);
};
[Un, Wd, v0, Sa, vm, b0, Dn, bm].forEach(function (e) {
  be(qn, e);
});
Vn.types = qn.types;
Vn.properties = qn.properties;
Vn.propertyGroups = qn.propertyGroups;
Vn.propertyGroupNames = qn.propertyGroupNames;
Vn.propertyGroupKeys = qn.propertyGroupKeys;
var l3 = {
    style: function (t) {
      if (t) {
        var n = this.setStyle(t);
        n.update();
      }
      return this._private.style;
    },
    setStyle: function (t) {
      var n = this._private;
      return (
        $S(t)
          ? (n.style = t.generateStyle(this))
          : _i(t)
            ? (n.style = Vn.fromJson(this, t))
            : he(t)
              ? (n.style = Vn.fromString(this, t))
              : (n.style = Vn(this)),
        n.style
      );
    },
    updateStyle: function () {
      this.mutableElements().updateStyle();
    },
  },
  c3 = 'single',
  el = {
    autolock: function (t) {
      if (t !== void 0) this._private.autolock = !!t;
      else return this._private.autolock;
      return this;
    },
    autoungrabify: function (t) {
      if (t !== void 0) this._private.autoungrabify = !!t;
      else return this._private.autoungrabify;
      return this;
    },
    autounselectify: function (t) {
      if (t !== void 0) this._private.autounselectify = !!t;
      else return this._private.autounselectify;
      return this;
    },
    selectionType: function (t) {
      var n = this._private;
      if ((n.selectionType == null && (n.selectionType = c3), t !== void 0))
        (t === 'additive' || t === 'single') && (n.selectionType = t);
      else return n.selectionType;
      return this;
    },
    panningEnabled: function (t) {
      if (t !== void 0) this._private.panningEnabled = !!t;
      else return this._private.panningEnabled;
      return this;
    },
    userPanningEnabled: function (t) {
      if (t !== void 0) this._private.userPanningEnabled = !!t;
      else return this._private.userPanningEnabled;
      return this;
    },
    zoomingEnabled: function (t) {
      if (t !== void 0) this._private.zoomingEnabled = !!t;
      else return this._private.zoomingEnabled;
      return this;
    },
    userZoomingEnabled: function (t) {
      if (t !== void 0) this._private.userZoomingEnabled = !!t;
      else return this._private.userZoomingEnabled;
      return this;
    },
    boxSelectionEnabled: function (t) {
      if (t !== void 0) this._private.boxSelectionEnabled = !!t;
      else return this._private.boxSelectionEnabled;
      return this;
    },
    pan: function () {
      var t = arguments,
        n = this._private.pan,
        i,
        r,
        a,
        o,
        s;
      switch (t.length) {
        case 0:
          return n;
        case 1:
          if (he(t[0])) return (i = t[0]), n[i];
          if (Ge(t[0])) {
            if (!this._private.panningEnabled) return this;
            (a = t[0]),
              (o = a.x),
              (s = a.y),
              $t(o) && (n.x = o),
              $t(s) && (n.y = s),
              this.emit('pan viewport');
          }
          break;
        case 2:
          if (!this._private.panningEnabled) return this;
          (i = t[0]),
            (r = t[1]),
            (i === 'x' || i === 'y') && $t(r) && (n[i] = r),
            this.emit('pan viewport');
          break;
      }
      return this.notify('viewport'), this;
    },
    panBy: function (t, n) {
      var i = arguments,
        r = this._private.pan,
        a,
        o,
        s,
        l,
        c;
      if (!this._private.panningEnabled) return this;
      switch (i.length) {
        case 1:
          Ge(t) &&
            ((s = i[0]),
            (l = s.x),
            (c = s.y),
            $t(l) && (r.x += l),
            $t(c) && (r.y += c),
            this.emit('pan viewport'));
          break;
        case 2:
          (a = t),
            (o = n),
            (a === 'x' || a === 'y') && $t(o) && (r[a] += o),
            this.emit('pan viewport');
          break;
      }
      return this.notify('viewport'), this;
    },
    fit: function (t, n) {
      var i = this.getFitViewport(t, n);
      if (i) {
        var r = this._private;
        (r.zoom = i.zoom),
          (r.pan = i.pan),
          this.emit('pan zoom viewport'),
          this.notify('viewport');
      }
      return this;
    },
    getFitViewport: function (t, n) {
      if (
        ($t(t) && n === void 0 && ((n = t), (t = void 0)),
        !(!this._private.panningEnabled || !this._private.zoomingEnabled))
      ) {
        var i;
        if (he(t)) {
          var r = t;
          t = this.$(r);
        } else if (dB(t)) {
          var a = t;
          (i = { x1: a.x1, y1: a.y1, x2: a.x2, y2: a.y2 }),
            (i.w = i.x2 - i.x1),
            (i.h = i.y2 - i.y1);
        } else vr(t) || (t = this.mutableElements());
        if (!(vr(t) && t.empty())) {
          i = i || t.boundingBox();
          var o = this.width(),
            s = this.height(),
            l;
          if (
            ((n = $t(n) ? n : 0),
            !isNaN(o) &&
              !isNaN(s) &&
              o > 0 &&
              s > 0 &&
              !isNaN(i.w) &&
              !isNaN(i.h) &&
              i.w > 0 &&
              i.h > 0)
          ) {
            (l = Math.min((o - 2 * n) / i.w, (s - 2 * n) / i.h)),
              (l = l > this._private.maxZoom ? this._private.maxZoom : l),
              (l = l < this._private.minZoom ? this._private.minZoom : l);
            var c = {
              x: (o - l * (i.x1 + i.x2)) / 2,
              y: (s - l * (i.y1 + i.y2)) / 2,
            };
            return { zoom: l, pan: c };
          }
        }
      }
    },
    zoomRange: function (t, n) {
      var i = this._private;
      if (n == null) {
        var r = t;
        (t = r.min), (n = r.max);
      }
      return (
        $t(t) && $t(n) && t <= n
          ? ((i.minZoom = t), (i.maxZoom = n))
          : $t(t) && n === void 0 && t <= i.maxZoom
            ? (i.minZoom = t)
            : $t(n) && t === void 0 && n >= i.minZoom && (i.maxZoom = n),
        this
      );
    },
    minZoom: function (t) {
      return t === void 0 ? this._private.minZoom : this.zoomRange({ min: t });
    },
    maxZoom: function (t) {
      return t === void 0 ? this._private.maxZoom : this.zoomRange({ max: t });
    },
    getZoomedViewport: function (t) {
      var n = this._private,
        i = n.pan,
        r = n.zoom,
        a,
        o,
        s = !1;
      if (
        (n.zoomingEnabled || (s = !0),
        $t(t)
          ? (o = t)
          : Ge(t) &&
            ((o = t.level),
            t.position != null
              ? (a = lm(t.position, r, i))
              : t.renderedPosition != null && (a = t.renderedPosition),
            a != null && !n.panningEnabled && (s = !0)),
        (o = o > n.maxZoom ? n.maxZoom : o),
        (o = o < n.minZoom ? n.minZoom : o),
        s || !$t(o) || o === r || (a != null && (!$t(a.x) || !$t(a.y))))
      )
        return null;
      if (a != null) {
        var l = i,
          c = r,
          u = o,
          d = {
            x: (-u / c) * (a.x - l.x) + a.x,
            y: (-u / c) * (a.y - l.y) + a.y,
          };
        return { zoomed: !0, panned: !0, zoom: u, pan: d };
      } else return { zoomed: !0, panned: !1, zoom: o, pan: i };
    },
    zoom: function (t) {
      if (t === void 0) return this._private.zoom;
      var n = this.getZoomedViewport(t),
        i = this._private;
      return n == null || !n.zoomed
        ? this
        : ((i.zoom = n.zoom),
          n.panned && ((i.pan.x = n.pan.x), (i.pan.y = n.pan.y)),
          this.emit('zoom' + (n.panned ? ' pan' : '') + ' viewport'),
          this.notify('viewport'),
          this);
    },
    viewport: function (t) {
      var n = this._private,
        i = !0,
        r = !0,
        a = [],
        o = !1,
        s = !1;
      if (!t) return this;
      if (($t(t.zoom) || (i = !1), Ge(t.pan) || (r = !1), !i && !r))
        return this;
      if (i) {
        var l = t.zoom;
        l < n.minZoom || l > n.maxZoom || !n.zoomingEnabled
          ? (o = !0)
          : ((n.zoom = l), a.push('zoom'));
      }
      if (r && (!o || !t.cancelOnFailedZoom) && n.panningEnabled) {
        var c = t.pan;
        $t(c.x) && ((n.pan.x = c.x), (s = !1)),
          $t(c.y) && ((n.pan.y = c.y), (s = !1)),
          s || a.push('pan');
      }
      return (
        a.length > 0 &&
          (a.push('viewport'), this.emit(a.join(' ')), this.notify('viewport')),
        this
      );
    },
    center: function (t) {
      var n = this.getCenterPan(t);
      return (
        n &&
          ((this._private.pan = n),
          this.emit('pan viewport'),
          this.notify('viewport')),
        this
      );
    },
    getCenterPan: function (t, n) {
      if (this._private.panningEnabled) {
        if (he(t)) {
          var i = t;
          t = this.mutableElements().filter(i);
        } else vr(t) || (t = this.mutableElements());
        if (t.length !== 0) {
          var r = t.boundingBox(),
            a = this.width(),
            o = this.height();
          n = n === void 0 ? this._private.zoom : n;
          var s = {
            x: (a - n * (r.x1 + r.x2)) / 2,
            y: (o - n * (r.y1 + r.y2)) / 2,
          };
          return s;
        }
      }
    },
    reset: function () {
      return !this._private.panningEnabled || !this._private.zoomingEnabled
        ? this
        : (this.viewport({ pan: { x: 0, y: 0 }, zoom: 1 }), this);
    },
    invalidateSize: function () {
      this._private.sizeCache = null;
    },
    size: function () {
      var t = this._private,
        n = t.container,
        i = this;
      return (t.sizeCache =
        t.sizeCache ||
        (n
          ? (function () {
              var r = i.window().getComputedStyle(n),
                a = function (s) {
                  return parseFloat(r.getPropertyValue(s));
                };
              return {
                width: n.clientWidth - a('padding-left') - a('padding-right'),
                height: n.clientHeight - a('padding-top') - a('padding-bottom'),
              };
            })()
          : { width: 1, height: 1 }));
    },
    width: function () {
      return this.size().width;
    },
    height: function () {
      return this.size().height;
    },
    extent: function () {
      var t = this._private.pan,
        n = this._private.zoom,
        i = this.renderedExtent(),
        r = {
          x1: (i.x1 - t.x) / n,
          x2: (i.x2 - t.x) / n,
          y1: (i.y1 - t.y) / n,
          y2: (i.y2 - t.y) / n,
        };
      return (r.w = r.x2 - r.x1), (r.h = r.y2 - r.y1), r;
    },
    renderedExtent: function () {
      var t = this.width(),
        n = this.height();
      return { x1: 0, y1: 0, x2: t, y2: n, w: t, h: n };
    },
    multiClickDebounceTime: function (t) {
      if (t) this._private.multiClickDebounceTime = t;
      else return this._private.multiClickDebounceTime;
      return this;
    },
  };
el.centre = el.center;
el.autolockNodes = el.autolock;
el.autoungrabifyNodes = el.autoungrabify;
var Bd = {
  data: si.data({
    field: 'data',
    bindingEvent: 'data',
    allowBinding: !0,
    allowSetting: !0,
    settingEvent: 'data',
    settingTriggersEvent: !0,
    triggerFnName: 'trigger',
    allowGetting: !0,
    updateStyle: !0,
  }),
  removeData: si.removeData({
    field: 'data',
    event: 'data',
    triggerFnName: 'trigger',
    triggerEvent: !0,
    updateStyle: !0,
  }),
  scratch: si.data({
    field: 'scratch',
    bindingEvent: 'scratch',
    allowBinding: !0,
    allowSetting: !0,
    settingEvent: 'scratch',
    settingTriggersEvent: !0,
    triggerFnName: 'trigger',
    allowGetting: !0,
    updateStyle: !0,
  }),
  removeScratch: si.removeData({
    field: 'scratch',
    event: 'scratch',
    triggerFnName: 'trigger',
    triggerEvent: !0,
    updateStyle: !0,
  }),
};
Bd.attr = Bd.data;
Bd.removeAttr = Bd.removeData;
var zd = function (t) {
    var n = this;
    t = be({}, t);
    var i = t.container;
    i && !Gp(i) && Gp(i[0]) && (i = i[0]);
    var r = i ? i._cyreg : null;
    (r = r || {}), r && r.cy && (r.cy.destroy(), (r = {}));
    var a = (r.readies = r.readies || []);
    i && (i._cyreg = r), (r.cy = n);
    var o = dn !== void 0 && i !== void 0 && !t.headless,
      s = t;
    (s.layout = be({ name: o ? 'grid' : 'null' }, s.layout)),
      (s.renderer = be({ name: o ? 'canvas' : 'null' }, s.renderer));
    var l = function (m, _, v) {
        return _ !== void 0 ? _ : v !== void 0 ? v : m;
      },
      c = (this._private = {
        container: i,
        ready: !1,
        options: s,
        elements: new Mn(this),
        listeners: [],
        aniEles: new Mn(this),
        data: s.data || {},
        scratch: {},
        layout: null,
        renderer: null,
        destroyed: !1,
        notificationsEnabled: !0,
        minZoom: 1e-50,
        maxZoom: 1e50,
        zoomingEnabled: l(!0, s.zoomingEnabled),
        userZoomingEnabled: l(!0, s.userZoomingEnabled),
        panningEnabled: l(!0, s.panningEnabled),
        userPanningEnabled: l(!0, s.userPanningEnabled),
        boxSelectionEnabled: l(!0, s.boxSelectionEnabled),
        autolock: l(!1, s.autolock, s.autolockNodes),
        autoungrabify: l(!1, s.autoungrabify, s.autoungrabifyNodes),
        autounselectify: l(!1, s.autounselectify),
        styleEnabled: s.styleEnabled === void 0 ? o : s.styleEnabled,
        zoom: $t(s.zoom) ? s.zoom : 1,
        pan: {
          x: Ge(s.pan) && $t(s.pan.x) ? s.pan.x : 0,
          y: Ge(s.pan) && $t(s.pan.y) ? s.pan.y : 0,
        },
        animation: { current: [], queue: [] },
        hasCompoundNodes: !1,
        multiClickDebounceTime: l(250, s.multiClickDebounceTime),
      });
    this.createEmitter(),
      this.selectionType(s.selectionType),
      this.zoomRange({ min: s.minZoom, max: s.maxZoom });
    var u = function (m, _) {
      var v = m.some(hB);
      if (v) return gc.all(m).then(_);
      _(m);
    };
    c.styleEnabled && n.setStyle([]);
    var d = be({}, s, s.renderer);
    n.initRenderer(d);
    var h = function (m, _, v) {
      n.notifications(!1);
      var y = n.mutableElements();
      y.length > 0 && y.remove(),
        m != null && (Ge(m) || _i(m)) && n.add(m),
        n
          .one('layoutready', function (x) {
            n.notifications(!0),
              n.emit(x),
              n.one('load', _),
              n.emitAndNotify('load');
          })
          .one('layoutstop', function () {
            n.one('done', v), n.emit('done');
          });
      var w = be({}, n._private.options.layout);
      (w.eles = n.elements()), n.layout(w).run();
    };
    u([s.style, s.elements], function (p) {
      var m = p[0],
        _ = p[1];
      c.styleEnabled && n.style().append(m),
        h(
          _,
          function () {
            n.startAnimationLoop(),
              (c.ready = !0),
              ji(s.ready) && n.on('ready', s.ready);
            for (var v = 0; v < a.length; v++) {
              var y = a[v];
              n.on('ready', y);
            }
            r && (r.readies = []), n.emit('ready');
          },
          s.done
        );
    });
  },
  tm = zd.prototype;
be(tm, {
  instanceString: function () {
    return 'core';
  },
  isReady: function () {
    return this._private.ready;
  },
  destroyed: function () {
    return this._private.destroyed;
  },
  ready: function (t) {
    return (
      this.isReady()
        ? this.emitter().emit('ready', [], t)
        : this.on('ready', t),
      this
    );
  },
  destroy: function () {
    var t = this;
    if (!t.destroyed())
      return (
        t.stopAnimationLoop(),
        t.destroyRenderer(),
        this.emit('destroy'),
        (t._private.destroyed = !0),
        t
      );
  },
  hasElementWithId: function (t) {
    return this._private.elements.hasElementWithId(t);
  },
  getElementById: function (t) {
    return this._private.elements.getElementById(t);
  },
  hasCompoundNodes: function () {
    return this._private.hasCompoundNodes;
  },
  headless: function () {
    return this._private.renderer.isHeadless();
  },
  styleEnabled: function () {
    return this._private.styleEnabled;
  },
  addToPool: function (t) {
    return this._private.elements.merge(t), this;
  },
  removeFromPool: function (t) {
    return this._private.elements.unmerge(t), this;
  },
  container: function () {
    return this._private.container || null;
  },
  window: function () {
    var t = this._private.container;
    if (t == null) return dn;
    var n = this._private.container.ownerDocument;
    return n === void 0 || n == null ? dn : n.defaultView || dn;
  },
  mount: function (t) {
    if (t != null) {
      var n = this,
        i = n._private,
        r = i.options;
      return (
        !Gp(t) && Gp(t[0]) && (t = t[0]),
        n.stopAnimationLoop(),
        n.destroyRenderer(),
        (i.container = t),
        (i.styleEnabled = !0),
        n.invalidateSize(),
        n.initRenderer(
          be({}, r, r.renderer, {
            name: r.renderer.name === 'null' ? 'canvas' : r.renderer.name,
          })
        ),
        n.startAnimationLoop(),
        n.style(r.style),
        n.emit('mount'),
        n
      );
    }
  },
  unmount: function () {
    var t = this;
    return (
      t.stopAnimationLoop(),
      t.destroyRenderer(),
      t.initRenderer({ name: 'null' }),
      t.emit('unmount'),
      t
    );
  },
  options: function () {
    return Ca(this._private.options);
  },
  json: function (t) {
    var n = this,
      i = n._private,
      r = n.mutableElements(),
      a = function (C) {
        return n.getElementById(C.id());
      };
    if (Ge(t)) {
      if ((n.startBatch(), t.elements)) {
        var o = {},
          s = function (C, S) {
            for (var g = [], D = [], T = 0; T < C.length; T++) {
              var O = C[T];
              if (!O.data.id) {
                li('cy.json() cannot handle elements without an ID attribute');
                continue;
              }
              var R = '' + O.data.id,
                P = n.getElementById(R);
              (o[R] = !0),
                P.length !== 0
                  ? D.push({ ele: P, json: O })
                  : (S && (O.group = S), g.push(O));
            }
            n.add(g);
            for (var L = 0; L < D.length; L++) {
              var V = D[L],
                B = V.ele,
                q = V.json;
              B.json(q);
            }
          };
        if (_i(t.elements)) s(t.elements);
        else
          for (var l = ['nodes', 'edges'], c = 0; c < l.length; c++) {
            var u = l[c],
              d = t.elements[u];
            _i(d) && s(d, u);
          }
        var h = n.collection();
        r
          .filter(function (x) {
            return !o[x.id()];
          })
          .forEach(function (x) {
            x.isParent() ? h.merge(x) : x.remove();
          }),
          h.forEach(function (x) {
            return x.children().move({ parent: null });
          }),
          h.forEach(function (x) {
            return a(x).remove();
          });
      }
      t.style && n.style(t.style),
        t.zoom != null && t.zoom !== i.zoom && n.zoom(t.zoom),
        t.pan && (t.pan.x !== i.pan.x || t.pan.y !== i.pan.y) && n.pan(t.pan),
        t.data && n.data(t.data);
      for (
        var p = [
            'minZoom',
            'maxZoom',
            'zoomingEnabled',
            'userZoomingEnabled',
            'panningEnabled',
            'userPanningEnabled',
            'boxSelectionEnabled',
            'autolock',
            'autoungrabify',
            'autounselectify',
            'multiClickDebounceTime',
          ],
          m = 0;
        m < p.length;
        m++
      ) {
        var _ = p[m];
        t[_] != null && n[_](t[_]);
      }
      return n.endBatch(), this;
    } else {
      var v = !!t,
        y = {};
      v
        ? (y.elements = this.elements().map(function (x) {
            return x.json();
          }))
        : ((y.elements = {}),
          r.forEach(function (x) {
            var C = x.group();
            y.elements[C] || (y.elements[C] = []), y.elements[C].push(x.json());
          })),
        this._private.styleEnabled && (y.style = n.style().json()),
        (y.data = Ca(n.data()));
      var w = i.options;
      return (
        (y.zoomingEnabled = i.zoomingEnabled),
        (y.userZoomingEnabled = i.userZoomingEnabled),
        (y.zoom = i.zoom),
        (y.minZoom = i.minZoom),
        (y.maxZoom = i.maxZoom),
        (y.panningEnabled = i.panningEnabled),
        (y.userPanningEnabled = i.userPanningEnabled),
        (y.pan = Ca(i.pan)),
        (y.boxSelectionEnabled = i.boxSelectionEnabled),
        (y.renderer = Ca(w.renderer)),
        (y.hideEdgesOnViewport = w.hideEdgesOnViewport),
        (y.textureOnViewport = w.textureOnViewport),
        (y.wheelSensitivity = w.wheelSensitivity),
        (y.motionBlur = w.motionBlur),
        (y.multiClickDebounceTime = w.multiClickDebounceTime),
        y
      );
    }
  },
});
tm.$id = tm.getElementById;
[Qq, n3, GD, Hy, Up, a3, Wy, Hp, l3, el, Bd].forEach(function (e) {
  be(tm, e);
});
var u3 = {
    fit: !0,
    directed: !1,
    padding: 30,
    circle: !1,
    grid: !1,
    spacingFactor: 1.75,
    boundingBox: void 0,
    avoidOverlap: !0,
    nodeDimensionsIncludeLabels: !1,
    roots: void 0,
    depthSort: void 0,
    animate: !1,
    animationDuration: 500,
    animationEasing: void 0,
    animateFilter: function (t, n) {
      return !0;
    },
    ready: void 0,
    stop: void 0,
    transform: function (t, n) {
      return n;
    },
  },
  h3 = { maximal: !1, acyclic: !1 },
  ic = function (t) {
    return t.scratch('breadthfirst');
  },
  xS = function (t, n) {
    return t.scratch('breadthfirst', n);
  };
function YD(e) {
  this.options = be({}, u3, h3, e);
}
YD.prototype.run = function () {
  var e = this.options,
    t = e,
    n = e.cy,
    i = t.eles,
    r = i.nodes().filter(function (Ot) {
      return !Ot.isParent();
    }),
    a = i,
    o = t.directed,
    s = t.acyclic || t.maximal || t.maximalAdjustments > 0,
    l = or(
      t.boundingBox
        ? t.boundingBox
        : { x1: 0, y1: 0, w: n.width(), h: n.height() }
    ),
    c;
  if (vr(t.roots)) c = t.roots;
  else if (_i(t.roots)) {
    for (var u = [], d = 0; d < t.roots.length; d++) {
      var h = t.roots[d],
        p = n.getElementById(h);
      u.push(p);
    }
    c = n.collection(u);
  } else if (he(t.roots)) c = n.$(t.roots);
  else if (o) c = r.roots();
  else {
    var m = i.components();
    c = n.collection();
    for (
      var _ = function (Lt) {
          var Ut = m[Lt],
            Wt = Ut.maxDegree(!1),
            Jt = Ut.filter(function (le) {
              return le.degree(!1) === Wt;
            });
          c = c.add(Jt);
        },
        v = 0;
      v < m.length;
      v++
    )
      _(v);
  }
  var y = [],
    w = {},
    x = function (Lt, Ut) {
      y[Ut] == null && (y[Ut] = []);
      var Wt = y[Ut].length;
      y[Ut].push(Lt), xS(Lt, { index: Wt, depth: Ut });
    },
    C = function (Lt, Ut) {
      var Wt = ic(Lt),
        Jt = Wt.depth,
        le = Wt.index;
      (y[Jt][le] = null), x(Lt, Ut);
    };
  a.bfs({
    roots: c,
    directed: t.directed,
    visit: function (Lt, Ut, Wt, Jt, le) {
      var Fe = Lt[0],
        _e = Fe.id();
      x(Fe, le), (w[_e] = !0);
    },
  });
  for (var S = [], g = 0; g < r.length; g++) {
    var D = r[g];
    w[D.id()] || S.push(D);
  }
  var T = function (Lt) {
      for (var Ut = y[Lt], Wt = 0; Wt < Ut.length; Wt++) {
        var Jt = Ut[Wt];
        if (Jt == null) {
          Ut.splice(Wt, 1), Wt--;
          continue;
        }
        xS(Jt, { depth: Lt, index: Wt });
      }
    },
    O = function () {
      for (var Lt = 0; Lt < y.length; Lt++) T(Lt);
    },
    R = function (Lt, Ut) {
      for (
        var Wt = ic(Lt),
          Jt = Lt.incomers().filter(function (z) {
            return z.isNode() && i.has(z);
          }),
          le = -1,
          Fe = Lt.id(),
          _e = 0;
        _e < Jt.length;
        _e++
      ) {
        var ce = Jt[_e],
          Ee = ic(ce);
        le = Math.max(le, Ee.depth);
      }
      if (Wt.depth <= le) {
        if (!t.acyclic && Ut[Fe]) return null;
        var st = le + 1;
        return C(Lt, st), (Ut[Fe] = st), !0;
      }
      return !1;
    };
  if (o && s) {
    var P = [],
      L = {},
      V = function (Lt) {
        return P.push(Lt);
      },
      B = function () {
        return P.shift();
      };
    for (
      r.forEach(function (Ot) {
        return P.push(Ot);
      });
      P.length > 0;

    ) {
      var q = B(),
        U = R(q, L);
      if (U)
        q.outgoers()
          .filter(function (Ot) {
            return Ot.isNode() && i.has(Ot);
          })
          .forEach(V);
      else if (U === null) {
        li(
          'Detected double maximal shift for node `' +
            q.id() +
            '`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.'
        );
        break;
      }
    }
  }
  O();
  var W = 0;
  if (t.avoidOverlap)
    for (var Z = 0; Z < r.length; Z++) {
      var it = r[Z],
        rt = it.layoutDimensions(t),
        nt = rt.w,
        J = rt.h;
      W = Math.max(W, nt, J);
    }
  var dt = {},
    yt = function (Lt) {
      if (dt[Lt.id()]) return dt[Lt.id()];
      for (
        var Ut = ic(Lt).depth, Wt = Lt.neighborhood(), Jt = 0, le = 0, Fe = 0;
        Fe < Wt.length;
        Fe++
      ) {
        var _e = Wt[Fe];
        if (!(_e.isEdge() || _e.isParent() || !r.has(_e))) {
          var ce = ic(_e);
          if (ce != null) {
            var Ee = ce.index,
              st = ce.depth;
            if (!(Ee == null || st == null)) {
              var z = y[st].length;
              st < Ut && ((Jt += Ee / z), le++);
            }
          }
        }
      }
      return (
        (le = Math.max(1, le)),
        (Jt = Jt / le),
        le === 0 && (Jt = 0),
        (dt[Lt.id()] = Jt),
        Jt
      );
    },
    wt = function (Lt, Ut) {
      var Wt = yt(Lt),
        Jt = yt(Ut),
        le = Wt - Jt;
      return le === 0 ? YS(Lt.id(), Ut.id()) : le;
    };
  t.depthSort !== void 0 && (wt = t.depthSort);
  for (var bt = 0; bt < y.length; bt++) y[bt].sort(wt), T(bt);
  for (var At = [], _t = 0; _t < S.length; _t++) At.push(S[_t]);
  y.unshift(At), O();
  for (var K = 0, lt = 0; lt < y.length; lt++) K = Math.max(y[lt].length, K);
  var ot = { x: l.x1 + l.w / 2, y: l.x1 + l.h / 2 },
    Mt = y.reduce(function (Ot, Lt) {
      return Math.max(Ot, Lt.length);
    }, 0),
    Vt = function (Lt) {
      var Ut = ic(Lt),
        Wt = Ut.depth,
        Jt = Ut.index,
        le = y[Wt].length,
        Fe = Math.max(l.w / ((t.grid ? Mt : le) + 1), W),
        _e = Math.max(l.h / (y.length + 1), W),
        ce = Math.min(l.w / 2 / y.length, l.h / 2 / y.length);
      if (((ce = Math.max(ce, W)), t.circle)) {
        var st = ce * Wt + ce - (y.length > 0 && y[0].length <= 3 ? ce / 2 : 0),
          z = ((2 * Math.PI) / y[Wt].length) * Jt;
        return (
          Wt === 0 && y[0].length === 1 && (st = 1),
          { x: ot.x + st * Math.cos(z), y: ot.y + st * Math.sin(z) }
        );
      } else {
        var Ee = { x: ot.x + (Jt + 1 - (le + 1) / 2) * Fe, y: (Wt + 1) * _e };
        return Ee;
      }
    };
  return i.nodes().layoutPositions(this, t, Vt), this;
};
var f3 = {
  fit: !0,
  padding: 30,
  boundingBox: void 0,
  avoidOverlap: !0,
  nodeDimensionsIncludeLabels: !1,
  spacingFactor: void 0,
  radius: void 0,
  startAngle: (3 / 2) * Math.PI,
  sweep: void 0,
  clockwise: !0,
  sort: void 0,
  animate: !1,
  animationDuration: 500,
  animationEasing: void 0,
  animateFilter: function (t, n) {
    return !0;
  },
  ready: void 0,
  stop: void 0,
  transform: function (t, n) {
    return n;
  },
};
function KD(e) {
  this.options = be({}, f3, e);
}
KD.prototype.run = function () {
  var e = this.options,
    t = e,
    n = e.cy,
    i = t.eles,
    r = t.counterclockwise !== void 0 ? !t.counterclockwise : t.clockwise,
    a = i.nodes().not(':parent');
  t.sort && (a = a.sort(t.sort));
  for (
    var o = or(
        t.boundingBox
          ? t.boundingBox
          : { x1: 0, y1: 0, w: n.width(), h: n.height() }
      ),
      s = { x: o.x1 + o.w / 2, y: o.y1 + o.h / 2 },
      l = t.sweep === void 0 ? 2 * Math.PI - (2 * Math.PI) / a.length : t.sweep,
      c = l / Math.max(1, a.length - 1),
      u,
      d = 0,
      h = 0;
    h < a.length;
    h++
  ) {
    var p = a[h],
      m = p.layoutDimensions(t),
      _ = m.w,
      v = m.h;
    d = Math.max(d, _, v);
  }
  if (
    ($t(t.radius)
      ? (u = t.radius)
      : a.length <= 1
        ? (u = 0)
        : (u = Math.min(o.h, o.w) / 2 - d),
    a.length > 1 && t.avoidOverlap)
  ) {
    d *= 1.75;
    var y = Math.cos(c) - Math.cos(0),
      w = Math.sin(c) - Math.sin(0),
      x = Math.sqrt((d * d) / (y * y + w * w));
    u = Math.max(x, u);
  }
  var C = function (g, D) {
    var T = t.startAngle + D * c * (r ? 1 : -1),
      O = u * Math.cos(T),
      R = u * Math.sin(T),
      P = { x: s.x + O, y: s.y + R };
    return P;
  };
  return i.nodes().layoutPositions(this, t, C), this;
};
var p3 = {
  fit: !0,
  padding: 30,
  startAngle: (3 / 2) * Math.PI,
  sweep: void 0,
  clockwise: !0,
  equidistant: !1,
  minNodeSpacing: 10,
  boundingBox: void 0,
  avoidOverlap: !0,
  nodeDimensionsIncludeLabels: !1,
  height: void 0,
  width: void 0,
  spacingFactor: void 0,
  concentric: function (t) {
    return t.degree();
  },
  levelWidth: function (t) {
    return t.maxDegree() / 4;
  },
  animate: !1,
  animationDuration: 500,
  animationEasing: void 0,
  animateFilter: function (t, n) {
    return !0;
  },
  ready: void 0,
  stop: void 0,
  transform: function (t, n) {
    return n;
  },
};
function XD(e) {
  this.options = be({}, p3, e);
}
XD.prototype.run = function () {
  for (
    var e = this.options,
      t = e,
      n = t.counterclockwise !== void 0 ? !t.counterclockwise : t.clockwise,
      i = e.cy,
      r = t.eles,
      a = r.nodes().not(':parent'),
      o = or(
        t.boundingBox
          ? t.boundingBox
          : { x1: 0, y1: 0, w: i.width(), h: i.height() }
      ),
      s = { x: o.x1 + o.w / 2, y: o.y1 + o.h / 2 },
      l = [],
      c = 0,
      u = 0;
    u < a.length;
    u++
  ) {
    var d = a[u],
      h = void 0;
    (h = t.concentric(d)),
      l.push({ value: h, node: d }),
      (d._private.scratch.concentric = h);
  }
  a.updateStyle();
  for (var p = 0; p < a.length; p++) {
    var m = a[p],
      _ = m.layoutDimensions(t);
    c = Math.max(c, _.w, _.h);
  }
  l.sort(function (Ot, Lt) {
    return Lt.value - Ot.value;
  });
  for (var v = t.levelWidth(a), y = [[]], w = y[0], x = 0; x < l.length; x++) {
    var C = l[x];
    if (w.length > 0) {
      var S = Math.abs(w[0].value - C.value);
      S >= v && ((w = []), y.push(w));
    }
    w.push(C);
  }
  var g = c + t.minNodeSpacing;
  if (!t.avoidOverlap) {
    var D = y.length > 0 && y[0].length > 1,
      T = Math.min(o.w, o.h) / 2 - g,
      O = T / (y.length + D ? 1 : 0);
    g = Math.min(g, O);
  }
  for (var R = 0, P = 0; P < y.length; P++) {
    var L = y[P],
      V = t.sweep === void 0 ? 2 * Math.PI - (2 * Math.PI) / L.length : t.sweep,
      B = (L.dTheta = V / Math.max(1, L.length - 1));
    if (L.length > 1 && t.avoidOverlap) {
      var q = Math.cos(B) - Math.cos(0),
        U = Math.sin(B) - Math.sin(0),
        W = Math.sqrt((g * g) / (q * q + U * U));
      R = Math.max(W, R);
    }
    (L.r = R), (R += g);
  }
  if (t.equidistant) {
    for (var Z = 0, it = 0, rt = 0; rt < y.length; rt++) {
      var nt = y[rt],
        J = nt.r - it;
      Z = Math.max(Z, J);
    }
    it = 0;
    for (var dt = 0; dt < y.length; dt++) {
      var yt = y[dt];
      dt === 0 && (it = yt.r), (yt.r = it), (it += Z);
    }
  }
  for (var wt = {}, bt = 0; bt < y.length; bt++)
    for (
      var At = y[bt], _t = At.dTheta, K = At.r, lt = 0;
      lt < At.length;
      lt++
    ) {
      var ot = At[lt],
        Mt = t.startAngle + (n ? 1 : -1) * _t * lt,
        Vt = { x: s.x + K * Math.cos(Mt), y: s.y + K * Math.sin(Mt) };
      wt[ot.node.id()] = Vt;
    }
  return (
    r.nodes().layoutPositions(this, t, function (Ot) {
      var Lt = Ot.id();
      return wt[Lt];
    }),
    this
  );
};
var Py,
  m3 = {
    ready: function () {},
    stop: function () {},
    animate: !0,
    animationEasing: void 0,
    animationDuration: void 0,
    animateFilter: function (t, n) {
      return !0;
    },
    animationThreshold: 250,
    refresh: 20,
    fit: !0,
    padding: 30,
    boundingBox: void 0,
    nodeDimensionsIncludeLabels: !1,
    randomize: !1,
    componentSpacing: 40,
    nodeRepulsion: function (t) {
      return 2048;
    },
    nodeOverlap: 4,
    idealEdgeLength: function (t) {
      return 32;
    },
    edgeElasticity: function (t) {
      return 32;
    },
    nestingFactor: 1.2,
    gravity: 1,
    numIter: 1e3,
    initialTemp: 1e3,
    coolingFactor: 0.99,
    minTemp: 1,
  };
function ym(e) {
  (this.options = be({}, m3, e)), (this.options.layout = this);
  var t = this.options.eles.nodes(),
    n = this.options.eles.edges(),
    i = n.filter(function (r) {
      var a = r.source().data('id'),
        o = r.target().data('id'),
        s = t.some(function (c) {
          return c.data('id') === a;
        }),
        l = t.some(function (c) {
          return c.data('id') === o;
        });
      return !s || !l;
    });
  this.options.eles = this.options.eles.not(i);
}
ym.prototype.run = function () {
  var e = this.options,
    t = e.cy,
    n = this;
  (n.stopped = !1),
    (e.animate === !0 || e.animate === !1) &&
      n.emit({ type: 'layoutstart', layout: n }),
    e.debug === !0 ? (Py = !0) : (Py = !1);
  var i = g3(t, n, e);
  Py && y3(i), e.randomize && _3(i);
  var r = Za(),
    a = function () {
      x3(i, t, e), e.fit === !0 && t.fit(e.padding);
    },
    o = function (h) {
      return !(
        n.stopped ||
        h >= e.numIter ||
        (w3(i, e),
        (i.temperature = i.temperature * e.coolingFactor),
        i.temperature < e.minTemp)
      );
    },
    s = function () {
      if (e.animate === !0 || e.animate === !1)
        a(),
          n.one('layoutstop', e.stop),
          n.emit({ type: 'layoutstop', layout: n });
      else {
        var h = e.eles.nodes(),
          p = ZD(i, e, h);
        h.layoutPositions(n, e, p);
      }
    },
    l = 0,
    c = !0;
  if (e.animate === !0) {
    var u = function d() {
      for (var h = 0; c && h < e.refresh; ) (c = o(l)), l++, h++;
      if (!c) kS(i, e), s();
      else {
        var p = Za();
        p - r >= e.animationThreshold && a(), Yp(d);
      }
    };
    u();
  } else {
    for (; c; ) (c = o(l)), l++;
    kS(i, e), s();
  }
  return this;
};
ym.prototype.stop = function () {
  return (
    (this.stopped = !0),
    this.thread && this.thread.stop(),
    this.emit('layoutstop'),
    this
  );
};
ym.prototype.destroy = function () {
  return this.thread && this.thread.stop(), this;
};
var g3 = function (t, n, i) {
    for (
      var r = i.eles.edges(),
        a = i.eles.nodes(),
        o = or(
          i.boundingBox
            ? i.boundingBox
            : { x1: 0, y1: 0, w: t.width(), h: t.height() }
        ),
        s = {
          isCompound: t.hasCompoundNodes(),
          layoutNodes: [],
          idToIndex: {},
          nodeSize: a.size(),
          graphSet: [],
          indexToGraph: [],
          layoutEdges: [],
          edgeSize: r.size(),
          temperature: i.initialTemp,
          clientWidth: o.w,
          clientHeight: o.h,
          boundingBox: o,
        },
        l = i.eles.components(),
        c = {},
        u = 0;
      u < l.length;
      u++
    )
      for (var d = l[u], h = 0; h < d.length; h++) {
        var p = d[h];
        c[p.id()] = u;
      }
    for (var u = 0; u < s.nodeSize; u++) {
      var m = a[u],
        _ = m.layoutDimensions(i),
        v = {};
      (v.isLocked = m.locked()),
        (v.id = m.data('id')),
        (v.parentId = m.data('parent')),
        (v.cmptId = c[m.id()]),
        (v.children = []),
        (v.positionX = m.position('x')),
        (v.positionY = m.position('y')),
        (v.offsetX = 0),
        (v.offsetY = 0),
        (v.height = _.w),
        (v.width = _.h),
        (v.maxX = v.positionX + v.width / 2),
        (v.minX = v.positionX - v.width / 2),
        (v.maxY = v.positionY + v.height / 2),
        (v.minY = v.positionY - v.height / 2),
        (v.padLeft = parseFloat(m.style('padding'))),
        (v.padRight = parseFloat(m.style('padding'))),
        (v.padTop = parseFloat(m.style('padding'))),
        (v.padBottom = parseFloat(m.style('padding'))),
        (v.nodeRepulsion = ji(i.nodeRepulsion)
          ? i.nodeRepulsion(m)
          : i.nodeRepulsion),
        s.layoutNodes.push(v),
        (s.idToIndex[v.id] = u);
    }
    for (var y = [], w = 0, x = -1, C = [], u = 0; u < s.nodeSize; u++) {
      var m = s.layoutNodes[u],
        S = m.parentId;
      S != null
        ? s.layoutNodes[s.idToIndex[S]].children.push(m.id)
        : ((y[++x] = m.id), C.push(m.id));
    }
    for (s.graphSet.push(C); w <= x; ) {
      var g = y[w++],
        D = s.idToIndex[g],
        p = s.layoutNodes[D],
        T = p.children;
      if (T.length > 0) {
        s.graphSet.push(T);
        for (var u = 0; u < T.length; u++) y[++x] = T[u];
      }
    }
    for (var u = 0; u < s.graphSet.length; u++)
      for (var O = s.graphSet[u], h = 0; h < O.length; h++) {
        var R = s.idToIndex[O[h]];
        s.indexToGraph[R] = u;
      }
    for (var u = 0; u < s.edgeSize; u++) {
      var P = r[u],
        L = {};
      (L.id = P.data('id')),
        (L.sourceId = P.data('source')),
        (L.targetId = P.data('target'));
      var V = ji(i.idealEdgeLength) ? i.idealEdgeLength(P) : i.idealEdgeLength,
        B = ji(i.edgeElasticity) ? i.edgeElasticity(P) : i.edgeElasticity,
        q = s.idToIndex[L.sourceId],
        U = s.idToIndex[L.targetId],
        W = s.indexToGraph[q],
        Z = s.indexToGraph[U];
      if (W != Z) {
        for (
          var it = v3(L.sourceId, L.targetId, s),
            rt = s.graphSet[it],
            nt = 0,
            v = s.layoutNodes[q];
          rt.indexOf(v.id) === -1;

        )
          (v = s.layoutNodes[s.idToIndex[v.parentId]]), nt++;
        for (v = s.layoutNodes[U]; rt.indexOf(v.id) === -1; )
          (v = s.layoutNodes[s.idToIndex[v.parentId]]), nt++;
        V *= nt * i.nestingFactor;
      }
      (L.idealLength = V), (L.elasticity = B), s.layoutEdges.push(L);
    }
    return s;
  },
  v3 = function (t, n, i) {
    var r = b3(t, n, 0, i);
    return 2 > r.count ? 0 : r.graph;
  },
  b3 = function e(t, n, i, r) {
    var a = r.graphSet[i];
    if (-1 < a.indexOf(t) && -1 < a.indexOf(n)) return { count: 2, graph: i };
    for (var o = 0, s = 0; s < a.length; s++) {
      var l = a[s],
        c = r.idToIndex[l],
        u = r.layoutNodes[c].children;
      if (u.length !== 0) {
        var d = r.indexToGraph[r.idToIndex[u[0]]],
          h = e(t, n, d, r);
        if (h.count !== 0)
          if (h.count === 1) {
            if ((o++, o === 2)) break;
          } else return h;
      }
    }
    return { count: o, graph: i };
  },
  y3,
  _3 = function (t, n) {
    for (
      var i = t.clientWidth, r = t.clientHeight, a = 0;
      a < t.nodeSize;
      a++
    ) {
      var o = t.layoutNodes[a];
      o.children.length === 0 &&
        !o.isLocked &&
        ((o.positionX = Math.random() * i), (o.positionY = Math.random() * r));
    }
  },
  ZD = function (t, n, i) {
    var r = t.boundingBox,
      a = { x1: 1 / 0, x2: -1 / 0, y1: 1 / 0, y2: -1 / 0 };
    return (
      n.boundingBox &&
        (i.forEach(function (o) {
          var s = t.layoutNodes[t.idToIndex[o.data('id')]];
          (a.x1 = Math.min(a.x1, s.positionX)),
            (a.x2 = Math.max(a.x2, s.positionX)),
            (a.y1 = Math.min(a.y1, s.positionY)),
            (a.y2 = Math.max(a.y2, s.positionY));
        }),
        (a.w = a.x2 - a.x1),
        (a.h = a.y2 - a.y1)),
      function (o, s) {
        var l = t.layoutNodes[t.idToIndex[o.data('id')]];
        if (n.boundingBox) {
          var c = (l.positionX - a.x1) / a.w,
            u = (l.positionY - a.y1) / a.h;
          return { x: r.x1 + c * r.w, y: r.y1 + u * r.h };
        } else return { x: l.positionX, y: l.positionY };
      }
    );
  },
  x3 = function (t, n, i) {
    var r = i.layout,
      a = i.eles.nodes(),
      o = ZD(t, i, a);
    a.positions(o),
      t.ready !== !0 &&
        ((t.ready = !0),
        r.one('layoutready', i.ready),
        r.emit({ type: 'layoutready', layout: this }));
  },
  w3 = function (t, n, i) {
    k3(t, n), S3(t), D3(t, n), T3(t), M3(t);
  },
  k3 = function (t, n) {
    for (var i = 0; i < t.graphSet.length; i++)
      for (var r = t.graphSet[i], a = r.length, o = 0; o < a; o++)
        for (var s = t.layoutNodes[t.idToIndex[r[o]]], l = o + 1; l < a; l++) {
          var c = t.layoutNodes[t.idToIndex[r[l]]];
          C3(s, c, t, n);
        }
  },
  wS = function (t) {
    return -t + 2 * t * Math.random();
  },
  C3 = function (t, n, i, r) {
    var a = t.cmptId,
      o = n.cmptId;
    if (!(a !== o && !i.isCompound)) {
      var s = n.positionX - t.positionX,
        l = n.positionY - t.positionY,
        c = 1;
      s === 0 && l === 0 && ((s = wS(c)), (l = wS(c)));
      var u = E3(t, n, s, l);
      if (u > 0)
        var d = r.nodeOverlap * u,
          h = Math.sqrt(s * s + l * l),
          p = (d * s) / h,
          m = (d * l) / h;
      else
        var _ = em(t, s, l),
          v = em(n, -1 * s, -1 * l),
          y = v.x - _.x,
          w = v.y - _.y,
          x = y * y + w * w,
          h = Math.sqrt(x),
          d = (t.nodeRepulsion + n.nodeRepulsion) / x,
          p = (d * y) / h,
          m = (d * w) / h;
      t.isLocked || ((t.offsetX -= p), (t.offsetY -= m)),
        n.isLocked || ((n.offsetX += p), (n.offsetY += m));
    }
  },
  E3 = function (t, n, i, r) {
    if (i > 0) var a = t.maxX - n.minX;
    else var a = n.maxX - t.minX;
    if (r > 0) var o = t.maxY - n.minY;
    else var o = n.maxY - t.minY;
    return a >= 0 && o >= 0 ? Math.sqrt(a * a + o * o) : 0;
  },
  em = function (t, n, i) {
    var r = t.positionX,
      a = t.positionY,
      o = t.height || 1,
      s = t.width || 1,
      l = i / n,
      c = o / s,
      u = {};
    return (n === 0 && 0 < i) || (n === 0 && 0 > i)
      ? ((u.x = r), (u.y = a + o / 2), u)
      : 0 < n && -1 * c <= l && l <= c
        ? ((u.x = r + s / 2), (u.y = a + (s * i) / 2 / n), u)
        : 0 > n && -1 * c <= l && l <= c
          ? ((u.x = r - s / 2), (u.y = a - (s * i) / 2 / n), u)
          : 0 < i && (l <= -1 * c || l >= c)
            ? ((u.x = r + (o * n) / 2 / i), (u.y = a + o / 2), u)
            : (0 > i &&
                (l <= -1 * c || l >= c) &&
                ((u.x = r - (o * n) / 2 / i), (u.y = a - o / 2)),
              u);
  },
  S3 = function (t, n) {
    for (var i = 0; i < t.edgeSize; i++) {
      var r = t.layoutEdges[i],
        a = t.idToIndex[r.sourceId],
        o = t.layoutNodes[a],
        s = t.idToIndex[r.targetId],
        l = t.layoutNodes[s],
        c = l.positionX - o.positionX,
        u = l.positionY - o.positionY;
      if (!(c === 0 && u === 0)) {
        var d = em(o, c, u),
          h = em(l, -1 * c, -1 * u),
          p = h.x - d.x,
          m = h.y - d.y,
          _ = Math.sqrt(p * p + m * m),
          v = Math.pow(r.idealLength - _, 2) / r.elasticity;
        if (_ !== 0)
          var y = (v * p) / _,
            w = (v * m) / _;
        else
          var y = 0,
            w = 0;
        o.isLocked || ((o.offsetX += y), (o.offsetY += w)),
          l.isLocked || ((l.offsetX -= y), (l.offsetY -= w));
      }
    }
  },
  D3 = function (t, n) {
    if (n.gravity !== 0)
      for (var i = 1, r = 0; r < t.graphSet.length; r++) {
        var a = t.graphSet[r],
          o = a.length;
        if (r === 0)
          var s = t.clientHeight / 2,
            l = t.clientWidth / 2;
        else
          var c = t.layoutNodes[t.idToIndex[a[0]]],
            u = t.layoutNodes[t.idToIndex[c.parentId]],
            s = u.positionX,
            l = u.positionY;
        for (var d = 0; d < o; d++) {
          var h = t.layoutNodes[t.idToIndex[a[d]]];
          if (!h.isLocked) {
            var p = s - h.positionX,
              m = l - h.positionY,
              _ = Math.sqrt(p * p + m * m);
            if (_ > i) {
              var v = (n.gravity * p) / _,
                y = (n.gravity * m) / _;
              (h.offsetX += v), (h.offsetY += y);
            }
          }
        }
      }
  },
  T3 = function (t, n) {
    var i = [],
      r = 0,
      a = -1;
    for (i.push.apply(i, t.graphSet[0]), a += t.graphSet[0].length; r <= a; ) {
      var o = i[r++],
        s = t.idToIndex[o],
        l = t.layoutNodes[s],
        c = l.children;
      if (0 < c.length && !l.isLocked) {
        for (var u = l.offsetX, d = l.offsetY, h = 0; h < c.length; h++) {
          var p = t.layoutNodes[t.idToIndex[c[h]]];
          (p.offsetX += u), (p.offsetY += d), (i[++a] = c[h]);
        }
        (l.offsetX = 0), (l.offsetY = 0);
      }
    }
  },
  M3 = function (t, n) {
    for (var i = 0; i < t.nodeSize; i++) {
      var r = t.layoutNodes[i];
      0 < r.children.length &&
        ((r.maxX = void 0),
        (r.minX = void 0),
        (r.maxY = void 0),
        (r.minY = void 0));
    }
    for (var i = 0; i < t.nodeSize; i++) {
      var r = t.layoutNodes[i];
      if (!(0 < r.children.length || r.isLocked)) {
        var a = A3(r.offsetX, r.offsetY, t.temperature);
        (r.positionX += a.x),
          (r.positionY += a.y),
          (r.offsetX = 0),
          (r.offsetY = 0),
          (r.minX = r.positionX - r.width),
          (r.maxX = r.positionX + r.width),
          (r.minY = r.positionY - r.height),
          (r.maxY = r.positionY + r.height),
          I3(r, t);
      }
    }
    for (var i = 0; i < t.nodeSize; i++) {
      var r = t.layoutNodes[i];
      0 < r.children.length &&
        !r.isLocked &&
        ((r.positionX = (r.maxX + r.minX) / 2),
        (r.positionY = (r.maxY + r.minY) / 2),
        (r.width = r.maxX - r.minX),
        (r.height = r.maxY - r.minY));
    }
  },
  A3 = function (t, n, i) {
    var r = Math.sqrt(t * t + n * n);
    if (r > i) var a = { x: (i * t) / r, y: (i * n) / r };
    else var a = { x: t, y: n };
    return a;
  },
  I3 = function e(t, n) {
    var i = t.parentId;
    if (i != null) {
      var r = n.layoutNodes[n.idToIndex[i]],
        a = !1;
      if (
        ((r.maxX == null || t.maxX + r.padRight > r.maxX) &&
          ((r.maxX = t.maxX + r.padRight), (a = !0)),
        (r.minX == null || t.minX - r.padLeft < r.minX) &&
          ((r.minX = t.minX - r.padLeft), (a = !0)),
        (r.maxY == null || t.maxY + r.padBottom > r.maxY) &&
          ((r.maxY = t.maxY + r.padBottom), (a = !0)),
        (r.minY == null || t.minY - r.padTop < r.minY) &&
          ((r.minY = t.minY - r.padTop), (a = !0)),
        a)
      )
        return e(r, n);
    }
  },
  kS = function (t, n) {
    for (var i = t.layoutNodes, r = [], a = 0; a < i.length; a++) {
      var o = i[a],
        s = o.cmptId,
        l = (r[s] = r[s] || []);
      l.push(o);
    }
    for (var c = 0, a = 0; a < r.length; a++) {
      var u = r[a];
      if (u) {
        (u.x1 = 1 / 0), (u.x2 = -1 / 0), (u.y1 = 1 / 0), (u.y2 = -1 / 0);
        for (var d = 0; d < u.length; d++) {
          var h = u[d];
          (u.x1 = Math.min(u.x1, h.positionX - h.width / 2)),
            (u.x2 = Math.max(u.x2, h.positionX + h.width / 2)),
            (u.y1 = Math.min(u.y1, h.positionY - h.height / 2)),
            (u.y2 = Math.max(u.y2, h.positionY + h.height / 2));
        }
        (u.w = u.x2 - u.x1), (u.h = u.y2 - u.y1), (c += u.w * u.h);
      }
    }
    r.sort(function (w, x) {
      return x.w * x.h - w.w * w.h;
    });
    for (
      var p = 0,
        m = 0,
        _ = 0,
        v = 0,
        y = (Math.sqrt(c) * t.clientWidth) / t.clientHeight,
        a = 0;
      a < r.length;
      a++
    ) {
      var u = r[a];
      if (u) {
        for (var d = 0; d < u.length; d++) {
          var h = u[d];
          h.isLocked || ((h.positionX += p - u.x1), (h.positionY += m - u.y1));
        }
        (p += u.w + n.componentSpacing),
          (_ += u.w + n.componentSpacing),
          (v = Math.max(v, u.h)),
          _ > y && ((m += v + n.componentSpacing), (p = 0), (_ = 0), (v = 0));
      }
    }
  },
  R3 = {
    fit: !0,
    padding: 30,
    boundingBox: void 0,
    avoidOverlap: !0,
    avoidOverlapPadding: 10,
    nodeDimensionsIncludeLabels: !1,
    spacingFactor: void 0,
    condense: !1,
    rows: void 0,
    cols: void 0,
    position: function (t) {},
    sort: void 0,
    animate: !1,
    animationDuration: 500,
    animationEasing: void 0,
    animateFilter: function (t, n) {
      return !0;
    },
    ready: void 0,
    stop: void 0,
    transform: function (t, n) {
      return n;
    },
  };
function QD(e) {
  this.options = be({}, R3, e);
}
QD.prototype.run = function () {
  var e = this.options,
    t = e,
    n = e.cy,
    i = t.eles,
    r = i.nodes().not(':parent');
  t.sort && (r = r.sort(t.sort));
  var a = or(
    t.boundingBox
      ? t.boundingBox
      : { x1: 0, y1: 0, w: n.width(), h: n.height() }
  );
  if (a.h === 0 || a.w === 0)
    i.nodes().layoutPositions(this, t, function (dt) {
      return { x: a.x1, y: a.y1 };
    });
  else {
    var o = r.size(),
      s = Math.sqrt((o * a.h) / a.w),
      l = Math.round(s),
      c = Math.round((a.w / a.h) * s),
      u = function (yt) {
        if (yt == null) return Math.min(l, c);
        var wt = Math.min(l, c);
        wt == l ? (l = yt) : (c = yt);
      },
      d = function (yt) {
        if (yt == null) return Math.max(l, c);
        var wt = Math.max(l, c);
        wt == l ? (l = yt) : (c = yt);
      },
      h = t.rows,
      p = t.cols != null ? t.cols : t.columns;
    if (h != null && p != null) (l = h), (c = p);
    else if (h != null && p == null) (l = h), (c = Math.ceil(o / l));
    else if (h == null && p != null) (c = p), (l = Math.ceil(o / c));
    else if (c * l > o) {
      var m = u(),
        _ = d();
      (m - 1) * _ >= o ? u(m - 1) : (_ - 1) * m >= o && d(_ - 1);
    } else
      for (; c * l < o; ) {
        var v = u(),
          y = d();
        (y + 1) * v >= o ? d(y + 1) : u(v + 1);
      }
    var w = a.w / c,
      x = a.h / l;
    if ((t.condense && ((w = 0), (x = 0)), t.avoidOverlap))
      for (var C = 0; C < r.length; C++) {
        var S = r[C],
          g = S._private.position;
        (g.x == null || g.y == null) && ((g.x = 0), (g.y = 0));
        var D = S.layoutDimensions(t),
          T = t.avoidOverlapPadding,
          O = D.w + T,
          R = D.h + T;
        (w = Math.max(w, O)), (x = Math.max(x, R));
      }
    for (
      var P = {},
        L = function (yt, wt) {
          return !!P['c-' + yt + '-' + wt];
        },
        V = function (yt, wt) {
          P['c-' + yt + '-' + wt] = !0;
        },
        B = 0,
        q = 0,
        U = function () {
          q++, q >= c && ((q = 0), B++);
        },
        W = {},
        Z = 0;
      Z < r.length;
      Z++
    ) {
      var it = r[Z],
        rt = t.position(it);
      if (rt && (rt.row !== void 0 || rt.col !== void 0)) {
        var nt = { row: rt.row, col: rt.col };
        if (nt.col === void 0) for (nt.col = 0; L(nt.row, nt.col); ) nt.col++;
        else if (nt.row === void 0)
          for (nt.row = 0; L(nt.row, nt.col); ) nt.row++;
        (W[it.id()] = nt), V(nt.row, nt.col);
      }
    }
    var J = function (yt, wt) {
      var bt, At;
      if (yt.locked() || yt.isParent()) return !1;
      var _t = W[yt.id()];
      if (_t)
        (bt = _t.col * w + w / 2 + a.x1), (At = _t.row * x + x / 2 + a.y1);
      else {
        for (; L(B, q); ) U();
        (bt = q * w + w / 2 + a.x1), (At = B * x + x / 2 + a.y1), V(B, q), U();
      }
      return { x: bt, y: At };
    };
    r.layoutPositions(this, t, J);
  }
  return this;
};
var O3 = { ready: function () {}, stop: function () {} };
function y0(e) {
  this.options = be({}, O3, e);
}
y0.prototype.run = function () {
  var e = this.options,
    t = e.eles,
    n = this;
  return (
    e.cy,
    n.emit('layoutstart'),
    t.nodes().positions(function () {
      return { x: 0, y: 0 };
    }),
    n.one('layoutready', e.ready),
    n.emit('layoutready'),
    n.one('layoutstop', e.stop),
    n.emit('layoutstop'),
    this
  );
};
y0.prototype.stop = function () {
  return this;
};
var P3 = {
  positions: void 0,
  zoom: void 0,
  pan: void 0,
  fit: !0,
  padding: 30,
  spacingFactor: void 0,
  animate: !1,
  animationDuration: 500,
  animationEasing: void 0,
  animateFilter: function (t, n) {
    return !0;
  },
  ready: void 0,
  stop: void 0,
  transform: function (t, n) {
    return n;
  },
};
function JD(e) {
  this.options = be({}, P3, e);
}
JD.prototype.run = function () {
  var e = this.options,
    t = e.eles,
    n = t.nodes(),
    i = ji(e.positions);
  function r(a) {
    if (e.positions == null) return Fz(a.position());
    if (i) return e.positions(a);
    var o = e.positions[a._private.data.id];
    return o ?? null;
  }
  return (
    n.layoutPositions(this, e, function (a, o) {
      var s = r(a);
      return a.locked() || s == null ? !1 : s;
    }),
    this
  );
};
var L3 = {
  fit: !0,
  padding: 30,
  boundingBox: void 0,
  animate: !1,
  animationDuration: 500,
  animationEasing: void 0,
  animateFilter: function (t, n) {
    return !0;
  },
  ready: void 0,
  stop: void 0,
  transform: function (t, n) {
    return n;
  },
};
function tT(e) {
  this.options = be({}, L3, e);
}
tT.prototype.run = function () {
  var e = this.options,
    t = e.cy,
    n = e.eles,
    i = or(
      e.boundingBox
        ? e.boundingBox
        : { x1: 0, y1: 0, w: t.width(), h: t.height() }
    ),
    r = function (o, s) {
      return {
        x: i.x1 + Math.round(Math.random() * i.w),
        y: i.y1 + Math.round(Math.random() * i.h),
      };
    };
  return n.nodes().layoutPositions(this, e, r), this;
};
var N3 = [
  { name: 'breadthfirst', impl: YD },
  { name: 'circle', impl: KD },
  { name: 'concentric', impl: XD },
  { name: 'cose', impl: ym },
  { name: 'grid', impl: QD },
  { name: 'null', impl: y0 },
  { name: 'preset', impl: JD },
  { name: 'random', impl: tT },
];
function eT(e) {
  (this.options = e), (this.notifications = 0);
}
var CS = function () {},
  ES = function () {
    throw new Error('A headless instance can not render images');
  };
eT.prototype = {
  recalculateRenderedStyle: CS,
  notify: function () {
    this.notifications++;
  },
  init: CS,
  isHeadless: function () {
    return !0;
  },
  png: ES,
  jpg: ES,
};
var _0 = {};
_0.arrowShapeWidth = 0.3;
_0.registerArrowShapes = function () {
  var e = (this.arrowShapes = {}),
    t = this,
    n = function (c, u, d, h, p, m, _) {
      var v = p.x - d / 2 - _,
        y = p.x + d / 2 + _,
        w = p.y - d / 2 - _,
        x = p.y + d / 2 + _,
        C = v <= c && c <= y && w <= u && u <= x;
      return C;
    },
    i = function (c, u, d, h, p) {
      var m = c * Math.cos(h) - u * Math.sin(h),
        _ = c * Math.sin(h) + u * Math.cos(h),
        v = m * d,
        y = _ * d,
        w = v + p.x,
        x = y + p.y;
      return { x: w, y: x };
    },
    r = function (c, u, d, h) {
      for (var p = [], m = 0; m < c.length; m += 2) {
        var _ = c[m],
          v = c[m + 1];
        p.push(i(_, v, u, d, h));
      }
      return p;
    },
    a = function (c) {
      for (var u = [], d = 0; d < c.length; d++) {
        var h = c[d];
        u.push(h.x, h.y);
      }
      return u;
    },
    o = function (c) {
      return c.pstyle('width').pfValue * c.pstyle('arrow-scale').pfValue * 2;
    },
    s = function (c, u) {
      he(u) && (u = e[u]),
        (e[c] = be(
          {
            name: c,
            points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3],
            collide: function (h, p, m, _, v, y) {
              var w = a(r(this.points, m + 2 * y, _, v)),
                x = ar(h, p, w);
              return x;
            },
            roughCollide: n,
            draw: function (h, p, m, _) {
              var v = r(this.points, p, m, _);
              t.arrowShapeImpl('polygon')(h, v);
            },
            spacing: function (h) {
              return 0;
            },
            gap: o,
          },
          u
        ));
    };
  s('none', { collide: Kp, roughCollide: Kp, draw: a0, spacing: LE, gap: LE }),
    s('triangle', { points: [-0.15, -0.3, 0, 0, 0.15, -0.3] }),
    s('arrow', 'triangle'),
    s('triangle-backcurve', {
      points: e.triangle.points,
      controlPoint: [0, -0.15],
      roughCollide: n,
      draw: function (c, u, d, h, p) {
        var m = r(this.points, u, d, h),
          _ = this.controlPoint,
          v = i(_[0], _[1], u, d, h);
        t.arrowShapeImpl(this.name)(c, m, v);
      },
      gap: function (c) {
        return o(c) * 0.8;
      },
    }),
    s('triangle-tee', {
      points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],
      pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4],
      collide: function (c, u, d, h, p, m, _) {
        var v = a(r(this.points, d + 2 * _, h, p)),
          y = a(r(this.pointsTee, d + 2 * _, h, p)),
          w = ar(c, u, v) || ar(c, u, y);
        return w;
      },
      draw: function (c, u, d, h, p) {
        var m = r(this.points, u, d, h),
          _ = r(this.pointsTee, u, d, h);
        t.arrowShapeImpl(this.name)(c, m, _);
      },
    }),
    s('circle-triangle', {
      radius: 0.15,
      pointsTr: [0, -0.15, 0.15, -0.45, -0.15, -0.45, 0, -0.15],
      collide: function (c, u, d, h, p, m, _) {
        var v = p,
          y =
            Math.pow(v.x - c, 2) + Math.pow(v.y - u, 2) <=
            Math.pow((d + 2 * _) * this.radius, 2),
          w = a(r(this.points, d + 2 * _, h, p));
        return ar(c, u, w) || y;
      },
      draw: function (c, u, d, h, p) {
        var m = r(this.pointsTr, u, d, h);
        t.arrowShapeImpl(this.name)(c, m, h.x, h.y, this.radius * u);
      },
      spacing: function (c) {
        return (
          t.getArrowWidth(
            c.pstyle('width').pfValue,
            c.pstyle('arrow-scale').value
          ) * this.radius
        );
      },
    }),
    s('triangle-cross', {
      points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],
      baseCrossLinePts: [-0.15, -0.4, -0.15, -0.4, 0.15, -0.4, 0.15, -0.4],
      crossLinePts: function (c, u) {
        var d = this.baseCrossLinePts.slice(),
          h = u / c,
          p = 3,
          m = 5;
        return (d[p] = d[p] - h), (d[m] = d[m] - h), d;
      },
      collide: function (c, u, d, h, p, m, _) {
        var v = a(r(this.points, d + 2 * _, h, p)),
          y = a(r(this.crossLinePts(d, m), d + 2 * _, h, p)),
          w = ar(c, u, v) || ar(c, u, y);
        return w;
      },
      draw: function (c, u, d, h, p) {
        var m = r(this.points, u, d, h),
          _ = r(this.crossLinePts(u, p), u, d, h);
        t.arrowShapeImpl(this.name)(c, m, _);
      },
    }),
    s('vee', {
      points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15],
      gap: function (c) {
        return o(c) * 0.525;
      },
    }),
    s('circle', {
      radius: 0.15,
      collide: function (c, u, d, h, p, m, _) {
        var v = p,
          y =
            Math.pow(v.x - c, 2) + Math.pow(v.y - u, 2) <=
            Math.pow((d + 2 * _) * this.radius, 2);
        return y;
      },
      draw: function (c, u, d, h, p) {
        t.arrowShapeImpl(this.name)(c, h.x, h.y, this.radius * u);
      },
      spacing: function (c) {
        return (
          t.getArrowWidth(
            c.pstyle('width').pfValue,
            c.pstyle('arrow-scale').value
          ) * this.radius
        );
      },
    }),
    s('tee', {
      points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0],
      spacing: function (c) {
        return 1;
      },
      gap: function (c) {
        return 1;
      },
    }),
    s('square', { points: [-0.15, 0, 0.15, 0, 0.15, -0.3, -0.15, -0.3] }),
    s('diamond', {
      points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0],
      gap: function (c) {
        return c.pstyle('width').pfValue * c.pstyle('arrow-scale').value;
      },
    }),
    s('chevron', {
      points: [0, 0, -0.15, -0.15, -0.1, -0.2, 0, -0.1, 0.1, -0.2, 0.15, -0.15],
      gap: function (c) {
        return 0.95 * c.pstyle('width').pfValue * c.pstyle('arrow-scale').value;
      },
    });
};
var nl = {};
nl.projectIntoViewport = function (e, t) {
  var n = this.cy,
    i = this.findContainerClientCoords(),
    r = i[0],
    a = i[1],
    o = i[4],
    s = n.pan(),
    l = n.zoom(),
    c = ((e - r) / o - s.x) / l,
    u = ((t - a) / o - s.y) / l;
  return [c, u];
};
nl.findContainerClientCoords = function () {
  if (this.containerBB) return this.containerBB;
  var e = this.container,
    t = e.getBoundingClientRect(),
    n = this.cy.window().getComputedStyle(e),
    i = function (y) {
      return parseFloat(n.getPropertyValue(y));
    },
    r = {
      left: i('padding-left'),
      right: i('padding-right'),
      top: i('padding-top'),
      bottom: i('padding-bottom'),
    },
    a = {
      left: i('border-left-width'),
      right: i('border-right-width'),
      top: i('border-top-width'),
      bottom: i('border-bottom-width'),
    },
    o = e.clientWidth,
    s = e.clientHeight,
    l = r.left + r.right,
    c = r.top + r.bottom,
    u = a.left + a.right,
    d = t.width / (o + u),
    h = o - l,
    p = s - c,
    m = t.left + r.left + a.left,
    _ = t.top + r.top + a.top;
  return (this.containerBB = [m, _, h, p, d]);
};
nl.invalidateContainerClientCoordsCache = function () {
  this.containerBB = null;
};
nl.findNearestElement = function (e, t, n, i) {
  return this.findNearestElements(e, t, n, i)[0];
};
nl.findNearestElements = function (e, t, n, i) {
  var r = this,
    a = this,
    o = a.getCachedZSortedEles(),
    s = [],
    l = a.cy.zoom(),
    c = a.cy.hasCompoundNodes(),
    u = (i ? 24 : 8) / l,
    d = (i ? 8 : 2) / l,
    h = (i ? 8 : 2) / l,
    p = 1 / 0,
    m,
    _;
  n && (o = o.interactive);
  function v(D, T) {
    if (D.isNode()) {
      if (_) return;
      (_ = D), s.push(D);
    }
    if (D.isEdge() && (T == null || T < p))
      if (m) {
        if (
          m.pstyle('z-compound-depth').value ===
            D.pstyle('z-compound-depth').value &&
          m.pstyle('z-compound-depth').value ===
            D.pstyle('z-compound-depth').value
        ) {
          for (var O = 0; O < s.length; O++)
            if (s[O].isEdge()) {
              (s[O] = D), (m = D), (p = T ?? p);
              break;
            }
        }
      } else s.push(D), (m = D), (p = T ?? p);
  }
  function y(D) {
    var T = D.outerWidth() + 2 * d,
      O = D.outerHeight() + 2 * d,
      R = T / 2,
      P = O / 2,
      L = D.position(),
      V =
        D.pstyle('corner-radius').value === 'auto'
          ? 'auto'
          : D.pstyle('corner-radius').pfValue,
      B = D._private.rscratch;
    if (L.x - R <= e && e <= L.x + R && L.y - P <= t && t <= L.y + P) {
      var q = a.nodeShapes[r.getNodeShape(D)];
      if (q.checkPoint(e, t, 0, T, O, L.x, L.y, V, B)) return v(D, 0), !0;
    }
  }
  function w(D) {
    var T = D._private,
      O = T.rscratch,
      R = D.pstyle('width').pfValue,
      P = D.pstyle('arrow-scale').value,
      L = R / 2 + u,
      V = L * L,
      B = L * 2,
      Z = T.source,
      it = T.target,
      q;
    if (
      O.edgeType === 'segments' ||
      O.edgeType === 'straight' ||
      O.edgeType === 'haystack'
    ) {
      for (var U = O.allpts, W = 0; W + 3 < U.length; W += 2)
        if (
          Xz(e, t, U[W], U[W + 1], U[W + 2], U[W + 3], B) &&
          V > (q = eV(e, t, U[W], U[W + 1], U[W + 2], U[W + 3]))
        )
          return v(D, q), !0;
    } else if (
      O.edgeType === 'bezier' ||
      O.edgeType === 'multibezier' ||
      O.edgeType === 'self' ||
      O.edgeType === 'compound'
    ) {
      for (var U = O.allpts, W = 0; W + 5 < O.allpts.length; W += 4)
        if (
          Zz(e, t, U[W], U[W + 1], U[W + 2], U[W + 3], U[W + 4], U[W + 5], B) &&
          V >
            (q = tV(
              e,
              t,
              U[W],
              U[W + 1],
              U[W + 2],
              U[W + 3],
              U[W + 4],
              U[W + 5]
            ))
        )
          return v(D, q), !0;
    }
    for (
      var Z = Z || T.source,
        it = it || T.target,
        rt = r.getArrowWidth(R, P),
        nt = [
          {
            name: 'source',
            x: O.arrowStartX,
            y: O.arrowStartY,
            angle: O.srcArrowAngle,
          },
          {
            name: 'target',
            x: O.arrowEndX,
            y: O.arrowEndY,
            angle: O.tgtArrowAngle,
          },
          {
            name: 'mid-source',
            x: O.midX,
            y: O.midY,
            angle: O.midsrcArrowAngle,
          },
          {
            name: 'mid-target',
            x: O.midX,
            y: O.midY,
            angle: O.midtgtArrowAngle,
          },
        ],
        W = 0;
      W < nt.length;
      W++
    ) {
      var J = nt[W],
        dt = a.arrowShapes[D.pstyle(J.name + '-arrow-shape').value],
        yt = D.pstyle('width').pfValue;
      if (
        dt.roughCollide(e, t, rt, J.angle, { x: J.x, y: J.y }, yt, u) &&
        dt.collide(e, t, rt, J.angle, { x: J.x, y: J.y }, yt, u)
      )
        return v(D), !0;
    }
    c && s.length > 0 && (y(Z), y(it));
  }
  function x(D, T, O) {
    return ra(D, T, O);
  }
  function C(D, T) {
    var O = D._private,
      R = h,
      P;
    T ? (P = T + '-') : (P = ''), D.boundingBox();
    var L = O.labelBounds[T || 'main'],
      V = D.pstyle(P + 'label').value,
      B = D.pstyle('text-events').strValue === 'yes';
    if (!(!B || !V)) {
      var q = x(O.rscratch, 'labelX', T),
        U = x(O.rscratch, 'labelY', T),
        W = x(O.rscratch, 'labelAngle', T),
        Z = D.pstyle(P + 'text-margin-x').pfValue,
        it = D.pstyle(P + 'text-margin-y').pfValue,
        rt = L.x1 - R - Z,
        nt = L.x2 + R - Z,
        J = L.y1 - R - it,
        dt = L.y2 + R - it;
      if (W) {
        var yt = Math.cos(W),
          wt = Math.sin(W),
          bt = function (Vt, Ot) {
            return (
              (Vt = Vt - q),
              (Ot = Ot - U),
              { x: Vt * yt - Ot * wt + q, y: Vt * wt + Ot * yt + U }
            );
          },
          At = bt(rt, J),
          _t = bt(rt, dt),
          K = bt(nt, J),
          lt = bt(nt, dt),
          ot = [
            At.x + Z,
            At.y + it,
            K.x + Z,
            K.y + it,
            lt.x + Z,
            lt.y + it,
            _t.x + Z,
            _t.y + it,
          ];
        if (ar(e, t, ot)) return v(D), !0;
      } else if (hc(L, e, t)) return v(D), !0;
    }
  }
  for (var S = o.length - 1; S >= 0; S--) {
    var g = o[S];
    g.isNode()
      ? y(g) || C(g)
      : w(g) || C(g) || C(g, 'source') || C(g, 'target');
  }
  return s;
};
nl.getAllInBox = function (e, t, n, i) {
  var r = this.getCachedZSortedEles().interactive,
    a = [],
    o = Math.min(e, n),
    s = Math.max(e, n),
    l = Math.min(t, i),
    c = Math.max(t, i);
  (e = o), (n = s), (t = l), (i = c);
  for (var u = or({ x1: e, y1: t, x2: n, y2: i }), d = 0; d < r.length; d++) {
    var h = r[d];
    if (h.isNode()) {
      var p = h,
        m = p.boundingBox({
          includeNodes: !0,
          includeEdges: !1,
          includeLabels: !1,
        });
      l0(u, m) && !uD(m, u) && a.push(p);
    } else {
      var _ = h,
        v = _._private,
        y = v.rscratch;
      if (
        (y.startX != null && y.startY != null && !hc(u, y.startX, y.startY)) ||
        (y.endX != null && y.endY != null && !hc(u, y.endX, y.endY))
      )
        continue;
      if (
        y.edgeType === 'bezier' ||
        y.edgeType === 'multibezier' ||
        y.edgeType === 'self' ||
        y.edgeType === 'compound' ||
        y.edgeType === 'segments' ||
        y.edgeType === 'haystack'
      ) {
        for (
          var w =
              v.rstyle.bezierPts || v.rstyle.linePts || v.rstyle.haystackPts,
            x = !0,
            C = 0;
          C < w.length;
          C++
        )
          if (!Kz(u, w[C])) {
            x = !1;
            break;
          }
        x && a.push(_);
      } else
        (y.edgeType === 'haystack' || y.edgeType === 'straight') && a.push(_);
    }
  }
  return a;
};
var im = {};
im.calculateArrowAngles = function (e) {
  var t = e._private.rscratch,
    n = t.edgeType === 'haystack',
    i = t.edgeType === 'bezier',
    r = t.edgeType === 'multibezier',
    a = t.edgeType === 'segments',
    o = t.edgeType === 'compound',
    s = t.edgeType === 'self',
    l,
    c,
    u,
    d,
    h,
    p,
    y,
    w;
  if (
    (n
      ? ((u = t.haystackPts[0]),
        (d = t.haystackPts[1]),
        (h = t.haystackPts[2]),
        (p = t.haystackPts[3]))
      : ((u = t.arrowStartX),
        (d = t.arrowStartY),
        (h = t.arrowEndX),
        (p = t.arrowEndY)),
    (y = t.midX),
    (w = t.midY),
    a)
  )
    (l = u - t.segpts[0]), (c = d - t.segpts[1]);
  else if (r || o || s || i) {
    var m = t.allpts,
      _ = _n(m[0], m[2], m[4], 0.1),
      v = _n(m[1], m[3], m[5], 0.1);
    (l = u - _), (c = d - v);
  } else (l = u - y), (c = d - w);
  t.srcArrowAngle = Dp(l, c);
  var y = t.midX,
    w = t.midY;
  if (
    (n && ((y = (u + h) / 2), (w = (d + p) / 2)), (l = h - u), (c = p - d), a)
  ) {
    var m = t.allpts;
    if ((m.length / 2) % 2 === 0) {
      var x = m.length / 2,
        C = x - 2;
      (l = m[x] - m[C]), (c = m[x + 1] - m[C + 1]);
    } else if (t.isRound) (l = t.midVector[1]), (c = -t.midVector[0]);
    else {
      var x = m.length / 2 - 1,
        C = x - 2;
      (l = m[x] - m[C]), (c = m[x + 1] - m[C + 1]);
    }
  } else if (r || o || s) {
    var m = t.allpts,
      S = t.ctrlpts,
      g,
      D,
      T,
      O;
    if ((S.length / 2) % 2 === 0) {
      var R = m.length / 2 - 1,
        P = R + 2,
        L = P + 2;
      (g = _n(m[R], m[P], m[L], 0)),
        (D = _n(m[R + 1], m[P + 1], m[L + 1], 0)),
        (T = _n(m[R], m[P], m[L], 1e-4)),
        (O = _n(m[R + 1], m[P + 1], m[L + 1], 1e-4));
    } else {
      var P = m.length / 2 - 1,
        R = P - 2,
        L = P + 2;
      (g = _n(m[R], m[P], m[L], 0.4999)),
        (D = _n(m[R + 1], m[P + 1], m[L + 1], 0.4999)),
        (T = _n(m[R], m[P], m[L], 0.5)),
        (O = _n(m[R + 1], m[P + 1], m[L + 1], 0.5));
    }
    (l = T - g), (c = O - D);
  }
  if (
    ((t.midtgtArrowAngle = Dp(l, c)),
    (t.midDispX = l),
    (t.midDispY = c),
    (l *= -1),
    (c *= -1),
    a)
  ) {
    var m = t.allpts;
    if ((m.length / 2) % 2 !== 0) {
      if (!t.isRound) {
        var x = m.length / 2 - 1,
          V = x + 2;
        (l = -(m[V] - m[x])), (c = -(m[V + 1] - m[x + 1]));
      }
    }
  }
  if (((t.midsrcArrowAngle = Dp(l, c)), a))
    (l = h - t.segpts[t.segpts.length - 2]),
      (c = p - t.segpts[t.segpts.length - 1]);
  else if (r || o || s || i) {
    var m = t.allpts,
      B = m.length,
      _ = _n(m[B - 6], m[B - 4], m[B - 2], 0.9),
      v = _n(m[B - 5], m[B - 3], m[B - 1], 0.9);
    (l = h - _), (c = p - v);
  } else (l = h - y), (c = p - w);
  t.tgtArrowAngle = Dp(l, c);
};
im.getArrowWidth = im.getArrowHeight = function (e, t) {
  var n = (this.arrowWidthCache = this.arrowWidthCache || {}),
    i = n[e + ', ' + t];
  return (
    i ||
    ((i = Math.max(Math.pow(e * 13.37, 0.9), 29) * t), (n[e + ', ' + t] = i), i)
  );
};
var $y,
  Gy,
  ka = {},
  Pr = {},
  SS,
  DS,
  Ys,
  Wp,
  Xa,
  Us,
  Gs,
  wa,
  nc,
  Np,
  iT,
  nT,
  Yy,
  Ky,
  TS,
  MS = function (t, n, i) {
    (i.x = n.x - t.x),
      (i.y = n.y - t.y),
      (i.len = Math.sqrt(i.x * i.x + i.y * i.y)),
      (i.nx = i.x / i.len),
      (i.ny = i.y / i.len),
      (i.ang = Math.atan2(i.ny, i.nx));
  },
  F3 = function (t, n) {
    (n.x = t.x * -1),
      (n.y = t.y * -1),
      (n.nx = t.nx * -1),
      (n.ny = t.ny * -1),
      (n.ang = t.ang > 0 ? -(Math.PI - t.ang) : Math.PI + t.ang);
  },
  B3 = function (t, n, i, r, a) {
    if (
      (t !== TS ? MS(n, t, ka) : F3(Pr, ka),
      MS(n, i, Pr),
      (SS = ka.nx * Pr.ny - ka.ny * Pr.nx),
      (DS = ka.nx * Pr.nx - ka.ny * -Pr.ny),
      (Xa = Math.asin(Math.max(-1, Math.min(1, SS)))),
      Math.abs(Xa) < 1e-6)
    ) {
      ($y = n.x), (Gy = n.y), (Gs = nc = 0);
      return;
    }
    (Ys = 1),
      (Wp = !1),
      DS < 0
        ? Xa < 0
          ? (Xa = Math.PI + Xa)
          : ((Xa = Math.PI - Xa), (Ys = -1), (Wp = !0))
        : Xa > 0 && ((Ys = -1), (Wp = !0)),
      n.radius !== void 0 ? (nc = n.radius) : (nc = r),
      (Us = Xa / 2),
      (Np = Math.min(ka.len / 2, Pr.len / 2)),
      a
        ? ((wa = Math.abs((Math.cos(Us) * nc) / Math.sin(Us))),
          wa > Np
            ? ((wa = Np), (Gs = Math.abs((wa * Math.sin(Us)) / Math.cos(Us))))
            : (Gs = nc))
        : ((wa = Math.min(Np, nc)),
          (Gs = Math.abs((wa * Math.sin(Us)) / Math.cos(Us)))),
      (Yy = n.x + Pr.nx * wa),
      (Ky = n.y + Pr.ny * wa),
      ($y = Yy - Pr.ny * Gs * Ys),
      (Gy = Ky + Pr.nx * Gs * Ys),
      (iT = n.x + ka.nx * wa),
      (nT = n.y + ka.ny * wa),
      (TS = n);
  };
function rT(e, t) {
  t.radius === 0
    ? e.lineTo(t.cx, t.cy)
    : e.arc(t.cx, t.cy, t.radius, t.startAngle, t.endAngle, t.counterClockwise);
}
function x0(e, t, n, i) {
  var r = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !0;
  return i === 0 || t.radius === 0
    ? {
        cx: t.x,
        cy: t.y,
        radius: 0,
        startX: t.x,
        startY: t.y,
        stopX: t.x,
        stopY: t.y,
        startAngle: void 0,
        endAngle: void 0,
        counterClockwise: void 0,
      }
    : (B3(e, t, n, i, r),
      {
        cx: $y,
        cy: Gy,
        radius: Gs,
        startX: iT,
        startY: nT,
        stopX: Yy,
        stopY: Ky,
        startAngle: ka.ang + (Math.PI / 2) * Ys,
        endAngle: Pr.ang - (Math.PI / 2) * Ys,
        counterClockwise: Wp,
      });
}
var Hn = {};
Hn.findMidptPtsEtc = function (e, t) {
  var n = t.posPts,
    i = t.intersectionPts,
    r = t.vectorNormInverse,
    a,
    o = e.pstyle('source-endpoint'),
    s = e.pstyle('target-endpoint'),
    l = o.units != null && s.units != null,
    c = function (S, g, D, T) {
      var O = T - g,
        R = D - S,
        P = Math.sqrt(R * R + O * O);
      return { x: -O / P, y: R / P };
    },
    u = e.pstyle('edge-distances').value;
  switch (u) {
    case 'node-position':
      a = n;
      break;
    case 'intersection':
      a = i;
      break;
    case 'endpoints': {
      if (l) {
        var d = this.manualEndptToPx(e.source()[0], o),
          h = ia(d, 2),
          p = h[0],
          m = h[1],
          _ = this.manualEndptToPx(e.target()[0], s),
          v = ia(_, 2),
          y = v[0],
          w = v[1],
          x = { x1: p, y1: m, x2: y, y2: w };
        (r = c(p, m, y, w)), (a = x);
      } else
        li(
          'Edge '.concat(
            e.id(),
            ' has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).'
          )
        ),
          (a = i);
      break;
    }
  }
  return { midptPts: a, vectorNormInverse: r };
};
Hn.findHaystackPoints = function (e) {
  for (var t = 0; t < e.length; t++) {
    var n = e[t],
      i = n._private,
      r = i.rscratch;
    if (!r.haystack) {
      var a = Math.random() * 2 * Math.PI;
      (r.source = { x: Math.cos(a), y: Math.sin(a) }),
        (a = Math.random() * 2 * Math.PI),
        (r.target = { x: Math.cos(a), y: Math.sin(a) });
    }
    var o = i.source,
      s = i.target,
      l = o.position(),
      c = s.position(),
      u = o.width(),
      d = s.width(),
      h = o.height(),
      p = s.height(),
      m = n.pstyle('haystack-radius').value,
      _ = m / 2;
    (r.haystackPts = r.allpts =
      [
        r.source.x * u * _ + l.x,
        r.source.y * h * _ + l.y,
        r.target.x * d * _ + c.x,
        r.target.y * p * _ + c.y,
      ]),
      (r.midX = (r.allpts[0] + r.allpts[2]) / 2),
      (r.midY = (r.allpts[1] + r.allpts[3]) / 2),
      (r.edgeType = 'haystack'),
      (r.haystack = !0),
      this.storeEdgeProjections(n),
      this.calculateArrowAngles(n),
      this.recalculateEdgeLabelProjections(n),
      this.calculateLabelAngles(n);
  }
};
Hn.findSegmentsPoints = function (e, t) {
  var n = e._private.rscratch,
    i = e.pstyle('segment-weights'),
    r = e.pstyle('segment-distances'),
    a = e.pstyle('segment-radii'),
    o = e.pstyle('radius-type'),
    s = Math.min(i.pfValue.length, r.pfValue.length),
    l = a.pfValue[a.pfValue.length - 1],
    c = o.pfValue[o.pfValue.length - 1];
  (n.edgeType = 'segments'),
    (n.segpts = []),
    (n.radii = []),
    (n.isArcRadius = []);
  for (var u = 0; u < s; u++) {
    var d = i.pfValue[u],
      h = r.pfValue[u],
      p = 1 - d,
      m = d,
      _ = this.findMidptPtsEtc(e, t),
      v = _.midptPts,
      y = _.vectorNormInverse,
      w = { x: v.x1 * p + v.x2 * m, y: v.y1 * p + v.y2 * m };
    n.segpts.push(w.x + y.x * h, w.y + y.y * h),
      n.radii.push(a.pfValue[u] !== void 0 ? a.pfValue[u] : l),
      n.isArcRadius.push(
        (o.pfValue[u] !== void 0 ? o.pfValue[u] : c) === 'arc-radius'
      );
  }
};
Hn.findLoopPoints = function (e, t, n, i) {
  var r = e._private.rscratch,
    a = t.dirCounts,
    o = t.srcPos,
    s = e.pstyle('control-point-distances'),
    l = s ? s.pfValue[0] : void 0,
    c = e.pstyle('loop-direction').pfValue,
    u = e.pstyle('loop-sweep').pfValue,
    d = e.pstyle('control-point-step-size').pfValue;
  r.edgeType = 'self';
  var h = n,
    p = d;
  i && ((h = 0), (p = l));
  var m = c - Math.PI / 2,
    _ = m - u / 2,
    v = m + u / 2,
    y = c + '_' + u;
  (h = a[y] === void 0 ? (a[y] = 0) : ++a[y]),
    (r.ctrlpts = [
      o.x + Math.cos(_) * 1.4 * p * (h / 3 + 1),
      o.y + Math.sin(_) * 1.4 * p * (h / 3 + 1),
      o.x + Math.cos(v) * 1.4 * p * (h / 3 + 1),
      o.y + Math.sin(v) * 1.4 * p * (h / 3 + 1),
    ]);
};
Hn.findCompoundLoopPoints = function (e, t, n, i) {
  var r = e._private.rscratch;
  r.edgeType = 'compound';
  var a = t.srcPos,
    o = t.tgtPos,
    s = t.srcW,
    l = t.srcH,
    c = t.tgtW,
    u = t.tgtH,
    d = e.pstyle('control-point-step-size').pfValue,
    h = e.pstyle('control-point-distances'),
    p = h ? h.pfValue[0] : void 0,
    m = n,
    _ = d;
  i && ((m = 0), (_ = p));
  var v = 50,
    y = { x: a.x - s / 2, y: a.y - l / 2 },
    w = { x: o.x - c / 2, y: o.y - u / 2 },
    x = { x: Math.min(y.x, w.x), y: Math.min(y.y, w.y) },
    C = 0.5,
    S = Math.max(C, Math.log(s * 0.01)),
    g = Math.max(C, Math.log(c * 0.01));
  r.ctrlpts = [
    x.x,
    x.y - (1 + Math.pow(v, 1.12) / 100) * _ * (m / 3 + 1) * S,
    x.x - (1 + Math.pow(v, 1.12) / 100) * _ * (m / 3 + 1) * g,
    x.y,
  ];
};
Hn.findStraightEdgePoints = function (e) {
  e._private.rscratch.edgeType = 'straight';
};
Hn.findBezierPoints = function (e, t, n, i, r) {
  var a = e._private.rscratch,
    o = e.pstyle('control-point-step-size').pfValue,
    s = e.pstyle('control-point-distances'),
    l = e.pstyle('control-point-weights'),
    c = s && l ? Math.min(s.value.length, l.value.length) : 1,
    u = s ? s.pfValue[0] : void 0,
    d = l.value[0],
    h = i;
  (a.edgeType = h ? 'multibezier' : 'bezier'), (a.ctrlpts = []);
  for (var p = 0; p < c; p++) {
    var m = (0.5 - t.eles.length / 2 + n) * o * (r ? -1 : 1),
      _ = void 0,
      v = lD(m);
    h && ((u = s ? s.pfValue[p] : o), (d = l.value[p])),
      i ? (_ = u) : (_ = u !== void 0 ? v * u : void 0);
    var y = _ !== void 0 ? _ : m,
      w = 1 - d,
      x = d,
      C = this.findMidptPtsEtc(e, t),
      S = C.midptPts,
      g = C.vectorNormInverse,
      D = { x: S.x1 * w + S.x2 * x, y: S.y1 * w + S.y2 * x };
    a.ctrlpts.push(D.x + g.x * y, D.y + g.y * y);
  }
};
Hn.findTaxiPoints = function (e, t) {
  var n = e._private.rscratch;
  n.edgeType = 'segments';
  var i = 'vertical',
    r = 'horizontal',
    a = 'leftward',
    o = 'rightward',
    s = 'downward',
    l = 'upward',
    c = 'auto',
    u = t.posPts,
    d = t.srcW,
    h = t.srcH,
    p = t.tgtW,
    m = t.tgtH,
    _ = e.pstyle('edge-distances').value,
    v = _ !== 'node-position',
    y = e.pstyle('taxi-direction').value,
    w = y,
    x = e.pstyle('taxi-turn'),
    C = x.units === '%',
    S = x.pfValue,
    g = S < 0,
    D = e.pstyle('taxi-turn-min-distance').pfValue,
    T = v ? (d + p) / 2 : 0,
    O = v ? (h + m) / 2 : 0,
    R = u.x2 - u.x1,
    P = u.y2 - u.y1,
    L = function (te, ne) {
      return te > 0 ? Math.max(te - ne, 0) : Math.min(te + ne, 0);
    },
    V = L(R, T),
    B = L(P, O),
    q = !1;
  w === c
    ? (y = Math.abs(V) > Math.abs(B) ? r : i)
    : w === l || w === s
      ? ((y = i), (q = !0))
      : (w === a || w === o) && ((y = r), (q = !0));
  var U = y === i,
    W = U ? B : V,
    Z = U ? P : R,
    it = lD(Z),
    rt = !1;
  !(q && (C || g)) &&
    ((w === s && Z < 0) ||
      (w === l && Z > 0) ||
      (w === a && Z > 0) ||
      (w === o && Z < 0)) &&
    ((it *= -1), (W = it * Math.abs(W)), (rt = !0));
  var nt;
  if (C) {
    var J = S < 0 ? 1 + S : S;
    nt = J * W;
  } else {
    var dt = S < 0 ? W : 0;
    nt = dt + S * it;
  }
  var yt = function (te) {
      return Math.abs(te) < D || Math.abs(te) >= Math.abs(W);
    },
    wt = yt(nt),
    bt = yt(Math.abs(W) - Math.abs(nt)),
    At = wt || bt;
  if (At && !rt)
    if (U) {
      var _t = Math.abs(Z) <= h / 2,
        K = Math.abs(R) <= p / 2;
      if (_t) {
        var lt = (u.x1 + u.x2) / 2,
          ot = u.y1,
          Mt = u.y2;
        n.segpts = [lt, ot, lt, Mt];
      } else if (K) {
        var Vt = (u.y1 + u.y2) / 2,
          Ot = u.x1,
          Lt = u.x2;
        n.segpts = [Ot, Vt, Lt, Vt];
      } else n.segpts = [u.x1, u.y2];
    } else {
      var Ut = Math.abs(Z) <= d / 2,
        Wt = Math.abs(P) <= m / 2;
      if (Ut) {
        var Jt = (u.y1 + u.y2) / 2,
          le = u.x1,
          Fe = u.x2;
        n.segpts = [le, Jt, Fe, Jt];
      } else if (Wt) {
        var _e = (u.x1 + u.x2) / 2,
          ce = u.y1,
          Ee = u.y2;
        n.segpts = [_e, ce, _e, Ee];
      } else n.segpts = [u.x2, u.y1];
    }
  else if (U) {
    var st = u.y1 + nt + (v ? (h / 2) * it : 0),
      z = u.x1,
      ct = u.x2;
    n.segpts = [z, st, ct, st];
  } else {
    var Ct = u.x1 + nt + (v ? (d / 2) * it : 0),
      gt = u.y1,
      vt = u.y2;
    n.segpts = [Ct, gt, Ct, vt];
  }
  if (n.isRound) {
    var Ft = e.pstyle('taxi-radius').value,
      mt = e.pstyle('radius-type').value[0] === 'arc-radius';
    (n.radii = new Array(n.segpts.length / 2).fill(Ft)),
      (n.isArcRadius = new Array(n.segpts.length / 2).fill(mt));
  }
};
Hn.tryToCorrectInvalidPoints = function (e, t) {
  var n = e._private.rscratch;
  if (n.edgeType === 'bezier') {
    var i = t.srcPos,
      r = t.tgtPos,
      a = t.srcW,
      o = t.srcH,
      s = t.tgtW,
      l = t.tgtH,
      c = t.srcShape,
      u = t.tgtShape,
      d = t.srcCornerRadius,
      h = t.tgtCornerRadius,
      p = t.srcRs,
      m = t.tgtRs,
      _ = !$t(n.startX) || !$t(n.startY),
      v = !$t(n.arrowStartX) || !$t(n.arrowStartY),
      y = !$t(n.endX) || !$t(n.endY),
      w = !$t(n.arrowEndX) || !$t(n.arrowEndY),
      x = 3,
      C =
        this.getArrowWidth(
          e.pstyle('width').pfValue,
          e.pstyle('arrow-scale').value
        ) * this.arrowShapeWidth,
      S = x * C,
      g = Qs(
        { x: n.ctrlpts[0], y: n.ctrlpts[1] },
        { x: n.startX, y: n.startY }
      ),
      D = g < S,
      T = Qs({ x: n.ctrlpts[0], y: n.ctrlpts[1] }, { x: n.endX, y: n.endY }),
      O = T < S,
      R = !1;
    if (_ || v || D) {
      R = !0;
      var P = { x: n.ctrlpts[0] - i.x, y: n.ctrlpts[1] - i.y },
        L = Math.sqrt(P.x * P.x + P.y * P.y),
        V = { x: P.x / L, y: P.y / L },
        B = Math.max(a, o),
        q = { x: n.ctrlpts[0] + V.x * 2 * B, y: n.ctrlpts[1] + V.y * 2 * B },
        U = c.intersectLine(i.x, i.y, a, o, q.x, q.y, 0, d, p);
      D
        ? ((n.ctrlpts[0] = n.ctrlpts[0] + V.x * (S - g)),
          (n.ctrlpts[1] = n.ctrlpts[1] + V.y * (S - g)))
        : ((n.ctrlpts[0] = U[0] + V.x * S), (n.ctrlpts[1] = U[1] + V.y * S));
    }
    if (y || w || O) {
      R = !0;
      var W = { x: n.ctrlpts[0] - r.x, y: n.ctrlpts[1] - r.y },
        Z = Math.sqrt(W.x * W.x + W.y * W.y),
        it = { x: W.x / Z, y: W.y / Z },
        rt = Math.max(a, o),
        nt = {
          x: n.ctrlpts[0] + it.x * 2 * rt,
          y: n.ctrlpts[1] + it.y * 2 * rt,
        },
        J = u.intersectLine(r.x, r.y, s, l, nt.x, nt.y, 0, h, m);
      O
        ? ((n.ctrlpts[0] = n.ctrlpts[0] + it.x * (S - T)),
          (n.ctrlpts[1] = n.ctrlpts[1] + it.y * (S - T)))
        : ((n.ctrlpts[0] = J[0] + it.x * S), (n.ctrlpts[1] = J[1] + it.y * S));
    }
    R && this.findEndpoints(e);
  }
};
Hn.storeAllpts = function (e) {
  var t = e._private.rscratch;
  if (
    t.edgeType === 'multibezier' ||
    t.edgeType === 'bezier' ||
    t.edgeType === 'self' ||
    t.edgeType === 'compound'
  ) {
    (t.allpts = []), t.allpts.push(t.startX, t.startY);
    for (var n = 0; n + 1 < t.ctrlpts.length; n += 2)
      t.allpts.push(t.ctrlpts[n], t.ctrlpts[n + 1]),
        n + 3 < t.ctrlpts.length &&
          t.allpts.push(
            (t.ctrlpts[n] + t.ctrlpts[n + 2]) / 2,
            (t.ctrlpts[n + 1] + t.ctrlpts[n + 3]) / 2
          );
    t.allpts.push(t.endX, t.endY);
    var i, r;
    (t.ctrlpts.length / 2) % 2 === 0
      ? ((i = t.allpts.length / 2 - 1),
        (t.midX = t.allpts[i]),
        (t.midY = t.allpts[i + 1]))
      : ((i = t.allpts.length / 2 - 3),
        (r = 0.5),
        (t.midX = _n(t.allpts[i], t.allpts[i + 2], t.allpts[i + 4], r)),
        (t.midY = _n(t.allpts[i + 1], t.allpts[i + 3], t.allpts[i + 5], r)));
  } else if (t.edgeType === 'straight')
    (t.allpts = [t.startX, t.startY, t.endX, t.endY]),
      (t.midX = (t.startX + t.endX + t.arrowStartX + t.arrowEndX) / 4),
      (t.midY = (t.startY + t.endY + t.arrowStartY + t.arrowEndY) / 4);
  else if (t.edgeType === 'segments') {
    if (
      ((t.allpts = []),
      t.allpts.push(t.startX, t.startY),
      t.allpts.push.apply(t.allpts, t.segpts),
      t.allpts.push(t.endX, t.endY),
      t.isRound)
    ) {
      t.roundCorners = [];
      for (var a = 2; a + 3 < t.allpts.length; a += 2) {
        var o = t.radii[a / 2 - 1],
          s = t.isArcRadius[a / 2 - 1];
        t.roundCorners.push(
          x0(
            { x: t.allpts[a - 2], y: t.allpts[a - 1] },
            { x: t.allpts[a], y: t.allpts[a + 1], radius: o },
            { x: t.allpts[a + 2], y: t.allpts[a + 3] },
            o,
            s
          )
        );
      }
    }
    if (t.segpts.length % 4 === 0) {
      var l = t.segpts.length / 2,
        c = l - 2;
      (t.midX = (t.segpts[c] + t.segpts[l]) / 2),
        (t.midY = (t.segpts[c + 1] + t.segpts[l + 1]) / 2);
    } else {
      var u = t.segpts.length / 2 - 1;
      if (!t.isRound) (t.midX = t.segpts[u]), (t.midY = t.segpts[u + 1]);
      else {
        var d = { x: t.segpts[u], y: t.segpts[u + 1] },
          h = t.roundCorners[u / 2],
          p = [d.x - h.cx, d.y - h.cy],
          m = h.radius / Math.sqrt(Math.pow(p[0], 2) + Math.pow(p[1], 2));
        (p = p.map(function (_) {
          return _ * m;
        })),
          (t.midX = h.cx + p[0]),
          (t.midY = h.cy + p[1]),
          (t.midVector = p);
      }
    }
  }
};
Hn.checkForInvalidEdgeWarning = function (e) {
  var t = e[0]._private.rscratch;
  t.nodesOverlap || ($t(t.startX) && $t(t.startY) && $t(t.endX) && $t(t.endY))
    ? (t.loggedErr = !1)
    : t.loggedErr ||
      ((t.loggedErr = !0),
      li(
        'Edge `' +
          e.id() +
          '` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.'
      ));
};
Hn.findEdgeControlPoints = function (e) {
  var t = this;
  if (!(!e || e.length === 0)) {
    for (
      var n = this,
        i = n.cy,
        r = i.hasCompoundNodes(),
        a = {
          map: new Ea(),
          get: function (D) {
            var T = this.map.get(D[0]);
            return T != null ? T.get(D[1]) : null;
          },
          set: function (D, T) {
            var O = this.map.get(D[0]);
            O == null && ((O = new Ea()), this.map.set(D[0], O)),
              O.set(D[1], T);
          },
        },
        o = [],
        s = [],
        l = 0;
      l < e.length;
      l++
    ) {
      var c = e[l],
        u = c._private,
        d = c.pstyle('curve-style').value;
      if (!(c.removed() || !c.takesUpSpace())) {
        if (d === 'haystack') {
          s.push(c);
          continue;
        }
        var h =
            d === 'unbundled-bezier' ||
            d.endsWith('segments') ||
            d === 'straight' ||
            d === 'straight-triangle' ||
            d.endsWith('taxi'),
          p = d === 'unbundled-bezier' || d === 'bezier',
          m = u.source,
          _ = u.target,
          v = m.poolIndex(),
          y = _.poolIndex(),
          w = [v, y].sort(),
          x = a.get(w);
        x == null && ((x = { eles: [] }), a.set(w, x), o.push(w)),
          x.eles.push(c),
          h && (x.hasUnbundled = !0),
          p && (x.hasBezier = !0);
      }
    }
    for (
      var C = function (D) {
          var T = o[D],
            O = a.get(T),
            R = void 0;
          if (!O.hasUnbundled) {
            var P = O.eles[0].parallelEdges().filter(function (Ct) {
              return Ct.isBundledBezier();
            });
            o0(O.eles),
              P.forEach(function (Ct) {
                return O.eles.push(Ct);
              }),
              O.eles.sort(function (Ct, gt) {
                return Ct.poolIndex() - gt.poolIndex();
              });
          }
          var L = O.eles[0],
            V = L.source(),
            B = L.target();
          if (V.poolIndex() > B.poolIndex()) {
            var q = V;
            (V = B), (B = q);
          }
          var U = (O.srcPos = V.position()),
            W = (O.tgtPos = B.position()),
            Z = (O.srcW = V.outerWidth()),
            it = (O.srcH = V.outerHeight()),
            rt = (O.tgtW = B.outerWidth()),
            nt = (O.tgtH = B.outerHeight()),
            J = (O.srcShape = n.nodeShapes[t.getNodeShape(V)]),
            dt = (O.tgtShape = n.nodeShapes[t.getNodeShape(B)]),
            yt = (O.srcCornerRadius =
              V.pstyle('corner-radius').value === 'auto'
                ? 'auto'
                : V.pstyle('corner-radius').pfValue),
            wt = (O.tgtCornerRadius =
              B.pstyle('corner-radius').value === 'auto'
                ? 'auto'
                : B.pstyle('corner-radius').pfValue),
            bt = (O.tgtRs = B._private.rscratch),
            At = (O.srcRs = V._private.rscratch);
          O.dirCounts = {
            north: 0,
            west: 0,
            south: 0,
            east: 0,
            northwest: 0,
            southwest: 0,
            northeast: 0,
            southeast: 0,
          };
          for (var _t = 0; _t < O.eles.length; _t++) {
            var K = O.eles[_t],
              lt = K[0]._private.rscratch,
              ot = K.pstyle('curve-style').value,
              Mt =
                ot === 'unbundled-bezier' ||
                ot.endsWith('segments') ||
                ot.endsWith('taxi'),
              Vt = !V.same(K.source());
            if (
              !O.calculatedIntersection &&
              V !== B &&
              (O.hasBezier || O.hasUnbundled)
            ) {
              O.calculatedIntersection = !0;
              var Ot = J.intersectLine(U.x, U.y, Z, it, W.x, W.y, 0, yt, At),
                Lt = (O.srcIntn = Ot),
                Ut = dt.intersectLine(W.x, W.y, rt, nt, U.x, U.y, 0, wt, bt),
                Wt = (O.tgtIntn = Ut),
                Jt = (O.intersectionPts = {
                  x1: Ot[0],
                  x2: Ut[0],
                  y1: Ot[1],
                  y2: Ut[1],
                }),
                le = (O.posPts = { x1: U.x, x2: W.x, y1: U.y, y2: W.y }),
                Fe = Ut[1] - Ot[1],
                _e = Ut[0] - Ot[0],
                ce = Math.sqrt(_e * _e + Fe * Fe),
                Ee = (O.vector = { x: _e, y: Fe }),
                st = (O.vectorNorm = { x: Ee.x / ce, y: Ee.y / ce }),
                z = { x: -st.y, y: st.x };
              (O.nodesOverlap =
                !$t(ce) ||
                dt.checkPoint(Ot[0], Ot[1], 0, rt, nt, W.x, W.y, wt, bt) ||
                J.checkPoint(Ut[0], Ut[1], 0, Z, it, U.x, U.y, yt, At)),
                (O.vectorNormInverse = z),
                (R = {
                  nodesOverlap: O.nodesOverlap,
                  dirCounts: O.dirCounts,
                  calculatedIntersection: !0,
                  hasBezier: O.hasBezier,
                  hasUnbundled: O.hasUnbundled,
                  eles: O.eles,
                  srcPos: W,
                  tgtPos: U,
                  srcW: rt,
                  srcH: nt,
                  tgtW: Z,
                  tgtH: it,
                  srcIntn: Wt,
                  tgtIntn: Lt,
                  srcShape: dt,
                  tgtShape: J,
                  posPts: { x1: le.x2, y1: le.y2, x2: le.x1, y2: le.y1 },
                  intersectionPts: {
                    x1: Jt.x2,
                    y1: Jt.y2,
                    x2: Jt.x1,
                    y2: Jt.y1,
                  },
                  vector: { x: -Ee.x, y: -Ee.y },
                  vectorNorm: { x: -st.x, y: -st.y },
                  vectorNormInverse: { x: -z.x, y: -z.y },
                });
            }
            var ct = Vt ? R : O;
            (lt.nodesOverlap = ct.nodesOverlap),
              (lt.srcIntn = ct.srcIntn),
              (lt.tgtIntn = ct.tgtIntn),
              (lt.isRound = ot.startsWith('round')),
              r &&
              (V.isParent() || V.isChild() || B.isParent() || B.isChild()) &&
              (V.parents().anySame(B) ||
                B.parents().anySame(V) ||
                (V.same(B) && V.isParent()))
                ? t.findCompoundLoopPoints(K, ct, _t, Mt)
                : V === B
                  ? t.findLoopPoints(K, ct, _t, Mt)
                  : ot.endsWith('segments')
                    ? t.findSegmentsPoints(K, ct)
                    : ot.endsWith('taxi')
                      ? t.findTaxiPoints(K, ct)
                      : ot === 'straight' ||
                          (!Mt &&
                            O.eles.length % 2 === 1 &&
                            _t === Math.floor(O.eles.length / 2))
                        ? t.findStraightEdgePoints(K)
                        : t.findBezierPoints(K, ct, _t, Mt, Vt),
              t.findEndpoints(K),
              t.tryToCorrectInvalidPoints(K, ct),
              t.checkForInvalidEdgeWarning(K),
              t.storeAllpts(K),
              t.storeEdgeProjections(K),
              t.calculateArrowAngles(K),
              t.recalculateEdgeLabelProjections(K),
              t.calculateLabelAngles(K);
          }
        },
        S = 0;
      S < o.length;
      S++
    )
      C(S);
    this.findHaystackPoints(s);
  }
};
function aT(e) {
  var t = [];
  if (e != null) {
    for (var n = 0; n < e.length; n += 2) {
      var i = e[n],
        r = e[n + 1];
      t.push({ x: i, y: r });
    }
    return t;
  }
}
Hn.getSegmentPoints = function (e) {
  var t = e[0]._private.rscratch,
    n = t.edgeType;
  if (n === 'segments') return this.recalculateRenderedStyle(e), aT(t.segpts);
};
Hn.getControlPoints = function (e) {
  var t = e[0]._private.rscratch,
    n = t.edgeType;
  if (n === 'bezier' || n === 'multibezier' || n === 'self' || n === 'compound')
    return this.recalculateRenderedStyle(e), aT(t.ctrlpts);
};
Hn.getEdgeMidpoint = function (e) {
  var t = e[0]._private.rscratch;
  return this.recalculateRenderedStyle(e), { x: t.midX, y: t.midY };
};
var $d = {};
$d.manualEndptToPx = function (e, t) {
  var n = this,
    i = e.position(),
    r = e.outerWidth(),
    a = e.outerHeight(),
    o = e._private.rscratch;
  if (t.value.length === 2) {
    var s = [t.pfValue[0], t.pfValue[1]];
    return (
      t.units[0] === '%' && (s[0] = s[0] * r),
      t.units[1] === '%' && (s[1] = s[1] * a),
      (s[0] += i.x),
      (s[1] += i.y),
      s
    );
  } else {
    var l = t.pfValue[0];
    l = -Math.PI / 2 + l;
    var c = 2 * Math.max(r, a),
      u = [i.x + Math.cos(l) * c, i.y + Math.sin(l) * c];
    return n.nodeShapes[this.getNodeShape(e)].intersectLine(
      i.x,
      i.y,
      r,
      a,
      u[0],
      u[1],
      0,
      e.pstyle('corner-radius').value === 'auto'
        ? 'auto'
        : e.pstyle('corner-radius').pfValue,
      o
    );
  }
};
$d.findEndpoints = function (e) {
  var t = this,
    n,
    i = e.source()[0],
    r = e.target()[0],
    a = i.position(),
    o = r.position(),
    s = e.pstyle('target-arrow-shape').value,
    l = e.pstyle('source-arrow-shape').value,
    c = e.pstyle('target-distance-from-node').pfValue,
    u = e.pstyle('source-distance-from-node').pfValue,
    d = i._private.rscratch,
    h = r._private.rscratch,
    p = e.pstyle('curve-style').value,
    m = e._private.rscratch,
    _ = m.edgeType,
    v = p === 'taxi',
    y = _ === 'self' || _ === 'compound',
    w = _ === 'bezier' || _ === 'multibezier' || y,
    x = _ !== 'bezier',
    C = _ === 'straight' || _ === 'segments',
    S = _ === 'segments',
    g = w || x || C,
    D = y || v,
    T = e.pstyle('source-endpoint'),
    O = D ? 'outside-to-node' : T.value,
    R =
      i.pstyle('corner-radius').value === 'auto'
        ? 'auto'
        : i.pstyle('corner-radius').pfValue,
    P = e.pstyle('target-endpoint'),
    L = D ? 'outside-to-node' : P.value,
    V =
      r.pstyle('corner-radius').value === 'auto'
        ? 'auto'
        : r.pstyle('corner-radius').pfValue;
  (m.srcManEndpt = T), (m.tgtManEndpt = P);
  var B, q, U, W;
  if (w) {
    var Z = [m.ctrlpts[0], m.ctrlpts[1]],
      it = x
        ? [m.ctrlpts[m.ctrlpts.length - 2], m.ctrlpts[m.ctrlpts.length - 1]]
        : Z;
    (B = it), (q = Z);
  } else if (C) {
    var rt = S ? m.segpts.slice(0, 2) : [o.x, o.y],
      nt = S ? m.segpts.slice(m.segpts.length - 2) : [a.x, a.y];
    (B = nt), (q = rt);
  }
  if (L === 'inside-to-node') n = [o.x, o.y];
  else if (P.units) n = this.manualEndptToPx(r, P);
  else if (L === 'outside-to-line') n = m.tgtIntn;
  else if (
    (L === 'outside-to-node' || L === 'outside-to-node-or-label'
      ? (U = B)
      : (L === 'outside-to-line' || L === 'outside-to-line-or-label') &&
        (U = [a.x, a.y]),
    (n = t.nodeShapes[this.getNodeShape(r)].intersectLine(
      o.x,
      o.y,
      r.outerWidth(),
      r.outerHeight(),
      U[0],
      U[1],
      0,
      V,
      h
    )),
    L === 'outside-to-node-or-label' || L === 'outside-to-line-or-label')
  ) {
    var J = r._private.rscratch,
      dt = J.labelWidth,
      yt = J.labelHeight,
      wt = J.labelX,
      bt = J.labelY,
      At = dt / 2,
      _t = yt / 2,
      K = r.pstyle('text-valign').value;
    K === 'top' ? (bt -= _t) : K === 'bottom' && (bt += _t);
    var lt = r.pstyle('text-halign').value;
    lt === 'left' ? (wt -= At) : lt === 'right' && (wt += At);
    var ot = Pd(
      U[0],
      U[1],
      [wt - At, bt - _t, wt + At, bt - _t, wt + At, bt + _t, wt - At, bt + _t],
      o.x,
      o.y
    );
    if (ot.length > 0) {
      var Mt = a,
        Vt = Ws(Mt, ac(n)),
        Ot = Ws(Mt, ac(ot)),
        Lt = Vt;
      if ((Ot < Vt && ((n = ot), (Lt = Ot)), ot.length > 2)) {
        var Ut = Ws(Mt, { x: ot[2], y: ot[3] });
        Ut < Lt && (n = [ot[2], ot[3]]);
      }
    }
  }
  var Wt = Tp(n, B, t.arrowShapes[s].spacing(e) + c),
    Jt = Tp(n, B, t.arrowShapes[s].gap(e) + c);
  if (
    ((m.endX = Jt[0]),
    (m.endY = Jt[1]),
    (m.arrowEndX = Wt[0]),
    (m.arrowEndY = Wt[1]),
    O === 'inside-to-node')
  )
    n = [a.x, a.y];
  else if (T.units) n = this.manualEndptToPx(i, T);
  else if (O === 'outside-to-line') n = m.srcIntn;
  else if (
    (O === 'outside-to-node' || O === 'outside-to-node-or-label'
      ? (W = q)
      : (O === 'outside-to-line' || O === 'outside-to-line-or-label') &&
        (W = [o.x, o.y]),
    (n = t.nodeShapes[this.getNodeShape(i)].intersectLine(
      a.x,
      a.y,
      i.outerWidth(),
      i.outerHeight(),
      W[0],
      W[1],
      0,
      R,
      d
    )),
    O === 'outside-to-node-or-label' || O === 'outside-to-line-or-label')
  ) {
    var le = i._private.rscratch,
      Fe = le.labelWidth,
      _e = le.labelHeight,
      ce = le.labelX,
      Ee = le.labelY,
      st = Fe / 2,
      z = _e / 2,
      ct = i.pstyle('text-valign').value;
    ct === 'top' ? (Ee -= z) : ct === 'bottom' && (Ee += z);
    var Ct = i.pstyle('text-halign').value;
    Ct === 'left' ? (ce -= st) : Ct === 'right' && (ce += st);
    var gt = Pd(
      W[0],
      W[1],
      [ce - st, Ee - z, ce + st, Ee - z, ce + st, Ee + z, ce - st, Ee + z],
      a.x,
      a.y
    );
    if (gt.length > 0) {
      var vt = o,
        Ft = Ws(vt, ac(n)),
        mt = Ws(vt, ac(gt)),
        Pt = Ft;
      if ((mt < Ft && ((n = [gt[0], gt[1]]), (Pt = mt)), gt.length > 2)) {
        var te = Ws(vt, { x: gt[2], y: gt[3] });
        te < Pt && (n = [gt[2], gt[3]]);
      }
    }
  }
  var ne = Tp(n, q, t.arrowShapes[l].spacing(e) + u),
    ie = Tp(n, q, t.arrowShapes[l].gap(e) + u);
  (m.startX = ie[0]),
    (m.startY = ie[1]),
    (m.arrowStartX = ne[0]),
    (m.arrowStartY = ne[1]),
    g &&
      (!$t(m.startX) || !$t(m.startY) || !$t(m.endX) || !$t(m.endY)
        ? (m.badLine = !0)
        : (m.badLine = !1));
};
$d.getSourceEndpoint = function (e) {
  var t = e[0]._private.rscratch;
  switch ((this.recalculateRenderedStyle(e), t.edgeType)) {
    case 'haystack':
      return { x: t.haystackPts[0], y: t.haystackPts[1] };
    default:
      return { x: t.arrowStartX, y: t.arrowStartY };
  }
};
$d.getTargetEndpoint = function (e) {
  var t = e[0]._private.rscratch;
  switch ((this.recalculateRenderedStyle(e), t.edgeType)) {
    case 'haystack':
      return { x: t.haystackPts[2], y: t.haystackPts[3] };
    default:
      return { x: t.arrowEndX, y: t.arrowEndY };
  }
};
var w0 = {};
function z3(e, t, n) {
  for (
    var i = function (c, u, d, h) {
        return _n(c, u, d, h);
      },
      r = t._private,
      a = r.rstyle.bezierPts,
      o = 0;
    o < e.bezierProjPcts.length;
    o++
  ) {
    var s = e.bezierProjPcts[o];
    a.push({ x: i(n[0], n[2], n[4], s), y: i(n[1], n[3], n[5], s) });
  }
}
w0.storeEdgeProjections = function (e) {
  var t = e._private,
    n = t.rscratch,
    i = n.edgeType;
  if (
    ((t.rstyle.bezierPts = null),
    (t.rstyle.linePts = null),
    (t.rstyle.haystackPts = null),
    i === 'multibezier' || i === 'bezier' || i === 'self' || i === 'compound')
  ) {
    t.rstyle.bezierPts = [];
    for (var r = 0; r + 5 < n.allpts.length; r += 4)
      z3(this, e, n.allpts.slice(r, r + 6));
  } else if (i === 'segments')
    for (
      var a = (t.rstyle.linePts = []), r = 0;
      r + 1 < n.allpts.length;
      r += 2
    )
      a.push({ x: n.allpts[r], y: n.allpts[r + 1] });
  else if (i === 'haystack') {
    var o = n.haystackPts;
    t.rstyle.haystackPts = [
      { x: o[0], y: o[1] },
      { x: o[2], y: o[3] },
    ];
  }
  t.rstyle.arrowWidth =
    this.getArrowWidth(
      e.pstyle('width').pfValue,
      e.pstyle('arrow-scale').value
    ) * this.arrowShapeWidth;
};
w0.recalculateEdgeProjections = function (e) {
  this.findEdgeControlPoints(e);
};
var Ta = {};
Ta.recalculateNodeLabelProjection = function (e) {
  var t = e.pstyle('label').strValue;
  if (!zo(t)) {
    var n,
      i,
      r = e._private,
      a = e.width(),
      o = e.height(),
      s = e.padding(),
      l = e.position(),
      c = e.pstyle('text-halign').strValue,
      u = e.pstyle('text-valign').strValue,
      d = r.rscratch,
      h = r.rstyle;
    switch (c) {
      case 'left':
        n = l.x - a / 2 - s;
        break;
      case 'right':
        n = l.x + a / 2 + s;
        break;
      default:
        n = l.x;
    }
    switch (u) {
      case 'top':
        i = l.y - o / 2 - s;
        break;
      case 'bottom':
        i = l.y + o / 2 + s;
        break;
      default:
        i = l.y;
    }
    (d.labelX = n),
      (d.labelY = i),
      (h.labelX = n),
      (h.labelY = i),
      this.calculateLabelAngles(e),
      this.applyLabelDimensions(e);
  }
};
var oT = function (t, n) {
    var i = Math.atan(n / t);
    return t === 0 && i < 0 && (i = i * -1), i;
  },
  sT = function (t, n) {
    var i = n.x - t.x,
      r = n.y - t.y;
    return oT(i, r);
  },
  V3 = function (t, n, i, r) {
    var a = Od(0, r - 0.001, 1),
      o = Od(0, r + 0.001, 1),
      s = sc(t, n, i, a),
      l = sc(t, n, i, o);
    return sT(s, l);
  };
Ta.recalculateEdgeLabelProjections = function (e) {
  var t,
    n = e._private,
    i = n.rscratch,
    r = this,
    a = {
      mid: e.pstyle('label').strValue,
      source: e.pstyle('source-label').strValue,
      target: e.pstyle('target-label').strValue,
    };
  if (a.mid || a.source || a.target) {
    t = { x: i.midX, y: i.midY };
    var o = function (d, h, p) {
      Lo(n.rscratch, d, h, p), Lo(n.rstyle, d, h, p);
    };
    o('labelX', null, t.x), o('labelY', null, t.y);
    var s = oT(i.midDispX, i.midDispY);
    o('labelAutoAngle', null, s);
    var l = function u() {
        if (u.cache) return u.cache;
        for (var d = [], h = 0; h + 5 < i.allpts.length; h += 4) {
          var p = { x: i.allpts[h], y: i.allpts[h + 1] },
            m = { x: i.allpts[h + 2], y: i.allpts[h + 3] },
            _ = { x: i.allpts[h + 4], y: i.allpts[h + 5] };
          d.push({
            p0: p,
            p1: m,
            p2: _,
            startDist: 0,
            length: 0,
            segments: [],
          });
        }
        var v = n.rstyle.bezierPts,
          y = r.bezierProjPcts.length;
        function w(D, T, O, R, P) {
          var L = Qs(T, O),
            V = D.segments[D.segments.length - 1],
            B = {
              p0: T,
              p1: O,
              t0: R,
              t1: P,
              startDist: V ? V.startDist + V.length : 0,
              length: L,
            };
          D.segments.push(B), (D.length += L);
        }
        for (var x = 0; x < d.length; x++) {
          var C = d[x],
            S = d[x - 1];
          S && (C.startDist = S.startDist + S.length),
            w(C, C.p0, v[x * y], 0, r.bezierProjPcts[0]);
          for (var g = 0; g < y - 1; g++)
            w(
              C,
              v[x * y + g],
              v[x * y + g + 1],
              r.bezierProjPcts[g],
              r.bezierProjPcts[g + 1]
            );
          w(C, v[x * y + y - 1], C.p2, r.bezierProjPcts[y - 1], 1);
        }
        return (u.cache = d);
      },
      c = function (d) {
        var h,
          p = d === 'source';
        if (a[d]) {
          var m = e.pstyle(d + '-text-offset').pfValue;
          switch (i.edgeType) {
            case 'self':
            case 'compound':
            case 'bezier':
            case 'multibezier': {
              for (var _ = l(), v, y = 0, w = 0, x = 0; x < _.length; x++) {
                for (
                  var C = _[p ? x : _.length - 1 - x], S = 0;
                  S < C.segments.length;
                  S++
                ) {
                  var g = C.segments[p ? S : C.segments.length - 1 - S],
                    D = x === _.length - 1 && S === C.segments.length - 1;
                  if (((y = w), (w += g.length), w >= m || D)) {
                    v = { cp: C, segment: g };
                    break;
                  }
                }
                if (v) break;
              }
              var T = v.cp,
                O = v.segment,
                R = (m - y) / O.length,
                P = O.t1 - O.t0,
                L = p ? O.t0 + P * R : O.t1 - P * R;
              (L = Od(0, L, 1)),
                (t = sc(T.p0, T.p1, T.p2, L)),
                (h = V3(T.p0, T.p1, T.p2, L));
              break;
            }
            case 'straight':
            case 'segments':
            case 'haystack': {
              for (
                var V = 0, B, q, U, W, Z = i.allpts.length, it = 0;
                it + 3 < Z &&
                (p
                  ? ((U = { x: i.allpts[it], y: i.allpts[it + 1] }),
                    (W = { x: i.allpts[it + 2], y: i.allpts[it + 3] }))
                  : ((U = { x: i.allpts[Z - 2 - it], y: i.allpts[Z - 1 - it] }),
                    (W = { x: i.allpts[Z - 4 - it], y: i.allpts[Z - 3 - it] })),
                (B = Qs(U, W)),
                (q = V),
                (V += B),
                !(V >= m));
                it += 2
              );
              var rt = m - q,
                nt = rt / B;
              (nt = Od(0, nt, 1)), (t = Hz(U, W, nt)), (h = sT(U, W));
              break;
            }
          }
          o('labelX', d, t.x), o('labelY', d, t.y), o('labelAutoAngle', d, h);
        }
      };
    c('source'), c('target'), this.applyLabelDimensions(e);
  }
};
Ta.applyLabelDimensions = function (e) {
  this.applyPrefixedLabelDimensions(e),
    e.isEdge() &&
      (this.applyPrefixedLabelDimensions(e, 'source'),
      this.applyPrefixedLabelDimensions(e, 'target'));
};
Ta.applyPrefixedLabelDimensions = function (e, t) {
  var n = e._private,
    i = this.getLabelText(e, t),
    r = this.calculateLabelDimensions(e, i),
    a = e.pstyle('line-height').pfValue,
    o = e.pstyle('text-wrap').strValue,
    s = ra(n.rscratch, 'labelWrapCachedLines', t) || [],
    l = o !== 'wrap' ? 1 : Math.max(s.length, 1),
    c = r.height / l,
    u = c * a,
    d = r.width,
    h = r.height + (l - 1) * (a - 1) * c;
  Lo(n.rstyle, 'labelWidth', t, d),
    Lo(n.rscratch, 'labelWidth', t, d),
    Lo(n.rstyle, 'labelHeight', t, h),
    Lo(n.rscratch, 'labelHeight', t, h),
    Lo(n.rscratch, 'labelLineHeight', t, u);
};
Ta.getLabelText = function (e, t) {
  var n = e._private,
    i = t ? t + '-' : '',
    r = e.pstyle(i + 'label').strValue,
    a = e.pstyle('text-transform').value,
    o = function (dt, yt) {
      return yt ? (Lo(n.rscratch, dt, t, yt), yt) : ra(n.rscratch, dt, t);
    };
  if (!r) return '';
  a == 'none' ||
    (a == 'uppercase'
      ? (r = r.toUpperCase())
      : a == 'lowercase' && (r = r.toLowerCase()));
  var s = e.pstyle('text-wrap').value;
  if (s === 'wrap') {
    var l = o('labelKey');
    if (l != null && o('labelWrapKey') === l) return o('labelWrapCachedText');
    for (
      var c = '\u200B',
        u = r.split(`
`),
        d = e.pstyle('text-max-width').pfValue,
        h = e.pstyle('text-overflow-wrap').value,
        p = h === 'anywhere',
        m = [],
        _ = /[\s\u200b]+|$/g,
        v = 0;
      v < u.length;
      v++
    ) {
      var y = u[v],
        w = this.calculateLabelDimensions(e, y),
        x = w.width;
      if (p) {
        var C = y.split('').join(c);
        y = C;
      }
      if (x > d) {
        var S = y.matchAll(_),
          g = '',
          D = 0,
          T = US(S),
          O;
        try {
          for (T.s(); !(O = T.n()).done; ) {
            var R = O.value,
              P = R[0],
              L = y.substring(D, R.index);
            D = R.index + P.length;
            var V = g.length === 0 ? L : g + L + P,
              B = this.calculateLabelDimensions(e, V),
              q = B.width;
            q <= d ? (g += L + P) : (g && m.push(g), (g = L + P));
          }
        } catch (J) {
          T.e(J);
        } finally {
          T.f();
        }
        g.match(/^[\s\u200b]+$/) || m.push(g);
      } else m.push(y);
    }
    o('labelWrapCachedLines', m),
      (r = o(
        'labelWrapCachedText',
        m.join(`
`)
      )),
      o('labelWrapKey', l);
  } else if (s === 'ellipsis') {
    var U = e.pstyle('text-max-width').pfValue,
      W = '',
      Z = '\u2026',
      it = !1;
    if (this.calculateLabelDimensions(e, r).width < U) return r;
    for (var rt = 0; rt < r.length; rt++) {
      var nt = this.calculateLabelDimensions(e, W + r[rt] + Z).width;
      if (nt > U) break;
      (W += r[rt]), rt === r.length - 1 && (it = !0);
    }
    return it || (W += Z), W;
  }
  return r;
};
Ta.getLabelJustification = function (e) {
  var t = e.pstyle('text-justification').strValue,
    n = e.pstyle('text-halign').strValue;
  if (t === 'auto')
    if (e.isNode())
      switch (n) {
        case 'left':
          return 'right';
        case 'right':
          return 'left';
        default:
          return 'center';
      }
    else return 'center';
  else return t;
};
Ta.calculateLabelDimensions = function (e, t) {
  var n = this,
    i = n.cy.window(),
    r = i.document,
    a = Zs(t, e._private.labelDimsKey),
    o = n.labelDimCache || (n.labelDimCache = []),
    s = o[a];
  if (s != null) return s;
  var l = 0,
    c = e.pstyle('font-style').strValue,
    u = e.pstyle('font-size').pfValue,
    d = e.pstyle('font-family').strValue,
    h = e.pstyle('font-weight').strValue,
    p = this.labelCalcCanvas,
    m = this.labelCalcCanvasContext;
  if (!p) {
    (p = this.labelCalcCanvas = r.createElement('canvas')),
      (m = this.labelCalcCanvasContext = p.getContext('2d'));
    var _ = p.style;
    (_.position = 'absolute'),
      (_.left = '-9999px'),
      (_.top = '-9999px'),
      (_.zIndex = '-1'),
      (_.visibility = 'hidden'),
      (_.pointerEvents = 'none');
  }
  m.font = ''.concat(c, ' ').concat(h, ' ').concat(u, 'px ').concat(d);
  for (
    var v = 0,
      y = 0,
      w = t.split(`
`),
      x = 0;
    x < w.length;
    x++
  ) {
    var C = w[x],
      S = m.measureText(C),
      g = Math.ceil(S.width),
      D = u;
    (v = Math.max(g, v)), (y += D);
  }
  return (v += l), (y += l), (o[a] = { width: v, height: y });
};
Ta.calculateLabelAngle = function (e, t) {
  var n = e._private,
    i = n.rscratch,
    r = e.isEdge(),
    a = t ? t + '-' : '',
    o = e.pstyle(a + 'text-rotation'),
    s = o.strValue;
  return s === 'none'
    ? 0
    : r && s === 'autorotate'
      ? i.labelAutoAngle
      : s === 'autorotate'
        ? 0
        : o.pfValue;
};
Ta.calculateLabelAngles = function (e) {
  var t = this,
    n = e.isEdge(),
    i = e._private,
    r = i.rscratch;
  (r.labelAngle = t.calculateLabelAngle(e)),
    n &&
      ((r.sourceLabelAngle = t.calculateLabelAngle(e, 'source')),
      (r.targetLabelAngle = t.calculateLabelAngle(e, 'target')));
};
var lT = {},
  AS = 28,
  IS = !1;
lT.getNodeShape = function (e) {
  var t = this,
    n = e.pstyle('shape').value;
  if (n === 'cutrectangle' && (e.width() < AS || e.height() < AS))
    return (
      IS ||
        (li(
          'The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead'
        ),
        (IS = !0)),
      'rectangle'
    );
  if (e.isParent())
    return n === 'rectangle' ||
      n === 'roundrectangle' ||
      n === 'round-rectangle' ||
      n === 'cutrectangle' ||
      n === 'cut-rectangle' ||
      n === 'barrel'
      ? n
      : 'rectangle';
  if (n === 'polygon') {
    var i = e.pstyle('shape-polygon-points').value;
    return t.nodeShapes.makePolygon(i).name;
  }
  return n;
};
var _m = {};
_m.registerCalculationListeners = function () {
  var e = this.cy,
    t = e.collection(),
    n = this,
    i = function (o) {
      var s =
        arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
      if ((t.merge(o), s))
        for (var l = 0; l < o.length; l++) {
          var c = o[l],
            u = c._private,
            d = u.rstyle;
          (d.clean = !1), (d.cleanConnected = !1);
        }
    };
  n.binder(e)
    .on('bounds.* dirty.*', function (o) {
      var s = o.target;
      i(s);
    })
    .on('style.* background.*', function (o) {
      var s = o.target;
      i(s, !1);
    });
  var r = function (o) {
    if (o) {
      var s = n.onUpdateEleCalcsFns;
      t.cleanStyle();
      for (var l = 0; l < t.length; l++) {
        var c = t[l],
          u = c._private.rstyle;
        c.isNode() &&
          !u.cleanConnected &&
          (i(c.connectedEdges()), (u.cleanConnected = !0));
      }
      if (s)
        for (var d = 0; d < s.length; d++) {
          var h = s[d];
          h(o, t);
        }
      n.recalculateRenderedStyle(t), (t = e.collection());
    }
  };
  (n.flushRenderedStyleQueue = function () {
    r(!0);
  }),
    n.beforeRender(r, n.beforeRenderPriorities.eleCalcs);
};
_m.onUpdateEleCalcs = function (e) {
  var t = (this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || []);
  t.push(e);
};
_m.recalculateRenderedStyle = function (e, t) {
  var n = function (C) {
      return C._private.rstyle.cleanConnected;
    },
    i = [],
    r = [];
  if (!this.destroyed) {
    t === void 0 && (t = !0);
    for (var a = 0; a < e.length; a++) {
      var o = e[a],
        s = o._private,
        l = s.rstyle;
      o.isEdge() && (!n(o.source()) || !n(o.target())) && (l.clean = !1),
        !((t && l.clean) || o.removed()) &&
          o.pstyle('display').value !== 'none' &&
          (s.group === 'nodes' ? r.push(o) : i.push(o), (l.clean = !0));
    }
    for (var c = 0; c < r.length; c++) {
      var u = r[c],
        d = u._private,
        h = d.rstyle,
        p = u.position();
      this.recalculateNodeLabelProjection(u),
        (h.nodeX = p.x),
        (h.nodeY = p.y),
        (h.nodeW = u.pstyle('width').pfValue),
        (h.nodeH = u.pstyle('height').pfValue);
    }
    this.recalculateEdgeProjections(i);
    for (var m = 0; m < i.length; m++) {
      var _ = i[m],
        v = _._private,
        y = v.rstyle,
        w = v.rscratch;
      (y.srcX = w.arrowStartX),
        (y.srcY = w.arrowStartY),
        (y.tgtX = w.arrowEndX),
        (y.tgtY = w.arrowEndY),
        (y.midX = w.midX),
        (y.midY = w.midY),
        (y.labelAngle = w.labelAngle),
        (y.sourceLabelAngle = w.sourceLabelAngle),
        (y.targetLabelAngle = w.targetLabelAngle);
    }
  }
};
var xm = {};
xm.updateCachedGrabbedEles = function () {
  var e = this.cachedZSortedEles;
  if (e) {
    (e.drag = []), (e.nondrag = []);
    for (var t = [], n = 0; n < e.length; n++) {
      var i = e[n],
        r = i._private.rscratch;
      i.grabbed() && !i.isParent()
        ? t.push(i)
        : r.inDragLayer
          ? e.drag.push(i)
          : e.nondrag.push(i);
    }
    for (var n = 0; n < t.length; n++) {
      var i = t[n];
      e.drag.push(i);
    }
  }
};
xm.invalidateCachedZSortedEles = function () {
  this.cachedZSortedEles = null;
};
xm.getCachedZSortedEles = function (e) {
  if (e || !this.cachedZSortedEles) {
    var t = this.cy.mutableElements().toArray();
    t.sort(WD),
      (t.interactive = t.filter(function (n) {
        return n.interactive();
      })),
      (this.cachedZSortedEles = t),
      this.updateCachedGrabbedEles();
  } else t = this.cachedZSortedEles;
  return t;
};
var cT = {};
[nl, im, Hn, $d, w0, Ta, lT, _m, xm].forEach(function (e) {
  be(cT, e);
});
var uT = {};
uT.getCachedImage = function (e, t, n) {
  var i = this,
    r = (i.imageCache = i.imageCache || {}),
    a = r[e];
  if (a)
    return a.image.complete || a.image.addEventListener('load', n), a.image;
  a = r[e] = r[e] || {};
  var o = (a.image = new Image());
  o.addEventListener('load', n),
    o.addEventListener('error', function () {
      o.error = !0;
    });
  var s = 'data:',
    l = e.substring(0, s.length).toLowerCase() === s;
  return (
    l || ((t = t === 'null' ? null : t), (o.crossOrigin = t)), (o.src = e), o
  );
};
var wc = {};
wc.registerBinding = function (e, t, n, i) {
  var r = Array.prototype.slice.apply(arguments, [1]),
    a = this.binder(e);
  return a.on.apply(a, r);
};
wc.binder = function (e) {
  var t = this,
    n = t.cy.window(),
    i = e === n || e === n.document || e === n.document.body || uB(e);
  if (t.supportsPassiveEvents == null) {
    var r = !1;
    try {
      var a = Object.defineProperty({}, 'passive', {
        get: function () {
          return (r = !0), !0;
        },
      });
      n.addEventListener('test', null, a);
    } catch {}
    t.supportsPassiveEvents = r;
  }
  var o = function (l, c, u) {
    var d = Array.prototype.slice.call(arguments);
    return (
      i &&
        t.supportsPassiveEvents &&
        (d[2] = { capture: u ?? !1, passive: !1, once: !1 }),
      t.bindings.push({ target: e, args: d }),
      (e.addEventListener || e.on).apply(e, d),
      this
    );
  };
  return { on: o, addEventListener: o, addListener: o, bind: o };
};
wc.nodeIsDraggable = function (e) {
  return e && e.isNode() && !e.locked() && e.grabbable();
};
wc.nodeIsGrabbable = function (e) {
  return this.nodeIsDraggable(e) && e.interactive();
};
wc.load = function () {
  var e = this,
    t = e.cy.window(),
    n = function (z) {
      return z.selected();
    },
    i = function (z, ct, Ct, gt) {
      z == null && (z = e.cy);
      for (var vt = 0; vt < ct.length; vt++) {
        var Ft = ct[vt];
        z.emit({ originalEvent: Ct, type: Ft, position: gt });
      }
    },
    r = function (z) {
      return z.shiftKey || z.metaKey || z.ctrlKey;
    },
    a = function (z, ct) {
      var Ct = !0;
      if (e.cy.hasCompoundNodes() && z && z.pannable())
        for (var gt = 0; ct && gt < ct.length; gt++) {
          var z = ct[gt];
          if (z.isNode() && z.isParent() && !z.pannable()) {
            Ct = !1;
            break;
          }
        }
      else Ct = !0;
      return Ct;
    },
    o = function (z) {
      z[0]._private.grabbed = !0;
    },
    s = function (z) {
      z[0]._private.grabbed = !1;
    },
    l = function (z) {
      z[0]._private.rscratch.inDragLayer = !0;
    },
    c = function (z) {
      z[0]._private.rscratch.inDragLayer = !1;
    },
    u = function (z) {
      z[0]._private.rscratch.isGrabTarget = !0;
    },
    d = function (z) {
      z[0]._private.rscratch.isGrabTarget = !1;
    },
    h = function (z, ct) {
      var Ct = ct.addToList,
        gt = Ct.has(z);
      !gt && z.grabbable() && !z.locked() && (Ct.merge(z), o(z));
    },
    p = function (z, ct) {
      if (
        z.cy().hasCompoundNodes() &&
        !(ct.inDragLayer == null && ct.addToList == null)
      ) {
        var Ct = z.descendants();
        ct.inDragLayer && (Ct.forEach(l), Ct.connectedEdges().forEach(l)),
          ct.addToList && h(Ct, ct);
      }
    },
    m = function (z, ct) {
      ct = ct || {};
      var Ct = z.cy().hasCompoundNodes();
      ct.inDragLayer &&
        (z.forEach(l),
        z
          .neighborhood()
          .stdFilter(function (gt) {
            return !Ct || gt.isEdge();
          })
          .forEach(l)),
        ct.addToList &&
          z.forEach(function (gt) {
            h(gt, ct);
          }),
        p(z, ct),
        y(z, { inDragLayer: ct.inDragLayer }),
        e.updateCachedGrabbedEles();
    },
    _ = m,
    v = function (z) {
      z &&
        (e.getCachedZSortedEles().forEach(function (ct) {
          s(ct), c(ct), d(ct);
        }),
        e.updateCachedGrabbedEles());
    },
    y = function (z, ct) {
      if (
        !(ct.inDragLayer == null && ct.addToList == null) &&
        z.cy().hasCompoundNodes()
      ) {
        var Ct = z.ancestors().orphans();
        if (!Ct.same(z)) {
          var gt = Ct.descendants()
              .spawnSelf()
              .merge(Ct)
              .unmerge(z)
              .unmerge(z.descendants()),
            vt = gt.connectedEdges();
          ct.inDragLayer && (vt.forEach(l), gt.forEach(l)),
            ct.addToList &&
              gt.forEach(function (Ft) {
                h(Ft, ct);
              });
        }
      }
    },
    w = function () {
      document.activeElement != null &&
        document.activeElement.blur != null &&
        document.activeElement.blur();
    },
    x = typeof MutationObserver < 'u',
    C = typeof ResizeObserver < 'u';
  x
    ? ((e.removeObserver = new MutationObserver(function (st) {
        for (var z = 0; z < st.length; z++) {
          var ct = st[z],
            Ct = ct.removedNodes;
          if (Ct)
            for (var gt = 0; gt < Ct.length; gt++) {
              var vt = Ct[gt];
              if (vt === e.container) {
                e.destroy();
                break;
              }
            }
        }
      })),
      e.container.parentNode &&
        e.removeObserver.observe(e.container.parentNode, { childList: !0 }))
    : e.registerBinding(e.container, 'DOMNodeRemoved', function (st) {
        e.destroy();
      });
  var S = om(function () {
    e.cy.resize();
  }, 100);
  x &&
    ((e.styleObserver = new MutationObserver(S)),
    e.styleObserver.observe(e.container, { attributes: !0 })),
    e.registerBinding(t, 'resize', S),
    C &&
      ((e.resizeObserver = new ResizeObserver(S)),
      e.resizeObserver.observe(e.container));
  var g = function (z, ct) {
      for (; z != null; ) ct(z), (z = z.parentNode);
    },
    D = function () {
      e.invalidateContainerClientCoordsCache();
    };
  g(e.container, function (st) {
    e.registerBinding(st, 'transitionend', D),
      e.registerBinding(st, 'animationend', D),
      e.registerBinding(st, 'scroll', D);
  }),
    e.registerBinding(e.container, 'contextmenu', function (st) {
      st.preventDefault();
    });
  var T = function () {
      return e.selection[4] !== 0;
    },
    O = function (z) {
      for (
        var ct = e.findContainerClientCoords(),
          Ct = ct[0],
          gt = ct[1],
          vt = ct[2],
          Ft = ct[3],
          mt = z.touches ? z.touches : [z],
          Pt = !1,
          te = 0;
        te < mt.length;
        te++
      ) {
        var ne = mt[te];
        if (
          Ct <= ne.clientX &&
          ne.clientX <= Ct + vt &&
          gt <= ne.clientY &&
          ne.clientY <= gt + Ft
        ) {
          Pt = !0;
          break;
        }
      }
      if (!Pt) return !1;
      for (
        var ie = e.container, pe = z.target, Kt = pe.parentNode, ae = !1;
        Kt;

      ) {
        if (Kt === ie) {
          ae = !0;
          break;
        }
        Kt = Kt.parentNode;
      }
      return !!ae;
    };
  e.registerBinding(
    e.container,
    'mousedown',
    function (z) {
      if (O(z) && !(e.hoverData.which === 1 && z.which !== 1)) {
        z.preventDefault(),
          w(),
          (e.hoverData.capture = !0),
          (e.hoverData.which = z.which);
        var ct = e.cy,
          Ct = [z.clientX, z.clientY],
          gt = e.projectIntoViewport(Ct[0], Ct[1]),
          vt = e.selection,
          Ft = e.findNearestElements(gt[0], gt[1], !0, !1),
          mt = Ft[0],
          Pt = e.dragData.possibleDragElements;
        (e.hoverData.mdownPos = gt), (e.hoverData.mdownGPos = Ct);
        var te = function () {
          (e.hoverData.tapholdCancelled = !1),
            clearTimeout(e.hoverData.tapholdTimeout),
            (e.hoverData.tapholdTimeout = setTimeout(function () {
              if (!e.hoverData.tapholdCancelled) {
                var ei = e.hoverData.down;
                ei
                  ? ei.emit({
                      originalEvent: z,
                      type: 'taphold',
                      position: { x: gt[0], y: gt[1] },
                    })
                  : ct.emit({
                      originalEvent: z,
                      type: 'taphold',
                      position: { x: gt[0], y: gt[1] },
                    });
              }
            }, e.tapholdDuration));
        };
        if (z.which == 3) {
          e.hoverData.cxtStarted = !0;
          var ne = {
            originalEvent: z,
            type: 'cxttapstart',
            position: { x: gt[0], y: gt[1] },
          };
          mt
            ? (mt.activate(), mt.emit(ne), (e.hoverData.down = mt))
            : ct.emit(ne),
            (e.hoverData.downTime = new Date().getTime()),
            (e.hoverData.cxtDragged = !1);
        } else if (z.which == 1) {
          mt && mt.activate();
          {
            if (mt != null && e.nodeIsGrabbable(mt)) {
              var ie = function (ei) {
                  return {
                    originalEvent: z,
                    type: ei,
                    position: { x: gt[0], y: gt[1] },
                  };
                },
                pe = function (ei) {
                  ei.emit(ie('grab'));
                };
              if ((u(mt), !mt.selected()))
                (Pt = e.dragData.possibleDragElements = ct.collection()),
                  _(mt, { addToList: Pt }),
                  mt.emit(ie('grabon')).emit(ie('grab'));
              else {
                Pt = e.dragData.possibleDragElements = ct.collection();
                var Kt = ct.$(function (ae) {
                  return ae.isNode() && ae.selected() && e.nodeIsGrabbable(ae);
                });
                m(Kt, { addToList: Pt }), mt.emit(ie('grabon')), Kt.forEach(pe);
              }
              e.redrawHint('eles', !0), e.redrawHint('drag', !0);
            }
            (e.hoverData.down = mt),
              (e.hoverData.downs = Ft),
              (e.hoverData.downTime = new Date().getTime());
          }
          i(mt, ['mousedown', 'tapstart', 'vmousedown'], z, {
            x: gt[0],
            y: gt[1],
          }),
            mt == null
              ? ((vt[4] = 1),
                (e.data.bgActivePosistion = { x: gt[0], y: gt[1] }),
                e.redrawHint('select', !0),
                e.redraw())
              : mt.pannable() && (vt[4] = 1),
            te();
        }
        (vt[0] = vt[2] = gt[0]), (vt[1] = vt[3] = gt[1]);
      }
    },
    !1
  ),
    e.registerBinding(
      t,
      'mousemove',
      function (z) {
        var ct = e.hoverData.capture;
        if (!(!ct && !O(z))) {
          var Ct = !1,
            gt = e.cy,
            vt = gt.zoom(),
            Ft = [z.clientX, z.clientY],
            mt = e.projectIntoViewport(Ft[0], Ft[1]),
            Pt = e.hoverData.mdownPos,
            te = e.hoverData.mdownGPos,
            ne = e.selection,
            ie = null;
          !e.hoverData.draggingEles &&
            !e.hoverData.dragging &&
            !e.hoverData.selecting &&
            (ie = e.findNearestElement(mt[0], mt[1], !0, !1));
          var pe = e.hoverData.last,
            Kt = e.hoverData.down,
            ae = [mt[0] - ne[2], mt[1] - ne[3]],
            ei = e.dragData.possibleDragElements,
            Ce;
          if (te) {
            var Di = Ft[0] - te[0],
              ui = Di * Di,
              Ti = Ft[1] - te[1],
              ii = Ti * Ti,
              Ue = ui + ii;
            e.hoverData.isOverThresholdDrag = Ce = Ue >= e.desktopTapThreshold2;
          }
          var Hi = r(z);
          Ce && (e.hoverData.tapholdCancelled = !0);
          var M = function () {
            var Rt = (e.hoverData.dragDelta = e.hoverData.dragDelta || []);
            Rt.length === 0
              ? (Rt.push(ae[0]), Rt.push(ae[1]))
              : ((Rt[0] += ae[0]), (Rt[1] += ae[1]));
          };
          (Ct = !0),
            i(ie, ['mousemove', 'vmousemove', 'tapdrag'], z, {
              x: mt[0],
              y: mt[1],
            });
          var N = function () {
            (e.data.bgActivePosistion = void 0),
              e.hoverData.selecting ||
                gt.emit({
                  originalEvent: z,
                  type: 'boxstart',
                  position: { x: mt[0], y: mt[1] },
                }),
              (ne[4] = 1),
              (e.hoverData.selecting = !0),
              e.redrawHint('select', !0),
              e.redraw();
          };
          if (e.hoverData.which === 3) {
            if (Ce) {
              var j = {
                originalEvent: z,
                type: 'cxtdrag',
                position: { x: mt[0], y: mt[1] },
              };
              Kt ? Kt.emit(j) : gt.emit(j),
                (e.hoverData.cxtDragged = !0),
                (!e.hoverData.cxtOver || ie !== e.hoverData.cxtOver) &&
                  (e.hoverData.cxtOver &&
                    e.hoverData.cxtOver.emit({
                      originalEvent: z,
                      type: 'cxtdragout',
                      position: { x: mt[0], y: mt[1] },
                    }),
                  (e.hoverData.cxtOver = ie),
                  ie &&
                    ie.emit({
                      originalEvent: z,
                      type: 'cxtdragover',
                      position: { x: mt[0], y: mt[1] },
                    }));
            }
          } else if (e.hoverData.dragging) {
            if (((Ct = !0), gt.panningEnabled() && gt.userPanningEnabled())) {
              var Y;
              if (e.hoverData.justStartedPan) {
                var $ = e.hoverData.mdownPos;
                (Y = { x: (mt[0] - $[0]) * vt, y: (mt[1] - $[1]) * vt }),
                  (e.hoverData.justStartedPan = !1);
              } else Y = { x: ae[0] * vt, y: ae[1] * vt };
              gt.panBy(Y), gt.emit('dragpan'), (e.hoverData.dragged = !0);
            }
            mt = e.projectIntoViewport(z.clientX, z.clientY);
          } else if (ne[4] == 1 && (Kt == null || Kt.pannable())) {
            if (Ce) {
              if (
                !e.hoverData.dragging &&
                gt.boxSelectionEnabled() &&
                (Hi || !gt.panningEnabled() || !gt.userPanningEnabled())
              )
                N();
              else if (
                !e.hoverData.selecting &&
                gt.panningEnabled() &&
                gt.userPanningEnabled()
              ) {
                var tt = a(Kt, e.hoverData.downs);
                tt &&
                  ((e.hoverData.dragging = !0),
                  (e.hoverData.justStartedPan = !0),
                  (ne[4] = 0),
                  (e.data.bgActivePosistion = ac(Pt)),
                  e.redrawHint('select', !0),
                  e.redraw());
              }
              Kt && Kt.pannable() && Kt.active() && Kt.unactivate();
            }
          } else {
            if (
              (Kt && Kt.pannable() && Kt.active() && Kt.unactivate(),
              (!Kt || !Kt.grabbed()) &&
                ie != pe &&
                (pe &&
                  i(pe, ['mouseout', 'tapdragout'], z, { x: mt[0], y: mt[1] }),
                ie &&
                  i(ie, ['mouseover', 'tapdragover'], z, {
                    x: mt[0],
                    y: mt[1],
                  }),
                (e.hoverData.last = ie)),
              Kt)
            )
              if (Ce) {
                if (gt.boxSelectionEnabled() && Hi)
                  Kt &&
                    Kt.grabbed() &&
                    (v(ei),
                    Kt.emit('freeon'),
                    ei.emit('free'),
                    e.dragData.didDrag &&
                      (Kt.emit('dragfreeon'), ei.emit('dragfree'))),
                    N();
                else if (Kt && Kt.grabbed() && e.nodeIsDraggable(Kt)) {
                  var at = !e.dragData.didDrag;
                  at && e.redrawHint('eles', !0),
                    (e.dragData.didDrag = !0),
                    e.hoverData.draggingEles || m(ei, { inDragLayer: !0 });
                  var ft = { x: 0, y: 0 };
                  if (
                    $t(ae[0]) &&
                    $t(ae[1]) &&
                    ((ft.x += ae[0]), (ft.y += ae[1]), at)
                  ) {
                    var kt = e.hoverData.dragDelta;
                    kt &&
                      $t(kt[0]) &&
                      $t(kt[1]) &&
                      ((ft.x += kt[0]), (ft.y += kt[1]));
                  }
                  (e.hoverData.draggingEles = !0),
                    ei.silentShift(ft).emit('position drag'),
                    e.redrawHint('drag', !0),
                    e.redraw();
                }
              } else M();
            Ct = !0;
          }
          if (((ne[2] = mt[0]), (ne[3] = mt[1]), Ct))
            return (
              z.stopPropagation && z.stopPropagation(),
              z.preventDefault && z.preventDefault(),
              !1
            );
        }
      },
      !1
    );
  var R, P, L;
  e.registerBinding(
    t,
    'mouseup',
    function (z) {
      if (!(e.hoverData.which === 1 && z.which !== 1 && e.hoverData.capture)) {
        var ct = e.hoverData.capture;
        if (ct) {
          e.hoverData.capture = !1;
          var Ct = e.cy,
            gt = e.projectIntoViewport(z.clientX, z.clientY),
            vt = e.selection,
            Ft = e.findNearestElement(gt[0], gt[1], !0, !1),
            mt = e.dragData.possibleDragElements,
            Pt = e.hoverData.down,
            te = r(z);
          if (
            (e.data.bgActivePosistion &&
              (e.redrawHint('select', !0), e.redraw()),
            (e.hoverData.tapholdCancelled = !0),
            (e.data.bgActivePosistion = void 0),
            Pt && Pt.unactivate(),
            e.hoverData.which === 3)
          ) {
            var ne = {
              originalEvent: z,
              type: 'cxttapend',
              position: { x: gt[0], y: gt[1] },
            };
            if ((Pt ? Pt.emit(ne) : Ct.emit(ne), !e.hoverData.cxtDragged)) {
              var ie = {
                originalEvent: z,
                type: 'cxttap',
                position: { x: gt[0], y: gt[1] },
              };
              Pt ? Pt.emit(ie) : Ct.emit(ie);
            }
            (e.hoverData.cxtDragged = !1), (e.hoverData.which = null);
          } else if (e.hoverData.which === 1) {
            if (
              (i(Ft, ['mouseup', 'tapend', 'vmouseup'], z, {
                x: gt[0],
                y: gt[1],
              }),
              !e.dragData.didDrag &&
                !e.hoverData.dragged &&
                !e.hoverData.selecting &&
                !e.hoverData.isOverThresholdDrag &&
                (i(Pt, ['click', 'tap', 'vclick'], z, { x: gt[0], y: gt[1] }),
                (P = !1),
                z.timeStamp - L <= Ct.multiClickDebounceTime()
                  ? (R && clearTimeout(R),
                    (P = !0),
                    (L = null),
                    i(Pt, ['dblclick', 'dbltap', 'vdblclick'], z, {
                      x: gt[0],
                      y: gt[1],
                    }))
                  : ((R = setTimeout(function () {
                      P ||
                        i(Pt, ['oneclick', 'onetap', 'voneclick'], z, {
                          x: gt[0],
                          y: gt[1],
                        });
                    }, Ct.multiClickDebounceTime())),
                    (L = z.timeStamp))),
              Pt == null &&
                !e.dragData.didDrag &&
                !e.hoverData.selecting &&
                !e.hoverData.dragged &&
                !r(z) &&
                (Ct.$(n).unselect(['tapunselect']),
                mt.length > 0 && e.redrawHint('eles', !0),
                (e.dragData.possibleDragElements = mt = Ct.collection())),
              Ft == Pt &&
                !e.dragData.didDrag &&
                !e.hoverData.selecting &&
                Ft != null &&
                Ft._private.selectable &&
                (e.hoverData.dragging ||
                  (Ct.selectionType() === 'additive' || te
                    ? Ft.selected()
                      ? Ft.unselect(['tapunselect'])
                      : Ft.select(['tapselect'])
                    : te ||
                      (Ct.$(n).unmerge(Ft).unselect(['tapunselect']),
                      Ft.select(['tapselect']))),
                e.redrawHint('eles', !0)),
              e.hoverData.selecting)
            ) {
              var pe = Ct.collection(e.getAllInBox(vt[0], vt[1], vt[2], vt[3]));
              e.redrawHint('select', !0),
                pe.length > 0 && e.redrawHint('eles', !0),
                Ct.emit({
                  type: 'boxend',
                  originalEvent: z,
                  position: { x: gt[0], y: gt[1] },
                });
              var Kt = function (Ce) {
                return Ce.selectable() && !Ce.selected();
              };
              Ct.selectionType() === 'additive' ||
                te ||
                Ct.$(n).unmerge(pe).unselect(),
                pe.emit('box').stdFilter(Kt).select().emit('boxselect'),
                e.redraw();
            }
            if (
              (e.hoverData.dragging &&
                ((e.hoverData.dragging = !1),
                e.redrawHint('select', !0),
                e.redrawHint('eles', !0),
                e.redraw()),
              !vt[4])
            ) {
              e.redrawHint('drag', !0), e.redrawHint('eles', !0);
              var ae = Pt && Pt.grabbed();
              v(mt),
                ae &&
                  (Pt.emit('freeon'),
                  mt.emit('free'),
                  e.dragData.didDrag &&
                    (Pt.emit('dragfreeon'), mt.emit('dragfree')));
            }
          }
          (vt[4] = 0),
            (e.hoverData.down = null),
            (e.hoverData.cxtStarted = !1),
            (e.hoverData.draggingEles = !1),
            (e.hoverData.selecting = !1),
            (e.hoverData.isOverThresholdDrag = !1),
            (e.dragData.didDrag = !1),
            (e.hoverData.dragged = !1),
            (e.hoverData.dragDelta = []),
            (e.hoverData.mdownPos = null),
            (e.hoverData.mdownGPos = null),
            (e.hoverData.which = null);
        }
      }
    },
    !1
  );
  var V = function (z) {
    if (!e.scrollingPage) {
      var ct = e.cy,
        Ct = ct.zoom(),
        gt = ct.pan(),
        vt = e.projectIntoViewport(z.clientX, z.clientY),
        Ft = [vt[0] * Ct + gt.x, vt[1] * Ct + gt.y];
      if (
        e.hoverData.draggingEles ||
        e.hoverData.dragging ||
        e.hoverData.cxtStarted ||
        T()
      ) {
        z.preventDefault();
        return;
      }
      if (
        ct.panningEnabled() &&
        ct.userPanningEnabled() &&
        ct.zoomingEnabled() &&
        ct.userZoomingEnabled()
      ) {
        z.preventDefault(),
          (e.data.wheelZooming = !0),
          clearTimeout(e.data.wheelTimeout),
          (e.data.wheelTimeout = setTimeout(function () {
            (e.data.wheelZooming = !1), e.redrawHint('eles', !0), e.redraw();
          }, 150));
        var mt;
        z.deltaY != null
          ? (mt = z.deltaY / -250)
          : z.wheelDeltaY != null
            ? (mt = z.wheelDeltaY / 1e3)
            : (mt = z.wheelDelta / 1e3),
          (mt = mt * e.wheelSensitivity);
        var Pt = z.deltaMode === 1;
        Pt && (mt *= 33);
        var te = ct.zoom() * Math.pow(10, mt);
        z.type === 'gesturechange' && (te = e.gestureStartZoom * z.scale),
          ct.zoom({ level: te, renderedPosition: { x: Ft[0], y: Ft[1] } }),
          ct.emit(z.type === 'gesturechange' ? 'pinchzoom' : 'scrollzoom');
      }
    }
  };
  e.registerBinding(e.container, 'wheel', V, !0),
    e.registerBinding(
      t,
      'scroll',
      function (z) {
        (e.scrollingPage = !0),
          clearTimeout(e.scrollingPageTimeout),
          (e.scrollingPageTimeout = setTimeout(function () {
            e.scrollingPage = !1;
          }, 250));
      },
      !0
    ),
    e.registerBinding(
      e.container,
      'gesturestart',
      function (z) {
        (e.gestureStartZoom = e.cy.zoom()),
          e.hasTouchStarted || z.preventDefault();
      },
      !0
    ),
    e.registerBinding(
      e.container,
      'gesturechange',
      function (st) {
        e.hasTouchStarted || V(st);
      },
      !0
    ),
    e.registerBinding(
      e.container,
      'mouseout',
      function (z) {
        var ct = e.projectIntoViewport(z.clientX, z.clientY);
        e.cy.emit({
          originalEvent: z,
          type: 'mouseout',
          position: { x: ct[0], y: ct[1] },
        });
      },
      !1
    ),
    e.registerBinding(
      e.container,
      'mouseover',
      function (z) {
        var ct = e.projectIntoViewport(z.clientX, z.clientY);
        e.cy.emit({
          originalEvent: z,
          type: 'mouseover',
          position: { x: ct[0], y: ct[1] },
        });
      },
      !1
    );
  var B,
    q,
    U,
    W,
    Z,
    it,
    rt,
    nt,
    J,
    dt,
    yt,
    wt,
    bt,
    At = function (z, ct, Ct, gt) {
      return Math.sqrt((Ct - z) * (Ct - z) + (gt - ct) * (gt - ct));
    },
    _t = function (z, ct, Ct, gt) {
      return (Ct - z) * (Ct - z) + (gt - ct) * (gt - ct);
    },
    K;
  e.registerBinding(
    e.container,
    'touchstart',
    (K = function (z) {
      if (((e.hasTouchStarted = !0), !!O(z))) {
        w(), (e.touchData.capture = !0), (e.data.bgActivePosistion = void 0);
        var ct = e.cy,
          Ct = e.touchData.now,
          gt = e.touchData.earlier;
        if (z.touches[0]) {
          var vt = e.projectIntoViewport(
            z.touches[0].clientX,
            z.touches[0].clientY
          );
          (Ct[0] = vt[0]), (Ct[1] = vt[1]);
        }
        if (z.touches[1]) {
          var vt = e.projectIntoViewport(
            z.touches[1].clientX,
            z.touches[1].clientY
          );
          (Ct[2] = vt[0]), (Ct[3] = vt[1]);
        }
        if (z.touches[2]) {
          var vt = e.projectIntoViewport(
            z.touches[2].clientX,
            z.touches[2].clientY
          );
          (Ct[4] = vt[0]), (Ct[5] = vt[1]);
        }
        if (z.touches[1]) {
          (e.touchData.singleTouchMoved = !0), v(e.dragData.touchDragEles);
          var Ft = e.findContainerClientCoords();
          (J = Ft[0]),
            (dt = Ft[1]),
            (yt = Ft[2]),
            (wt = Ft[3]),
            (B = z.touches[0].clientX - J),
            (q = z.touches[0].clientY - dt),
            (U = z.touches[1].clientX - J),
            (W = z.touches[1].clientY - dt),
            (bt =
              0 <= B &&
              B <= yt &&
              0 <= U &&
              U <= yt &&
              0 <= q &&
              q <= wt &&
              0 <= W &&
              W <= wt);
          var mt = ct.pan(),
            Pt = ct.zoom();
          (Z = At(B, q, U, W)),
            (it = _t(B, q, U, W)),
            (rt = [(B + U) / 2, (q + W) / 2]),
            (nt = [(rt[0] - mt.x) / Pt, (rt[1] - mt.y) / Pt]);
          var te = 200,
            ne = te * te;
          if (it < ne && !z.touches[2]) {
            var ie = e.findNearestElement(Ct[0], Ct[1], !0, !0),
              pe = e.findNearestElement(Ct[2], Ct[3], !0, !0);
            ie && ie.isNode()
              ? (ie
                  .activate()
                  .emit({
                    originalEvent: z,
                    type: 'cxttapstart',
                    position: { x: Ct[0], y: Ct[1] },
                  }),
                (e.touchData.start = ie))
              : pe && pe.isNode()
                ? (pe
                    .activate()
                    .emit({
                      originalEvent: z,
                      type: 'cxttapstart',
                      position: { x: Ct[0], y: Ct[1] },
                    }),
                  (e.touchData.start = pe))
                : ct.emit({
                    originalEvent: z,
                    type: 'cxttapstart',
                    position: { x: Ct[0], y: Ct[1] },
                  }),
              e.touchData.start && (e.touchData.start._private.grabbed = !1),
              (e.touchData.cxt = !0),
              (e.touchData.cxtDragged = !1),
              (e.data.bgActivePosistion = void 0),
              e.redraw();
            return;
          }
        }
        if (z.touches[2]) ct.boxSelectionEnabled() && z.preventDefault();
        else if (!z.touches[1]) {
          if (z.touches[0]) {
            var Kt = e.findNearestElements(Ct[0], Ct[1], !0, !0),
              ae = Kt[0];
            if (
              ae != null &&
              (ae.activate(),
              (e.touchData.start = ae),
              (e.touchData.starts = Kt),
              e.nodeIsGrabbable(ae))
            ) {
              var ei = (e.dragData.touchDragEles = ct.collection()),
                Ce = null;
              e.redrawHint('eles', !0),
                e.redrawHint('drag', !0),
                ae.selected()
                  ? ((Ce = ct.$(function (Ue) {
                      return Ue.selected() && e.nodeIsGrabbable(Ue);
                    })),
                    m(Ce, { addToList: ei }))
                  : _(ae, { addToList: ei }),
                u(ae);
              var Di = function (Hi) {
                return {
                  originalEvent: z,
                  type: Hi,
                  position: { x: Ct[0], y: Ct[1] },
                };
              };
              ae.emit(Di('grabon')),
                Ce
                  ? Ce.forEach(function (Ue) {
                      Ue.emit(Di('grab'));
                    })
                  : ae.emit(Di('grab'));
            }
            i(ae, ['touchstart', 'tapstart', 'vmousedown'], z, {
              x: Ct[0],
              y: Ct[1],
            }),
              ae == null &&
                ((e.data.bgActivePosistion = { x: vt[0], y: vt[1] }),
                e.redrawHint('select', !0),
                e.redraw()),
              (e.touchData.singleTouchMoved = !1),
              (e.touchData.singleTouchStartTime = +new Date()),
              clearTimeout(e.touchData.tapholdTimeout),
              (e.touchData.tapholdTimeout = setTimeout(function () {
                e.touchData.singleTouchMoved === !1 &&
                  !e.pinching &&
                  !e.touchData.selecting &&
                  i(e.touchData.start, ['taphold'], z, { x: Ct[0], y: Ct[1] });
              }, e.tapholdDuration));
          }
        }
        if (z.touches.length >= 1) {
          for (
            var ui = (e.touchData.startPosition = [
                null,
                null,
                null,
                null,
                null,
                null,
              ]),
              Ti = 0;
            Ti < Ct.length;
            Ti++
          )
            ui[Ti] = gt[Ti] = Ct[Ti];
          var ii = z.touches[0];
          e.touchData.startGPosition = [ii.clientX, ii.clientY];
        }
      }
    }),
    !1
  );
  var lt;
  e.registerBinding(
    t,
    'touchmove',
    (lt = function (z) {
      var ct = e.touchData.capture;
      if (!(!ct && !O(z))) {
        var Ct = e.selection,
          gt = e.cy,
          vt = e.touchData.now,
          Ft = e.touchData.earlier,
          mt = gt.zoom();
        if (z.touches[0]) {
          var Pt = e.projectIntoViewport(
            z.touches[0].clientX,
            z.touches[0].clientY
          );
          (vt[0] = Pt[0]), (vt[1] = Pt[1]);
        }
        if (z.touches[1]) {
          var Pt = e.projectIntoViewport(
            z.touches[1].clientX,
            z.touches[1].clientY
          );
          (vt[2] = Pt[0]), (vt[3] = Pt[1]);
        }
        if (z.touches[2]) {
          var Pt = e.projectIntoViewport(
            z.touches[2].clientX,
            z.touches[2].clientY
          );
          (vt[4] = Pt[0]), (vt[5] = Pt[1]);
        }
        var te = e.touchData.startGPosition,
          ne;
        if (ct && z.touches[0] && te) {
          for (var ie = [], pe = 0; pe < vt.length; pe++)
            ie[pe] = vt[pe] - Ft[pe];
          var Kt = z.touches[0].clientX - te[0],
            ae = Kt * Kt,
            ei = z.touches[0].clientY - te[1],
            Ce = ei * ei,
            Di = ae + Ce;
          ne = Di >= e.touchTapThreshold2;
        }
        if (ct && e.touchData.cxt) {
          z.preventDefault();
          var ui = z.touches[0].clientX - J,
            Ti = z.touches[0].clientY - dt,
            ii = z.touches[1].clientX - J,
            Ue = z.touches[1].clientY - dt,
            Hi = _t(ui, Ti, ii, Ue),
            M = Hi / it,
            N = 150,
            j = N * N,
            Y = 1.5,
            $ = Y * Y;
          if (M >= $ || Hi >= j) {
            (e.touchData.cxt = !1),
              (e.data.bgActivePosistion = void 0),
              e.redrawHint('select', !0);
            var tt = {
              originalEvent: z,
              type: 'cxttapend',
              position: { x: vt[0], y: vt[1] },
            };
            e.touchData.start
              ? (e.touchData.start.unactivate().emit(tt),
                (e.touchData.start = null))
              : gt.emit(tt);
          }
        }
        if (ct && e.touchData.cxt) {
          var tt = {
            originalEvent: z,
            type: 'cxtdrag',
            position: { x: vt[0], y: vt[1] },
          };
          (e.data.bgActivePosistion = void 0),
            e.redrawHint('select', !0),
            e.touchData.start ? e.touchData.start.emit(tt) : gt.emit(tt),
            e.touchData.start && (e.touchData.start._private.grabbed = !1),
            (e.touchData.cxtDragged = !0);
          var at = e.findNearestElement(vt[0], vt[1], !0, !0);
          (!e.touchData.cxtOver || at !== e.touchData.cxtOver) &&
            (e.touchData.cxtOver &&
              e.touchData.cxtOver.emit({
                originalEvent: z,
                type: 'cxtdragout',
                position: { x: vt[0], y: vt[1] },
              }),
            (e.touchData.cxtOver = at),
            at &&
              at.emit({
                originalEvent: z,
                type: 'cxtdragover',
                position: { x: vt[0], y: vt[1] },
              }));
        } else if (ct && z.touches[2] && gt.boxSelectionEnabled())
          z.preventDefault(),
            (e.data.bgActivePosistion = void 0),
            (this.lastThreeTouch = +new Date()),
            e.touchData.selecting ||
              gt.emit({
                originalEvent: z,
                type: 'boxstart',
                position: { x: vt[0], y: vt[1] },
              }),
            (e.touchData.selecting = !0),
            (e.touchData.didSelect = !0),
            (Ct[4] = 1),
            !Ct || Ct.length === 0 || Ct[0] === void 0
              ? ((Ct[0] = (vt[0] + vt[2] + vt[4]) / 3),
                (Ct[1] = (vt[1] + vt[3] + vt[5]) / 3),
                (Ct[2] = (vt[0] + vt[2] + vt[4]) / 3 + 1),
                (Ct[3] = (vt[1] + vt[3] + vt[5]) / 3 + 1))
              : ((Ct[2] = (vt[0] + vt[2] + vt[4]) / 3),
                (Ct[3] = (vt[1] + vt[3] + vt[5]) / 3)),
            e.redrawHint('select', !0),
            e.redraw();
        else if (
          ct &&
          z.touches[1] &&
          !e.touchData.didSelect &&
          gt.zoomingEnabled() &&
          gt.panningEnabled() &&
          gt.userZoomingEnabled() &&
          gt.userPanningEnabled()
        ) {
          z.preventDefault(),
            (e.data.bgActivePosistion = void 0),
            e.redrawHint('select', !0);
          var ft = e.dragData.touchDragEles;
          if (ft) {
            e.redrawHint('drag', !0);
            for (var kt = 0; kt < ft.length; kt++) {
              var Et = ft[kt]._private;
              (Et.grabbed = !1), (Et.rscratch.inDragLayer = !1);
            }
          }
          var Rt = e.touchData.start,
            ui = z.touches[0].clientX - J,
            Ti = z.touches[0].clientY - dt,
            ii = z.touches[1].clientX - J,
            Ue = z.touches[1].clientY - dt,
            Gt = At(ui, Ti, ii, Ue),
            zt = Gt / Z;
          if (bt) {
            var ue = ui - B,
              me = Ti - q,
              Yt = ii - U,
              ye = Ue - W,
              fe = (ue + Yt) / 2,
              Wi = (me + ye) / 2,
              Ji = gt.zoom(),
              Pn = Ji * zt,
              kr = gt.pan(),
              rn = nt[0] * Ji + kr.x,
              en = nt[1] * Ji + kr.y,
              an = {
                x: (-Pn / Ji) * (rn - kr.x - fe) + rn,
                y: (-Pn / Ji) * (en - kr.y - Wi) + en,
              };
            if (Rt && Rt.active()) {
              var ft = e.dragData.touchDragEles;
              v(ft),
                e.redrawHint('drag', !0),
                e.redrawHint('eles', !0),
                Rt.unactivate().emit('freeon'),
                ft.emit('free'),
                e.dragData.didDrag &&
                  (Rt.emit('dragfreeon'), ft.emit('dragfree'));
            }
            gt.viewport({ zoom: Pn, pan: an, cancelOnFailedZoom: !0 }),
              gt.emit('pinchzoom'),
              (Z = Gt),
              (B = ui),
              (q = Ti),
              (U = ii),
              (W = Ue),
              (e.pinching = !0);
          }
          if (z.touches[0]) {
            var Pt = e.projectIntoViewport(
              z.touches[0].clientX,
              z.touches[0].clientY
            );
            (vt[0] = Pt[0]), (vt[1] = Pt[1]);
          }
          if (z.touches[1]) {
            var Pt = e.projectIntoViewport(
              z.touches[1].clientX,
              z.touches[1].clientY
            );
            (vt[2] = Pt[0]), (vt[3] = Pt[1]);
          }
          if (z.touches[2]) {
            var Pt = e.projectIntoViewport(
              z.touches[2].clientX,
              z.touches[2].clientY
            );
            (vt[4] = Pt[0]), (vt[5] = Pt[1]);
          }
        } else if (z.touches[0] && !e.touchData.didSelect) {
          var Mi = e.touchData.start,
            ur = e.touchData.last,
            at;
          if (
            (!e.hoverData.draggingEles &&
              !e.swipePanning &&
              (at = e.findNearestElement(vt[0], vt[1], !0, !0)),
            ct && Mi != null && z.preventDefault(),
            ct && Mi != null && e.nodeIsDraggable(Mi))
          )
            if (ne) {
              var ft = e.dragData.touchDragEles,
                Cr = !e.dragData.didDrag;
              Cr && m(ft, { inDragLayer: !0 }), (e.dragData.didDrag = !0);
              var jr = { x: 0, y: 0 };
              if (
                $t(ie[0]) &&
                $t(ie[1]) &&
                ((jr.x += ie[0]), (jr.y += ie[1]), Cr)
              ) {
                e.redrawHint('eles', !0);
                var Ln = e.touchData.dragDelta;
                Ln &&
                  $t(Ln[0]) &&
                  $t(Ln[1]) &&
                  ((jr.x += Ln[0]), (jr.y += Ln[1]));
              }
              (e.hoverData.draggingEles = !0),
                ft.silentShift(jr).emit('position drag'),
                e.redrawHint('drag', !0),
                e.touchData.startPosition[0] == Ft[0] &&
                  e.touchData.startPosition[1] == Ft[1] &&
                  e.redrawHint('eles', !0),
                e.redraw();
            } else {
              var Ln = (e.touchData.dragDelta = e.touchData.dragDelta || []);
              Ln.length === 0
                ? (Ln.push(ie[0]), Ln.push(ie[1]))
                : ((Ln[0] += ie[0]), (Ln[1] += ie[1]));
            }
          if (
            (i(Mi || at, ['touchmove', 'tapdrag', 'vmousemove'], z, {
              x: vt[0],
              y: vt[1],
            }),
            (!Mi || !Mi.grabbed()) &&
              at != ur &&
              (ur &&
                ur.emit({
                  originalEvent: z,
                  type: 'tapdragout',
                  position: { x: vt[0], y: vt[1] },
                }),
              at &&
                at.emit({
                  originalEvent: z,
                  type: 'tapdragover',
                  position: { x: vt[0], y: vt[1] },
                })),
            (e.touchData.last = at),
            ct)
          )
            for (var kt = 0; kt < vt.length; kt++)
              vt[kt] &&
                e.touchData.startPosition[kt] &&
                ne &&
                (e.touchData.singleTouchMoved = !0);
          if (
            ct &&
            (Mi == null || Mi.pannable()) &&
            gt.panningEnabled() &&
            gt.userPanningEnabled()
          ) {
            var is = a(Mi, e.touchData.starts);
            is &&
              (z.preventDefault(),
              e.data.bgActivePosistion ||
                (e.data.bgActivePosistion = ac(e.touchData.startPosition)),
              e.swipePanning
                ? (gt.panBy({ x: ie[0] * mt, y: ie[1] * mt }),
                  gt.emit('dragpan'))
                : ne &&
                  ((e.swipePanning = !0),
                  gt.panBy({ x: Kt * mt, y: ei * mt }),
                  gt.emit('dragpan'),
                  Mi &&
                    (Mi.unactivate(),
                    e.redrawHint('select', !0),
                    (e.touchData.start = null))));
            var Pt = e.projectIntoViewport(
              z.touches[0].clientX,
              z.touches[0].clientY
            );
            (vt[0] = Pt[0]), (vt[1] = Pt[1]);
          }
        }
        for (var pe = 0; pe < vt.length; pe++) Ft[pe] = vt[pe];
        ct &&
          z.touches.length > 0 &&
          !e.hoverData.draggingEles &&
          !e.swipePanning &&
          e.data.bgActivePosistion != null &&
          ((e.data.bgActivePosistion = void 0),
          e.redrawHint('select', !0),
          e.redraw());
      }
    }),
    !1
  );
  var ot;
  e.registerBinding(
    t,
    'touchcancel',
    (ot = function (z) {
      var ct = e.touchData.start;
      (e.touchData.capture = !1), ct && ct.unactivate();
    })
  );
  var Mt, Vt, Ot, Lt;
  if (
    (e.registerBinding(
      t,
      'touchend',
      (Mt = function (z) {
        var ct = e.touchData.start,
          Ct = e.touchData.capture;
        if (Ct)
          z.touches.length === 0 && (e.touchData.capture = !1),
            z.preventDefault();
        else return;
        var gt = e.selection;
        (e.swipePanning = !1), (e.hoverData.draggingEles = !1);
        var vt = e.cy,
          Ft = vt.zoom(),
          mt = e.touchData.now,
          Pt = e.touchData.earlier;
        if (z.touches[0]) {
          var te = e.projectIntoViewport(
            z.touches[0].clientX,
            z.touches[0].clientY
          );
          (mt[0] = te[0]), (mt[1] = te[1]);
        }
        if (z.touches[1]) {
          var te = e.projectIntoViewport(
            z.touches[1].clientX,
            z.touches[1].clientY
          );
          (mt[2] = te[0]), (mt[3] = te[1]);
        }
        if (z.touches[2]) {
          var te = e.projectIntoViewport(
            z.touches[2].clientX,
            z.touches[2].clientY
          );
          (mt[4] = te[0]), (mt[5] = te[1]);
        }
        ct && ct.unactivate();
        var ne;
        if (e.touchData.cxt) {
          if (
            ((ne = {
              originalEvent: z,
              type: 'cxttapend',
              position: { x: mt[0], y: mt[1] },
            }),
            ct ? ct.emit(ne) : vt.emit(ne),
            !e.touchData.cxtDragged)
          ) {
            var ie = {
              originalEvent: z,
              type: 'cxttap',
              position: { x: mt[0], y: mt[1] },
            };
            ct ? ct.emit(ie) : vt.emit(ie);
          }
          e.touchData.start && (e.touchData.start._private.grabbed = !1),
            (e.touchData.cxt = !1),
            (e.touchData.start = null),
            e.redraw();
          return;
        }
        if (
          !z.touches[2] &&
          vt.boxSelectionEnabled() &&
          e.touchData.selecting
        ) {
          e.touchData.selecting = !1;
          var pe = vt.collection(e.getAllInBox(gt[0], gt[1], gt[2], gt[3]));
          (gt[0] = void 0),
            (gt[1] = void 0),
            (gt[2] = void 0),
            (gt[3] = void 0),
            (gt[4] = 0),
            e.redrawHint('select', !0),
            vt.emit({
              type: 'boxend',
              originalEvent: z,
              position: { x: mt[0], y: mt[1] },
            });
          var Kt = function (j) {
            return j.selectable() && !j.selected();
          };
          pe.emit('box').stdFilter(Kt).select().emit('boxselect'),
            pe.nonempty() && e.redrawHint('eles', !0),
            e.redraw();
        }
        if ((ct?.unactivate(), z.touches[2]))
          (e.data.bgActivePosistion = void 0), e.redrawHint('select', !0);
        else if (!z.touches[1]) {
          if (!z.touches[0]) {
            if (!z.touches[0]) {
              (e.data.bgActivePosistion = void 0), e.redrawHint('select', !0);
              var ae = e.dragData.touchDragEles;
              if (ct != null) {
                var ei = ct._private.grabbed;
                v(ae),
                  e.redrawHint('drag', !0),
                  e.redrawHint('eles', !0),
                  ei &&
                    (ct.emit('freeon'),
                    ae.emit('free'),
                    e.dragData.didDrag &&
                      (ct.emit('dragfreeon'), ae.emit('dragfree'))),
                  i(ct, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], z, {
                    x: mt[0],
                    y: mt[1],
                  }),
                  ct.unactivate(),
                  (e.touchData.start = null);
              } else {
                var Ce = e.findNearestElement(mt[0], mt[1], !0, !0);
                i(Ce, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], z, {
                  x: mt[0],
                  y: mt[1],
                });
              }
              var Di = e.touchData.startPosition[0] - mt[0],
                ui = Di * Di,
                Ti = e.touchData.startPosition[1] - mt[1],
                ii = Ti * Ti,
                Ue = ui + ii,
                Hi = Ue * Ft * Ft;
              e.touchData.singleTouchMoved ||
                (ct || vt.$(':selected').unselect(['tapunselect']),
                i(ct, ['tap', 'vclick'], z, { x: mt[0], y: mt[1] }),
                (Vt = !1),
                z.timeStamp - Lt <= vt.multiClickDebounceTime()
                  ? (Ot && clearTimeout(Ot),
                    (Vt = !0),
                    (Lt = null),
                    i(ct, ['dbltap', 'vdblclick'], z, { x: mt[0], y: mt[1] }))
                  : ((Ot = setTimeout(function () {
                      Vt ||
                        i(ct, ['onetap', 'voneclick'], z, {
                          x: mt[0],
                          y: mt[1],
                        });
                    }, vt.multiClickDebounceTime())),
                    (Lt = z.timeStamp))),
                ct != null &&
                  !e.dragData.didDrag &&
                  ct._private.selectable &&
                  Hi < e.touchTapThreshold2 &&
                  !e.pinching &&
                  (vt.selectionType() === 'single'
                    ? (vt.$(n).unmerge(ct).unselect(['tapunselect']),
                      ct.select(['tapselect']))
                    : ct.selected()
                      ? ct.unselect(['tapunselect'])
                      : ct.select(['tapselect']),
                  e.redrawHint('eles', !0)),
                (e.touchData.singleTouchMoved = !0);
            }
          }
        }
        for (var M = 0; M < mt.length; M++) Pt[M] = mt[M];
        (e.dragData.didDrag = !1),
          z.touches.length === 0 &&
            ((e.touchData.dragDelta = []),
            (e.touchData.startPosition = [null, null, null, null, null, null]),
            (e.touchData.startGPosition = null),
            (e.touchData.didSelect = !1)),
          z.touches.length < 2 &&
            (z.touches.length === 1 &&
              (e.touchData.startGPosition = [
                z.touches[0].clientX,
                z.touches[0].clientY,
              ]),
            (e.pinching = !1),
            e.redrawHint('eles', !0),
            e.redraw());
      }),
      !1
    ),
    typeof TouchEvent > 'u')
  ) {
    var Ut = [],
      Wt = function (z) {
        return {
          clientX: z.clientX,
          clientY: z.clientY,
          force: 1,
          identifier: z.pointerId,
          pageX: z.pageX,
          pageY: z.pageY,
          radiusX: z.width / 2,
          radiusY: z.height / 2,
          screenX: z.screenX,
          screenY: z.screenY,
          target: z.target,
        };
      },
      Jt = function (z) {
        return { event: z, touch: Wt(z) };
      },
      le = function (z) {
        Ut.push(Jt(z));
      },
      Fe = function (z) {
        for (var ct = 0; ct < Ut.length; ct++) {
          var Ct = Ut[ct];
          if (Ct.event.pointerId === z.pointerId) {
            Ut.splice(ct, 1);
            return;
          }
        }
      },
      _e = function (z) {
        var ct = Ut.filter(function (Ct) {
          return Ct.event.pointerId === z.pointerId;
        })[0];
        (ct.event = z), (ct.touch = Wt(z));
      },
      ce = function (z) {
        z.touches = Ut.map(function (ct) {
          return ct.touch;
        });
      },
      Ee = function (z) {
        return z.pointerType === 'mouse' || z.pointerType === 4;
      };
    e.registerBinding(e.container, 'pointerdown', function (st) {
      Ee(st) || (st.preventDefault(), le(st), ce(st), K(st));
    }),
      e.registerBinding(e.container, 'pointerup', function (st) {
        Ee(st) || (Fe(st), ce(st), Mt(st));
      }),
      e.registerBinding(e.container, 'pointercancel', function (st) {
        Ee(st) || (Fe(st), ce(st), ot(st));
      }),
      e.registerBinding(e.container, 'pointermove', function (st) {
        Ee(st) || (st.preventDefault(), _e(st), ce(st), lt(st));
      });
  }
};
var to = {};
to.generatePolygon = function (e, t) {
  return (this.nodeShapes[e] = {
    renderer: this,
    name: e,
    points: t,
    draw: function (i, r, a, o, s, l) {
      this.renderer.nodeShapeImpl('polygon', i, r, a, o, s, this.points);
    },
    intersectLine: function (i, r, a, o, s, l, c, u) {
      return Pd(s, l, this.points, i, r, a / 2, o / 2, c);
    },
    checkPoint: function (i, r, a, o, s, l, c, u) {
      return Qa(i, r, this.points, l, c, o, s, [0, -1], a);
    },
  });
};
to.generateEllipse = function () {
  return (this.nodeShapes.ellipse = {
    renderer: this,
    name: 'ellipse',
    draw: function (t, n, i, r, a, o) {
      this.renderer.nodeShapeImpl(this.name, t, n, i, r, a);
    },
    intersectLine: function (t, n, i, r, a, o, s, l) {
      return nV(a, o, t, n, i / 2 + s, r / 2 + s);
    },
    checkPoint: function (t, n, i, r, a, o, s, l) {
      return Ks(t, n, r, a, o, s, i);
    },
  });
};
to.generateRoundPolygon = function (e, t) {
  return (this.nodeShapes[e] = {
    renderer: this,
    name: e,
    points: t,
    getOrCreateCorners: function (i, r, a, o, s, l, c) {
      if (l[c] !== void 0 && l[c + '-cx'] === i && l[c + '-cy'] === r)
        return l[c];
      (l[c] = new Array(t.length / 2)), (l[c + '-cx'] = i), (l[c + '-cy'] = r);
      var u = a / 2,
        d = o / 2;
      s = s === 'auto' ? fD(a, o) : s;
      for (var h = new Array(t.length / 2), p = 0; p < t.length / 2; p++)
        h[p] = { x: i + u * t[p * 2], y: r + d * t[p * 2 + 1] };
      var m,
        _,
        v,
        y,
        w = h.length;
      for (_ = h[w - 1], m = 0; m < w; m++)
        (v = h[m % w]),
          (y = h[(m + 1) % w]),
          (l[c][m] = x0(_, v, y, s)),
          (_ = v),
          (v = y);
      return l[c];
    },
    draw: function (i, r, a, o, s, l, c) {
      this.renderer.nodeShapeImpl(
        'round-polygon',
        i,
        r,
        a,
        o,
        s,
        this.points,
        this.getOrCreateCorners(r, a, o, s, l, c, 'drawCorners')
      );
    },
    intersectLine: function (i, r, a, o, s, l, c, u, d) {
      return rV(
        s,
        l,
        this.points,
        i,
        r,
        a,
        o,
        c,
        this.getOrCreateCorners(i, r, a, o, u, d, 'corners')
      );
    },
    checkPoint: function (i, r, a, o, s, l, c, u, d) {
      return iV(
        i,
        r,
        this.points,
        l,
        c,
        o,
        s,
        this.getOrCreateCorners(l, c, o, s, u, d, 'corners')
      );
    },
  });
};
to.generateRoundRectangle = function () {
  return (this.nodeShapes['round-rectangle'] = this.nodeShapes.roundrectangle =
    {
      renderer: this,
      name: 'round-rectangle',
      points: Jn(4, 0),
      draw: function (t, n, i, r, a, o) {
        this.renderer.nodeShapeImpl(this.name, t, n, i, r, a, this.points, o);
      },
      intersectLine: function (t, n, i, r, a, o, s, l) {
        return dD(a, o, t, n, i, r, s, l);
      },
      checkPoint: function (t, n, i, r, a, o, s, l) {
        var c = r / 2,
          u = a / 2;
        (l = l === 'auto' ? Js(r, a) : l), (l = Math.min(c, u, l));
        var d = l * 2;
        return !!(
          Qa(t, n, this.points, o, s, r, a - d, [0, -1], i) ||
          Qa(t, n, this.points, o, s, r - d, a, [0, -1], i) ||
          Ks(t, n, d, d, o - c + l, s - u + l, i) ||
          Ks(t, n, d, d, o + c - l, s - u + l, i) ||
          Ks(t, n, d, d, o + c - l, s + u - l, i) ||
          Ks(t, n, d, d, o - c + l, s + u - l, i)
        );
      },
    });
};
to.generateCutRectangle = function () {
  return (this.nodeShapes['cut-rectangle'] = this.nodeShapes.cutrectangle =
    {
      renderer: this,
      name: 'cut-rectangle',
      cornerLength: c0(),
      points: Jn(4, 0),
      draw: function (t, n, i, r, a, o) {
        this.renderer.nodeShapeImpl(this.name, t, n, i, r, a, null, o);
      },
      generateCutTrianglePts: function (t, n, i, r, a) {
        var o = a === 'auto' ? this.cornerLength : a,
          s = n / 2,
          l = t / 2,
          c = i - l,
          u = i + l,
          d = r - s,
          h = r + s;
        return {
          topLeft: [c, d + o, c + o, d, c + o, d + o],
          topRight: [u - o, d, u, d + o, u - o, d + o],
          bottomRight: [u, h - o, u - o, h, u - o, h - o],
          bottomLeft: [c + o, h, c, h - o, c + o, h - o],
        };
      },
      intersectLine: function (t, n, i, r, a, o, s, l) {
        var c = this.generateCutTrianglePts(i + 2 * s, r + 2 * s, t, n, l),
          u = [].concat.apply(
            [],
            [
              c.topLeft.splice(0, 4),
              c.topRight.splice(0, 4),
              c.bottomRight.splice(0, 4),
              c.bottomLeft.splice(0, 4),
            ]
          );
        return Pd(a, o, u, t, n);
      },
      checkPoint: function (t, n, i, r, a, o, s, l) {
        var c = l === 'auto' ? this.cornerLength : l;
        if (
          Qa(t, n, this.points, o, s, r, a - 2 * c, [0, -1], i) ||
          Qa(t, n, this.points, o, s, r - 2 * c, a, [0, -1], i)
        )
          return !0;
        var u = this.generateCutTrianglePts(r, a, o, s);
        return (
          ar(t, n, u.topLeft) ||
          ar(t, n, u.topRight) ||
          ar(t, n, u.bottomRight) ||
          ar(t, n, u.bottomLeft)
        );
      },
    });
};
to.generateBarrel = function () {
  return (this.nodeShapes.barrel = {
    renderer: this,
    name: 'barrel',
    points: Jn(4, 0),
    draw: function (t, n, i, r, a, o) {
      this.renderer.nodeShapeImpl(this.name, t, n, i, r, a);
    },
    intersectLine: function (t, n, i, r, a, o, s, l) {
      var c = 0.15,
        u = 0.5,
        d = 0.85,
        h = this.generateBarrelBezierPts(i + 2 * s, r + 2 * s, t, n),
        p = function (v) {
          var y = sc(
              { x: v[0], y: v[1] },
              { x: v[2], y: v[3] },
              { x: v[4], y: v[5] },
              c
            ),
            w = sc(
              { x: v[0], y: v[1] },
              { x: v[2], y: v[3] },
              { x: v[4], y: v[5] },
              u
            ),
            x = sc(
              { x: v[0], y: v[1] },
              { x: v[2], y: v[3] },
              { x: v[4], y: v[5] },
              d
            );
          return [v[0], v[1], y.x, y.y, w.x, w.y, x.x, x.y, v[4], v[5]];
        },
        m = [].concat(
          p(h.topLeft),
          p(h.topRight),
          p(h.bottomRight),
          p(h.bottomLeft)
        );
      return Pd(a, o, m, t, n);
    },
    generateBarrelBezierPts: function (t, n, i, r) {
      var a = n / 2,
        o = t / 2,
        s = i - o,
        l = i + o,
        c = r - a,
        u = r + a,
        d = zy(t, n),
        h = d.heightOffset,
        p = d.widthOffset,
        m = d.ctrlPtOffsetPct * t,
        _ = {
          topLeft: [s, c + h, s + m, c, s + p, c],
          topRight: [l - p, c, l - m, c, l, c + h],
          bottomRight: [l, u - h, l - m, u, l - p, u],
          bottomLeft: [s + p, u, s + m, u, s, u - h],
        };
      return (
        (_.topLeft.isTop = !0),
        (_.topRight.isTop = !0),
        (_.bottomLeft.isBottom = !0),
        (_.bottomRight.isBottom = !0),
        _
      );
    },
    checkPoint: function (t, n, i, r, a, o, s, l) {
      var c = zy(r, a),
        u = c.heightOffset,
        d = c.widthOffset;
      if (
        Qa(t, n, this.points, o, s, r, a - 2 * u, [0, -1], i) ||
        Qa(t, n, this.points, o, s, r - 2 * d, a, [0, -1], i)
      )
        return !0;
      for (
        var h = this.generateBarrelBezierPts(r, a, o, s),
          p = function (T, O, R) {
            var P = R[4],
              L = R[2],
              V = R[0],
              B = R[5],
              q = R[1],
              U = Math.min(P, V),
              W = Math.max(P, V),
              Z = Math.min(B, q),
              it = Math.max(B, q);
            if (U <= T && T <= W && Z <= O && O <= it) {
              var rt = aV(P, L, V),
                nt = Qz(rt[0], rt[1], rt[2], T),
                J = nt.filter(function (dt) {
                  return 0 <= dt && dt <= 1;
                });
              if (J.length > 0) return J[0];
            }
            return null;
          },
          m = Object.keys(h),
          _ = 0;
        _ < m.length;
        _++
      ) {
        var v = m[_],
          y = h[v],
          w = p(t, n, y);
        if (w != null) {
          var x = y[5],
            C = y[3],
            S = y[1],
            g = _n(x, C, S, w);
          if ((y.isTop && g <= n) || (y.isBottom && n <= g)) return !0;
        }
      }
      return !1;
    },
  });
};
to.generateBottomRoundrectangle = function () {
  return (this.nodeShapes['bottom-round-rectangle'] =
    this.nodeShapes.bottomroundrectangle =
      {
        renderer: this,
        name: 'bottom-round-rectangle',
        points: Jn(4, 0),
        draw: function (t, n, i, r, a, o) {
          this.renderer.nodeShapeImpl(this.name, t, n, i, r, a, this.points, o);
        },
        intersectLine: function (t, n, i, r, a, o, s, l) {
          var c = t - (i / 2 + s),
            u = n - (r / 2 + s),
            d = u,
            h = t + (i / 2 + s),
            p = No(a, o, t, n, c, u, h, d, !1);
          return p.length > 0 ? p : dD(a, o, t, n, i, r, s, l);
        },
        checkPoint: function (t, n, i, r, a, o, s, l) {
          l = l === 'auto' ? Js(r, a) : l;
          var c = 2 * l;
          if (
            Qa(t, n, this.points, o, s, r, a - c, [0, -1], i) ||
            Qa(t, n, this.points, o, s, r - c, a, [0, -1], i)
          )
            return !0;
          var u = r / 2 + 2 * i,
            d = a / 2 + 2 * i,
            h = [o - u, s - d, o - u, s, o + u, s, o + u, s - d];
          return !!(
            ar(t, n, h) ||
            Ks(t, n, c, c, o + r / 2 - l, s + a / 2 - l, i) ||
            Ks(t, n, c, c, o - r / 2 + l, s + a / 2 - l, i)
          );
        },
      });
};
to.registerNodeShapes = function () {
  var e = (this.nodeShapes = {}),
    t = this;
  this.generateEllipse(),
    this.generatePolygon('triangle', Jn(3, 0)),
    this.generateRoundPolygon('round-triangle', Jn(3, 0)),
    this.generatePolygon('rectangle', Jn(4, 0)),
    (e.square = e.rectangle),
    this.generateRoundRectangle(),
    this.generateCutRectangle(),
    this.generateBarrel(),
    this.generateBottomRoundrectangle();
  {
    var n = [0, 1, 1, 0, 0, -1, -1, 0];
    this.generatePolygon('diamond', n),
      this.generateRoundPolygon('round-diamond', n);
  }
  this.generatePolygon('pentagon', Jn(5, 0)),
    this.generateRoundPolygon('round-pentagon', Jn(5, 0)),
    this.generatePolygon('hexagon', Jn(6, 0)),
    this.generateRoundPolygon('round-hexagon', Jn(6, 0)),
    this.generatePolygon('heptagon', Jn(7, 0)),
    this.generateRoundPolygon('round-heptagon', Jn(7, 0)),
    this.generatePolygon('octagon', Jn(8, 0)),
    this.generateRoundPolygon('round-octagon', Jn(8, 0));
  var i = new Array(20);
  {
    var r = By(5, 0),
      a = By(5, Math.PI / 5),
      o = 0.5 * (3 - Math.sqrt(5));
    o *= 1.57;
    for (var s = 0; s < a.length / 2; s++) (a[s * 2] *= o), (a[s * 2 + 1] *= o);
    for (var s = 0; s < 20 / 4; s++)
      (i[s * 4] = r[s * 2]),
        (i[s * 4 + 1] = r[s * 2 + 1]),
        (i[s * 4 + 2] = a[s * 2]),
        (i[s * 4 + 3] = a[s * 2 + 1]);
  }
  (i = hD(i)),
    this.generatePolygon('star', i),
    this.generatePolygon('vee', [-1, -1, 0, -0.333, 1, -1, 0, 1]),
    this.generatePolygon('rhomboid', [-1, -1, 0.333, -1, 1, 1, -0.333, 1]),
    this.generatePolygon(
      'right-rhomboid',
      [-0.333, -1, 1, -1, 0.333, 1, -1, 1]
    ),
    (this.nodeShapes.concavehexagon = this.generatePolygon(
      'concave-hexagon',
      [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]
    ));
  {
    var l = [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1];
    this.generatePolygon('tag', l), this.generateRoundPolygon('round-tag', l);
  }
  e.makePolygon = function (c) {
    var u = c.join('$'),
      d = 'polygon-' + u,
      h;
    return (h = this[d]) ? h : t.generatePolygon(d, c);
  };
};
var Gd = {};
Gd.timeToRender = function () {
  return this.redrawTotalTime / this.redrawCount;
};
Gd.redraw = function (e) {
  e = e || oD();
  var t = this;
  t.averageRedrawTime === void 0 && (t.averageRedrawTime = 0),
    t.lastRedrawTime === void 0 && (t.lastRedrawTime = 0),
    t.lastDrawTime === void 0 && (t.lastDrawTime = 0),
    (t.requestedFrame = !0),
    (t.renderOptions = e);
};
Gd.beforeRender = function (e, t) {
  if (!this.destroyed) {
    t == null && Xi('Priority is not optional for beforeRender');
    var n = this.beforeRenderCallbacks;
    n.push({ fn: e, priority: t }),
      n.sort(function (i, r) {
        return r.priority - i.priority;
      });
  }
};
var RS = function (t, n, i) {
  for (var r = t.beforeRenderCallbacks, a = 0; a < r.length; a++) r[a].fn(n, i);
};
Gd.startRenderLoop = function () {
  var e = this,
    t = e.cy;
  if (!e.renderLoopStarted) {
    e.renderLoopStarted = !0;
    var n = function i(r) {
      if (!e.destroyed) {
        if (!t.batching())
          if (e.requestedFrame && !e.skipFrame) {
            RS(e, !0, r);
            var a = Za();
            e.render(e.renderOptions);
            var o = (e.lastDrawTime = Za());
            e.averageRedrawTime === void 0 && (e.averageRedrawTime = o - a),
              e.redrawCount === void 0 && (e.redrawCount = 0),
              e.redrawCount++,
              e.redrawTotalTime === void 0 && (e.redrawTotalTime = 0);
            var s = o - a;
            (e.redrawTotalTime += s),
              (e.lastRedrawTime = s),
              (e.averageRedrawTime = e.averageRedrawTime / 2 + s / 2),
              (e.requestedFrame = !1);
          } else RS(e, !1, r);
        (e.skipFrame = !1), Yp(i);
      }
    };
    Yp(n);
  }
};
var j3 = function (t) {
    this.init(t);
  },
  dT = j3,
  kc = dT.prototype;
kc.clientFunctions = [
  'redrawHint',
  'render',
  'renderTo',
  'matchCanvasSize',
  'nodeShapeImpl',
  'arrowShapeImpl',
];
kc.init = function (e) {
  var t = this;
  (t.options = e), (t.cy = e.cy);
  var n = (t.container = e.cy.container()),
    i = t.cy.window();
  if (i) {
    var r = i.document,
      a = r.head,
      o = '__________cytoscape_stylesheet',
      s = '__________cytoscape_container',
      l = r.getElementById(o) != null;
    if (
      (n.className.indexOf(s) < 0 &&
        (n.className = (n.className || '') + ' ' + s),
      !l)
    ) {
      var c = r.createElement('style');
      (c.id = o),
        (c.textContent = '.' + s + ' { position: relative; }'),
        a.insertBefore(c, a.children[0]);
    }
    var u = i.getComputedStyle(n),
      d = u.getPropertyValue('position');
    d === 'static' &&
      li(
        'A Cytoscape container has style position:static and so can not use UI extensions properly'
      );
  }
  (t.selection = [void 0, void 0, void 0, void 0, 0]),
    (t.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95]),
    (t.hoverData = {
      down: null,
      last: null,
      downTime: null,
      triggerMode: null,
      dragging: !1,
      initialPan: [null, null],
      capture: !1,
    }),
    (t.dragData = { possibleDragElements: [] }),
    (t.touchData = {
      start: null,
      capture: !1,
      startPosition: [null, null, null, null, null, null],
      singleTouchStartTime: null,
      singleTouchMoved: !0,
      now: [null, null, null, null, null, null],
      earlier: [null, null, null, null, null, null],
    }),
    (t.redraws = 0),
    (t.showFps = e.showFps),
    (t.debug = e.debug),
    (t.hideEdgesOnViewport = e.hideEdgesOnViewport),
    (t.textureOnViewport = e.textureOnViewport),
    (t.wheelSensitivity = e.wheelSensitivity),
    (t.motionBlurEnabled = e.motionBlur),
    (t.forcedPixelRatio = $t(e.pixelRatio) ? e.pixelRatio : null),
    (t.motionBlur = e.motionBlur),
    (t.motionBlurOpacity = e.motionBlurOpacity),
    (t.motionBlurTransparency = 1 - t.motionBlurOpacity),
    (t.motionBlurPxRatio = 1),
    (t.mbPxRBlurry = 1),
    (t.minMbLowQualFrames = 4),
    (t.fullQualityMb = !1),
    (t.clearedForMotionBlur = []),
    (t.desktopTapThreshold = e.desktopTapThreshold),
    (t.desktopTapThreshold2 = e.desktopTapThreshold * e.desktopTapThreshold),
    (t.touchTapThreshold = e.touchTapThreshold),
    (t.touchTapThreshold2 = e.touchTapThreshold * e.touchTapThreshold),
    (t.tapholdDuration = 500),
    (t.bindings = []),
    (t.beforeRenderCallbacks = []),
    (t.beforeRenderPriorities = {
      animations: 400,
      eleCalcs: 300,
      eleTxrDeq: 200,
      lyrTxrDeq: 150,
      lyrTxrSkip: 100,
    }),
    t.registerNodeShapes(),
    t.registerArrowShapes(),
    t.registerCalculationListeners();
};
kc.notify = function (e, t) {
  var n = this,
    i = n.cy;
  if (!this.destroyed) {
    if (e === 'init') {
      n.load();
      return;
    }
    if (e === 'destroy') {
      n.destroy();
      return;
    }
    (e === 'add' ||
      e === 'remove' ||
      (e === 'move' && i.hasCompoundNodes()) ||
      e === 'load' ||
      e === 'zorder' ||
      e === 'mount') &&
      n.invalidateCachedZSortedEles(),
      e === 'viewport' && n.redrawHint('select', !0),
      (e === 'load' || e === 'resize' || e === 'mount') &&
        (n.invalidateContainerClientCoordsCache(),
        n.matchCanvasSize(n.container)),
      n.redrawHint('eles', !0),
      n.redrawHint('drag', !0),
      this.startRenderLoop(),
      this.redraw();
  }
};
kc.destroy = function () {
  var e = this;
  (e.destroyed = !0), e.cy.stopAnimationLoop();
  for (var t = 0; t < e.bindings.length; t++) {
    var n = e.bindings[t],
      i = n,
      r = i.target;
    (r.off || r.removeEventListener).apply(r, i.args);
  }
  if (
    ((e.bindings = []),
    (e.beforeRenderCallbacks = []),
    (e.onUpdateEleCalcsFns = []),
    e.removeObserver && e.removeObserver.disconnect(),
    e.styleObserver && e.styleObserver.disconnect(),
    e.resizeObserver && e.resizeObserver.disconnect(),
    e.labelCalcDiv)
  )
    try {
      document.body.removeChild(e.labelCalcDiv);
    } catch {}
};
kc.isHeadless = function () {
  return !1;
};
[_0, cT, uT, wc, to, Gd].forEach(function (e) {
  be(kc, e);
});
var Ly = 1e3 / 60,
  hT = {
    setupDequeueing: function (t) {
      return function () {
        var i = this,
          r = this.renderer;
        if (!i.dequeueingSetup) {
          i.dequeueingSetup = !0;
          var a = om(function () {
              r.redrawHint('eles', !0), r.redrawHint('drag', !0), r.redraw();
            }, t.deqRedrawThreshold),
            o = function (c, u) {
              var d = Za(),
                h = r.averageRedrawTime,
                p = r.lastRedrawTime,
                m = [],
                _ = r.cy.extent(),
                v = r.getPixelRatio();
              for (c || r.flushRenderedStyleQueue(); ; ) {
                var y = Za(),
                  w = y - d,
                  x = y - u;
                if (p < Ly) {
                  var C = Ly - (c ? h : 0);
                  if (x >= t.deqFastCost * C) break;
                } else if (c) {
                  if (w >= t.deqCost * p || w >= t.deqAvgCost * h) break;
                } else if (x >= t.deqNoDrawCost * Ly) break;
                var S = t.deq(i, v, _);
                if (S.length > 0)
                  for (var g = 0; g < S.length; g++) m.push(S[g]);
                else break;
              }
              m.length > 0 &&
                (t.onDeqd(i, m), !c && t.shouldRedraw(i, m, v, _) && a());
            },
            s = t.priority || a0;
          r.beforeRender(o, s(i));
        }
      };
    },
  },
  q3 = (function () {
    function e(t) {
      var n =
        arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Kp;
      t0(this, e),
        (this.idsByKey = new Ea()),
        (this.keyForId = new Ea()),
        (this.cachesByLvl = new Ea()),
        (this.lvls = []),
        (this.getKey = t),
        (this.doesEleInvalidateKey = n);
    }
    return (
      e0(e, [
        {
          key: 'getIdsFor',
          value: function (n) {
            n == null && Xi('Can not get id list for null key');
            var i = this.idsByKey,
              r = this.idsByKey.get(n);
            return r || ((r = new mc()), i.set(n, r)), r;
          },
        },
        {
          key: 'addIdForKey',
          value: function (n, i) {
            n != null && this.getIdsFor(n).add(i);
          },
        },
        {
          key: 'deleteIdForKey',
          value: function (n, i) {
            n != null && this.getIdsFor(n).delete(i);
          },
        },
        {
          key: 'getNumberOfIdsForKey',
          value: function (n) {
            return n == null ? 0 : this.getIdsFor(n).size;
          },
        },
        {
          key: 'updateKeyMappingFor',
          value: function (n) {
            var i = n.id(),
              r = this.keyForId.get(i),
              a = this.getKey(n);
            this.deleteIdForKey(r, i),
              this.addIdForKey(a, i),
              this.keyForId.set(i, a);
          },
        },
        {
          key: 'deleteKeyMappingFor',
          value: function (n) {
            var i = n.id(),
              r = this.keyForId.get(i);
            this.deleteIdForKey(r, i), this.keyForId.delete(i);
          },
        },
        {
          key: 'keyHasChangedFor',
          value: function (n) {
            var i = n.id(),
              r = this.keyForId.get(i),
              a = this.getKey(n);
            return r !== a;
          },
        },
        {
          key: 'isInvalid',
          value: function (n) {
            return this.keyHasChangedFor(n) || this.doesEleInvalidateKey(n);
          },
        },
        {
          key: 'getCachesAt',
          value: function (n) {
            var i = this.cachesByLvl,
              r = this.lvls,
              a = i.get(n);
            return a || ((a = new Ea()), i.set(n, a), r.push(n)), a;
          },
        },
        {
          key: 'getCache',
          value: function (n, i) {
            return this.getCachesAt(i).get(n);
          },
        },
        {
          key: 'get',
          value: function (n, i) {
            var r = this.getKey(n),
              a = this.getCache(r, i);
            return a != null && this.updateKeyMappingFor(n), a;
          },
        },
        {
          key: 'getForCachedKey',
          value: function (n, i) {
            var r = this.keyForId.get(n.id()),
              a = this.getCache(r, i);
            return a;
          },
        },
        {
          key: 'hasCache',
          value: function (n, i) {
            return this.getCachesAt(i).has(n);
          },
        },
        {
          key: 'has',
          value: function (n, i) {
            var r = this.getKey(n);
            return this.hasCache(r, i);
          },
        },
        {
          key: 'setCache',
          value: function (n, i, r) {
            (r.key = n), this.getCachesAt(i).set(n, r);
          },
        },
        {
          key: 'set',
          value: function (n, i, r) {
            var a = this.getKey(n);
            this.setCache(a, i, r), this.updateKeyMappingFor(n);
          },
        },
        {
          key: 'deleteCache',
          value: function (n, i) {
            this.getCachesAt(i).delete(n);
          },
        },
        {
          key: 'delete',
          value: function (n, i) {
            var r = this.getKey(n);
            this.deleteCache(r, i);
          },
        },
        {
          key: 'invalidateKey',
          value: function (n) {
            var i = this;
            this.lvls.forEach(function (r) {
              return i.deleteCache(n, r);
            });
          },
        },
        {
          key: 'invalidate',
          value: function (n) {
            var i = n.id(),
              r = this.keyForId.get(i);
            this.deleteKeyMappingFor(n);
            var a = this.doesEleInvalidateKey(n);
            return (
              a && this.invalidateKey(r),
              a || this.getNumberOfIdsForKey(r) === 0
            );
          },
        },
      ]),
      e
    );
  })(),
  OS = 25,
  Fp = 50,
  $p = -4,
  Xy = 3,
  U3 = 7.99,
  H3 = 8,
  W3 = 1024,
  $3 = 1024,
  G3 = 1024,
  Y3 = 0.2,
  K3 = 0.8,
  X3 = 10,
  Z3 = 0.15,
  Q3 = 0.1,
  J3 = 0.9,
  t4 = 0.9,
  e4 = 100,
  i4 = 1,
  oc = {
    dequeue: 'dequeue',
    downscale: 'downscale',
    highQuality: 'highQuality',
  },
  n4 = An({
    getKey: null,
    doesEleInvalidateKey: Kp,
    drawElement: null,
    getBoundingBox: null,
    getRotationPoint: null,
    getRotationOffset: null,
    isVisible: nD,
    allowEdgeTxrCaching: !0,
    allowParentTxrCaching: !0,
  }),
  Sd = function (t, n) {
    var i = this;
    (i.renderer = t), (i.onDequeues = []);
    var r = n4(n);
    be(i, r),
      (i.lookup = new q3(r.getKey, r.doesEleInvalidateKey)),
      i.setupDequeueing();
  },
  pn = Sd.prototype;
pn.reasons = oc;
pn.getTextureQueue = function (e) {
  var t = this;
  return (
    (t.eleImgCaches = t.eleImgCaches || {}),
    (t.eleImgCaches[e] = t.eleImgCaches[e] || [])
  );
};
pn.getRetiredTextureQueue = function (e) {
  var t = this,
    n = (t.eleImgCaches.retired = t.eleImgCaches.retired || {}),
    i = (n[e] = n[e] || []);
  return i;
};
pn.getElementQueue = function () {
  var e = this,
    t = (e.eleCacheQueue =
      e.eleCacheQueue ||
      new Ud(function (n, i) {
        return i.reqs - n.reqs;
      }));
  return t;
};
pn.getElementKeyToQueue = function () {
  var e = this,
    t = (e.eleKeyToCacheQueue = e.eleKeyToCacheQueue || {});
  return t;
};
pn.getElement = function (e, t, n, i, r) {
  var a = this,
    o = this.renderer,
    s = o.cy.zoom(),
    l = this.lookup;
  if (
    !t ||
    t.w === 0 ||
    t.h === 0 ||
    isNaN(t.w) ||
    isNaN(t.h) ||
    !e.visible() ||
    e.removed() ||
    (!a.allowEdgeTxrCaching && e.isEdge()) ||
    (!a.allowParentTxrCaching && e.isParent())
  )
    return null;
  if ((i == null && (i = Math.ceil(s0(s * n))), i < $p)) i = $p;
  else if (s >= U3 || i > Xy) return null;
  var c = Math.pow(2, i),
    u = t.h * c,
    d = t.w * c,
    h = o.eleTextBiggerThanMin(e, c);
  if (!this.isVisible(e, h)) return null;
  var p = l.get(e, i);
  if (
    (p &&
      p.invalidated &&
      ((p.invalidated = !1), (p.texture.invalidatedWidth -= p.width)),
    p)
  )
    return p;
  var m;
  if (
    (u <= OS ? (m = OS) : u <= Fp ? (m = Fp) : (m = Math.ceil(u / Fp) * Fp),
    u > G3 || d > $3)
  )
    return null;
  var _ = a.getTextureQueue(m),
    v = _[_.length - 2],
    y = function () {
      return a.recycleTexture(m, d) || a.addTexture(m, d);
    };
  v || (v = _[_.length - 1]),
    v || (v = y()),
    v.width - v.usedWidth < d && (v = y());
  for (
    var w = function (U) {
        return U && U.scaledLabelShown === h;
      },
      x = r && r === oc.dequeue,
      C = r && r === oc.highQuality,
      S = r && r === oc.downscale,
      g,
      D = i + 1;
    D <= Xy;
    D++
  ) {
    var T = l.get(e, D);
    if (T) {
      g = T;
      break;
    }
  }
  var O = g && g.level === i + 1 ? g : null,
    R = function () {
      v.context.drawImage(
        O.texture.canvas,
        O.x,
        0,
        O.width,
        O.height,
        v.usedWidth,
        0,
        d,
        u
      );
    };
  if (
    (v.context.setTransform(1, 0, 0, 1, 0, 0),
    v.context.clearRect(v.usedWidth, 0, d, m),
    w(O))
  )
    R();
  else if (w(g))
    if (C) {
      for (var P = g.level; P > i; P--)
        O = a.getElement(e, t, n, P, oc.downscale);
      R();
    } else return a.queueElement(e, g.level - 1), g;
  else {
    var L;
    if (!x && !C && !S)
      for (var V = i - 1; V >= $p; V--) {
        var B = l.get(e, V);
        if (B) {
          L = B;
          break;
        }
      }
    if (w(L)) return a.queueElement(e, i), L;
    v.context.translate(v.usedWidth, 0),
      v.context.scale(c, c),
      this.drawElement(v.context, e, t, h, !1),
      v.context.scale(1 / c, 1 / c),
      v.context.translate(-v.usedWidth, 0);
  }
  return (
    (p = {
      x: v.usedWidth,
      texture: v,
      level: i,
      scale: c,
      width: d,
      height: u,
      scaledLabelShown: h,
    }),
    (v.usedWidth += Math.ceil(d + H3)),
    v.eleCaches.push(p),
    l.set(e, i, p),
    a.checkTextureFullness(v),
    p
  );
};
pn.invalidateElements = function (e) {
  for (var t = 0; t < e.length; t++) this.invalidateElement(e[t]);
};
pn.invalidateElement = function (e) {
  var t = this,
    n = t.lookup,
    i = [],
    r = n.isInvalid(e);
  if (r) {
    for (var a = $p; a <= Xy; a++) {
      var o = n.getForCachedKey(e, a);
      o && i.push(o);
    }
    var s = n.invalidate(e);
    if (s)
      for (var l = 0; l < i.length; l++) {
        var c = i[l],
          u = c.texture;
        (u.invalidatedWidth += c.width),
          (c.invalidated = !0),
          t.checkTextureUtility(u);
      }
    t.removeFromQueue(e);
  }
};
pn.checkTextureUtility = function (e) {
  e.invalidatedWidth >= Y3 * e.width && this.retireTexture(e);
};
pn.checkTextureFullness = function (e) {
  var t = this,
    n = t.getTextureQueue(e.height);
  e.usedWidth / e.width > K3 && e.fullnessChecks >= X3
    ? Vo(n, e)
    : e.fullnessChecks++;
};
pn.retireTexture = function (e) {
  var t = this,
    n = e.height,
    i = t.getTextureQueue(n),
    r = this.lookup;
  Vo(i, e), (e.retired = !0);
  for (var a = e.eleCaches, o = 0; o < a.length; o++) {
    var s = a[o];
    r.deleteCache(s.key, s.level);
  }
  o0(a);
  var l = t.getRetiredTextureQueue(n);
  l.push(e);
};
pn.addTexture = function (e, t) {
  var n = this,
    i = n.getTextureQueue(e),
    r = {};
  return (
    i.push(r),
    (r.eleCaches = []),
    (r.height = e),
    (r.width = Math.max(W3, t)),
    (r.usedWidth = 0),
    (r.invalidatedWidth = 0),
    (r.fullnessChecks = 0),
    (r.canvas = n.renderer.makeOffscreenCanvas(r.width, r.height)),
    (r.context = r.canvas.getContext('2d')),
    r
  );
};
pn.recycleTexture = function (e, t) {
  for (
    var n = this,
      i = n.getTextureQueue(e),
      r = n.getRetiredTextureQueue(e),
      a = 0;
    a < r.length;
    a++
  ) {
    var o = r[a];
    if (o.width >= t)
      return (
        (o.retired = !1),
        (o.usedWidth = 0),
        (o.invalidatedWidth = 0),
        (o.fullnessChecks = 0),
        o0(o.eleCaches),
        o.context.setTransform(1, 0, 0, 1, 0, 0),
        o.context.clearRect(0, 0, o.width, o.height),
        Vo(r, o),
        i.push(o),
        o
      );
  }
};
pn.queueElement = function (e, t) {
  var n = this,
    i = n.getElementQueue(),
    r = n.getElementKeyToQueue(),
    a = this.getKey(e),
    o = r[a];
  if (o)
    (o.level = Math.max(o.level, t)),
      o.eles.merge(e),
      o.reqs++,
      i.updateItem(o);
  else {
    var s = { eles: e.spawn().merge(e), level: t, reqs: 1, key: a };
    i.push(s), (r[a] = s);
  }
};
pn.dequeue = function (e) {
  for (
    var t = this,
      n = t.getElementQueue(),
      i = t.getElementKeyToQueue(),
      r = [],
      a = t.lookup,
      o = 0;
    o < i4 && n.size() > 0;
    o++
  ) {
    var s = n.pop(),
      l = s.key,
      c = s.eles[0],
      u = a.hasCache(c, s.level);
    if (((i[l] = null), u)) continue;
    r.push(s);
    var d = t.getBoundingBox(c);
    t.getElement(c, d, e, s.level, oc.dequeue);
  }
  return r;
};
pn.removeFromQueue = function (e) {
  var t = this,
    n = t.getElementQueue(),
    i = t.getElementKeyToQueue(),
    r = this.getKey(e),
    a = i[r];
  a != null &&
    (a.eles.length === 1
      ? ((a.reqs = r0), n.updateItem(a), n.pop(), (i[r] = null))
      : a.eles.unmerge(e));
};
pn.onDequeue = function (e) {
  this.onDequeues.push(e);
};
pn.offDequeue = function (e) {
  Vo(this.onDequeues, e);
};
pn.setupDequeueing = hT.setupDequeueing({
  deqRedrawThreshold: e4,
  deqCost: Z3,
  deqAvgCost: Q3,
  deqNoDrawCost: J3,
  deqFastCost: t4,
  deq: function (t, n, i) {
    return t.dequeue(n, i);
  },
  onDeqd: function (t, n) {
    for (var i = 0; i < t.onDequeues.length; i++) {
      var r = t.onDequeues[i];
      r(n);
    }
  },
  shouldRedraw: function (t, n, i, r) {
    for (var a = 0; a < n.length; a++)
      for (var o = n[a].eles, s = 0; s < o.length; s++) {
        var l = o[s].boundingBox();
        if (l0(l, r)) return !0;
      }
    return !1;
  },
  priority: function (t) {
    return t.renderer.beforeRenderPriorities.eleTxrDeq;
  },
});
var r4 = 1,
  Td = -4,
  nm = 2,
  a4 = 3.99,
  o4 = 50,
  s4 = 50,
  l4 = 0.15,
  c4 = 0.1,
  u4 = 0.9,
  d4 = 0.9,
  h4 = 1,
  PS = 250,
  f4 = 4e3 * 4e3,
  p4 = !0,
  fT = function (t) {
    var n = this,
      i = (n.renderer = t),
      r = i.cy;
    (n.layersByLevel = {}),
      (n.firstGet = !0),
      (n.lastInvalidationTime = Za() - 2 * PS),
      (n.skipping = !1),
      (n.eleTxrDeqs = r.collection()),
      (n.scheduleElementRefinement = om(function () {
        n.refineElementTextures(n.eleTxrDeqs),
          n.eleTxrDeqs.unmerge(n.eleTxrDeqs);
      }, s4)),
      i.beforeRender(function (o, s) {
        s - n.lastInvalidationTime <= PS
          ? (n.skipping = !0)
          : (n.skipping = !1);
      }, i.beforeRenderPriorities.lyrTxrSkip);
    var a = function (s, l) {
      return l.reqs - s.reqs;
    };
    (n.layersQueue = new Ud(a)), n.setupDequeueing();
  },
  In = fT.prototype,
  LS = 0,
  m4 = Math.pow(2, 53) - 1;
In.makeLayer = function (e, t) {
  var n = Math.pow(2, t),
    i = Math.ceil(e.w * n),
    r = Math.ceil(e.h * n),
    a = this.renderer.makeOffscreenCanvas(i, r),
    o = {
      id: (LS = ++LS % m4),
      bb: e,
      level: t,
      width: i,
      height: r,
      canvas: a,
      context: a.getContext('2d'),
      eles: [],
      elesQueue: [],
      reqs: 0,
    },
    s = o.context,
    l = -o.bb.x1,
    c = -o.bb.y1;
  return s.scale(n, n), s.translate(l, c), o;
};
In.getLayers = function (e, t, n) {
  var i = this,
    r = i.renderer,
    a = r.cy,
    o = a.zoom(),
    s = i.firstGet;
  if (((i.firstGet = !1), n == null)) {
    if (((n = Math.ceil(s0(o * t))), n < Td)) n = Td;
    else if (o >= a4 || n > nm) return null;
  }
  i.validateLayersElesOrdering(n, e);
  var l = i.layersByLevel,
    c = Math.pow(2, n),
    u = (l[n] = l[n] || []),
    d,
    h = i.levelIsComplete(n, e),
    p,
    m = function () {
      var R = function (q) {
          if ((i.validateLayersElesOrdering(q, e), i.levelIsComplete(q, e)))
            return (p = l[q]), !0;
        },
        P = function (q) {
          if (!p) for (var U = n + q; Td <= U && U <= nm && !R(U); U += q);
        };
      P(1), P(-1);
      for (var L = u.length - 1; L >= 0; L--) {
        var V = u[L];
        V.invalid && Vo(u, V);
      }
    };
  if (!h) m();
  else return u;
  var _ = function () {
      if (!d) {
        d = or();
        for (var R = 0; R < e.length; R++) cD(d, e[R].boundingBox());
      }
      return d;
    },
    v = function (R) {
      R = R || {};
      var P = R.after;
      _();
      var L = d.w * c * (d.h * c);
      if (L > f4) return null;
      var V = i.makeLayer(d, n);
      if (P != null) {
        var B = u.indexOf(P) + 1;
        u.splice(B, 0, V);
      } else (R.insert === void 0 || R.insert) && u.unshift(V);
      return V;
    };
  if (i.skipping && !s) return null;
  for (var y = null, w = e.length / r4, x = !s, C = 0; C < e.length; C++) {
    var S = e[C],
      g = S._private.rscratch,
      D = (g.imgLayerCaches = g.imgLayerCaches || {}),
      T = D[n];
    if (T) {
      y = T;
      continue;
    }
    if (
      (!y || y.eles.length >= w || !uD(y.bb, S.boundingBox())) &&
      ((y = v({ insert: !0, after: y })), !y)
    )
      return null;
    p || x ? i.queueLayer(y, S) : i.drawEleInLayer(y, S, n, t),
      y.eles.push(S),
      (D[n] = y);
  }
  return p || (x ? null : u);
};
In.getEleLevelForLayerLevel = function (e, t) {
  return e;
};
In.drawEleInLayer = function (e, t, n, i) {
  var r = this,
    a = this.renderer,
    o = e.context,
    s = t.boundingBox();
  s.w === 0 ||
    s.h === 0 ||
    !t.visible() ||
    ((n = r.getEleLevelForLayerLevel(n, i)),
    a.setImgSmoothing(o, !1),
    a.drawCachedElement(o, t, null, null, n, p4),
    a.setImgSmoothing(o, !0));
};
In.levelIsComplete = function (e, t) {
  var n = this,
    i = n.layersByLevel[e];
  if (!i || i.length === 0) return !1;
  for (var r = 0, a = 0; a < i.length; a++) {
    var o = i[a];
    if (o.reqs > 0 || o.invalid) return !1;
    r += o.eles.length;
  }
  return r === t.length;
};
In.validateLayersElesOrdering = function (e, t) {
  var n = this.layersByLevel[e];
  if (n)
    for (var i = 0; i < n.length; i++) {
      for (var r = n[i], a = -1, o = 0; o < t.length; o++)
        if (r.eles[0] === t[o]) {
          a = o;
          break;
        }
      if (a < 0) {
        this.invalidateLayer(r);
        continue;
      }
      for (var s = a, o = 0; o < r.eles.length; o++)
        if (r.eles[o] !== t[s + o]) {
          this.invalidateLayer(r);
          break;
        }
    }
};
In.updateElementsInLayers = function (e, t) {
  for (var n = this, i = jd(e[0]), r = 0; r < e.length; r++)
    for (
      var a = i ? null : e[r],
        o = i ? e[r] : e[r].ele,
        s = o._private.rscratch,
        l = (s.imgLayerCaches = s.imgLayerCaches || {}),
        c = Td;
      c <= nm;
      c++
    ) {
      var u = l[c];
      u &&
        ((a && n.getEleLevelForLayerLevel(u.level) !== a.level) || t(u, o, a));
    }
};
In.haveLayers = function () {
  for (var e = this, t = !1, n = Td; n <= nm; n++) {
    var i = e.layersByLevel[n];
    if (i && i.length > 0) {
      t = !0;
      break;
    }
  }
  return t;
};
In.invalidateElements = function (e) {
  var t = this;
  e.length !== 0 &&
    ((t.lastInvalidationTime = Za()),
    !(e.length === 0 || !t.haveLayers()) &&
      t.updateElementsInLayers(e, function (i, r, a) {
        t.invalidateLayer(i);
      }));
};
In.invalidateLayer = function (e) {
  if (((this.lastInvalidationTime = Za()), !e.invalid)) {
    var t = e.level,
      n = e.eles,
      i = this.layersByLevel[t];
    Vo(i, e),
      (e.elesQueue = []),
      (e.invalid = !0),
      e.replacement && (e.replacement.invalid = !0);
    for (var r = 0; r < n.length; r++) {
      var a = n[r]._private.rscratch.imgLayerCaches;
      a && (a[t] = null);
    }
  }
};
In.refineElementTextures = function (e) {
  var t = this;
  t.updateElementsInLayers(e, function (i, r, a) {
    var o = i.replacement;
    if (
      (o ||
        ((o = i.replacement = t.makeLayer(i.bb, i.level)),
        (o.replaces = i),
        (o.eles = i.eles)),
      !o.reqs)
    )
      for (var s = 0; s < o.eles.length; s++) t.queueLayer(o, o.eles[s]);
  });
};
In.enqueueElementRefinement = function (e) {
  this.eleTxrDeqs.merge(e), this.scheduleElementRefinement();
};
In.queueLayer = function (e, t) {
  var n = this,
    i = n.layersQueue,
    r = e.elesQueue,
    a = (r.hasId = r.hasId || {});
  if (!e.replacement) {
    if (t) {
      if (a[t.id()]) return;
      r.push(t), (a[t.id()] = !0);
    }
    e.reqs ? (e.reqs++, i.updateItem(e)) : ((e.reqs = 1), i.push(e));
  }
};
In.dequeue = function (e) {
  for (
    var t = this, n = t.layersQueue, i = [], r = 0;
    r < h4 && n.size() !== 0;

  ) {
    var a = n.peek();
    if (a.replacement) {
      n.pop();
      continue;
    }
    if (a.replaces && a !== a.replaces.replacement) {
      n.pop();
      continue;
    }
    if (a.invalid) {
      n.pop();
      continue;
    }
    var o = a.elesQueue.shift();
    o && (t.drawEleInLayer(a, o, a.level, e), r++),
      i.length === 0 && i.push(!0),
      a.elesQueue.length === 0 &&
        (n.pop(),
        (a.reqs = 0),
        a.replaces && t.applyLayerReplacement(a),
        t.requestRedraw());
  }
  return i;
};
In.applyLayerReplacement = function (e) {
  var t = this,
    n = t.layersByLevel[e.level],
    i = e.replaces,
    r = n.indexOf(i);
  if (!(r < 0 || i.invalid)) {
    n[r] = e;
    for (var a = 0; a < e.eles.length; a++) {
      var o = e.eles[a]._private,
        s = (o.imgLayerCaches = o.imgLayerCaches || {});
      s && (s[e.level] = e);
    }
    t.requestRedraw();
  }
};
In.requestRedraw = om(function () {
  var e = this.renderer;
  e.redrawHint('eles', !0), e.redrawHint('drag', !0), e.redraw();
}, 100);
In.setupDequeueing = hT.setupDequeueing({
  deqRedrawThreshold: o4,
  deqCost: l4,
  deqAvgCost: c4,
  deqNoDrawCost: u4,
  deqFastCost: d4,
  deq: function (t, n) {
    return t.dequeue(n);
  },
  onDeqd: a0,
  shouldRedraw: nD,
  priority: function (t) {
    return t.renderer.beforeRenderPriorities.lyrTxrDeq;
  },
});
var pT = {},
  NS;
function g4(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    e.lineTo(i.x, i.y);
  }
}
function v4(e, t, n) {
  for (var i, r = 0; r < t.length; r++) {
    var a = t[r];
    r === 0 && (i = a), e.lineTo(a.x, a.y);
  }
  e.quadraticCurveTo(n.x, n.y, i.x, i.y);
}
function FS(e, t, n) {
  e.beginPath && e.beginPath();
  for (var i = t, r = 0; r < i.length; r++) {
    var a = i[r];
    e.lineTo(a.x, a.y);
  }
  var o = n,
    s = n[0];
  e.moveTo(s.x, s.y);
  for (var r = 1; r < o.length; r++) {
    var a = o[r];
    e.lineTo(a.x, a.y);
  }
  e.closePath && e.closePath();
}
function b4(e, t, n, i, r) {
  e.beginPath && e.beginPath(), e.arc(n, i, r, 0, Math.PI * 2, !1);
  var a = t,
    o = a[0];
  e.moveTo(o.x, o.y);
  for (var s = 0; s < a.length; s++) {
    var l = a[s];
    e.lineTo(l.x, l.y);
  }
  e.closePath && e.closePath();
}
function y4(e, t, n, i) {
  e.arc(t, n, i, 0, Math.PI * 2, !1);
}
pT.arrowShapeImpl = function (e) {
  return (NS ||
    (NS = {
      polygon: g4,
      'triangle-backcurve': v4,
      'triangle-tee': FS,
      'circle-triangle': b4,
      'triangle-cross': FS,
      circle: y4,
    }))[e];
};
var Ma = {};
Ma.drawElement = function (e, t, n, i, r, a) {
  var o = this;
  t.isNode() ? o.drawNode(e, t, n, i, r, a) : o.drawEdge(e, t, n, i, r, a);
};
Ma.drawElementOverlay = function (e, t) {
  var n = this;
  t.isNode() ? n.drawNodeOverlay(e, t) : n.drawEdgeOverlay(e, t);
};
Ma.drawElementUnderlay = function (e, t) {
  var n = this;
  t.isNode() ? n.drawNodeUnderlay(e, t) : n.drawEdgeUnderlay(e, t);
};
Ma.drawCachedElementPortion = function (e, t, n, i, r, a, o, s) {
  var l = this,
    c = n.getBoundingBox(t);
  if (!(c.w === 0 || c.h === 0)) {
    var u = n.getElement(t, c, i, r, a);
    if (u != null) {
      var d = s(l, t);
      if (d === 0) return;
      var h = o(l, t),
        p = c.x1,
        m = c.y1,
        _ = c.w,
        v = c.h,
        y,
        w,
        x,
        C,
        S;
      if (h !== 0) {
        var g = n.getRotationPoint(t);
        (x = g.x),
          (C = g.y),
          e.translate(x, C),
          e.rotate(h),
          (S = l.getImgSmoothing(e)),
          S || l.setImgSmoothing(e, !0);
        var D = n.getRotationOffset(t);
        (y = D.x), (w = D.y);
      } else (y = p), (w = m);
      var T;
      d !== 1 && ((T = e.globalAlpha), (e.globalAlpha = T * d)),
        e.drawImage(u.texture.canvas, u.x, 0, u.width, u.height, y, w, _, v),
        d !== 1 && (e.globalAlpha = T),
        h !== 0 &&
          (e.rotate(-h), e.translate(-x, -C), S || l.setImgSmoothing(e, !1));
    } else n.drawElement(e, t);
  }
};
var _4 = function () {
    return 0;
  },
  x4 = function (t, n) {
    return t.getTextAngle(n, null);
  },
  w4 = function (t, n) {
    return t.getTextAngle(n, 'source');
  },
  k4 = function (t, n) {
    return t.getTextAngle(n, 'target');
  },
  C4 = function (t, n) {
    return n.effectiveOpacity();
  },
  Ny = function (t, n) {
    return n.pstyle('text-opacity').pfValue * n.effectiveOpacity();
  };
Ma.drawCachedElement = function (e, t, n, i, r, a) {
  var o = this,
    s = o.data,
    l = s.eleTxrCache,
    c = s.lblTxrCache,
    u = s.slbTxrCache,
    d = s.tlbTxrCache,
    h = t.boundingBox(),
    p = a === !0 ? l.reasons.highQuality : null;
  if (!(h.w === 0 || h.h === 0 || !t.visible()) && (!i || l0(h, i))) {
    var m = t.isEdge(),
      _ = t.element()._private.rscratch.badLine;
    o.drawElementUnderlay(e, t),
      o.drawCachedElementPortion(e, t, l, n, r, p, _4, C4),
      (!m || !_) && o.drawCachedElementPortion(e, t, c, n, r, p, x4, Ny),
      m &&
        !_ &&
        (o.drawCachedElementPortion(e, t, u, n, r, p, w4, Ny),
        o.drawCachedElementPortion(e, t, d, n, r, p, k4, Ny)),
      o.drawElementOverlay(e, t);
  }
};
Ma.drawElements = function (e, t) {
  for (var n = this, i = 0; i < t.length; i++) {
    var r = t[i];
    n.drawElement(e, r);
  }
};
Ma.drawCachedElements = function (e, t, n, i) {
  for (var r = this, a = 0; a < t.length; a++) {
    var o = t[a];
    r.drawCachedElement(e, o, n, i);
  }
};
Ma.drawCachedNodes = function (e, t, n, i) {
  for (var r = this, a = 0; a < t.length; a++) {
    var o = t[a];
    o.isNode() && r.drawCachedElement(e, o, n, i);
  }
};
Ma.drawLayeredElements = function (e, t, n, i) {
  var r = this,
    a = r.data.lyrTxrCache.getLayers(t, n);
  if (a)
    for (var o = 0; o < a.length; o++) {
      var s = a[o],
        l = s.bb;
      l.w === 0 || l.h === 0 || e.drawImage(s.canvas, l.x1, l.y1, l.w, l.h);
    }
  else r.drawCachedElements(e, t, n, i);
};
var eo = {};
eo.drawEdge = function (e, t, n) {
  var i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0,
    r = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !0,
    a = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : !0,
    o = this,
    s = t._private.rscratch;
  if (
    !(a && !t.visible()) &&
    !(s.badLine || s.allpts == null || isNaN(s.allpts[0]))
  ) {
    var l;
    n && ((l = n), e.translate(-l.x1, -l.y1));
    var c = a ? t.pstyle('opacity').value : 1,
      u = a ? t.pstyle('line-opacity').value : 1,
      d = t.pstyle('curve-style').value,
      h = t.pstyle('line-style').value,
      p = t.pstyle('width').pfValue,
      m = t.pstyle('line-cap').value,
      _ = t.pstyle('line-outline-width').value,
      v = t.pstyle('line-outline-color').value,
      y = c * u,
      w = c * u,
      x = function () {
        var q =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : y;
        d === 'straight-triangle'
          ? (o.eleStrokeStyle(e, t, q), o.drawEdgeTrianglePath(t, e, s.allpts))
          : ((e.lineWidth = p),
            (e.lineCap = m),
            o.eleStrokeStyle(e, t, q),
            o.drawEdgePath(t, e, s.allpts, h),
            (e.lineCap = 'butt'));
      },
      C = function () {
        var q =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : y;
        if (((e.lineWidth = p + _), (e.lineCap = m), _ > 0))
          o.colorStrokeStyle(e, v[0], v[1], v[2], q);
        else {
          e.lineCap = 'butt';
          return;
        }
        d === 'straight-triangle'
          ? o.drawEdgeTrianglePath(t, e, s.allpts)
          : (o.drawEdgePath(t, e, s.allpts, h), (e.lineCap = 'butt'));
      },
      S = function () {
        r && o.drawEdgeOverlay(e, t);
      },
      g = function () {
        r && o.drawEdgeUnderlay(e, t);
      },
      D = function () {
        var q =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : w;
        o.drawArrowheads(e, t, q);
      },
      T = function () {
        o.drawElementText(e, t, null, i);
      };
    e.lineJoin = 'round';
    var O = t.pstyle('ghost').value === 'yes';
    if (O) {
      var R = t.pstyle('ghost-offset-x').pfValue,
        P = t.pstyle('ghost-offset-y').pfValue,
        L = t.pstyle('ghost-opacity').value,
        V = y * L;
      e.translate(R, P), x(V), D(V), e.translate(-R, -P);
    } else C();
    g(), x(), D(), S(), T(), n && e.translate(l.x1, l.y1);
  }
};
var mT = function (t) {
  if (!['overlay', 'underlay'].includes(t)) throw new Error('Invalid state');
  return function (n, i) {
    if (i.visible()) {
      var r = i.pstyle(''.concat(t, '-opacity')).value;
      if (r !== 0) {
        var a = this,
          o = a.usePaths(),
          s = i._private.rscratch,
          l = i.pstyle(''.concat(t, '-padding')).pfValue,
          c = 2 * l,
          u = i.pstyle(''.concat(t, '-color')).value;
        (n.lineWidth = c),
          s.edgeType === 'self' && !o
            ? (n.lineCap = 'butt')
            : (n.lineCap = 'round'),
          a.colorStrokeStyle(n, u[0], u[1], u[2], r),
          a.drawEdgePath(i, n, s.allpts, 'solid');
      }
    }
  };
};
eo.drawEdgeOverlay = mT('overlay');
eo.drawEdgeUnderlay = mT('underlay');
eo.drawEdgePath = function (e, t, n, i) {
  var r = e._private.rscratch,
    a = t,
    o,
    s = !1,
    l = this.usePaths(),
    c = e.pstyle('line-dash-pattern').pfValue,
    u = e.pstyle('line-dash-offset').pfValue;
  if (l) {
    var d = n.join('$'),
      h = r.pathCacheKey && r.pathCacheKey === d;
    h
      ? ((o = t = r.pathCache), (s = !0))
      : ((o = t = new Path2D()), (r.pathCacheKey = d), (r.pathCache = o));
  }
  if (a.setLineDash)
    switch (i) {
      case 'dotted':
        a.setLineDash([1, 1]);
        break;
      case 'dashed':
        a.setLineDash(c), (a.lineDashOffset = u);
        break;
      case 'solid':
        a.setLineDash([]);
        break;
    }
  if (!s && !r.badLine)
    switch ((t.beginPath && t.beginPath(), t.moveTo(n[0], n[1]), r.edgeType)) {
      case 'bezier':
      case 'self':
      case 'compound':
      case 'multibezier':
        for (var p = 2; p + 3 < n.length; p += 4)
          t.quadraticCurveTo(n[p], n[p + 1], n[p + 2], n[p + 3]);
        break;
      case 'straight':
      case 'haystack':
        for (var m = 2; m + 1 < n.length; m += 2) t.lineTo(n[m], n[m + 1]);
        break;
      case 'segments':
        if (r.isRound) {
          var _ = US(r.roundCorners),
            v;
          try {
            for (_.s(); !(v = _.n()).done; ) {
              var y = v.value;
              rT(t, y);
            }
          } catch (x) {
            _.e(x);
          } finally {
            _.f();
          }
          t.lineTo(n[n.length - 2], n[n.length - 1]);
        } else
          for (var w = 2; w + 1 < n.length; w += 2) t.lineTo(n[w], n[w + 1]);
        break;
    }
  (t = a), l ? t.stroke(o) : t.stroke(), t.setLineDash && t.setLineDash([]);
};
eo.drawEdgeTrianglePath = function (e, t, n) {
  t.fillStyle = t.strokeStyle;
  for (var i = e.pstyle('width').pfValue, r = 0; r + 1 < n.length; r += 2) {
    var a = [n[r + 2] - n[r], n[r + 3] - n[r + 1]],
      o = Math.sqrt(a[0] * a[0] + a[1] * a[1]),
      s = [a[1] / o, -a[0] / o],
      l = [(s[0] * i) / 2, (s[1] * i) / 2];
    t.beginPath(),
      t.moveTo(n[r] - l[0], n[r + 1] - l[1]),
      t.lineTo(n[r] + l[0], n[r + 1] + l[1]),
      t.lineTo(n[r + 2], n[r + 3]),
      t.closePath(),
      t.fill();
  }
};
eo.drawArrowheads = function (e, t, n) {
  var i = t._private.rscratch,
    r = i.edgeType === 'haystack';
  r ||
    this.drawArrowhead(
      e,
      t,
      'source',
      i.arrowStartX,
      i.arrowStartY,
      i.srcArrowAngle,
      n
    ),
    this.drawArrowhead(
      e,
      t,
      'mid-target',
      i.midX,
      i.midY,
      i.midtgtArrowAngle,
      n
    ),
    this.drawArrowhead(
      e,
      t,
      'mid-source',
      i.midX,
      i.midY,
      i.midsrcArrowAngle,
      n
    ),
    r ||
      this.drawArrowhead(
        e,
        t,
        'target',
        i.arrowEndX,
        i.arrowEndY,
        i.tgtArrowAngle,
        n
      );
};
eo.drawArrowhead = function (e, t, n, i, r, a, o) {
  if (
    !(isNaN(i) || i == null || isNaN(r) || r == null || isNaN(a) || a == null)
  ) {
    var s = this,
      l = t.pstyle(n + '-arrow-shape').value;
    if (l !== 'none') {
      var c =
          t.pstyle(n + '-arrow-fill').value === 'hollow' ? 'both' : 'filled',
        u = t.pstyle(n + '-arrow-fill').value,
        d = t.pstyle('width').pfValue,
        h = t.pstyle(n + '-arrow-width'),
        p = h.value === 'match-line' ? d : h.pfValue;
      h.units === '%' && (p *= d);
      var m = t.pstyle('opacity').value;
      o === void 0 && (o = m);
      var _ = e.globalCompositeOperation;
      (o !== 1 || u === 'hollow') &&
        ((e.globalCompositeOperation = 'destination-out'),
        s.colorFillStyle(e, 255, 255, 255, 1),
        s.colorStrokeStyle(e, 255, 255, 255, 1),
        s.drawArrowShape(t, e, c, d, l, p, i, r, a),
        (e.globalCompositeOperation = _));
      var v = t.pstyle(n + '-arrow-color').value;
      s.colorFillStyle(e, v[0], v[1], v[2], o),
        s.colorStrokeStyle(e, v[0], v[1], v[2], o),
        s.drawArrowShape(t, e, u, d, l, p, i, r, a);
    }
  }
};
eo.drawArrowShape = function (e, t, n, i, r, a, o, s, l) {
  var c = this,
    u = this.usePaths() && r !== 'triangle-cross',
    d = !1,
    h,
    p = t,
    m = { x: o, y: s },
    _ = e.pstyle('arrow-scale').value,
    v = this.getArrowWidth(i, _),
    y = c.arrowShapes[r];
  if (u) {
    var w = (c.arrowPathCache = c.arrowPathCache || []),
      x = Zs(r),
      C = w[x];
    C != null ? ((h = t = C), (d = !0)) : ((h = t = new Path2D()), (w[x] = h));
  }
  d ||
    (t.beginPath && t.beginPath(),
    u ? y.draw(t, 1, 0, { x: 0, y: 0 }, 1) : y.draw(t, v, l, m, i),
    t.closePath && t.closePath()),
    (t = p),
    u && (t.translate(o, s), t.rotate(l), t.scale(v, v)),
    (n === 'filled' || n === 'both') && (u ? t.fill(h) : t.fill()),
    (n === 'hollow' || n === 'both') &&
      ((t.lineWidth = a / (u ? v : 1)),
      (t.lineJoin = 'miter'),
      u ? t.stroke(h) : t.stroke()),
    u && (t.scale(1 / v, 1 / v), t.rotate(-l), t.translate(-o, -s));
};
var k0 = {};
k0.safeDrawImage = function (e, t, n, i, r, a, o, s, l, c) {
  if (!(r <= 0 || a <= 0 || l <= 0 || c <= 0))
    try {
      e.drawImage(t, n, i, r, a, o, s, l, c);
    } catch (u) {
      li(u);
    }
};
k0.drawInscribedImage = function (e, t, n, i, r) {
  var a = this,
    o = n.position(),
    s = o.x,
    l = o.y,
    c = n.cy().style(),
    u = c.getIndexedStyle.bind(c),
    d = u(n, 'background-fit', 'value', i),
    h = u(n, 'background-repeat', 'value', i),
    p = n.width(),
    m = n.height(),
    _ = n.padding() * 2,
    v =
      p +
      (u(n, 'background-width-relative-to', 'value', i) === 'inner' ? 0 : _),
    y =
      m +
      (u(n, 'background-height-relative-to', 'value', i) === 'inner' ? 0 : _),
    w = n._private.rscratch,
    x = u(n, 'background-clip', 'value', i),
    C = x === 'node',
    S = u(n, 'background-image-opacity', 'value', i) * r,
    g = u(n, 'background-image-smoothing', 'value', i),
    D = n.pstyle('corner-radius').value;
  D !== 'auto' && (D = n.pstyle('corner-radius').pfValue);
  var T = t.width || t.cachedW,
    O = t.height || t.cachedH;
  (T == null || O == null) &&
    (document.body.appendChild(t),
    (T = t.cachedW = t.width || t.offsetWidth),
    (O = t.cachedH = t.height || t.offsetHeight),
    document.body.removeChild(t));
  var R = T,
    P = O;
  if (
    (u(n, 'background-width', 'value', i) !== 'auto' &&
      (u(n, 'background-width', 'units', i) === '%'
        ? (R = u(n, 'background-width', 'pfValue', i) * v)
        : (R = u(n, 'background-width', 'pfValue', i))),
    u(n, 'background-height', 'value', i) !== 'auto' &&
      (u(n, 'background-height', 'units', i) === '%'
        ? (P = u(n, 'background-height', 'pfValue', i) * y)
        : (P = u(n, 'background-height', 'pfValue', i))),
    !(R === 0 || P === 0))
  ) {
    if (d === 'contain') {
      var L = Math.min(v / R, y / P);
      (R *= L), (P *= L);
    } else if (d === 'cover') {
      var L = Math.max(v / R, y / P);
      (R *= L), (P *= L);
    }
    var V = s - v / 2,
      B = u(n, 'background-position-x', 'units', i),
      q = u(n, 'background-position-x', 'pfValue', i);
    B === '%' ? (V += (v - R) * q) : (V += q);
    var U = u(n, 'background-offset-x', 'units', i),
      W = u(n, 'background-offset-x', 'pfValue', i);
    U === '%' ? (V += (v - R) * W) : (V += W);
    var Z = l - y / 2,
      it = u(n, 'background-position-y', 'units', i),
      rt = u(n, 'background-position-y', 'pfValue', i);
    it === '%' ? (Z += (y - P) * rt) : (Z += rt);
    var nt = u(n, 'background-offset-y', 'units', i),
      J = u(n, 'background-offset-y', 'pfValue', i);
    nt === '%' ? (Z += (y - P) * J) : (Z += J),
      w.pathCache && ((V -= s), (Z -= l), (s = 0), (l = 0));
    var dt = e.globalAlpha;
    e.globalAlpha = S;
    var yt = a.getImgSmoothing(e),
      wt = !1;
    if (
      (g === 'no' && yt
        ? (a.setImgSmoothing(e, !1), (wt = !0))
        : g === 'yes' && !yt && (a.setImgSmoothing(e, !0), (wt = !0)),
      h === 'no-repeat')
    )
      C &&
        (e.save(),
        w.pathCache
          ? e.clip(w.pathCache)
          : (a.nodeShapes[a.getNodeShape(n)].draw(e, s, l, v, y, D, w),
            e.clip())),
        a.safeDrawImage(e, t, 0, 0, T, O, V, Z, R, P),
        C && e.restore();
    else {
      var bt = e.createPattern(t, h);
      (e.fillStyle = bt),
        a.nodeShapes[a.getNodeShape(n)].draw(e, s, l, v, y, D, w),
        e.translate(V, Z),
        e.fill(),
        e.translate(-V, -Z);
    }
    (e.globalAlpha = dt), wt && a.setImgSmoothing(e, yt);
  }
};
var rl = {};
rl.eleTextBiggerThanMin = function (e, t) {
  if (!t) {
    var n = e.cy().zoom(),
      i = this.getPixelRatio(),
      r = Math.ceil(s0(n * i));
    t = Math.pow(2, r);
  }
  var a = e.pstyle('font-size').pfValue * t,
    o = e.pstyle('min-zoomed-font-size').pfValue;
  return !(a < o);
};
rl.drawElementText = function (e, t, n, i, r) {
  var a = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : !0,
    o = this;
  if (i == null) {
    if (a && !o.eleTextBiggerThanMin(t)) return;
  } else if (i === !1) return;
  if (t.isNode()) {
    var s = t.pstyle('label');
    if (!s || !s.value) return;
    var l = o.getLabelJustification(t);
    (e.textAlign = l), (e.textBaseline = 'bottom');
  } else {
    var c = t.element()._private.rscratch.badLine,
      u = t.pstyle('label'),
      d = t.pstyle('source-label'),
      h = t.pstyle('target-label');
    if (c || ((!u || !u.value) && (!d || !d.value) && (!h || !h.value))) return;
    (e.textAlign = 'center'), (e.textBaseline = 'bottom');
  }
  var p = !n,
    m;
  n && ((m = n), e.translate(-m.x1, -m.y1)),
    r == null
      ? (o.drawText(e, t, null, p, a),
        t.isEdge() &&
          (o.drawText(e, t, 'source', p, a), o.drawText(e, t, 'target', p, a)))
      : o.drawText(e, t, r, p, a),
    n && e.translate(m.x1, m.y1);
};
rl.getFontCache = function (e) {
  var t;
  this.fontCaches = this.fontCaches || [];
  for (var n = 0; n < this.fontCaches.length; n++)
    if (((t = this.fontCaches[n]), t.context === e)) return t;
  return (t = { context: e }), this.fontCaches.push(t), t;
};
rl.setupTextStyle = function (e, t) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0,
    i = t.pstyle('font-style').strValue,
    r = t.pstyle('font-size').pfValue + 'px',
    a = t.pstyle('font-family').strValue,
    o = t.pstyle('font-weight').strValue,
    s = n ? t.effectiveOpacity() * t.pstyle('text-opacity').value : 1,
    l = t.pstyle('text-outline-opacity').value * s,
    c = t.pstyle('color').value,
    u = t.pstyle('text-outline-color').value;
  (e.font = i + ' ' + o + ' ' + r + ' ' + a),
    (e.lineJoin = 'round'),
    this.colorFillStyle(e, c[0], c[1], c[2], s),
    this.colorStrokeStyle(e, u[0], u[1], u[2], l);
};
function Fy(e, t, n, i, r) {
  var a = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : 5,
    o = arguments.length > 6 ? arguments[6] : void 0;
  e.beginPath(),
    e.moveTo(t + a, n),
    e.lineTo(t + i - a, n),
    e.quadraticCurveTo(t + i, n, t + i, n + a),
    e.lineTo(t + i, n + r - a),
    e.quadraticCurveTo(t + i, n + r, t + i - a, n + r),
    e.lineTo(t + a, n + r),
    e.quadraticCurveTo(t, n + r, t, n + r - a),
    e.lineTo(t, n + a),
    e.quadraticCurveTo(t, n, t + a, n),
    e.closePath(),
    o ? e.stroke() : e.fill();
}
rl.getTextAngle = function (e, t) {
  var n,
    i = e._private,
    r = i.rscratch,
    a = t ? t + '-' : '',
    o = e.pstyle(a + 'text-rotation'),
    s = ra(r, 'labelAngle', t);
  return (
    o.strValue === 'autorotate'
      ? (n = e.isEdge() ? s : 0)
      : o.strValue === 'none'
        ? (n = 0)
        : (n = o.pfValue),
    n
  );
};
rl.drawText = function (e, t, n) {
  var i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0,
    r = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !0,
    a = t._private,
    o = a.rscratch,
    s = r ? t.effectiveOpacity() : 1;
  if (!(r && (s === 0 || t.pstyle('text-opacity').value === 0))) {
    n === 'main' && (n = null);
    var l = ra(o, 'labelX', n),
      c = ra(o, 'labelY', n),
      u,
      d,
      h = this.getLabelText(t, n);
    if (h != null && h !== '' && !isNaN(l) && !isNaN(c)) {
      this.setupTextStyle(e, t, r);
      var p = n ? n + '-' : '',
        m = ra(o, 'labelWidth', n),
        _ = ra(o, 'labelHeight', n),
        v = t.pstyle(p + 'text-margin-x').pfValue,
        y = t.pstyle(p + 'text-margin-y').pfValue,
        w = t.isEdge(),
        x = t.pstyle('text-halign').value,
        C = t.pstyle('text-valign').value;
      w && ((x = 'center'), (C = 'center')), (l += v), (c += y);
      var S;
      switch (
        (i ? (S = this.getTextAngle(t, n)) : (S = 0),
        S !== 0 &&
          ((u = l), (d = c), e.translate(u, d), e.rotate(S), (l = 0), (c = 0)),
        C)
      ) {
        case 'top':
          break;
        case 'center':
          c += _ / 2;
          break;
        case 'bottom':
          c += _;
          break;
      }
      var g = t.pstyle('text-background-opacity').value,
        D = t.pstyle('text-border-opacity').value,
        T = t.pstyle('text-border-width').pfValue,
        O = t.pstyle('text-background-padding').pfValue,
        R = t.pstyle('text-background-shape').strValue,
        P = R.indexOf('round') === 0,
        L = 2;
      if (g > 0 || (T > 0 && D > 0)) {
        var V = l - O;
        switch (x) {
          case 'left':
            V -= m;
            break;
          case 'center':
            V -= m / 2;
            break;
        }
        var B = c - _ - O,
          q = m + 2 * O,
          U = _ + 2 * O;
        if (g > 0) {
          var W = e.fillStyle,
            Z = t.pstyle('text-background-color').value;
          (e.fillStyle =
            'rgba(' + Z[0] + ',' + Z[1] + ',' + Z[2] + ',' + g * s + ')'),
            P ? Fy(e, V, B, q, U, L) : e.fillRect(V, B, q, U),
            (e.fillStyle = W);
        }
        if (T > 0 && D > 0) {
          var it = e.strokeStyle,
            rt = e.lineWidth,
            nt = t.pstyle('text-border-color').value,
            J = t.pstyle('text-border-style').value;
          if (
            ((e.strokeStyle =
              'rgba(' + nt[0] + ',' + nt[1] + ',' + nt[2] + ',' + D * s + ')'),
            (e.lineWidth = T),
            e.setLineDash)
          )
            switch (J) {
              case 'dotted':
                e.setLineDash([1, 1]);
                break;
              case 'dashed':
                e.setLineDash([4, 2]);
                break;
              case 'double':
                (e.lineWidth = T / 4), e.setLineDash([]);
                break;
              case 'solid':
                e.setLineDash([]);
                break;
            }
          if (
            (P ? Fy(e, V, B, q, U, L, 'stroke') : e.strokeRect(V, B, q, U),
            J === 'double')
          ) {
            var dt = T / 2;
            P
              ? Fy(e, V + dt, B + dt, q - dt * 2, U - dt * 2, L, 'stroke')
              : e.strokeRect(V + dt, B + dt, q - dt * 2, U - dt * 2);
          }
          e.setLineDash && e.setLineDash([]),
            (e.lineWidth = rt),
            (e.strokeStyle = it);
        }
      }
      var yt = 2 * t.pstyle('text-outline-width').pfValue;
      if (
        (yt > 0 && (e.lineWidth = yt), t.pstyle('text-wrap').value === 'wrap')
      ) {
        var wt = ra(o, 'labelWrapCachedLines', n),
          bt = ra(o, 'labelLineHeight', n),
          At = m / 2,
          _t = this.getLabelJustification(t);
        switch (
          (_t === 'auto' ||
            (x === 'left'
              ? _t === 'left'
                ? (l += -m)
                : _t === 'center' && (l += -At)
              : x === 'center'
                ? _t === 'left'
                  ? (l += -At)
                  : _t === 'right' && (l += At)
                : x === 'right' &&
                  (_t === 'center' ? (l += At) : _t === 'right' && (l += m))),
          C)
        ) {
          case 'top':
            c -= (wt.length - 1) * bt;
            break;
          case 'center':
          case 'bottom':
            c -= (wt.length - 1) * bt;
            break;
        }
        for (var K = 0; K < wt.length; K++)
          yt > 0 && e.strokeText(wt[K], l, c),
            e.fillText(wt[K], l, c),
            (c += bt);
      } else yt > 0 && e.strokeText(h, l, c), e.fillText(h, l, c);
      S !== 0 && (e.rotate(-S), e.translate(-u, -d));
    }
  }
};
var Cc = {};
Cc.drawNode = function (e, t, n) {
  var i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0,
    r = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !0,
    a = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : !0,
    o = this,
    s,
    l,
    c = t._private,
    u = c.rscratch,
    d = t.position();
  if (!(!$t(d.x) || !$t(d.y)) && !(a && !t.visible())) {
    var h = a ? t.effectiveOpacity() : 1,
      p = o.usePaths(),
      m,
      _ = !1,
      v = t.padding();
    (s = t.width() + 2 * v), (l = t.height() + 2 * v);
    var y;
    n && ((y = n), e.translate(-y.x1, -y.y1));
    for (
      var w = t.pstyle('background-image'),
        x = w.value,
        C = new Array(x.length),
        S = new Array(x.length),
        g = 0,
        D = 0;
      D < x.length;
      D++
    ) {
      var T = x[D],
        O = (C[D] = T != null && T !== 'none');
      if (O) {
        var R = t
          .cy()
          .style()
          .getIndexedStyle(t, 'background-image-crossorigin', 'value', D);
        g++,
          (S[D] = o.getCachedImage(T, R, function () {
            (c.backgroundTimestamp = Date.now()), t.emitAndNotify('background');
          }));
      }
    }
    var P = t.pstyle('background-blacken').value,
      L = t.pstyle('border-width').pfValue,
      V = t.pstyle('background-opacity').value * h,
      B = t.pstyle('border-color').value,
      q = t.pstyle('border-style').value,
      U = t.pstyle('border-join').value,
      W = t.pstyle('border-cap').value,
      Z = t.pstyle('border-position').value,
      it = t.pstyle('border-dash-pattern').pfValue,
      rt = t.pstyle('border-dash-offset').pfValue,
      nt = t.pstyle('border-opacity').value * h,
      J = t.pstyle('outline-width').pfValue,
      dt = t.pstyle('outline-color').value,
      yt = t.pstyle('outline-style').value,
      wt = t.pstyle('outline-opacity').value * h,
      bt = t.pstyle('outline-offset').value,
      At = t.pstyle('corner-radius').value;
    At !== 'auto' && (At = t.pstyle('corner-radius').pfValue);
    var _t = function () {
        var Ft =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : V;
        o.eleFillStyle(e, t, Ft);
      },
      K = function () {
        var Ft =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : nt;
        o.colorStrokeStyle(e, B[0], B[1], B[2], Ft);
      },
      lt = function () {
        var Ft =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : wt;
        o.colorStrokeStyle(e, dt[0], dt[1], dt[2], Ft);
      },
      ot = function (Ft, mt, Pt, te) {
        var ne = (o.nodePathCache = o.nodePathCache || []),
          ie = iD(
            Pt === 'polygon' ? Pt + ',' + te.join(',') : Pt,
            '' + mt,
            '' + Ft,
            '' + At
          ),
          pe = ne[ie],
          Kt,
          ae = !1;
        return (
          pe != null
            ? ((Kt = pe), (ae = !0), (u.pathCache = Kt))
            : ((Kt = new Path2D()), (ne[ie] = u.pathCache = Kt)),
          { path: Kt, cacheHit: ae }
        );
      },
      Mt = t.pstyle('shape').strValue,
      Vt = t.pstyle('shape-polygon-points').pfValue;
    if (p) {
      e.translate(d.x, d.y);
      var Ot = ot(s, l, Mt, Vt);
      (m = Ot.path), (_ = Ot.cacheHit);
    }
    var Lt = function () {
        if (!_) {
          var Ft = d;
          p && (Ft = { x: 0, y: 0 }),
            o.nodeShapes[o.getNodeShape(t)].draw(
              m || e,
              Ft.x,
              Ft.y,
              s,
              l,
              At,
              u
            );
        }
        p ? e.fill(m) : e.fill();
      },
      Ut = function () {
        for (
          var Ft =
              arguments.length > 0 && arguments[0] !== void 0
                ? arguments[0]
                : h,
            mt =
              arguments.length > 1 && arguments[1] !== void 0
                ? arguments[1]
                : !0,
            Pt = c.backgrounding,
            te = 0,
            ne = 0;
          ne < S.length;
          ne++
        ) {
          var ie = t
            .cy()
            .style()
            .getIndexedStyle(t, 'background-image-containment', 'value', ne);
          if ((mt && ie === 'over') || (!mt && ie === 'inside')) {
            te++;
            continue;
          }
          C[ne] &&
            S[ne].complete &&
            !S[ne].error &&
            (te++, o.drawInscribedImage(e, S[ne], t, ne, Ft));
        }
        (c.backgrounding = te !== g),
          Pt !== c.backgrounding && t.updateStyle(!1);
      },
      Wt = function () {
        var Ft =
            arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1,
          mt =
            arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : h;
        o.hasPie(t) &&
          (o.drawPie(e, t, mt),
          Ft &&
            (p ||
              o.nodeShapes[o.getNodeShape(t)].draw(e, d.x, d.y, s, l, At, u)));
      },
      Jt = function () {
        var Ft =
            arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : h,
          mt = (P > 0 ? P : -P) * Ft,
          Pt = P > 0 ? 0 : 255;
        P !== 0 &&
          (o.colorFillStyle(e, Pt, Pt, Pt, mt), p ? e.fill(m) : e.fill());
      },
      le = function () {
        if (L > 0) {
          if (
            ((e.lineWidth = L),
            (e.lineCap = W),
            (e.lineJoin = U),
            e.setLineDash)
          )
            switch (q) {
              case 'dotted':
                e.setLineDash([1, 1]);
                break;
              case 'dashed':
                e.setLineDash(it), (e.lineDashOffset = rt);
                break;
              case 'solid':
              case 'double':
                e.setLineDash([]);
                break;
            }
          if (Z !== 'center') {
            if ((e.save(), (e.lineWidth *= 2), Z === 'inside'))
              p ? e.clip(m) : e.clip();
            else {
              var Ft = new Path2D();
              Ft.rect(-s / 2 - L, -l / 2 - L, s + 2 * L, l + 2 * L),
                Ft.addPath(m),
                e.clip(Ft, 'evenodd');
            }
            p ? e.stroke(m) : e.stroke(), e.restore();
          } else p ? e.stroke(m) : e.stroke();
          if (q === 'double') {
            e.lineWidth = L / 3;
            var mt = e.globalCompositeOperation;
            (e.globalCompositeOperation = 'destination-out'),
              p ? e.stroke(m) : e.stroke(),
              (e.globalCompositeOperation = mt);
          }
          e.setLineDash && e.setLineDash([]);
        }
      },
      Fe = function () {
        if (J > 0) {
          if (((e.lineWidth = J), (e.lineCap = 'butt'), e.setLineDash))
            switch (yt) {
              case 'dotted':
                e.setLineDash([1, 1]);
                break;
              case 'dashed':
                e.setLineDash([4, 2]);
                break;
              case 'solid':
              case 'double':
                e.setLineDash([]);
                break;
            }
          var Ft = d;
          p && (Ft = { x: 0, y: 0 });
          var mt = o.getNodeShape(t),
            Pt = L;
          Z === 'inside' && (Pt = 0), Z === 'outside' && (Pt *= 2);
          var te = (s + Pt + (J + bt)) / s,
            ne = (l + Pt + (J + bt)) / l,
            ie = s * te,
            pe = l * ne,
            Kt = o.nodeShapes[mt].points,
            ae;
          if (p) {
            var ei = ot(ie, pe, mt, Kt);
            ae = ei.path;
          }
          if (mt === 'ellipse') o.drawEllipsePath(ae || e, Ft.x, Ft.y, ie, pe);
          else if (
            [
              'round-diamond',
              'round-heptagon',
              'round-hexagon',
              'round-octagon',
              'round-pentagon',
              'round-polygon',
              'round-triangle',
              'round-tag',
            ].includes(mt)
          ) {
            var Ce = 0,
              Di = 0,
              ui = 0;
            mt === 'round-diamond'
              ? (Ce = (Pt + bt + J) * 1.4)
              : mt === 'round-heptagon'
                ? ((Ce = (Pt + bt + J) * 1.075), (ui = -(Pt / 2 + bt + J) / 35))
                : mt === 'round-hexagon'
                  ? (Ce = (Pt + bt + J) * 1.12)
                  : mt === 'round-pentagon'
                    ? ((Ce = (Pt + bt + J) * 1.13),
                      (ui = -(Pt / 2 + bt + J) / 15))
                    : mt === 'round-tag'
                      ? ((Ce = (Pt + bt + J) * 1.12),
                        (Di = (Pt / 2 + J + bt) * 0.07))
                      : mt === 'round-triangle' &&
                        ((Ce = (Pt + bt + J) * (Math.PI / 2)),
                        (ui = -(Pt + bt / 2 + J) / Math.PI)),
              Ce !== 0 &&
                ((te = (s + Ce) / s),
                (ie = s * te),
                ['round-hexagon', 'round-tag'].includes(mt) ||
                  ((ne = (l + Ce) / l), (pe = l * ne))),
              (At = At === 'auto' ? fD(ie, pe) : At);
            for (
              var Ti = ie / 2,
                ii = pe / 2,
                Ue = At + (Pt + J + bt) / 2,
                Hi = new Array(Kt.length / 2),
                M = new Array(Kt.length / 2),
                N = 0;
              N < Kt.length / 2;
              N++
            )
              Hi[N] = {
                x: Ft.x + Di + Ti * Kt[N * 2],
                y: Ft.y + ui + ii * Kt[N * 2 + 1],
              };
            var j,
              Y,
              $,
              tt,
              at = Hi.length;
            for (Y = Hi[at - 1], j = 0; j < at; j++)
              ($ = Hi[j % at]),
                (tt = Hi[(j + 1) % at]),
                (M[j] = x0(Y, $, tt, Ue)),
                (Y = $),
                ($ = tt);
            o.drawRoundPolygonPath(
              ae || e,
              Ft.x + Di,
              Ft.y + ui,
              s * te,
              l * ne,
              Kt,
              M
            );
          } else if (['roundrectangle', 'round-rectangle'].includes(mt))
            (At = At === 'auto' ? Js(ie, pe) : At),
              o.drawRoundRectanglePath(
                ae || e,
                Ft.x,
                Ft.y,
                ie,
                pe,
                At + (Pt + J + bt) / 2
              );
          else if (['cutrectangle', 'cut-rectangle'].includes(mt))
            (At = At === 'auto' ? c0() : At),
              o.drawCutRectanglePath(
                ae || e,
                Ft.x,
                Ft.y,
                ie,
                pe,
                null,
                At + (Pt + J + bt) / 4
              );
          else if (
            ['bottomroundrectangle', 'bottom-round-rectangle'].includes(mt)
          )
            (At = At === 'auto' ? Js(ie, pe) : At),
              o.drawBottomRoundRectanglePath(
                ae || e,
                Ft.x,
                Ft.y,
                ie,
                pe,
                At + (Pt + J + bt) / 2
              );
          else if (mt === 'barrel')
            o.drawBarrelPath(ae || e, Ft.x, Ft.y, ie, pe);
          else if (
            mt.startsWith('polygon') ||
            ['rhomboid', 'right-rhomboid', 'round-tag', 'tag', 'vee'].includes(
              mt
            )
          ) {
            var ft = (Pt + J + bt) / s;
            (Kt = Xp(Zp(Kt, ft))),
              o.drawPolygonPath(ae || e, Ft.x, Ft.y, s, l, Kt);
          } else {
            var kt = (Pt + J + bt) / s;
            (Kt = Xp(Zp(Kt, -kt))),
              o.drawPolygonPath(ae || e, Ft.x, Ft.y, s, l, Kt);
          }
          if ((p ? e.stroke(ae) : e.stroke(), yt === 'double')) {
            e.lineWidth = Pt / 3;
            var Et = e.globalCompositeOperation;
            (e.globalCompositeOperation = 'destination-out'),
              p ? e.stroke(ae) : e.stroke(),
              (e.globalCompositeOperation = Et);
          }
          e.setLineDash && e.setLineDash([]);
        }
      },
      _e = function () {
        r && o.drawNodeOverlay(e, t, d, s, l);
      },
      ce = function () {
        r && o.drawNodeUnderlay(e, t, d, s, l);
      },
      Ee = function () {
        o.drawElementText(e, t, null, i);
      },
      st = t.pstyle('ghost').value === 'yes';
    if (st) {
      var z = t.pstyle('ghost-offset-x').pfValue,
        ct = t.pstyle('ghost-offset-y').pfValue,
        Ct = t.pstyle('ghost-opacity').value,
        gt = Ct * h;
      e.translate(z, ct),
        lt(),
        Fe(),
        _t(Ct * V),
        Lt(),
        Ut(gt, !0),
        K(Ct * nt),
        le(),
        Wt(P !== 0 || L !== 0),
        Ut(gt, !1),
        Jt(gt),
        e.translate(-z, -ct);
    }
    p && e.translate(-d.x, -d.y),
      ce(),
      p && e.translate(d.x, d.y),
      lt(),
      Fe(),
      _t(),
      Lt(),
      Ut(h, !0),
      K(),
      le(),
      Wt(P !== 0 || L !== 0),
      Ut(h, !1),
      Jt(),
      p && e.translate(-d.x, -d.y),
      Ee(),
      _e(),
      n && e.translate(y.x1, y.y1);
  }
};
var gT = function (t) {
  if (!['overlay', 'underlay'].includes(t)) throw new Error('Invalid state');
  return function (n, i, r, a, o) {
    var s = this;
    if (i.visible()) {
      var l = i.pstyle(''.concat(t, '-padding')).pfValue,
        c = i.pstyle(''.concat(t, '-opacity')).value,
        u = i.pstyle(''.concat(t, '-color')).value,
        d = i.pstyle(''.concat(t, '-shape')).value,
        h = i.pstyle(''.concat(t, '-corner-radius')).value;
      if (c > 0) {
        if (((r = r || i.position()), a == null || o == null)) {
          var p = i.padding();
          (a = i.width() + 2 * p), (o = i.height() + 2 * p);
        }
        s.colorFillStyle(n, u[0], u[1], u[2], c),
          s.nodeShapes[d].draw(n, r.x, r.y, a + l * 2, o + l * 2, h),
          n.fill();
      }
    }
  };
};
Cc.drawNodeOverlay = gT('overlay');
Cc.drawNodeUnderlay = gT('underlay');
Cc.hasPie = function (e) {
  return (e = e[0]), e._private.hasPie;
};
Cc.drawPie = function (e, t, n, i) {
  (t = t[0]), (i = i || t.position());
  var r = t.cy().style(),
    a = t.pstyle('pie-size'),
    o = i.x,
    s = i.y,
    l = t.width(),
    c = t.height(),
    u = Math.min(l, c) / 2,
    d = 0,
    h = this.usePaths();
  h && ((o = 0), (s = 0)),
    a.units === '%'
      ? (u = u * a.pfValue)
      : a.pfValue !== void 0 && (u = a.pfValue / 2);
  for (var p = 1; p <= r.pieBackgroundN; p++) {
    var m = t.pstyle('pie-' + p + '-background-size').value,
      _ = t.pstyle('pie-' + p + '-background-color').value,
      v = t.pstyle('pie-' + p + '-background-opacity').value * n,
      y = m / 100;
    y + d > 1 && (y = 1 - d);
    var w = 1.5 * Math.PI + 2 * Math.PI * d,
      x = 2 * Math.PI * y,
      C = w + x;
    m === 0 ||
      d >= 1 ||
      d + y > 1 ||
      (e.beginPath(),
      e.moveTo(o, s),
      e.arc(o, s, u, w, C),
      e.closePath(),
      this.colorFillStyle(e, _[0], _[1], _[2], v),
      e.fill(),
      (d += y));
  }
};
var br = {},
  E4 = 100;
br.getPixelRatio = function () {
  var e = this.data.contexts[0];
  if (this.forcedPixelRatio != null) return this.forcedPixelRatio;
  var t = this.cy.window(),
    n =
      e.backingStorePixelRatio ||
      e.webkitBackingStorePixelRatio ||
      e.mozBackingStorePixelRatio ||
      e.msBackingStorePixelRatio ||
      e.oBackingStorePixelRatio ||
      e.backingStorePixelRatio ||
      1;
  return (t.devicePixelRatio || 1) / n;
};
br.paintCache = function (e) {
  for (
    var t = (this.paintCaches = this.paintCaches || []), n = !0, i, r = 0;
    r < t.length;
    r++
  )
    if (((i = t[r]), i.context === e)) {
      n = !1;
      break;
    }
  return n && ((i = { context: e }), t.push(i)), i;
};
br.createGradientStyleFor = function (e, t, n, i, r) {
  var a,
    o = this.usePaths(),
    s = n.pstyle(t + '-gradient-stop-colors').value,
    l = n.pstyle(t + '-gradient-stop-positions').pfValue;
  if (i === 'radial-gradient')
    if (n.isEdge()) {
      var c = n.sourceEndpoint(),
        u = n.targetEndpoint(),
        d = n.midpoint(),
        h = Qs(c, d),
        p = Qs(u, d);
      a = e.createRadialGradient(d.x, d.y, 0, d.x, d.y, Math.max(h, p));
    } else {
      var m = o ? { x: 0, y: 0 } : n.position(),
        _ = n.paddedWidth(),
        v = n.paddedHeight();
      a = e.createRadialGradient(m.x, m.y, 0, m.x, m.y, Math.max(_, v));
    }
  else if (n.isEdge()) {
    var y = n.sourceEndpoint(),
      w = n.targetEndpoint();
    a = e.createLinearGradient(y.x, y.y, w.x, w.y);
  } else {
    var x = o ? { x: 0, y: 0 } : n.position(),
      C = n.paddedWidth(),
      S = n.paddedHeight(),
      g = C / 2,
      D = S / 2,
      T = n.pstyle('background-gradient-direction').value;
    switch (T) {
      case 'to-bottom':
        a = e.createLinearGradient(x.x, x.y - D, x.x, x.y + D);
        break;
      case 'to-top':
        a = e.createLinearGradient(x.x, x.y + D, x.x, x.y - D);
        break;
      case 'to-left':
        a = e.createLinearGradient(x.x + g, x.y, x.x - g, x.y);
        break;
      case 'to-right':
        a = e.createLinearGradient(x.x - g, x.y, x.x + g, x.y);
        break;
      case 'to-bottom-right':
      case 'to-right-bottom':
        a = e.createLinearGradient(x.x - g, x.y - D, x.x + g, x.y + D);
        break;
      case 'to-top-right':
      case 'to-right-top':
        a = e.createLinearGradient(x.x - g, x.y + D, x.x + g, x.y - D);
        break;
      case 'to-bottom-left':
      case 'to-left-bottom':
        a = e.createLinearGradient(x.x + g, x.y - D, x.x - g, x.y + D);
        break;
      case 'to-top-left':
      case 'to-left-top':
        a = e.createLinearGradient(x.x + g, x.y + D, x.x - g, x.y - D);
        break;
    }
  }
  if (!a) return null;
  for (var O = l.length === s.length, R = s.length, P = 0; P < R; P++)
    a.addColorStop(
      O ? l[P] : P / (R - 1),
      'rgba(' + s[P][0] + ',' + s[P][1] + ',' + s[P][2] + ',' + r + ')'
    );
  return a;
};
br.gradientFillStyle = function (e, t, n, i) {
  var r = this.createGradientStyleFor(e, 'background', t, n, i);
  if (!r) return null;
  e.fillStyle = r;
};
br.colorFillStyle = function (e, t, n, i, r) {
  e.fillStyle = 'rgba(' + t + ',' + n + ',' + i + ',' + r + ')';
};
br.eleFillStyle = function (e, t, n) {
  var i = t.pstyle('background-fill').value;
  if (i === 'linear-gradient' || i === 'radial-gradient')
    this.gradientFillStyle(e, t, i, n);
  else {
    var r = t.pstyle('background-color').value;
    this.colorFillStyle(e, r[0], r[1], r[2], n);
  }
};
br.gradientStrokeStyle = function (e, t, n, i) {
  var r = this.createGradientStyleFor(e, 'line', t, n, i);
  if (!r) return null;
  e.strokeStyle = r;
};
br.colorStrokeStyle = function (e, t, n, i, r) {
  e.strokeStyle = 'rgba(' + t + ',' + n + ',' + i + ',' + r + ')';
};
br.eleStrokeStyle = function (e, t, n) {
  var i = t.pstyle('line-fill').value;
  if (i === 'linear-gradient' || i === 'radial-gradient')
    this.gradientStrokeStyle(e, t, i, n);
  else {
    var r = t.pstyle('line-color').value;
    this.colorStrokeStyle(e, r[0], r[1], r[2], n);
  }
};
br.matchCanvasSize = function (e) {
  var t = this,
    n = t.data,
    i = t.findContainerClientCoords(),
    r = i[2],
    a = i[3],
    o = t.getPixelRatio(),
    s = t.motionBlurPxRatio;
  (e === t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE] ||
    e === t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]) &&
    (o = s);
  var l = r * o,
    c = a * o,
    u;
  if (!(l === t.canvasWidth && c === t.canvasHeight)) {
    t.fontCaches = null;
    var d = n.canvasContainer;
    (d.style.width = r + 'px'), (d.style.height = a + 'px');
    for (var h = 0; h < t.CANVAS_LAYERS; h++)
      (u = n.canvases[h]),
        (u.width = l),
        (u.height = c),
        (u.style.width = r + 'px'),
        (u.style.height = a + 'px');
    for (var h = 0; h < t.BUFFER_COUNT; h++)
      (u = n.bufferCanvases[h]),
        (u.width = l),
        (u.height = c),
        (u.style.width = r + 'px'),
        (u.style.height = a + 'px');
    (t.textureMult = 1),
      o <= 1 &&
        ((u = n.bufferCanvases[t.TEXTURE_BUFFER]),
        (t.textureMult = 2),
        (u.width = l * t.textureMult),
        (u.height = c * t.textureMult)),
      (t.canvasWidth = l),
      (t.canvasHeight = c);
  }
};
br.renderTo = function (e, t, n, i) {
  this.render({
    forcedContext: e,
    forcedZoom: t,
    forcedPan: n,
    drawAllLayers: !0,
    forcedPxRatio: i,
  });
};
br.render = function (e) {
  e = e || oD();
  var t = e.forcedContext,
    n = e.drawAllLayers,
    i = e.drawOnlyNodeLayer,
    r = e.forcedZoom,
    a = e.forcedPan,
    o = this,
    s = e.forcedPxRatio === void 0 ? this.getPixelRatio() : e.forcedPxRatio,
    l = o.cy,
    c = o.data,
    u = c.canvasNeedsRedraw,
    d =
      o.textureOnViewport &&
      !t &&
      (o.pinching ||
        o.hoverData.dragging ||
        o.swipePanning ||
        o.data.wheelZooming),
    h = e.motionBlur !== void 0 ? e.motionBlur : o.motionBlur,
    p = o.motionBlurPxRatio,
    m = l.hasCompoundNodes(),
    _ = o.hoverData.draggingEles,
    v = !!(o.hoverData.selecting || o.touchData.selecting);
  h = h && !t && o.motionBlurEnabled && !v;
  var y = h;
  t ||
    (o.prevPxRatio !== s &&
      (o.invalidateContainerClientCoordsCache(),
      o.matchCanvasSize(o.container),
      o.redrawHint('eles', !0),
      o.redrawHint('drag', !0)),
    (o.prevPxRatio = s)),
    !t && o.motionBlurTimeout && clearTimeout(o.motionBlurTimeout),
    h &&
      (o.mbFrames == null && (o.mbFrames = 0),
      o.mbFrames++,
      o.mbFrames < 3 && (y = !1),
      o.mbFrames > o.minMbLowQualFrames &&
        (o.motionBlurPxRatio = o.mbPxRBlurry)),
    o.clearingMotionBlur && (o.motionBlurPxRatio = 1),
    o.textureDrawLastFrame && !d && ((u[o.NODE] = !0), (u[o.SELECT_BOX] = !0));
  var w = l.style(),
    x = l.zoom(),
    C = r !== void 0 ? r : x,
    S = l.pan(),
    g = { x: S.x, y: S.y },
    D = { zoom: x, pan: { x: S.x, y: S.y } },
    T = o.prevViewport,
    O =
      T === void 0 ||
      D.zoom !== T.zoom ||
      D.pan.x !== T.pan.x ||
      D.pan.y !== T.pan.y;
  !O && !(_ && !m) && (o.motionBlurPxRatio = 1),
    a && (g = a),
    (C *= s),
    (g.x *= s),
    (g.y *= s);
  var R = o.getCachedZSortedEles();
  function P(Ot, Lt, Ut, Wt, Jt) {
    var le = Ot.globalCompositeOperation;
    (Ot.globalCompositeOperation = 'destination-out'),
      o.colorFillStyle(Ot, 255, 255, 255, o.motionBlurTransparency),
      Ot.fillRect(Lt, Ut, Wt, Jt),
      (Ot.globalCompositeOperation = le);
  }
  function L(Ot, Lt) {
    var Ut, Wt, Jt, le;
    !o.clearingMotionBlur &&
    (Ot === c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE] ||
      Ot === c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])
      ? ((Ut = { x: S.x * p, y: S.y * p }),
        (Wt = x * p),
        (Jt = o.canvasWidth * p),
        (le = o.canvasHeight * p))
      : ((Ut = g), (Wt = C), (Jt = o.canvasWidth), (le = o.canvasHeight)),
      Ot.setTransform(1, 0, 0, 1, 0, 0),
      Lt === 'motionBlur'
        ? P(Ot, 0, 0, Jt, le)
        : !t && (Lt === void 0 || Lt) && Ot.clearRect(0, 0, Jt, le),
      n || (Ot.translate(Ut.x, Ut.y), Ot.scale(Wt, Wt)),
      a && Ot.translate(a.x, a.y),
      r && Ot.scale(r, r);
  }
  if ((d || (o.textureDrawLastFrame = !1), d)) {
    if (((o.textureDrawLastFrame = !0), !o.textureCache)) {
      (o.textureCache = {}),
        (o.textureCache.bb = l.mutableElements().boundingBox()),
        (o.textureCache.texture = o.data.bufferCanvases[o.TEXTURE_BUFFER]);
      var V = o.data.bufferContexts[o.TEXTURE_BUFFER];
      V.setTransform(1, 0, 0, 1, 0, 0),
        V.clearRect(
          0,
          0,
          o.canvasWidth * o.textureMult,
          o.canvasHeight * o.textureMult
        ),
        o.render({
          forcedContext: V,
          drawOnlyNodeLayer: !0,
          forcedPxRatio: s * o.textureMult,
        });
      var D = (o.textureCache.viewport = {
        zoom: l.zoom(),
        pan: l.pan(),
        width: o.canvasWidth,
        height: o.canvasHeight,
      });
      D.mpan = { x: (0 - D.pan.x) / D.zoom, y: (0 - D.pan.y) / D.zoom };
    }
    (u[o.DRAG] = !1), (u[o.NODE] = !1);
    var B = c.contexts[o.NODE],
      q = o.textureCache.texture,
      D = o.textureCache.viewport;
    B.setTransform(1, 0, 0, 1, 0, 0),
      h ? P(B, 0, 0, D.width, D.height) : B.clearRect(0, 0, D.width, D.height);
    var U = w.core('outside-texture-bg-color').value,
      W = w.core('outside-texture-bg-opacity').value;
    o.colorFillStyle(B, U[0], U[1], U[2], W),
      B.fillRect(0, 0, D.width, D.height);
    var x = l.zoom();
    L(B, !1),
      B.clearRect(
        D.mpan.x,
        D.mpan.y,
        D.width / D.zoom / s,
        D.height / D.zoom / s
      ),
      B.drawImage(
        q,
        D.mpan.x,
        D.mpan.y,
        D.width / D.zoom / s,
        D.height / D.zoom / s
      );
  } else o.textureOnViewport && !t && (o.textureCache = null);
  var Z = l.extent(),
    it =
      o.pinching ||
      o.hoverData.dragging ||
      o.swipePanning ||
      o.data.wheelZooming ||
      o.hoverData.draggingEles ||
      o.cy.animated(),
    rt = o.hideEdgesOnViewport && it,
    nt = [];
  if (
    ((nt[o.NODE] =
      (!u[o.NODE] && h && !o.clearedForMotionBlur[o.NODE]) ||
      o.clearingMotionBlur),
    nt[o.NODE] && (o.clearedForMotionBlur[o.NODE] = !0),
    (nt[o.DRAG] =
      (!u[o.DRAG] && h && !o.clearedForMotionBlur[o.DRAG]) ||
      o.clearingMotionBlur),
    nt[o.DRAG] && (o.clearedForMotionBlur[o.DRAG] = !0),
    u[o.NODE] || n || i || nt[o.NODE])
  ) {
    var J = h && !nt[o.NODE] && p !== 1,
      B =
        t ||
        (J
          ? o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]
          : c.contexts[o.NODE]),
      dt = h && !J ? 'motionBlur' : void 0;
    L(B, dt),
      rt
        ? o.drawCachedNodes(B, R.nondrag, s, Z)
        : o.drawLayeredElements(B, R.nondrag, s, Z),
      o.debug && o.drawDebugPoints(B, R.nondrag),
      !n && !h && (u[o.NODE] = !1);
  }
  if (!i && (u[o.DRAG] || n || nt[o.DRAG])) {
    var J = h && !nt[o.DRAG] && p !== 1,
      B =
        t ||
        (J
          ? o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]
          : c.contexts[o.DRAG]);
    L(B, h && !J ? 'motionBlur' : void 0),
      rt
        ? o.drawCachedNodes(B, R.drag, s, Z)
        : o.drawCachedElements(B, R.drag, s, Z),
      o.debug && o.drawDebugPoints(B, R.drag),
      !n && !h && (u[o.DRAG] = !1);
  }
  if (o.showFps || (!i && u[o.SELECT_BOX] && !n)) {
    var B = t || c.contexts[o.SELECT_BOX];
    if (
      (L(B),
      o.selection[4] == 1 && (o.hoverData.selecting || o.touchData.selecting))
    ) {
      var x = o.cy.zoom(),
        yt = w.core('selection-box-border-width').value / x;
      (B.lineWidth = yt),
        (B.fillStyle =
          'rgba(' +
          w.core('selection-box-color').value[0] +
          ',' +
          w.core('selection-box-color').value[1] +
          ',' +
          w.core('selection-box-color').value[2] +
          ',' +
          w.core('selection-box-opacity').value +
          ')'),
        B.fillRect(
          o.selection[0],
          o.selection[1],
          o.selection[2] - o.selection[0],
          o.selection[3] - o.selection[1]
        ),
        yt > 0 &&
          ((B.strokeStyle =
            'rgba(' +
            w.core('selection-box-border-color').value[0] +
            ',' +
            w.core('selection-box-border-color').value[1] +
            ',' +
            w.core('selection-box-border-color').value[2] +
            ',' +
            w.core('selection-box-opacity').value +
            ')'),
          B.strokeRect(
            o.selection[0],
            o.selection[1],
            o.selection[2] - o.selection[0],
            o.selection[3] - o.selection[1]
          ));
    }
    if (c.bgActivePosistion && !o.hoverData.selecting) {
      var x = o.cy.zoom(),
        wt = c.bgActivePosistion;
      (B.fillStyle =
        'rgba(' +
        w.core('active-bg-color').value[0] +
        ',' +
        w.core('active-bg-color').value[1] +
        ',' +
        w.core('active-bg-color').value[2] +
        ',' +
        w.core('active-bg-opacity').value +
        ')'),
        B.beginPath(),
        B.arc(wt.x, wt.y, w.core('active-bg-size').pfValue / x, 0, 2 * Math.PI),
        B.fill();
    }
    var bt = o.lastRedrawTime;
    if (o.showFps && bt) {
      bt = Math.round(bt);
      var At = Math.round(1e3 / bt);
      B.setTransform(1, 0, 0, 1, 0, 0),
        (B.fillStyle = 'rgba(255, 0, 0, 0.75)'),
        (B.strokeStyle = 'rgba(255, 0, 0, 0.75)'),
        (B.lineWidth = 1),
        B.fillText('1 frame = ' + bt + ' ms = ' + At + ' fps', 0, 20);
      var _t = 60;
      B.strokeRect(0, 30, 250, 20),
        B.fillRect(0, 30, 250 * Math.min(At / _t, 1), 20);
    }
    n || (u[o.SELECT_BOX] = !1);
  }
  if (h && p !== 1) {
    var K = c.contexts[o.NODE],
      lt = o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],
      ot = c.contexts[o.DRAG],
      Mt = o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],
      Vt = function (Lt, Ut, Wt) {
        Lt.setTransform(1, 0, 0, 1, 0, 0),
          Wt || !y
            ? Lt.clearRect(0, 0, o.canvasWidth, o.canvasHeight)
            : P(Lt, 0, 0, o.canvasWidth, o.canvasHeight);
        var Jt = p;
        Lt.drawImage(
          Ut,
          0,
          0,
          o.canvasWidth * Jt,
          o.canvasHeight * Jt,
          0,
          0,
          o.canvasWidth,
          o.canvasHeight
        );
      };
    (u[o.NODE] || nt[o.NODE]) && (Vt(K, lt, nt[o.NODE]), (u[o.NODE] = !1)),
      (u[o.DRAG] || nt[o.DRAG]) && (Vt(ot, Mt, nt[o.DRAG]), (u[o.DRAG] = !1));
  }
  (o.prevViewport = D),
    o.clearingMotionBlur &&
      ((o.clearingMotionBlur = !1),
      (o.motionBlurCleared = !0),
      (o.motionBlur = !0)),
    h &&
      (o.motionBlurTimeout = setTimeout(function () {
        (o.motionBlurTimeout = null),
          (o.clearedForMotionBlur[o.NODE] = !1),
          (o.clearedForMotionBlur[o.DRAG] = !1),
          (o.motionBlur = !1),
          (o.clearingMotionBlur = !d),
          (o.mbFrames = 0),
          (u[o.NODE] = !0),
          (u[o.DRAG] = !0),
          o.redraw();
      }, E4)),
    t || l.emit('render');
};
var Wo = {};
Wo.drawPolygonPath = function (e, t, n, i, r, a) {
  var o = i / 2,
    s = r / 2;
  e.beginPath && e.beginPath(), e.moveTo(t + o * a[0], n + s * a[1]);
  for (var l = 1; l < a.length / 2; l++)
    e.lineTo(t + o * a[l * 2], n + s * a[l * 2 + 1]);
  e.closePath();
};
Wo.drawRoundPolygonPath = function (e, t, n, i, r, a, o) {
  o.forEach(function (s) {
    return rT(e, s);
  }),
    e.closePath();
};
Wo.drawRoundRectanglePath = function (e, t, n, i, r, a) {
  var o = i / 2,
    s = r / 2,
    l = a === 'auto' ? Js(i, r) : Math.min(a, s, o);
  e.beginPath && e.beginPath(),
    e.moveTo(t, n - s),
    e.arcTo(t + o, n - s, t + o, n, l),
    e.arcTo(t + o, n + s, t, n + s, l),
    e.arcTo(t - o, n + s, t - o, n, l),
    e.arcTo(t - o, n - s, t, n - s, l),
    e.lineTo(t, n - s),
    e.closePath();
};
Wo.drawBottomRoundRectanglePath = function (e, t, n, i, r, a) {
  var o = i / 2,
    s = r / 2,
    l = a === 'auto' ? Js(i, r) : a;
  e.beginPath && e.beginPath(),
    e.moveTo(t, n - s),
    e.lineTo(t + o, n - s),
    e.lineTo(t + o, n),
    e.arcTo(t + o, n + s, t, n + s, l),
    e.arcTo(t - o, n + s, t - o, n, l),
    e.lineTo(t - o, n - s),
    e.lineTo(t, n - s),
    e.closePath();
};
Wo.drawCutRectanglePath = function (e, t, n, i, r, a, o) {
  var s = i / 2,
    l = r / 2,
    c = o === 'auto' ? c0() : o;
  e.beginPath && e.beginPath(),
    e.moveTo(t - s + c, n - l),
    e.lineTo(t + s - c, n - l),
    e.lineTo(t + s, n - l + c),
    e.lineTo(t + s, n + l - c),
    e.lineTo(t + s - c, n + l),
    e.lineTo(t - s + c, n + l),
    e.lineTo(t - s, n + l - c),
    e.lineTo(t - s, n - l + c),
    e.closePath();
};
Wo.drawBarrelPath = function (e, t, n, i, r) {
  var a = i / 2,
    o = r / 2,
    s = t - a,
    l = t + a,
    c = n - o,
    u = n + o,
    d = zy(i, r),
    h = d.widthOffset,
    p = d.heightOffset,
    m = d.ctrlPtOffsetPct * h;
  e.beginPath && e.beginPath(),
    e.moveTo(s, c + p),
    e.lineTo(s, u - p),
    e.quadraticCurveTo(s + m, u, s + h, u),
    e.lineTo(l - h, u),
    e.quadraticCurveTo(l - m, u, l, u - p),
    e.lineTo(l, c + p),
    e.quadraticCurveTo(l - m, c, l - h, c),
    e.lineTo(s + h, c),
    e.quadraticCurveTo(s + m, c, s, c + p),
    e.closePath();
};
var BS = Math.sin(0),
  zS = Math.cos(0),
  Zy = {},
  Qy = {},
  vT = Math.PI / 40;
for (Hs = 0 * Math.PI; Hs < 2 * Math.PI; Hs += vT)
  (Zy[Hs] = Math.sin(Hs)), (Qy[Hs] = Math.cos(Hs));
var Hs;
Wo.drawEllipsePath = function (e, t, n, i, r) {
  if ((e.beginPath && e.beginPath(), e.ellipse))
    e.ellipse(t, n, i / 2, r / 2, 0, 0, 2 * Math.PI);
  else
    for (
      var a, o, s = i / 2, l = r / 2, c = 0 * Math.PI;
      c < 2 * Math.PI;
      c += vT
    )
      (a = t - s * Zy[c] * BS + s * Qy[c] * zS),
        (o = n + l * Qy[c] * BS + l * Zy[c] * zS),
        c === 0 ? e.moveTo(a, o) : e.lineTo(a, o);
  e.closePath();
};
var Yd = {};
Yd.createBuffer = function (e, t) {
  var n = document.createElement('canvas');
  return (n.width = e), (n.height = t), [n, n.getContext('2d')];
};
Yd.bufferCanvasImage = function (e) {
  var t = this.cy,
    n = t.mutableElements(),
    i = n.boundingBox(),
    r = this.findContainerClientCoords(),
    a = e.full ? Math.ceil(i.w) : r[2],
    o = e.full ? Math.ceil(i.h) : r[3],
    s = $t(e.maxWidth) || $t(e.maxHeight),
    l = this.getPixelRatio(),
    c = 1;
  if (e.scale !== void 0) (a *= e.scale), (o *= e.scale), (c = e.scale);
  else if (s) {
    var u = 1 / 0,
      d = 1 / 0;
    $t(e.maxWidth) && (u = (c * e.maxWidth) / a),
      $t(e.maxHeight) && (d = (c * e.maxHeight) / o),
      (c = Math.min(u, d)),
      (a *= c),
      (o *= c);
  }
  s || ((a *= l), (o *= l), (c *= l));
  var h = document.createElement('canvas');
  (h.width = a),
    (h.height = o),
    (h.style.width = a + 'px'),
    (h.style.height = o + 'px');
  var p = h.getContext('2d');
  if (a > 0 && o > 0) {
    p.clearRect(0, 0, a, o), (p.globalCompositeOperation = 'source-over');
    var m = this.getCachedZSortedEles();
    if (e.full)
      p.translate(-i.x1 * c, -i.y1 * c),
        p.scale(c, c),
        this.drawElements(p, m),
        p.scale(1 / c, 1 / c),
        p.translate(i.x1 * c, i.y1 * c);
    else {
      var _ = t.pan(),
        v = { x: _.x * c, y: _.y * c };
      (c *= t.zoom()),
        p.translate(v.x, v.y),
        p.scale(c, c),
        this.drawElements(p, m),
        p.scale(1 / c, 1 / c),
        p.translate(-v.x, -v.y);
    }
    e.bg &&
      ((p.globalCompositeOperation = 'destination-over'),
      (p.fillStyle = e.bg),
      p.rect(0, 0, a, o),
      p.fill());
  }
  return h;
};
function S4(e, t) {
  for (
    var n = atob(e),
      i = new ArrayBuffer(n.length),
      r = new Uint8Array(i),
      a = 0;
    a < n.length;
    a++
  )
    r[a] = n.charCodeAt(a);
  return new Blob([i], { type: t });
}
function VS(e) {
  var t = e.indexOf(',');
  return e.substr(t + 1);
}
function bT(e, t, n) {
  var i = function () {
    return t.toDataURL(n, e.quality);
  };
  switch (e.output) {
    case 'blob-promise':
      return new gc(function (r, a) {
        try {
          t.toBlob(
            function (o) {
              o != null
                ? r(o)
                : a(
                    new Error(
                      '`canvas.toBlob()` sent a null value in its callback'
                    )
                  );
            },
            n,
            e.quality
          );
        } catch (o) {
          a(o);
        }
      });
    case 'blob':
      return S4(VS(i()), n);
    case 'base64':
      return VS(i());
    case 'base64uri':
    default:
      return i();
  }
}
Yd.png = function (e) {
  return bT(e, this.bufferCanvasImage(e), 'image/png');
};
Yd.jpg = function (e) {
  return bT(e, this.bufferCanvasImage(e), 'image/jpeg');
};
var yT = {};
yT.nodeShapeImpl = function (e, t, n, i, r, a, o, s) {
  switch (e) {
    case 'ellipse':
      return this.drawEllipsePath(t, n, i, r, a);
    case 'polygon':
      return this.drawPolygonPath(t, n, i, r, a, o);
    case 'round-polygon':
      return this.drawRoundPolygonPath(t, n, i, r, a, o, s);
    case 'roundrectangle':
    case 'round-rectangle':
      return this.drawRoundRectanglePath(t, n, i, r, a, s);
    case 'cutrectangle':
    case 'cut-rectangle':
      return this.drawCutRectanglePath(t, n, i, r, a, o, s);
    case 'bottomroundrectangle':
    case 'bottom-round-rectangle':
      return this.drawBottomRoundRectanglePath(t, n, i, r, a, s);
    case 'barrel':
      return this.drawBarrelPath(t, n, i, r, a);
  }
};
var D4 = _T,
  Ke = _T.prototype;
Ke.CANVAS_LAYERS = 3;
Ke.SELECT_BOX = 0;
Ke.DRAG = 1;
Ke.NODE = 2;
Ke.BUFFER_COUNT = 3;
Ke.TEXTURE_BUFFER = 0;
Ke.MOTIONBLUR_BUFFER_NODE = 1;
Ke.MOTIONBLUR_BUFFER_DRAG = 2;
function _T(e) {
  var t = this,
    n = t.cy.window(),
    i = n.document;
  t.data = {
    canvases: new Array(Ke.CANVAS_LAYERS),
    contexts: new Array(Ke.CANVAS_LAYERS),
    canvasNeedsRedraw: new Array(Ke.CANVAS_LAYERS),
    bufferCanvases: new Array(Ke.BUFFER_COUNT),
    bufferContexts: new Array(Ke.CANVAS_LAYERS),
  };
  var r = '-webkit-tap-highlight-color',
    a = 'rgba(0,0,0,0)';
  t.data.canvasContainer = i.createElement('div');
  var o = t.data.canvasContainer.style;
  (t.data.canvasContainer.style[r] = a),
    (o.position = 'relative'),
    (o.zIndex = '0'),
    (o.overflow = 'hidden');
  var s = e.cy.container();
  s.appendChild(t.data.canvasContainer), (s.style[r] = a);
  var l = {
    '-webkit-user-select': 'none',
    '-moz-user-select': '-moz-none',
    'user-select': 'none',
    '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',
    'outline-style': 'none',
  };
  fB() && ((l['-ms-touch-action'] = 'none'), (l['touch-action'] = 'none'));
  for (var c = 0; c < Ke.CANVAS_LAYERS; c++) {
    var u = (t.data.canvases[c] = i.createElement('canvas'));
    (t.data.contexts[c] = u.getContext('2d')),
      Object.keys(l).forEach(function (_t) {
        u.style[_t] = l[_t];
      }),
      (u.style.position = 'absolute'),
      u.setAttribute('data-id', 'layer' + c),
      (u.style.zIndex = String(Ke.CANVAS_LAYERS - c)),
      t.data.canvasContainer.appendChild(u),
      (t.data.canvasNeedsRedraw[c] = !1);
  }
  (t.data.topCanvas = t.data.canvases[0]),
    t.data.canvases[Ke.NODE].setAttribute(
      'data-id',
      'layer' + Ke.NODE + '-node'
    ),
    t.data.canvases[Ke.SELECT_BOX].setAttribute(
      'data-id',
      'layer' + Ke.SELECT_BOX + '-selectbox'
    ),
    t.data.canvases[Ke.DRAG].setAttribute(
      'data-id',
      'layer' + Ke.DRAG + '-drag'
    );
  for (var c = 0; c < Ke.BUFFER_COUNT; c++)
    (t.data.bufferCanvases[c] = i.createElement('canvas')),
      (t.data.bufferContexts[c] = t.data.bufferCanvases[c].getContext('2d')),
      (t.data.bufferCanvases[c].style.position = 'absolute'),
      t.data.bufferCanvases[c].setAttribute('data-id', 'buffer' + c),
      (t.data.bufferCanvases[c].style.zIndex = String(-c - 1)),
      (t.data.bufferCanvases[c].style.visibility = 'hidden');
  t.pathsEnabled = !0;
  var d = or(),
    h = function (K) {
      return { x: (K.x1 + K.x2) / 2, y: (K.y1 + K.y2) / 2 };
    },
    p = function (K) {
      return { x: -K.w / 2, y: -K.h / 2 };
    },
    m = function (K) {
      var lt = K[0]._private,
        ot = lt.oldBackgroundTimestamp === lt.backgroundTimestamp;
      return !ot;
    },
    _ = function (K) {
      return K[0]._private.nodeKey;
    },
    v = function (K) {
      return K[0]._private.labelStyleKey;
    },
    y = function (K) {
      return K[0]._private.sourceLabelStyleKey;
    },
    w = function (K) {
      return K[0]._private.targetLabelStyleKey;
    },
    x = function (K, lt, ot, Mt, Vt) {
      return t.drawElement(K, lt, ot, !1, !1, Vt);
    },
    C = function (K, lt, ot, Mt, Vt) {
      return t.drawElementText(K, lt, ot, Mt, 'main', Vt);
    },
    S = function (K, lt, ot, Mt, Vt) {
      return t.drawElementText(K, lt, ot, Mt, 'source', Vt);
    },
    g = function (K, lt, ot, Mt, Vt) {
      return t.drawElementText(K, lt, ot, Mt, 'target', Vt);
    },
    D = function (K) {
      return K.boundingBox(), K[0]._private.bodyBounds;
    },
    T = function (K) {
      return K.boundingBox(), K[0]._private.labelBounds.main || d;
    },
    O = function (K) {
      return K.boundingBox(), K[0]._private.labelBounds.source || d;
    },
    R = function (K) {
      return K.boundingBox(), K[0]._private.labelBounds.target || d;
    },
    P = function (K, lt) {
      return lt;
    },
    L = function (K) {
      return h(D(K));
    },
    V = function (K, lt, ot) {
      var Mt = K ? K + '-' : '';
      return {
        x: lt.x + ot.pstyle(Mt + 'text-margin-x').pfValue,
        y: lt.y + ot.pstyle(Mt + 'text-margin-y').pfValue,
      };
    },
    B = function (K, lt, ot) {
      var Mt = K[0]._private.rscratch;
      return { x: Mt[lt], y: Mt[ot] };
    },
    q = function (K) {
      return V('', B(K, 'labelX', 'labelY'), K);
    },
    U = function (K) {
      return V('source', B(K, 'sourceLabelX', 'sourceLabelY'), K);
    },
    W = function (K) {
      return V('target', B(K, 'targetLabelX', 'targetLabelY'), K);
    },
    Z = function (K) {
      return p(D(K));
    },
    it = function (K) {
      return p(O(K));
    },
    rt = function (K) {
      return p(R(K));
    },
    nt = function (K) {
      var lt = T(K),
        ot = p(T(K));
      if (K.isNode()) {
        switch (K.pstyle('text-halign').value) {
          case 'left':
            ot.x = -lt.w;
            break;
          case 'right':
            ot.x = 0;
            break;
        }
        switch (K.pstyle('text-valign').value) {
          case 'top':
            ot.y = -lt.h;
            break;
          case 'bottom':
            ot.y = 0;
            break;
        }
      }
      return ot;
    },
    J = (t.data.eleTxrCache = new Sd(t, {
      getKey: _,
      doesEleInvalidateKey: m,
      drawElement: x,
      getBoundingBox: D,
      getRotationPoint: L,
      getRotationOffset: Z,
      allowEdgeTxrCaching: !1,
      allowParentTxrCaching: !1,
    })),
    dt = (t.data.lblTxrCache = new Sd(t, {
      getKey: v,
      drawElement: C,
      getBoundingBox: T,
      getRotationPoint: q,
      getRotationOffset: nt,
      isVisible: P,
    })),
    yt = (t.data.slbTxrCache = new Sd(t, {
      getKey: y,
      drawElement: S,
      getBoundingBox: O,
      getRotationPoint: U,
      getRotationOffset: it,
      isVisible: P,
    })),
    wt = (t.data.tlbTxrCache = new Sd(t, {
      getKey: w,
      drawElement: g,
      getBoundingBox: R,
      getRotationPoint: W,
      getRotationOffset: rt,
      isVisible: P,
    })),
    bt = (t.data.lyrTxrCache = new fT(t));
  t.onUpdateEleCalcs(function (K, lt) {
    J.invalidateElements(lt),
      dt.invalidateElements(lt),
      yt.invalidateElements(lt),
      wt.invalidateElements(lt),
      bt.invalidateElements(lt);
    for (var ot = 0; ot < lt.length; ot++) {
      var Mt = lt[ot]._private;
      Mt.oldBackgroundTimestamp = Mt.backgroundTimestamp;
    }
  });
  var At = function (K) {
    for (var lt = 0; lt < K.length; lt++)
      bt.enqueueElementRefinement(K[lt].ele);
  };
  J.onDequeue(At), dt.onDequeue(At), yt.onDequeue(At), wt.onDequeue(At);
}
Ke.redrawHint = function (e, t) {
  var n = this;
  switch (e) {
    case 'eles':
      n.data.canvasNeedsRedraw[Ke.NODE] = t;
      break;
    case 'drag':
      n.data.canvasNeedsRedraw[Ke.DRAG] = t;
      break;
    case 'select':
      n.data.canvasNeedsRedraw[Ke.SELECT_BOX] = t;
      break;
  }
};
var T4 = typeof Path2D < 'u';
Ke.path2dEnabled = function (e) {
  if (e === void 0) return this.pathsEnabled;
  this.pathsEnabled = !!e;
};
Ke.usePaths = function () {
  return T4 && this.pathsEnabled;
};
Ke.setImgSmoothing = function (e, t) {
  e.imageSmoothingEnabled != null
    ? (e.imageSmoothingEnabled = t)
    : ((e.webkitImageSmoothingEnabled = t),
      (e.mozImageSmoothingEnabled = t),
      (e.msImageSmoothingEnabled = t));
};
Ke.getImgSmoothing = function (e) {
  return e.imageSmoothingEnabled != null
    ? e.imageSmoothingEnabled
    : e.webkitImageSmoothingEnabled ||
        e.mozImageSmoothingEnabled ||
        e.msImageSmoothingEnabled;
};
Ke.makeOffscreenCanvas = function (e, t) {
  var n;
  if (
    (typeof OffscreenCanvas > 'u' ? 'undefined' : fn(OffscreenCanvas)) !==
    'undefined'
  )
    n = new OffscreenCanvas(e, t);
  else {
    var i = this.cy.window(),
      r = i.document;
    (n = r.createElement('canvas')), (n.width = e), (n.height = t);
  }
  return n;
};
[pT, Ma, eo, k0, rl, Cc, br, Wo, Yd, yT].forEach(function (e) {
  be(Ke, e);
});
var M4 = [
    { name: 'null', impl: eT },
    { name: 'base', impl: dT },
    { name: 'canvas', impl: D4 },
  ],
  A4 = [
    { type: 'layout', extensions: N3 },
    { type: 'renderer', extensions: M4 },
  ],
  xT = {},
  wT = {};
function kT(e, t, n) {
  var i = n,
    r = function (T) {
      li(
        'Can not register `' +
          t +
          '` for `' +
          e +
          '` since `' +
          T +
          '` already exists in the prototype and can not be overridden'
      );
    };
  if (e === 'core') {
    if (zd.prototype[t]) return r(t);
    zd.prototype[t] = n;
  } else if (e === 'collection') {
    if (Mn.prototype[t]) return r(t);
    Mn.prototype[t] = n;
  } else if (e === 'layout') {
    for (
      var a = function (T) {
          (this.options = T),
            n.call(this, T),
            Ge(this._private) || (this._private = {}),
            (this._private.cy = T.cy),
            (this._private.listeners = []),
            this.createEmitter();
        },
        o = (a.prototype = Object.create(n.prototype)),
        s = [],
        l = 0;
      l < s.length;
      l++
    ) {
      var c = s[l];
      o[c] =
        o[c] ||
        function () {
          return this;
        };
    }
    o.start && !o.run
      ? (o.run = function () {
          return this.start(), this;
        })
      : !o.start &&
        o.run &&
        (o.start = function () {
          return this.run(), this;
        });
    var u = n.prototype.stop;
    (o.stop = function () {
      var D = this.options;
      if (D && D.animate) {
        var T = this.animations;
        if (T) for (var O = 0; O < T.length; O++) T[O].stop();
      }
      return u ? u.call(this) : this.emit('layoutstop'), this;
    }),
      o.destroy ||
        (o.destroy = function () {
          return this;
        }),
      (o.cy = function () {
        return this._private.cy;
      });
    var d = function (T) {
        return T._private.cy;
      },
      h = {
        addEventFields: function (T, O) {
          (O.layout = T), (O.cy = d(T)), (O.target = T);
        },
        bubble: function () {
          return !0;
        },
        parent: function (T) {
          return d(T);
        },
      };
    be(o, {
      createEmitter: function () {
        return (this._private.emitter = new pm(h, this)), this;
      },
      emitter: function () {
        return this._private.emitter;
      },
      on: function (T, O) {
        return this.emitter().on(T, O), this;
      },
      one: function (T, O) {
        return this.emitter().one(T, O), this;
      },
      once: function (T, O) {
        return this.emitter().one(T, O), this;
      },
      removeListener: function (T, O) {
        return this.emitter().removeListener(T, O), this;
      },
      removeAllListeners: function () {
        return this.emitter().removeAllListeners(), this;
      },
      emit: function (T, O) {
        return this.emitter().emit(T, O), this;
      },
    }),
      si.eventAliasesOn(o),
      (i = a);
  } else if (e === 'renderer' && t !== 'null' && t !== 'base') {
    var p = CT('renderer', 'base'),
      m = p.prototype,
      _ = n,
      v = n.prototype,
      y = function () {
        p.apply(this, arguments), _.apply(this, arguments);
      },
      w = y.prototype;
    for (var x in m) {
      var C = m[x],
        S = v[x] != null;
      if (S) return r(x);
      w[x] = C;
    }
    for (var g in v) w[g] = v[g];
    m.clientFunctions.forEach(function (D) {
      w[D] =
        w[D] ||
        function () {
          Xi(
            'Renderer does not implement `renderer.' +
              D +
              '()` on its prototype'
          );
        };
    }),
      (i = y);
  } else if (e === '__proto__' || e === 'constructor' || e === 'prototype')
    return Xi(
      e +
        ' is an illegal type to be registered, possibly lead to prototype pollutions'
    );
  return KS({ map: xT, keys: [e, t], value: i });
}
function CT(e, t) {
  return XS({ map: xT, keys: [e, t] });
}
function I4(e, t, n, i, r) {
  return KS({ map: wT, keys: [e, t, n, i], value: r });
}
function R4(e, t, n, i) {
  return XS({ map: wT, keys: [e, t, n, i] });
}
var Jy = function () {
  if (arguments.length === 2) return CT.apply(null, arguments);
  if (arguments.length === 3) return kT.apply(null, arguments);
  if (arguments.length === 4) return R4.apply(null, arguments);
  if (arguments.length === 5) return I4.apply(null, arguments);
  Xi('Invalid extension access syntax');
};
zd.prototype.extension = Jy;
A4.forEach(function (e) {
  e.extensions.forEach(function (t) {
    kT(e.type, t.name, t.impl);
  });
});
var ET = function e() {
    if (!(this instanceof e)) return new e();
    this.length = 0;
  },
  il = ET.prototype;
il.instanceString = function () {
  return 'stylesheet';
};
il.selector = function (e) {
  var t = this.length++;
  return (this[t] = { selector: e, properties: [] }), this;
};
il.css = function (e, t) {
  var n = this.length - 1;
  if (he(e)) this[n].properties.push({ name: e, value: t });
  else if (Ge(e))
    for (var i = e, r = Object.keys(i), a = 0; a < r.length; a++) {
      var o = r[a],
        s = i[o];
      if (s != null) {
        var l = Vn.properties[o] || Vn.properties[rm(o)];
        if (l != null) {
          var c = l.name,
            u = s;
          this[n].properties.push({ name: c, value: u });
        }
      }
    }
  return this;
};
il.style = il.css;
il.generateStyle = function (e) {
  var t = new Vn(e);
  return this.appendToStyle(t);
};
il.appendToStyle = function (e) {
  for (var t = 0; t < this.length; t++) {
    var n = this[t],
      i = n.selector,
      r = n.properties;
    e.selector(i);
    for (var a = 0; a < r.length; a++) {
      var o = r[a];
      e.css(o.name, o.value);
    }
  }
  return e;
};
var O4 = '3.30.2',
  Da = function (t) {
    if ((t === void 0 && (t = {}), Ge(t))) return new zd(t);
    if (he(t)) return Jy.apply(Jy, arguments);
  };
Da.use = function (e) {
  var t = Array.prototype.slice.call(arguments, 1);
  return t.unshift(Da), e.apply(null, t), this;
};
Da.warnings = function (e) {
  return rD(e);
};
Da.version = O4;
Da.stylesheet = Da.Stylesheet = ET;
var xM = lx(hM()),
  wM = lx(gM());
var UU = ['input'],
  HU = ['label'],
  WU = ['*'],
  $U = new ge('mat-checkbox-default-options', {
    providedIn: 'root',
    factory: bM,
  });
function bM() {
  return {
    color: 'accent',
    clickAction: 'check-indeterminate',
    disabledInteractive: !1,
  };
}
var $n = (function (e) {
    return (
      (e[(e.Init = 0)] = 'Init'),
      (e[(e.Checked = 1)] = 'Checked'),
      (e[(e.Unchecked = 2)] = 'Unchecked'),
      (e[(e.Indeterminate = 3)] = 'Indeterminate'),
      e
    );
  })($n || {}),
  GU = { provide: wp, useExisting: Na(() => Rc), multi: !0 },
  Z0 = class {},
  YU = 0,
  vM = bM(),
  Rc = (() => {
    let t = class t {
      focus() {
        this._inputElement.nativeElement.focus();
      }
      _createChangeEvent(i) {
        let r = new Z0();
        return (r.source = this), (r.checked = i), r;
      }
      _getAnimationTargetElement() {
        return this._inputElement?.nativeElement;
      }
      get inputId() {
        return `${this.id || this._uniqueId}-input`;
      }
      constructor(i, r, a, o, s, l) {
        (this._elementRef = i),
          (this._changeDetectorRef = r),
          (this._ngZone = a),
          (this._animationMode = s),
          (this._options = l),
          (this._animationClasses = {
            uncheckedToChecked: 'mdc-checkbox--anim-unchecked-checked',
            uncheckedToIndeterminate:
              'mdc-checkbox--anim-unchecked-indeterminate',
            checkedToUnchecked: 'mdc-checkbox--anim-checked-unchecked',
            checkedToIndeterminate: 'mdc-checkbox--anim-checked-indeterminate',
            indeterminateToChecked: 'mdc-checkbox--anim-indeterminate-checked',
            indeterminateToUnchecked:
              'mdc-checkbox--anim-indeterminate-unchecked',
          }),
          (this.ariaLabel = ''),
          (this.ariaLabelledby = null),
          (this.labelPosition = 'after'),
          (this.name = null),
          (this.change = new bi()),
          (this.indeterminateChange = new bi()),
          (this._onTouched = () => {}),
          (this._currentAnimationClass = ''),
          (this._currentCheckState = $n.Init),
          (this._controlValueAccessorChangeFn = () => {}),
          (this._validatorChangeFn = () => {}),
          (this._checked = !1),
          (this._disabled = !1),
          (this._indeterminate = !1),
          (this._options = this._options || vM),
          (this.color = this._options.color || vM.color),
          (this.tabIndex = parseInt(o) || 0),
          (this.id = this._uniqueId = `mat-mdc-checkbox-${++YU}`),
          (this.disabledInteractive = l?.disabledInteractive ?? !1);
      }
      ngOnChanges(i) {
        i.required && this._validatorChangeFn();
      }
      ngAfterViewInit() {
        this._syncIndeterminate(this._indeterminate);
      }
      get checked() {
        return this._checked;
      }
      set checked(i) {
        i != this.checked &&
          ((this._checked = i), this._changeDetectorRef.markForCheck());
      }
      get disabled() {
        return this._disabled;
      }
      set disabled(i) {
        i !== this.disabled &&
          ((this._disabled = i), this._changeDetectorRef.markForCheck());
      }
      get indeterminate() {
        return this._indeterminate;
      }
      set indeterminate(i) {
        let r = i != this._indeterminate;
        (this._indeterminate = i),
          r &&
            (this._indeterminate
              ? this._transitionCheckState($n.Indeterminate)
              : this._transitionCheckState(
                  this.checked ? $n.Checked : $n.Unchecked
                ),
            this.indeterminateChange.emit(this._indeterminate)),
          this._syncIndeterminate(this._indeterminate);
      }
      _isRippleDisabled() {
        return this.disableRipple || this.disabled;
      }
      _onLabelTextChange() {
        this._changeDetectorRef.detectChanges();
      }
      writeValue(i) {
        this.checked = !!i;
      }
      registerOnChange(i) {
        this._controlValueAccessorChangeFn = i;
      }
      registerOnTouched(i) {
        this._onTouched = i;
      }
      setDisabledState(i) {
        this.disabled = i;
      }
      validate(i) {
        return this.required && i.value !== !0 ? { required: !0 } : null;
      }
      registerOnValidatorChange(i) {
        this._validatorChangeFn = i;
      }
      _transitionCheckState(i) {
        let r = this._currentCheckState,
          a = this._getAnimationTargetElement();
        if (
          !(r === i || !a) &&
          (this._currentAnimationClass &&
            a.classList.remove(this._currentAnimationClass),
          (this._currentAnimationClass =
            this._getAnimationClassForCheckStateTransition(r, i)),
          (this._currentCheckState = i),
          this._currentAnimationClass.length > 0)
        ) {
          a.classList.add(this._currentAnimationClass);
          let o = this._currentAnimationClass;
          this._ngZone.runOutsideAngular(() => {
            setTimeout(() => {
              a.classList.remove(o);
            }, 1e3);
          });
        }
      }
      _emitChangeEvent() {
        this._controlValueAccessorChangeFn(this.checked),
          this.change.emit(this._createChangeEvent(this.checked)),
          this._inputElement &&
            (this._inputElement.nativeElement.checked = this.checked);
      }
      toggle() {
        (this.checked = !this.checked),
          this._controlValueAccessorChangeFn(this.checked);
      }
      _handleInputClick() {
        let i = this._options?.clickAction;
        !this.disabled && i !== 'noop'
          ? (this.indeterminate &&
              i !== 'check' &&
              Promise.resolve().then(() => {
                (this._indeterminate = !1),
                  this.indeterminateChange.emit(this._indeterminate);
              }),
            (this._checked = !this._checked),
            this._transitionCheckState(
              this._checked ? $n.Checked : $n.Unchecked
            ),
            this._emitChangeEvent())
          : ((this.disabled && this.disabledInteractive) ||
              (!this.disabled && i === 'noop')) &&
            ((this._inputElement.nativeElement.checked = this.checked),
            (this._inputElement.nativeElement.indeterminate =
              this.indeterminate));
      }
      _onInteractionEvent(i) {
        i.stopPropagation();
      }
      _onBlur() {
        Promise.resolve().then(() => {
          this._onTouched(), this._changeDetectorRef.markForCheck();
        });
      }
      _getAnimationClassForCheckStateTransition(i, r) {
        if (this._animationMode === 'NoopAnimations') return '';
        switch (i) {
          case $n.Init:
            if (r === $n.Checked)
              return this._animationClasses.uncheckedToChecked;
            if (r == $n.Indeterminate)
              return this._checked
                ? this._animationClasses.checkedToIndeterminate
                : this._animationClasses.uncheckedToIndeterminate;
            break;
          case $n.Unchecked:
            return r === $n.Checked
              ? this._animationClasses.uncheckedToChecked
              : this._animationClasses.uncheckedToIndeterminate;
          case $n.Checked:
            return r === $n.Unchecked
              ? this._animationClasses.checkedToUnchecked
              : this._animationClasses.checkedToIndeterminate;
          case $n.Indeterminate:
            return r === $n.Checked
              ? this._animationClasses.indeterminateToChecked
              : this._animationClasses.indeterminateToUnchecked;
        }
        return '';
      }
      _syncIndeterminate(i) {
        let r = this._inputElement;
        r && (r.nativeElement.indeterminate = i);
      }
      _onInputClick() {
        this._handleInputClick();
      }
      _onTouchTargetClick() {
        this._handleInputClick(),
          this.disabled || this._inputElement.nativeElement.focus();
      }
      _preventBubblingFromLabel(i) {
        i.target &&
          this._labelElement.nativeElement.contains(i.target) &&
          i.stopPropagation();
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(Re),
        Tt(Yi),
        Tt(De),
        yl('tabindex'),
        Tt(Yn, 8),
        Tt($U, 8)
      );
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-checkbox']],
        viewQuery: function (r, a) {
          if ((r & 1 && (Bn(UU, 5), Bn(HU, 5), Bn(pp, 5)), r & 2)) {
            let o;
            Qe((o = Je())) && (a._inputElement = o.first),
              Qe((o = Je())) && (a._labelElement = o.first),
              Qe((o = Je())) && (a.ripple = o.first);
          }
        },
        hostAttrs: [1, 'mat-mdc-checkbox'],
        hostVars: 16,
        hostBindings: function (r, a) {
          r & 2 &&
            (ou('id', a.id),
            yi('tabindex', null)('aria-label', null)('aria-labelledby', null),
            Ba(a.color ? 'mat-' + a.color : 'mat-accent'),
            Ze(
              '_mat-animation-noopable',
              a._animationMode === 'NoopAnimations'
            )('mdc-checkbox--disabled', a.disabled)(
              'mat-mdc-checkbox-disabled',
              a.disabled
            )('mat-mdc-checkbox-checked', a.checked)(
              'mat-mdc-checkbox-disabled-interactive',
              a.disabledInteractive
            ));
        },
        inputs: {
          ariaLabel: [0, 'aria-label', 'ariaLabel'],
          ariaLabelledby: [0, 'aria-labelledby', 'ariaLabelledby'],
          ariaDescribedby: [0, 'aria-describedby', 'ariaDescribedby'],
          id: 'id',
          required: [2, 'required', 'required', pi],
          labelPosition: 'labelPosition',
          name: 'name',
          value: 'value',
          disableRipple: [2, 'disableRipple', 'disableRipple', pi],
          tabIndex: [
            2,
            'tabIndex',
            'tabIndex',
            (i) => (i == null ? void 0 : cu(i)),
          ],
          color: 'color',
          disabledInteractive: [
            2,
            'disabledInteractive',
            'disabledInteractive',
            pi,
          ],
          checked: [2, 'checked', 'checked', pi],
          disabled: [2, 'disabled', 'disabled', pi],
          indeterminate: [2, 'indeterminate', 'indeterminate', pi],
        },
        outputs: {
          change: 'change',
          indeterminateChange: 'indeterminateChange',
        },
        exportAs: ['matCheckbox'],
        standalone: !0,
        features: [
          bn([GU, { provide: _y, useExisting: t, multi: !0 }]),
          Fn,
          $r,
          Ie,
        ],
        ngContentSelectors: WU,
        decls: 15,
        vars: 20,
        consts: [
          ['checkbox', ''],
          ['input', ''],
          ['label', ''],
          ['mat-internal-form-field', '', 3, 'click', 'labelPosition'],
          [1, 'mdc-checkbox'],
          [1, 'mat-mdc-checkbox-touch-target', 3, 'click'],
          [
            'type',
            'checkbox',
            1,
            'mdc-checkbox__native-control',
            3,
            'blur',
            'click',
            'change',
            'checked',
            'indeterminate',
            'disabled',
            'id',
            'required',
            'tabIndex',
          ],
          [1, 'mdc-checkbox__ripple'],
          [1, 'mdc-checkbox__background'],
          [
            'focusable',
            'false',
            'viewBox',
            '0 0 24 24',
            'aria-hidden',
            'true',
            1,
            'mdc-checkbox__checkmark',
          ],
          [
            'fill',
            'none',
            'd',
            'M1.73,12.91 8.1,19.28 22.79,4.59',
            1,
            'mdc-checkbox__checkmark-path',
          ],
          [1, 'mdc-checkbox__mixedmark'],
          [
            'mat-ripple',
            '',
            1,
            'mat-mdc-checkbox-ripple',
            'mat-mdc-focus-indicator',
            3,
            'matRippleTrigger',
            'matRippleDisabled',
            'matRippleCentered',
          ],
          [1, 'mdc-label', 3, 'for'],
        ],
        template: function (r, a) {
          if (r & 1) {
            let o = Ar();
            zi(),
              se(0, 'div', 3),
              Ai('click', function (l) {
                return wn(o), kn(a._preventBubblingFromLabel(l));
              }),
              se(1, 'div', 4, 0)(3, 'div', 5),
              Ai('click', function () {
                return wn(o), kn(a._onTouchTargetClick());
              }),
              de(),
              se(4, 'input', 6, 1),
              Ai('blur', function () {
                return wn(o), kn(a._onBlur());
              })('click', function () {
                return wn(o), kn(a._onInputClick());
              })('change', function (l) {
                return wn(o), kn(a._onInteractionEvent(l));
              }),
              de(),
              ri(6, 'div', 7),
              se(7, 'div', 8),
              vv(),
              se(8, 'svg', 9),
              ri(9, 'path', 10),
              de(),
              bv(),
              ri(10, 'div', 11),
              de(),
              ri(11, 'div', 12),
              de(),
              se(12, 'label', 13, 2),
              qe(14),
              de()();
          }
          if (r & 2) {
            let o = xs(2);
            Kn('labelPosition', a.labelPosition),
              je(4),
              Ze('mdc-checkbox--selected', a.checked),
              Kn('checked', a.checked)('indeterminate', a.indeterminate)(
                'disabled',
                a.disabled && !a.disabledInteractive
              )('id', a.inputId)('required', a.required)(
                'tabIndex',
                a.disabled && !a.disabledInteractive ? -1 : a.tabIndex
              ),
              yi('aria-label', a.ariaLabel || null)(
                'aria-labelledby',
                a.ariaLabelledby
              )('aria-describedby', a.ariaDescribedby)(
                'aria-checked',
                a.indeterminate ? 'mixed' : null
              )(
                'aria-disabled',
                a.disabled && a.disabledInteractive ? !0 : null
              )('name', a.name)('value', a.value),
              je(7),
              Kn('matRippleTrigger', o)(
                'matRippleDisabled',
                a.disableRipple || a.disabled
              )('matRippleCentered', !0),
              je(),
              Kn('for', a.inputId);
          }
        },
        dependencies: [pp, ZC],
        styles: [
          '.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}',
        ],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })();
var qm = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [Rc, Vi, Vi] }));
  let e = t;
  return e;
})();
var Um = class e {
  couplingService = It(Hl);
  eventService = It(xa);
  matrix = [[]];
  labels = [];
  groups = [];
  groupByFolder = !1;
  fileCount;
  cohesion;
  constructor() {
    this.eventService.filterChanged.pipe(Bs()).subscribe(() => {
      this.load();
    });
  }
  ngOnInit() {
    this.load();
  }
  groupByFolderChanged(t) {
    this.draw();
  }
  load() {
    this.couplingService.load().subscribe((t) => {
      (this.matrix = t.matrix),
        this.clearSelfLinks(),
        (this.fileCount = t.fileCount),
        (this.cohesion = t.cohesion),
        (this.labels = t.dimensions),
        (this.groups = t.groups),
        this.draw();
    });
  }
  draw() {
    let t = this.groupByFolder ? this.createGroups() : [],
      n = this.createNodes(t),
      i = this.createEdges();
    XU([...t, ...n], i);
  }
  createEdges() {
    let t = [];
    for (let n = 0; n < this.matrix.length; n++)
      for (let i = 0; i < this.matrix.length; i++)
        this.matrix[n][i] > 0 &&
          t.push({
            data: {
              source: '' + n,
              target: '' + i,
              weight: this.matrix[n][i],
              tooltip: `${this.labels[n].split('/').at(-1)} \u2192 ${this.labels[i].split('/').at(-1)}<br><br>${this.matrix[n][i]} connections`,
            },
          });
    return t;
  }
  createNodes(t) {
    let n = [];
    for (let i = 0; i < this.labels.length; i++) {
      let r = this.labels[i],
        a = {
          data: {
            id: '' + i,
            label: r.split('/').at(-1),
            tooltip: `${r}
<br><br>${this.fileCount[i]} source files
<br>Cohesion: ${this.cohesion[i]}%
<br>Outgoing Deps: ${ZU(this.matrix, i)}
<br>Incoming Deps: ${QU(this.matrix, i)}
`,
            dimension: r,
          },
        },
        o = _M(t, r);
      o && (a.data.parent = o.data.id), n.push(a);
    }
    return n;
  }
  createGroups() {
    let t = [];
    this.groups.sort();
    for (let n = 0; n < this.groups.length; n++) {
      let i = this.groups[n],
        r = {
          data: {
            id: 'G' + n,
            label: i.split('/').at(-1),
            tooltip: i,
            dimension: i,
          },
          classes: 'group',
        },
        a = _M(t, i);
      a && (r.data.parent = a.data.id), t.push(r);
    }
    return t;
  }
  clearSelfLinks() {
    for (let t = 0; t < this.matrix.length; t++) this.matrix[t][t] = 0;
  }
  prepareDimensions(t) {
    return t.map((n) => n.split('/').at(-1));
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵcmp = Ae({
    type: e,
    selectors: [['app-graph']],
    standalone: !0,
    features: [Ie],
    decls: 5,
    vars: 1,
    consts: [
      [3, 'ngModelChange', 'change', 'ngModel'],
      ['id', 'network'],
      ['id', 'tooltip', 1, 'tooltip'],
      ['id', 'cy'],
    ],
    template: function (n, i) {
      n & 1 &&
        (se(0, 'mat-checkbox', 0),
        zx('ngModelChange', function (a) {
          return Bx(i.groupByFolder, a) || (i.groupByFolder = a), a;
        }),
        Ai('change', function (a) {
          return i.groupByFolderChanged(a);
        }),
        hi(1, 'Group by folder'),
        de(),
        ri(2, 'div', 1)(3, 'div', 2)(4, 'div', 3)),
        n & 2 && Fx('ngModel', i.groupByFolder);
    },
    dependencies: [qm, Rc, yE, gE, wy],
    styles: [
      'body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}svg[_ngcontent-%COMP%]{width:100%;height:100%}.qtip-bootstrap[_ngcontent-%COMP%]{max-width:700px}.tooltip[_ngcontent-%COMP%]{position:absolute;text-align:center;padding:8px;font:12px sans-serif;background:#b0c4de;border:1px solid #ddd;border-radius:8px;pointer-events:none;opacity:0;width:auto;max-width:700px}#network[_ngcontent-%COMP%]{height:100%;margin:auto;cursor:pointer}#cy[_ngcontent-%COMP%]{width:100%;height:100vh;display:block}',
    ],
  });
};
function _M(e, t) {
  let n = null,
    i = e.filter((r) => t.startsWith(r.data.dimension));
  return (
    console.log('candParents', i),
    i.length > 0 &&
      (n = i.reduce(
        (r, a) => (a.data.dimension.length > r.data.dimension.length ? a : r),
        i[0]
      )),
    n
  );
}
function KU(e) {
  let t = e.edges(),
    n = t.min((r) => r.data('weight')),
    i = t.max((r) => r.data('weight'));
  return [n.value, i.value];
}
function XU(e, t) {
  Da.use(xM.default), Da.use(wM.default);
  let n = Da({
    container: document.getElementById('cy'),
    layout: {
      name: 'cola',
      padding: 10,
      nodeSpacing: 30,
      avoidOverlap: !0,
      flow: { axis: 'x', minSeparation: 20 },
      fit: !1,
      animate: !1,
    },
    style: [
      {
        selector: 'node',
        style: {
          shape: 'round-rectangle',
          label: 'data(label)',
          'text-valign': 'center',
          'text-halign': 'center',
          height: '20px',
          width: 'label',
          padding: '10px',
          'background-color': '#60a3bc',
          'border-color': '#1e272e',
          'border-width': 1,
          color: '#ffffff',
          'font-size': '16px',
          'min-zoomed-font-size': 8,
          'text-wrap': 'wrap',
          'text-max-width': '100px',
        },
      },
      {
        selector: 'edge',
        style: {
          width: 1,
          'line-color': '#1e272e',
          'target-arrow-color': '#1e272e',
          'target-arrow-shape': 'triangle',
          'curve-style': 'bezier',
        },
      },
      {
        selector: '.group',
        style: {
          shape: 'round-rectangle',
          'background-color': 'rgba(255,255,255,0.5)',
          'border-color': '#1e272e',
          'border-width': 1,
          padding: '20px',
          label: 'data(label)',
          'text-valign': 'top',
          'text-halign': 'center',
          'font-size': '14px',
          'font-weight': 'bold',
          color: 'black',
        },
      },
    ],
    elements: { nodes: e, edges: t },
    wheelSensitivity: 0.2,
    zoomingEnabled: !0,
    userZoomingEnabled: !0,
    panningEnabled: !0,
    userPanningEnabled: !0,
  });
  n.ready(() => {
    n.nodes().forEach((c) => {
      let u = c.data('label');
      c.style('width', `${u.length * 10}px`);
    });
    let [i, r] = KU(n),
      a = (r - i) / 3,
      o = i + a,
      s = r - a;
    n.style()
      .selector('edge')
      .style({
        width: function (c) {
          return c.data('weight') <= o
            ? '1px'
            : c.data('weight') >= s
              ? '3px'
              : '2px';
        },
      })
      .update();
    var l = 1 / 0,
      l = 1 / 0;
    n.nodes().forEach(function (c) {
      var u = c.boundingBox({
        includeNodes: !0,
        includeEdges: !1,
        includeLabels: !1,
      });
      u.y1 < l && (l = u.y1);
    }),
      n.pan({ x: 0, y: -l + 20 });
  }),
    n.nodes().forEach((i) => {
      let r = i.data('tooltip');
      r &&
        i.qtip({
          content: r,
          position: { my: 'top center', at: 'bottom center' },
          style: {
            classes: 'qtip-bootstrap',
            tip: { corner: !0, mimic: 'center', width: 10, height: 10 },
            'z-index': 1,
          },
          hide: { event: 'mouseout' },
        });
    }),
    n.edges().forEach((i) => {
      let r = i.data('tooltip');
      r &&
        i.qtip({
          content: r,
          position: { my: 'top center', at: 'bottom center' },
          style: {
            classes: 'qtip-bootstrap',
            tip: { corner: !0, mimic: 'center', width: 10, height: 10 },
            'z-index': 1,
          },
          hide: { event: 'mouseout' },
        });
    });
}
function ZU(e, t) {
  let n = 0;
  for (let i = 0; i < e.length; i++) i !== t && (n += e[t][i]);
  return n;
}
function QU(e, t) {
  let n = 0;
  for (let i = 0; i < e.length; i++) i !== t && (n += e[i][t]);
  return n;
}
var Hm = class e {
  http = It(Yr);
  load() {
    return this.http.get('/api/team-alignment');
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵprov = Qt({ token: e, factory: e.ɵfac, providedIn: 'root' });
};
function lh(e) {
  return (e + 0.5) | 0;
}
var Yo = (e, t, n) => Math.max(Math.min(e, n), t);
function oh(e) {
  return Yo(lh(e * 2.55), 0, 255);
}
function Ko(e) {
  return Yo(lh(e * 255), 0, 255);
}
function ro(e) {
  return Yo(lh(e / 2.55) / 100, 0, 1);
}
function kM(e) {
  return Yo(lh(e * 100), 0, 100);
}
var zr = {
    0: 0,
    1: 1,
    2: 2,
    3: 3,
    4: 4,
    5: 5,
    6: 6,
    7: 7,
    8: 8,
    9: 9,
    A: 10,
    B: 11,
    C: 12,
    D: 13,
    E: 14,
    F: 15,
    a: 10,
    b: 11,
    c: 12,
    d: 13,
    e: 14,
    f: 15,
  },
  J0 = [...'0123456789ABCDEF'],
  JU = (e) => J0[e & 15],
  tH = (e) => J0[(e & 240) >> 4] + J0[e & 15],
  Wm = (e) => (e & 240) >> 4 === (e & 15),
  eH = (e) => Wm(e.r) && Wm(e.g) && Wm(e.b) && Wm(e.a);
function iH(e) {
  var t = e.length,
    n;
  return (
    e[0] === '#' &&
      (t === 4 || t === 5
        ? (n = {
            r: 255 & (zr[e[1]] * 17),
            g: 255 & (zr[e[2]] * 17),
            b: 255 & (zr[e[3]] * 17),
            a: t === 5 ? zr[e[4]] * 17 : 255,
          })
        : (t === 7 || t === 9) &&
          (n = {
            r: (zr[e[1]] << 4) | zr[e[2]],
            g: (zr[e[3]] << 4) | zr[e[4]],
            b: (zr[e[5]] << 4) | zr[e[6]],
            a: t === 9 ? (zr[e[7]] << 4) | zr[e[8]] : 255,
          })),
    n
  );
}
var nH = (e, t) => (e < 255 ? t(e) : '');
function rH(e) {
  var t = eH(e) ? JU : tH;
  return e ? '#' + t(e.r) + t(e.g) + t(e.b) + nH(e.a, t) : void 0;
}
var aH =
  /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;
function DM(e, t, n) {
  let i = t * Math.min(n, 1 - n),
    r = (a, o = (a + e / 30) % 12) =>
      n - i * Math.max(Math.min(o - 3, 9 - o, 1), -1);
  return [r(0), r(8), r(4)];
}
function oH(e, t, n) {
  let i = (r, a = (r + e / 60) % 6) =>
    n - n * t * Math.max(Math.min(a, 4 - a, 1), 0);
  return [i(5), i(3), i(1)];
}
function sH(e, t, n) {
  let i = DM(e, 1, 0.5),
    r;
  for (t + n > 1 && ((r = 1 / (t + n)), (t *= r), (n *= r)), r = 0; r < 3; r++)
    (i[r] *= 1 - t - n), (i[r] += t);
  return i;
}
function lH(e, t, n, i, r) {
  return e === r
    ? (t - n) / i + (t < n ? 6 : 0)
    : t === r
      ? (n - e) / i + 2
      : (e - t) / i + 4;
}
function t_(e) {
  let n = e.r / 255,
    i = e.g / 255,
    r = e.b / 255,
    a = Math.max(n, i, r),
    o = Math.min(n, i, r),
    s = (a + o) / 2,
    l,
    c,
    u;
  return (
    a !== o &&
      ((u = a - o),
      (c = s > 0.5 ? u / (2 - a - o) : u / (a + o)),
      (l = lH(n, i, r, u, a)),
      (l = l * 60 + 0.5)),
    [l | 0, c || 0, s]
  );
}
function e_(e, t, n, i) {
  return (Array.isArray(t) ? e(t[0], t[1], t[2]) : e(t, n, i)).map(Ko);
}
function i_(e, t, n) {
  return e_(DM, e, t, n);
}
function cH(e, t, n) {
  return e_(sH, e, t, n);
}
function uH(e, t, n) {
  return e_(oH, e, t, n);
}
function TM(e) {
  return ((e % 360) + 360) % 360;
}
function dH(e) {
  let t = aH.exec(e),
    n = 255,
    i;
  if (!t) return;
  t[5] !== i && (n = t[6] ? oh(+t[5]) : Ko(+t[5]));
  let r = TM(+t[2]),
    a = +t[3] / 100,
    o = +t[4] / 100;
  return (
    t[1] === 'hwb'
      ? (i = cH(r, a, o))
      : t[1] === 'hsv'
        ? (i = uH(r, a, o))
        : (i = i_(r, a, o)),
    { r: i[0], g: i[1], b: i[2], a: n }
  );
}
function hH(e, t) {
  var n = t_(e);
  (n[0] = TM(n[0] + t)), (n = i_(n)), (e.r = n[0]), (e.g = n[1]), (e.b = n[2]);
}
function fH(e) {
  if (!e) return;
  let t = t_(e),
    n = t[0],
    i = kM(t[1]),
    r = kM(t[2]);
  return e.a < 255
    ? `hsla(${n}, ${i}%, ${r}%, ${ro(e.a)})`
    : `hsl(${n}, ${i}%, ${r}%)`;
}
var CM = {
    x: 'dark',
    Z: 'light',
    Y: 're',
    X: 'blu',
    W: 'gr',
    V: 'medium',
    U: 'slate',
    A: 'ee',
    T: 'ol',
    S: 'or',
    B: 'ra',
    C: 'lateg',
    D: 'ights',
    R: 'in',
    Q: 'turquois',
    E: 'hi',
    P: 'ro',
    O: 'al',
    N: 'le',
    M: 'de',
    L: 'yello',
    F: 'en',
    K: 'ch',
    G: 'arks',
    H: 'ea',
    I: 'ightg',
    J: 'wh',
  },
  EM = {
    OiceXe: 'f0f8ff',
    antiquewEte: 'faebd7',
    aqua: 'ffff',
    aquamarRe: '7fffd4',
    azuY: 'f0ffff',
    beige: 'f5f5dc',
    bisque: 'ffe4c4',
    black: '0',
    blanKedOmond: 'ffebcd',
    Xe: 'ff',
    XeviTet: '8a2be2',
    bPwn: 'a52a2a',
    burlywood: 'deb887',
    caMtXe: '5f9ea0',
    KartYuse: '7fff00',
    KocTate: 'd2691e',
    cSO: 'ff7f50',
    cSnflowerXe: '6495ed',
    cSnsilk: 'fff8dc',
    crimson: 'dc143c',
    cyan: 'ffff',
    xXe: '8b',
    xcyan: '8b8b',
    xgTMnPd: 'b8860b',
    xWay: 'a9a9a9',
    xgYF: '6400',
    xgYy: 'a9a9a9',
    xkhaki: 'bdb76b',
    xmagFta: '8b008b',
    xTivegYF: '556b2f',
    xSange: 'ff8c00',
    xScEd: '9932cc',
    xYd: '8b0000',
    xsOmon: 'e9967a',
    xsHgYF: '8fbc8f',
    xUXe: '483d8b',
    xUWay: '2f4f4f',
    xUgYy: '2f4f4f',
    xQe: 'ced1',
    xviTet: '9400d3',
    dAppRk: 'ff1493',
    dApskyXe: 'bfff',
    dimWay: '696969',
    dimgYy: '696969',
    dodgerXe: '1e90ff',
    fiYbrick: 'b22222',
    flSOwEte: 'fffaf0',
    foYstWAn: '228b22',
    fuKsia: 'ff00ff',
    gaRsbSo: 'dcdcdc',
    ghostwEte: 'f8f8ff',
    gTd: 'ffd700',
    gTMnPd: 'daa520',
    Way: '808080',
    gYF: '8000',
    gYFLw: 'adff2f',
    gYy: '808080',
    honeyMw: 'f0fff0',
    hotpRk: 'ff69b4',
    RdianYd: 'cd5c5c',
    Rdigo: '4b0082',
    ivSy: 'fffff0',
    khaki: 'f0e68c',
    lavFMr: 'e6e6fa',
    lavFMrXsh: 'fff0f5',
    lawngYF: '7cfc00',
    NmoncEffon: 'fffacd',
    ZXe: 'add8e6',
    ZcSO: 'f08080',
    Zcyan: 'e0ffff',
    ZgTMnPdLw: 'fafad2',
    ZWay: 'd3d3d3',
    ZgYF: '90ee90',
    ZgYy: 'd3d3d3',
    ZpRk: 'ffb6c1',
    ZsOmon: 'ffa07a',
    ZsHgYF: '20b2aa',
    ZskyXe: '87cefa',
    ZUWay: '778899',
    ZUgYy: '778899',
    ZstAlXe: 'b0c4de',
    ZLw: 'ffffe0',
    lime: 'ff00',
    limegYF: '32cd32',
    lRF: 'faf0e6',
    magFta: 'ff00ff',
    maPon: '800000',
    VaquamarRe: '66cdaa',
    VXe: 'cd',
    VScEd: 'ba55d3',
    VpurpN: '9370db',
    VsHgYF: '3cb371',
    VUXe: '7b68ee',
    VsprRggYF: 'fa9a',
    VQe: '48d1cc',
    VviTetYd: 'c71585',
    midnightXe: '191970',
    mRtcYam: 'f5fffa',
    mistyPse: 'ffe4e1',
    moccasR: 'ffe4b5',
    navajowEte: 'ffdead',
    navy: '80',
    Tdlace: 'fdf5e6',
    Tive: '808000',
    TivedBb: '6b8e23',
    Sange: 'ffa500',
    SangeYd: 'ff4500',
    ScEd: 'da70d6',
    pOegTMnPd: 'eee8aa',
    pOegYF: '98fb98',
    pOeQe: 'afeeee',
    pOeviTetYd: 'db7093',
    papayawEp: 'ffefd5',
    pHKpuff: 'ffdab9',
    peru: 'cd853f',
    pRk: 'ffc0cb',
    plum: 'dda0dd',
    powMrXe: 'b0e0e6',
    purpN: '800080',
    YbeccapurpN: '663399',
    Yd: 'ff0000',
    Psybrown: 'bc8f8f',
    PyOXe: '4169e1',
    saddNbPwn: '8b4513',
    sOmon: 'fa8072',
    sandybPwn: 'f4a460',
    sHgYF: '2e8b57',
    sHshell: 'fff5ee',
    siFna: 'a0522d',
    silver: 'c0c0c0',
    skyXe: '87ceeb',
    UXe: '6a5acd',
    UWay: '708090',
    UgYy: '708090',
    snow: 'fffafa',
    sprRggYF: 'ff7f',
    stAlXe: '4682b4',
    tan: 'd2b48c',
    teO: '8080',
    tEstN: 'd8bfd8',
    tomato: 'ff6347',
    Qe: '40e0d0',
    viTet: 'ee82ee',
    JHt: 'f5deb3',
    wEte: 'ffffff',
    wEtesmoke: 'f5f5f5',
    Lw: 'ffff00',
    LwgYF: '9acd32',
  };
function pH() {
  let e = {},
    t = Object.keys(EM),
    n = Object.keys(CM),
    i,
    r,
    a,
    o,
    s;
  for (i = 0; i < t.length; i++) {
    for (o = s = t[i], r = 0; r < n.length; r++)
      (a = n[r]), (s = s.replace(a, CM[a]));
    (a = parseInt(EM[o], 16)),
      (e[s] = [(a >> 16) & 255, (a >> 8) & 255, a & 255]);
  }
  return e;
}
var $m;
function mH(e) {
  $m || (($m = pH()), ($m.transparent = [0, 0, 0, 0]));
  let t = $m[e.toLowerCase()];
  return t && { r: t[0], g: t[1], b: t[2], a: t.length === 4 ? t[3] : 255 };
}
var gH =
  /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;
function vH(e) {
  let t = gH.exec(e),
    n = 255,
    i,
    r,
    a;
  if (t) {
    if (t[7] !== i) {
      let o = +t[7];
      n = t[8] ? oh(o) : Yo(o * 255, 0, 255);
    }
    return (
      (i = +t[1]),
      (r = +t[3]),
      (a = +t[5]),
      (i = 255 & (t[2] ? oh(i) : Yo(i, 0, 255))),
      (r = 255 & (t[4] ? oh(r) : Yo(r, 0, 255))),
      (a = 255 & (t[6] ? oh(a) : Yo(a, 0, 255))),
      { r: i, g: r, b: a, a: n }
    );
  }
}
function bH(e) {
  return (
    e &&
    (e.a < 255
      ? `rgba(${e.r}, ${e.g}, ${e.b}, ${ro(e.a)})`
      : `rgb(${e.r}, ${e.g}, ${e.b})`)
  );
}
var Q0 = (e) =>
    e <= 0.0031308 ? e * 12.92 : Math.pow(e, 1 / 2.4) * 1.055 - 0.055,
  Oc = (e) => (e <= 0.04045 ? e / 12.92 : Math.pow((e + 0.055) / 1.055, 2.4));
function yH(e, t, n) {
  let i = Oc(ro(e.r)),
    r = Oc(ro(e.g)),
    a = Oc(ro(e.b));
  return {
    r: Ko(Q0(i + n * (Oc(ro(t.r)) - i))),
    g: Ko(Q0(r + n * (Oc(ro(t.g)) - r))),
    b: Ko(Q0(a + n * (Oc(ro(t.b)) - a))),
    a: e.a + n * (t.a - e.a),
  };
}
function Gm(e, t, n) {
  if (e) {
    let i = t_(e);
    (i[t] = Math.max(0, Math.min(i[t] + i[t] * n, t === 0 ? 360 : 1))),
      (i = i_(i)),
      (e.r = i[0]),
      (e.g = i[1]),
      (e.b = i[2]);
  }
}
function MM(e, t) {
  return e && Object.assign(t || {}, e);
}
function SM(e) {
  var t = { r: 0, g: 0, b: 0, a: 255 };
  return (
    Array.isArray(e)
      ? e.length >= 3 &&
        ((t = { r: e[0], g: e[1], b: e[2], a: 255 }),
        e.length > 3 && (t.a = Ko(e[3])))
      : ((t = MM(e, { r: 0, g: 0, b: 0, a: 1 })), (t.a = Ko(t.a))),
    t
  );
}
function _H(e) {
  return e.charAt(0) === 'r' ? vH(e) : dH(e);
}
var sh = class e {
  constructor(t) {
    if (t instanceof e) return t;
    let n = typeof t,
      i;
    n === 'object'
      ? (i = SM(t))
      : n === 'string' && (i = iH(t) || mH(t) || _H(t)),
      (this._rgb = i),
      (this._valid = !!i);
  }
  get valid() {
    return this._valid;
  }
  get rgb() {
    var t = MM(this._rgb);
    return t && (t.a = ro(t.a)), t;
  }
  set rgb(t) {
    this._rgb = SM(t);
  }
  rgbString() {
    return this._valid ? bH(this._rgb) : void 0;
  }
  hexString() {
    return this._valid ? rH(this._rgb) : void 0;
  }
  hslString() {
    return this._valid ? fH(this._rgb) : void 0;
  }
  mix(t, n) {
    if (t) {
      let i = this.rgb,
        r = t.rgb,
        a,
        o = n === a ? 0.5 : n,
        s = 2 * o - 1,
        l = i.a - r.a,
        c = ((s * l === -1 ? s : (s + l) / (1 + s * l)) + 1) / 2;
      (a = 1 - c),
        (i.r = 255 & (c * i.r + a * r.r + 0.5)),
        (i.g = 255 & (c * i.g + a * r.g + 0.5)),
        (i.b = 255 & (c * i.b + a * r.b + 0.5)),
        (i.a = o * i.a + (1 - o) * r.a),
        (this.rgb = i);
    }
    return this;
  }
  interpolate(t, n) {
    return t && (this._rgb = yH(this._rgb, t._rgb, n)), this;
  }
  clone() {
    return new e(this.rgb);
  }
  alpha(t) {
    return (this._rgb.a = Ko(t)), this;
  }
  clearer(t) {
    let n = this._rgb;
    return (n.a *= 1 - t), this;
  }
  greyscale() {
    let t = this._rgb,
      n = lh(t.r * 0.3 + t.g * 0.59 + t.b * 0.11);
    return (t.r = t.g = t.b = n), this;
  }
  opaquer(t) {
    let n = this._rgb;
    return (n.a *= 1 + t), this;
  }
  negate() {
    let t = this._rgb;
    return (t.r = 255 - t.r), (t.g = 255 - t.g), (t.b = 255 - t.b), this;
  }
  lighten(t) {
    return Gm(this._rgb, 2, t), this;
  }
  darken(t) {
    return Gm(this._rgb, 2, -t), this;
  }
  saturate(t) {
    return Gm(this._rgb, 1, t), this;
  }
  desaturate(t) {
    return Gm(this._rgb, 1, -t), this;
  }
  rotate(t) {
    return hH(this._rgb, t), this;
  }
};
function Aa() {}
var FM = (() => {
  let e = 0;
  return () => e++;
})();
function Li(e) {
  return e === null || typeof e > 'u';
}
function Ri(e) {
  if (Array.isArray && Array.isArray(e)) return !0;
  let t = Object.prototype.toString.call(e);
  return t.slice(0, 7) === '[object' && t.slice(-6) === 'Array]';
}
function Ye(e) {
  return e !== null && Object.prototype.toString.call(e) === '[object Object]';
}
function mn(e) {
  return (typeof e == 'number' || e instanceof Number) && isFinite(+e);
}
function sr(e, t) {
  return mn(e) ? e : t;
}
function ti(e, t) {
  return typeof e > 'u' ? t : e;
}
var BM = (e, t) =>
    typeof e == 'string' && e.endsWith('%') ? parseFloat(e) / 100 : +e / t,
  o_ = (e, t) =>
    typeof e == 'string' && e.endsWith('%') ? (parseFloat(e) / 100) * t : +e;
function xi(e, t, n) {
  if (e && typeof e.call == 'function') return e.apply(n, t);
}
function ci(e, t, n, i) {
  let r, a, o;
  if (Ri(e))
    if (((a = e.length), i)) for (r = a - 1; r >= 0; r--) t.call(n, e[r], r);
    else for (r = 0; r < a; r++) t.call(n, e[r], r);
  else if (Ye(e))
    for (o = Object.keys(e), a = o.length, r = 0; r < a; r++)
      t.call(n, e[o[r]], o[r]);
}
function dh(e, t) {
  let n, i, r, a;
  if (!e || !t || e.length !== t.length) return !1;
  for (n = 0, i = e.length; n < i; ++n)
    if (
      ((r = e[n]),
      (a = t[n]),
      r.datasetIndex !== a.datasetIndex || r.index !== a.index)
    )
      return !1;
  return !0;
}
function Xm(e) {
  if (Ri(e)) return e.map(Xm);
  if (Ye(e)) {
    let t = Object.create(null),
      n = Object.keys(e),
      i = n.length,
      r = 0;
    for (; r < i; ++r) t[n[r]] = Xm(e[n[r]]);
    return t;
  }
  return e;
}
function zM(e) {
  return ['__proto__', 'prototype', 'constructor'].indexOf(e) === -1;
}
function xH(e, t, n, i) {
  if (!zM(e)) return;
  let r = t[e],
    a = n[e];
  Ye(r) && Ye(a) ? Lc(r, a, i) : (t[e] = Xm(a));
}
function Lc(e, t, n) {
  let i = Ri(t) ? t : [t],
    r = i.length;
  if (!Ye(e)) return e;
  n = n || {};
  let a = n.merger || xH,
    o;
  for (let s = 0; s < r; ++s) {
    if (((o = i[s]), !Ye(o))) continue;
    let l = Object.keys(o);
    for (let c = 0, u = l.length; c < u; ++c) a(l[c], e, o, n);
  }
  return e;
}
function Nc(e, t) {
  return Lc(e, t, { merger: wH });
}
function wH(e, t, n) {
  if (!zM(e)) return;
  let i = t[e],
    r = n[e];
  Ye(i) && Ye(r)
    ? Nc(i, r)
    : Object.prototype.hasOwnProperty.call(t, e) || (t[e] = Xm(r));
}
var AM = { '': (e) => e, x: (e) => e.x, y: (e) => e.y };
function kH(e) {
  let t = e.split('.'),
    n = [],
    i = '';
  for (let r of t)
    (i += r),
      i.endsWith('\\') ? (i = i.slice(0, -1) + '.') : (n.push(i), (i = ''));
  return n;
}
function CH(e) {
  let t = kH(e);
  return (n) => {
    for (let i of t) {
      if (i === '') break;
      n = n && n[i];
    }
    return n;
  };
}
function Fc(e, t) {
  return (AM[t] || (AM[t] = CH(t)))(e);
}
function Jm(e) {
  return e.charAt(0).toUpperCase() + e.slice(1);
}
var hh = (e) => typeof e < 'u',
  ao = (e) => typeof e == 'function',
  s_ = (e, t) => {
    if (e.size !== t.size) return !1;
    for (let n of e) if (!t.has(n)) return !1;
    return !0;
  };
function VM(e) {
  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';
}
var Oi = Math.PI,
  Pi = 2 * Oi,
  ait = Pi + Oi,
  Zm = Number.POSITIVE_INFINITY,
  EH = Oi / 180,
  Qi = Oi / 2,
  ol = Oi / 4,
  IM = (Oi * 2) / 3,
  oo = Math.log10,
  fh = Math.sign;
function ph(e, t, n) {
  return Math.abs(e - t) < n;
}
function l_(e) {
  let t = Math.round(e);
  e = ph(e, t, e / 1e3) ? t : e;
  let n = Math.pow(10, Math.floor(oo(e))),
    i = e / n;
  return (i <= 1 ? 1 : i <= 2 ? 2 : i <= 5 ? 5 : 10) * n;
}
function jM(e) {
  let t = [],
    n = Math.sqrt(e),
    i;
  for (i = 1; i < n; i++) e % i === 0 && (t.push(i), t.push(e / i));
  return n === (n | 0) && t.push(n), t.sort((r, a) => r - a).pop(), t;
}
function mh(e) {
  return !isNaN(parseFloat(e)) && isFinite(e);
}
function qM(e, t) {
  let n = Math.round(e);
  return n - t <= e && n + t >= e;
}
function c_(e, t, n) {
  let i, r, a;
  for (i = 0, r = e.length; i < r; i++)
    (a = e[i][n]),
      isNaN(a) || ((t.min = Math.min(t.min, a)), (t.max = Math.max(t.max, a)));
}
function la(e) {
  return e * (Oi / 180);
}
function tg(e) {
  return e * (180 / Oi);
}
function u_(e) {
  if (!mn(e)) return;
  let t = 1,
    n = 0;
  for (; Math.round(e * t) / t !== e; ) (t *= 10), n++;
  return n;
}
function d_(e, t) {
  let n = t.x - e.x,
    i = t.y - e.y,
    r = Math.sqrt(n * n + i * i),
    a = Math.atan2(i, n);
  return a < -0.5 * Oi && (a += Pi), { angle: a, distance: r };
}
function UM(e, t) {
  return Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2));
}
function sa(e) {
  return ((e % Pi) + Pi) % Pi;
}
function gh(e, t, n, i) {
  let r = sa(e),
    a = sa(t),
    o = sa(n),
    s = sa(a - r),
    l = sa(o - r),
    c = sa(r - a),
    u = sa(r - o);
  return r === a || r === o || (i && a === o) || (s > l && c < u);
}
function wr(e, t, n) {
  return Math.max(t, Math.min(n, e));
}
function HM(e) {
  return wr(e, -32768, 32767);
}
function Bc(e, t, n, i = 1e-6) {
  return e >= Math.min(t, n) - i && e <= Math.max(t, n) + i;
}
function eg(e, t, n) {
  n = n || ((o) => e[o] < t);
  let i = e.length - 1,
    r = 0,
    a;
  for (; i - r > 1; ) (a = (r + i) >> 1), n(a) ? (r = a) : (i = a);
  return { lo: r, hi: i };
}
var ig = (e, t, n, i) =>
    eg(
      e,
      n,
      i
        ? (r) => {
            let a = e[r][t];
            return a < n || (a === n && e[r + 1][t] === n);
          }
        : (r) => e[r][t] < n
    ),
  WM = (e, t, n) => eg(e, n, (i) => e[i][t] >= n);
function $M(e, t, n) {
  let i = 0,
    r = e.length;
  for (; i < r && e[i] < t; ) i++;
  for (; r > i && e[r - 1] > n; ) r--;
  return i > 0 || r < e.length ? e.slice(i, r) : e;
}
var GM = ['push', 'pop', 'shift', 'splice', 'unshift'];
function YM(e, t) {
  if (e._chartjs) {
    e._chartjs.listeners.push(t);
    return;
  }
  Object.defineProperty(e, '_chartjs', {
    configurable: !0,
    enumerable: !1,
    value: { listeners: [t] },
  }),
    GM.forEach((n) => {
      let i = '_onData' + Jm(n),
        r = e[n];
      Object.defineProperty(e, n, {
        configurable: !0,
        enumerable: !1,
        value(...a) {
          let o = r.apply(this, a);
          return (
            e._chartjs.listeners.forEach((s) => {
              typeof s[i] == 'function' && s[i](...a);
            }),
            o
          );
        },
      });
    });
}
function h_(e, t) {
  let n = e._chartjs;
  if (!n) return;
  let i = n.listeners,
    r = i.indexOf(t);
  r !== -1 && i.splice(r, 1),
    !(i.length > 0) &&
      (GM.forEach((a) => {
        delete e[a];
      }),
      delete e._chartjs);
}
function KM(e) {
  let t = new Set(e);
  return t.size === e.length ? e : Array.from(t);
}
var f_ = (function () {
  return typeof window > 'u'
    ? function (e) {
        return e();
      }
    : window.requestAnimationFrame;
})();
function p_(e, t) {
  let n = [],
    i = !1;
  return function (...r) {
    (n = r),
      i ||
        ((i = !0),
        f_.call(window, () => {
          (i = !1), e.apply(t, n);
        }));
  };
}
function XM(e, t) {
  let n;
  return function (...i) {
    return (
      t ? (clearTimeout(n), (n = setTimeout(e, t, i))) : e.apply(this, i), t
    );
  };
}
var ng = (e) => (e === 'start' ? 'left' : e === 'end' ? 'right' : 'center'),
  Rn = (e, t, n) => (e === 'start' ? t : e === 'end' ? n : (t + n) / 2),
  ZM = (e, t, n, i) =>
    e === (i ? 'left' : 'right') ? n : e === 'center' ? (t + n) / 2 : t;
var Ym = (e) => e === 0 || e === 1,
  RM = (e, t, n) =>
    -(Math.pow(2, 10 * (e -= 1)) * Math.sin(((e - t) * Pi) / n)),
  OM = (e, t, n) => Math.pow(2, -10 * e) * Math.sin(((e - t) * Pi) / n) + 1,
  Pc = {
    linear: (e) => e,
    easeInQuad: (e) => e * e,
    easeOutQuad: (e) => -e * (e - 2),
    easeInOutQuad: (e) =>
      (e /= 0.5) < 1 ? 0.5 * e * e : -0.5 * (--e * (e - 2) - 1),
    easeInCubic: (e) => e * e * e,
    easeOutCubic: (e) => (e -= 1) * e * e + 1,
    easeInOutCubic: (e) =>
      (e /= 0.5) < 1 ? 0.5 * e * e * e : 0.5 * ((e -= 2) * e * e + 2),
    easeInQuart: (e) => e * e * e * e,
    easeOutQuart: (e) => -((e -= 1) * e * e * e - 1),
    easeInOutQuart: (e) =>
      (e /= 0.5) < 1 ? 0.5 * e * e * e * e : -0.5 * ((e -= 2) * e * e * e - 2),
    easeInQuint: (e) => e * e * e * e * e,
    easeOutQuint: (e) => (e -= 1) * e * e * e * e + 1,
    easeInOutQuint: (e) =>
      (e /= 0.5) < 1
        ? 0.5 * e * e * e * e * e
        : 0.5 * ((e -= 2) * e * e * e * e + 2),
    easeInSine: (e) => -Math.cos(e * Qi) + 1,
    easeOutSine: (e) => Math.sin(e * Qi),
    easeInOutSine: (e) => -0.5 * (Math.cos(Oi * e) - 1),
    easeInExpo: (e) => (e === 0 ? 0 : Math.pow(2, 10 * (e - 1))),
    easeOutExpo: (e) => (e === 1 ? 1 : -Math.pow(2, -10 * e) + 1),
    easeInOutExpo: (e) =>
      Ym(e)
        ? e
        : e < 0.5
          ? 0.5 * Math.pow(2, 10 * (e * 2 - 1))
          : 0.5 * (-Math.pow(2, -10 * (e * 2 - 1)) + 2),
    easeInCirc: (e) => (e >= 1 ? e : -(Math.sqrt(1 - e * e) - 1)),
    easeOutCirc: (e) => Math.sqrt(1 - (e -= 1) * e),
    easeInOutCirc: (e) =>
      (e /= 0.5) < 1
        ? -0.5 * (Math.sqrt(1 - e * e) - 1)
        : 0.5 * (Math.sqrt(1 - (e -= 2) * e) + 1),
    easeInElastic: (e) => (Ym(e) ? e : RM(e, 0.075, 0.3)),
    easeOutElastic: (e) => (Ym(e) ? e : OM(e, 0.075, 0.3)),
    easeInOutElastic(e) {
      return Ym(e)
        ? e
        : e < 0.5
          ? 0.5 * RM(e * 2, 0.1125, 0.45)
          : 0.5 + 0.5 * OM(e * 2 - 1, 0.1125, 0.45);
    },
    easeInBack(e) {
      return e * e * ((1.70158 + 1) * e - 1.70158);
    },
    easeOutBack(e) {
      return (e -= 1) * e * ((1.70158 + 1) * e + 1.70158) + 1;
    },
    easeInOutBack(e) {
      let t = 1.70158;
      return (e /= 0.5) < 1
        ? 0.5 * (e * e * (((t *= 1.525) + 1) * e - t))
        : 0.5 * ((e -= 2) * e * (((t *= 1.525) + 1) * e + t) + 2);
    },
    easeInBounce: (e) => 1 - Pc.easeOutBounce(1 - e),
    easeOutBounce(e) {
      return e < 1 / 2.75
        ? 7.5625 * e * e
        : e < 2 / 2.75
          ? 7.5625 * (e -= 1.5 / 2.75) * e + 0.75
          : e < 2.5 / 2.75
            ? 7.5625 * (e -= 2.25 / 2.75) * e + 0.9375
            : 7.5625 * (e -= 2.625 / 2.75) * e + 0.984375;
    },
    easeInOutBounce: (e) =>
      e < 0.5
        ? Pc.easeInBounce(e * 2) * 0.5
        : Pc.easeOutBounce(e * 2 - 1) * 0.5 + 0.5,
  };
function QM(e) {
  if (e && typeof e == 'object') {
    let t = e.toString();
    return t === '[object CanvasPattern]' || t === '[object CanvasGradient]';
  }
  return !1;
}
function m_(e) {
  return QM(e) ? e : new sh(e);
}
function n_(e) {
  return QM(e) ? e : new sh(e).saturate(0.5).darken(0.1).hexString();
}
var SH = ['x', 'y', 'borderWidth', 'radius', 'tension'],
  DH = ['color', 'borderColor', 'backgroundColor'];
function TH(e) {
  e.set('animation', {
    delay: void 0,
    duration: 1e3,
    easing: 'easeOutQuart',
    fn: void 0,
    from: void 0,
    loop: void 0,
    to: void 0,
    type: void 0,
  }),
    e.describe('animation', {
      _fallback: !1,
      _indexable: !1,
      _scriptable: (t) =>
        t !== 'onProgress' && t !== 'onComplete' && t !== 'fn',
    }),
    e.set('animations', {
      colors: { type: 'color', properties: DH },
      numbers: { type: 'number', properties: SH },
    }),
    e.describe('animations', { _fallback: 'animation' }),
    e.set('transitions', {
      active: { animation: { duration: 400 } },
      resize: { animation: { duration: 0 } },
      show: {
        animations: {
          colors: { from: 'transparent' },
          visible: { type: 'boolean', duration: 0 },
        },
      },
      hide: {
        animations: {
          colors: { to: 'transparent' },
          visible: { type: 'boolean', easing: 'linear', fn: (t) => t | 0 },
        },
      },
    });
}
function MH(e) {
  e.set('layout', {
    autoPadding: !0,
    padding: { top: 0, right: 0, bottom: 0, left: 0 },
  });
}
var PM = new Map();
function AH(e, t) {
  t = t || {};
  let n = e + JSON.stringify(t),
    i = PM.get(n);
  return i || ((i = new Intl.NumberFormat(e, t)), PM.set(n, i)), i;
}
function vh(e, t, n) {
  return AH(t, n).format(e);
}
var JM = {
  values(e) {
    return Ri(e) ? e : '' + e;
  },
  numeric(e, t, n) {
    if (e === 0) return '0';
    let i = this.chart.options.locale,
      r,
      a = e;
    if (n.length > 1) {
      let c = Math.max(Math.abs(n[0].value), Math.abs(n[n.length - 1].value));
      (c < 1e-4 || c > 1e15) && (r = 'scientific'), (a = IH(e, n));
    }
    let o = oo(Math.abs(a)),
      s = isNaN(o) ? 1 : Math.max(Math.min(-1 * Math.floor(o), 20), 0),
      l = { notation: r, minimumFractionDigits: s, maximumFractionDigits: s };
    return Object.assign(l, this.options.ticks.format), vh(e, i, l);
  },
  logarithmic(e, t, n) {
    if (e === 0) return '0';
    let i = n[t].significand || e / Math.pow(10, Math.floor(oo(e)));
    return [1, 2, 3, 5, 10, 15].includes(i) || t > 0.8 * n.length
      ? JM.numeric.call(this, e, t, n)
      : '';
  },
};
function IH(e, t) {
  let n = t.length > 3 ? t[2].value - t[1].value : t[1].value - t[0].value;
  return Math.abs(n) >= 1 && e !== Math.floor(e) && (n = e - Math.floor(e)), n;
}
var bh = { formatters: JM };
function RH(e) {
  e.set('scale', {
    display: !0,
    offset: !1,
    reverse: !1,
    beginAtZero: !1,
    bounds: 'ticks',
    clip: !0,
    grace: 0,
    grid: {
      display: !0,
      lineWidth: 1,
      drawOnChartArea: !0,
      drawTicks: !0,
      tickLength: 8,
      tickWidth: (t, n) => n.lineWidth,
      tickColor: (t, n) => n.color,
      offset: !1,
    },
    border: { display: !0, dash: [], dashOffset: 0, width: 1 },
    title: { display: !1, text: '', padding: { top: 4, bottom: 4 } },
    ticks: {
      minRotation: 0,
      maxRotation: 50,
      mirror: !1,
      textStrokeWidth: 0,
      textStrokeColor: '',
      padding: 3,
      display: !0,
      autoSkip: !0,
      autoSkipPadding: 3,
      labelOffset: 0,
      callback: bh.formatters.values,
      minor: {},
      major: {},
      align: 'center',
      crossAlign: 'near',
      showLabelBackdrop: !1,
      backdropColor: 'rgba(255, 255, 255, 0.75)',
      backdropPadding: 2,
    },
  }),
    e.route('scale.ticks', 'color', '', 'color'),
    e.route('scale.grid', 'color', '', 'borderColor'),
    e.route('scale.border', 'color', '', 'borderColor'),
    e.route('scale.title', 'color', '', 'color'),
    e.describe('scale', {
      _fallback: !1,
      _scriptable: (t) =>
        !t.startsWith('before') &&
        !t.startsWith('after') &&
        t !== 'callback' &&
        t !== 'parser',
      _indexable: (t) =>
        t !== 'borderDash' && t !== 'tickBorderDash' && t !== 'dash',
    }),
    e.describe('scales', { _fallback: 'scale' }),
    e.describe('scale.ticks', {
      _scriptable: (t) => t !== 'backdropPadding' && t !== 'callback',
      _indexable: (t) => t !== 'backdropPadding',
    });
}
var Xo = Object.create(null),
  rg = Object.create(null);
function ch(e, t) {
  if (!t) return e;
  let n = t.split('.');
  for (let i = 0, r = n.length; i < r; ++i) {
    let a = n[i];
    e = e[a] || (e[a] = Object.create(null));
  }
  return e;
}
function r_(e, t, n) {
  return typeof t == 'string' ? Lc(ch(e, t), n) : Lc(ch(e, ''), t);
}
var a_ = class {
    constructor(t, n) {
      (this.animation = void 0),
        (this.backgroundColor = 'rgba(0,0,0,0.1)'),
        (this.borderColor = 'rgba(0,0,0,0.1)'),
        (this.color = '#666'),
        (this.datasets = {}),
        (this.devicePixelRatio = (i) => i.chart.platform.getDevicePixelRatio()),
        (this.elements = {}),
        (this.events = [
          'mousemove',
          'mouseout',
          'click',
          'touchstart',
          'touchmove',
        ]),
        (this.font = {
          family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
          size: 12,
          style: 'normal',
          lineHeight: 1.2,
          weight: null,
        }),
        (this.hover = {}),
        (this.hoverBackgroundColor = (i, r) => n_(r.backgroundColor)),
        (this.hoverBorderColor = (i, r) => n_(r.borderColor)),
        (this.hoverColor = (i, r) => n_(r.color)),
        (this.indexAxis = 'x'),
        (this.interaction = {
          mode: 'nearest',
          intersect: !0,
          includeInvisible: !1,
        }),
        (this.maintainAspectRatio = !0),
        (this.onHover = null),
        (this.onClick = null),
        (this.parsing = !0),
        (this.plugins = {}),
        (this.responsive = !0),
        (this.scale = void 0),
        (this.scales = {}),
        (this.showLine = !0),
        (this.drawActiveElementsOnTop = !0),
        this.describe(t),
        this.apply(n);
    }
    set(t, n) {
      return r_(this, t, n);
    }
    get(t) {
      return ch(this, t);
    }
    describe(t, n) {
      return r_(rg, t, n);
    }
    override(t, n) {
      return r_(Xo, t, n);
    }
    route(t, n, i, r) {
      let a = ch(this, t),
        o = ch(this, i),
        s = '_' + n;
      Object.defineProperties(a, {
        [s]: { value: a[n], writable: !0 },
        [n]: {
          enumerable: !0,
          get() {
            let l = this[s],
              c = o[r];
            return Ye(l) ? Object.assign({}, c, l) : ti(l, c);
          },
          set(l) {
            this[s] = l;
          },
        },
      });
    }
    apply(t) {
      t.forEach((n) => n(this));
    }
  },
  Ui = new a_(
    {
      _scriptable: (e) => !e.startsWith('on'),
      _indexable: (e) => e !== 'events',
      hover: { _fallback: 'interaction' },
      interaction: { _scriptable: !1, _indexable: !1 },
    },
    [TH, MH, RH]
  );
function OH(e) {
  return !e || Li(e.size) || Li(e.family)
    ? null
    : (e.style ? e.style + ' ' : '') +
        (e.weight ? e.weight + ' ' : '') +
        e.size +
        'px ' +
        e.family;
}
function uh(e, t, n, i, r) {
  let a = t[r];
  return (
    a || ((a = t[r] = e.measureText(r).width), n.push(r)), a > i && (i = a), i
  );
}
function tA(e, t, n, i) {
  i = i || {};
  let r = (i.data = i.data || {}),
    a = (i.garbageCollect = i.garbageCollect || []);
  i.font !== t &&
    ((r = i.data = {}), (a = i.garbageCollect = []), (i.font = t)),
    e.save(),
    (e.font = t);
  let o = 0,
    s = n.length,
    l,
    c,
    u,
    d,
    h;
  for (l = 0; l < s; l++)
    if (((d = n[l]), d != null && !Ri(d))) o = uh(e, r, a, o, d);
    else if (Ri(d))
      for (c = 0, u = d.length; c < u; c++)
        (h = d[c]), h != null && !Ri(h) && (o = uh(e, r, a, o, h));
  e.restore();
  let p = a.length / 2;
  if (p > n.length) {
    for (l = 0; l < p; l++) delete r[a[l]];
    a.splice(0, p);
  }
  return o;
}
function Zo(e, t, n) {
  let i = e.currentDevicePixelRatio,
    r = n !== 0 ? Math.max(n / 2, 0.5) : 0;
  return Math.round((t - r) * i) / i + r;
}
function g_(e, t) {
  (!t && !e) ||
    ((t = t || e.getContext('2d')),
    t.save(),
    t.resetTransform(),
    t.clearRect(0, 0, e.width, e.height),
    t.restore());
}
function v_(e, t, n, i) {
  b_(e, t, n, i, null);
}
function b_(e, t, n, i, r) {
  let a,
    o,
    s,
    l,
    c,
    u,
    d,
    h,
    p = t.pointStyle,
    m = t.rotation,
    _ = t.radius,
    v = (m || 0) * EH;
  if (
    p &&
    typeof p == 'object' &&
    ((a = p.toString()),
    a === '[object HTMLImageElement]' || a === '[object HTMLCanvasElement]')
  ) {
    e.save(),
      e.translate(n, i),
      e.rotate(v),
      e.drawImage(p, -p.width / 2, -p.height / 2, p.width, p.height),
      e.restore();
    return;
  }
  if (!(isNaN(_) || _ <= 0)) {
    switch ((e.beginPath(), p)) {
      default:
        r ? e.ellipse(n, i, r / 2, _, 0, 0, Pi) : e.arc(n, i, _, 0, Pi),
          e.closePath();
        break;
      case 'triangle':
        (u = r ? r / 2 : _),
          e.moveTo(n + Math.sin(v) * u, i - Math.cos(v) * _),
          (v += IM),
          e.lineTo(n + Math.sin(v) * u, i - Math.cos(v) * _),
          (v += IM),
          e.lineTo(n + Math.sin(v) * u, i - Math.cos(v) * _),
          e.closePath();
        break;
      case 'rectRounded':
        (c = _ * 0.516),
          (l = _ - c),
          (o = Math.cos(v + ol) * l),
          (d = Math.cos(v + ol) * (r ? r / 2 - c : l)),
          (s = Math.sin(v + ol) * l),
          (h = Math.sin(v + ol) * (r ? r / 2 - c : l)),
          e.arc(n - d, i - s, c, v - Oi, v - Qi),
          e.arc(n + h, i - o, c, v - Qi, v),
          e.arc(n + d, i + s, c, v, v + Qi),
          e.arc(n - h, i + o, c, v + Qi, v + Oi),
          e.closePath();
        break;
      case 'rect':
        if (!m) {
          (l = Math.SQRT1_2 * _),
            (u = r ? r / 2 : l),
            e.rect(n - u, i - l, 2 * u, 2 * l);
          break;
        }
        v += ol;
      case 'rectRot':
        (d = Math.cos(v) * (r ? r / 2 : _)),
          (o = Math.cos(v) * _),
          (s = Math.sin(v) * _),
          (h = Math.sin(v) * (r ? r / 2 : _)),
          e.moveTo(n - d, i - s),
          e.lineTo(n + h, i - o),
          e.lineTo(n + d, i + s),
          e.lineTo(n - h, i + o),
          e.closePath();
        break;
      case 'crossRot':
        v += ol;
      case 'cross':
        (d = Math.cos(v) * (r ? r / 2 : _)),
          (o = Math.cos(v) * _),
          (s = Math.sin(v) * _),
          (h = Math.sin(v) * (r ? r / 2 : _)),
          e.moveTo(n - d, i - s),
          e.lineTo(n + d, i + s),
          e.moveTo(n + h, i - o),
          e.lineTo(n - h, i + o);
        break;
      case 'star':
        (d = Math.cos(v) * (r ? r / 2 : _)),
          (o = Math.cos(v) * _),
          (s = Math.sin(v) * _),
          (h = Math.sin(v) * (r ? r / 2 : _)),
          e.moveTo(n - d, i - s),
          e.lineTo(n + d, i + s),
          e.moveTo(n + h, i - o),
          e.lineTo(n - h, i + o),
          (v += ol),
          (d = Math.cos(v) * (r ? r / 2 : _)),
          (o = Math.cos(v) * _),
          (s = Math.sin(v) * _),
          (h = Math.sin(v) * (r ? r / 2 : _)),
          e.moveTo(n - d, i - s),
          e.lineTo(n + d, i + s),
          e.moveTo(n + h, i - o),
          e.lineTo(n - h, i + o);
        break;
      case 'line':
        (o = r ? r / 2 : Math.cos(v) * _),
          (s = Math.sin(v) * _),
          e.moveTo(n - o, i - s),
          e.lineTo(n + o, i + s);
        break;
      case 'dash':
        e.moveTo(n, i),
          e.lineTo(n + Math.cos(v) * (r ? r / 2 : _), i + Math.sin(v) * _);
        break;
      case !1:
        e.closePath();
        break;
    }
    e.fill(), t.borderWidth > 0 && e.stroke();
  }
}
function cl(e, t, n) {
  return (
    (n = n || 0.5),
    !t ||
      (e &&
        e.x > t.left - n &&
        e.x < t.right + n &&
        e.y > t.top - n &&
        e.y < t.bottom + n)
  );
}
function ag(e, t) {
  e.save(),
    e.beginPath(),
    e.rect(t.left, t.top, t.right - t.left, t.bottom - t.top),
    e.clip();
}
function og(e) {
  e.restore();
}
function PH(e, t) {
  t.translation && e.translate(t.translation[0], t.translation[1]),
    Li(t.rotation) || e.rotate(t.rotation),
    t.color && (e.fillStyle = t.color),
    t.textAlign && (e.textAlign = t.textAlign),
    t.textBaseline && (e.textBaseline = t.textBaseline);
}
function LH(e, t, n, i, r) {
  if (r.strikethrough || r.underline) {
    let a = e.measureText(i),
      o = t - a.actualBoundingBoxLeft,
      s = t + a.actualBoundingBoxRight,
      l = n - a.actualBoundingBoxAscent,
      c = n + a.actualBoundingBoxDescent,
      u = r.strikethrough ? (l + c) / 2 : c;
    (e.strokeStyle = e.fillStyle),
      e.beginPath(),
      (e.lineWidth = r.decorationWidth || 2),
      e.moveTo(o, u),
      e.lineTo(s, u),
      e.stroke();
  }
}
function NH(e, t) {
  let n = e.fillStyle;
  (e.fillStyle = t.color),
    e.fillRect(t.left, t.top, t.width, t.height),
    (e.fillStyle = n);
}
function Qo(e, t, n, i, r, a = {}) {
  let o = Ri(t) ? t : [t],
    s = a.strokeWidth > 0 && a.strokeColor !== '',
    l,
    c;
  for (e.save(), e.font = r.string, PH(e, a), l = 0; l < o.length; ++l)
    (c = o[l]),
      a.backdrop && NH(e, a.backdrop),
      s &&
        (a.strokeColor && (e.strokeStyle = a.strokeColor),
        Li(a.strokeWidth) || (e.lineWidth = a.strokeWidth),
        e.strokeText(c, n, i, a.maxWidth)),
      e.fillText(c, n, i, a.maxWidth),
      LH(e, n, i, c, a),
      (i += Number(r.lineHeight));
  e.restore();
}
function yh(e, t) {
  let { x: n, y: i, w: r, h: a, radius: o } = t;
  e.arc(n + o.topLeft, i + o.topLeft, o.topLeft, 1.5 * Oi, Oi, !0),
    e.lineTo(n, i + a - o.bottomLeft),
    e.arc(n + o.bottomLeft, i + a - o.bottomLeft, o.bottomLeft, Oi, Qi, !0),
    e.lineTo(n + r - o.bottomRight, i + a),
    e.arc(
      n + r - o.bottomRight,
      i + a - o.bottomRight,
      o.bottomRight,
      Qi,
      0,
      !0
    ),
    e.lineTo(n + r, i + o.topRight),
    e.arc(n + r - o.topRight, i + o.topRight, o.topRight, 0, -Qi, !0),
    e.lineTo(n + o.topLeft, i);
}
var FH = /^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,
  BH = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;
function zH(e, t) {
  let n = ('' + e).match(FH);
  if (!n || n[1] === 'normal') return t * 1.2;
  switch (((e = +n[2]), n[3])) {
    case 'px':
      return e;
    case '%':
      e /= 100;
      break;
  }
  return t * e;
}
var VH = (e) => +e || 0;
function sg(e, t) {
  let n = {},
    i = Ye(t),
    r = i ? Object.keys(t) : t,
    a = Ye(e) ? (i ? (o) => ti(e[o], e[t[o]]) : (o) => e[o]) : () => e;
  for (let o of r) n[o] = VH(a(o));
  return n;
}
function eA(e) {
  return sg(e, { top: 'y', right: 'x', bottom: 'y', left: 'x' });
}
function ul(e) {
  return sg(e, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);
}
function On(e) {
  let t = eA(e);
  return (t.width = t.left + t.right), (t.height = t.top + t.bottom), t;
}
function nn(e, t) {
  (e = e || {}), (t = t || Ui.font);
  let n = ti(e.size, t.size);
  typeof n == 'string' && (n = parseInt(n, 10));
  let i = ti(e.style, t.style);
  i &&
    !('' + i).match(BH) &&
    (console.warn('Invalid font style specified: "' + i + '"'), (i = void 0));
  let r = {
    family: ti(e.family, t.family),
    lineHeight: zH(ti(e.lineHeight, t.lineHeight), n),
    size: n,
    style: i,
    weight: ti(e.weight, t.weight),
    string: '',
  };
  return (r.string = OH(r)), r;
}
function _h(e, t, n, i) {
  let r = !0,
    a,
    o,
    s;
  for (a = 0, o = e.length; a < o; ++a)
    if (
      ((s = e[a]),
      s !== void 0 &&
        (t !== void 0 && typeof s == 'function' && ((s = s(t)), (r = !1)),
        n !== void 0 && Ri(s) && ((s = s[n % s.length]), (r = !1)),
        s !== void 0))
    )
      return i && !r && (i.cacheable = !1), s;
}
function iA(e, t, n) {
  let { min: i, max: r } = e,
    a = o_(t, (r - i) / 2),
    o = (s, l) => (n && s === 0 ? 0 : s + l);
  return { min: o(i, -Math.abs(a)), max: o(r, a) };
}
function Jo(e, t) {
  return Object.assign(Object.create(e), t);
}
function lg(e, t = [''], n, i, r = () => e[0]) {
  let a = n || e;
  typeof i > 'u' && (i = aA('_fallback', e));
  let o = {
    [Symbol.toStringTag]: 'Object',
    _cacheable: !0,
    _scopes: e,
    _rootScopes: a,
    _fallback: i,
    _getTarget: r,
    override: (s) => lg([s, ...e], t, a, i),
  };
  return new Proxy(o, {
    deleteProperty(s, l) {
      return delete s[l], delete s._keys, delete e[0][l], !0;
    },
    get(s, l) {
      return nA(s, l, () => YH(l, t, e, s));
    },
    getOwnPropertyDescriptor(s, l) {
      return Reflect.getOwnPropertyDescriptor(s._scopes[0], l);
    },
    getPrototypeOf() {
      return Reflect.getPrototypeOf(e[0]);
    },
    has(s, l) {
      return NM(s).includes(l);
    },
    ownKeys(s) {
      return NM(s);
    },
    set(s, l, c) {
      let u = s._storage || (s._storage = r());
      return (s[l] = u[l] = c), delete s._keys, !0;
    },
  });
}
function ll(e, t, n, i) {
  let r = {
    _cacheable: !1,
    _proxy: e,
    _context: t,
    _subProxy: n,
    _stack: new Set(),
    _descriptors: y_(e, i),
    setContext: (a) => ll(e, a, n, i),
    override: (a) => ll(e.override(a), t, n, i),
  };
  return new Proxy(r, {
    deleteProperty(a, o) {
      return delete a[o], delete e[o], !0;
    },
    get(a, o, s) {
      return nA(a, o, () => qH(a, o, s));
    },
    getOwnPropertyDescriptor(a, o) {
      return a._descriptors.allKeys
        ? Reflect.has(e, o)
          ? { enumerable: !0, configurable: !0 }
          : void 0
        : Reflect.getOwnPropertyDescriptor(e, o);
    },
    getPrototypeOf() {
      return Reflect.getPrototypeOf(e);
    },
    has(a, o) {
      return Reflect.has(e, o);
    },
    ownKeys() {
      return Reflect.ownKeys(e);
    },
    set(a, o, s) {
      return (e[o] = s), delete a[o], !0;
    },
  });
}
function y_(e, t = { scriptable: !0, indexable: !0 }) {
  let {
    _scriptable: n = t.scriptable,
    _indexable: i = t.indexable,
    _allKeys: r = t.allKeys,
  } = e;
  return {
    allKeys: r,
    scriptable: n,
    indexable: i,
    isScriptable: ao(n) ? n : () => n,
    isIndexable: ao(i) ? i : () => i,
  };
}
var jH = (e, t) => (e ? e + Jm(t) : t),
  __ = (e, t) =>
    Ye(t) &&
    e !== 'adapters' &&
    (Object.getPrototypeOf(t) === null || t.constructor === Object);
function nA(e, t, n) {
  if (Object.prototype.hasOwnProperty.call(e, t) || t === 'constructor')
    return e[t];
  let i = n();
  return (e[t] = i), i;
}
function qH(e, t, n) {
  let { _proxy: i, _context: r, _subProxy: a, _descriptors: o } = e,
    s = i[t];
  return (
    ao(s) && o.isScriptable(t) && (s = UH(t, s, e, n)),
    Ri(s) && s.length && (s = HH(t, s, e, o.isIndexable)),
    __(t, s) && (s = ll(s, r, a && a[t], o)),
    s
  );
}
function UH(e, t, n, i) {
  let { _proxy: r, _context: a, _subProxy: o, _stack: s } = n;
  if (s.has(e))
    throw new Error(
      'Recursion detected: ' + Array.from(s).join('->') + '->' + e
    );
  s.add(e);
  let l = t(a, o || i);
  return s.delete(e), __(e, l) && (l = x_(r._scopes, r, e, l)), l;
}
function HH(e, t, n, i) {
  let { _proxy: r, _context: a, _subProxy: o, _descriptors: s } = n;
  if (typeof a.index < 'u' && i(e)) return t[a.index % t.length];
  if (Ye(t[0])) {
    let l = t,
      c = r._scopes.filter((u) => u !== l);
    t = [];
    for (let u of l) {
      let d = x_(c, r, e, u);
      t.push(ll(d, a, o && o[e], s));
    }
  }
  return t;
}
function rA(e, t, n) {
  return ao(e) ? e(t, n) : e;
}
var WH = (e, t) => (e === !0 ? t : typeof e == 'string' ? Fc(t, e) : void 0);
function $H(e, t, n, i, r) {
  for (let a of t) {
    let o = WH(n, a);
    if (o) {
      e.add(o);
      let s = rA(o._fallback, n, r);
      if (typeof s < 'u' && s !== n && s !== i) return s;
    } else if (o === !1 && typeof i < 'u' && n !== i) return null;
  }
  return !1;
}
function x_(e, t, n, i) {
  let r = t._rootScopes,
    a = rA(t._fallback, n, i),
    o = [...e, ...r],
    s = new Set();
  s.add(i);
  let l = LM(s, o, n, a || n, i);
  return l === null ||
    (typeof a < 'u' && a !== n && ((l = LM(s, o, a, l, i)), l === null))
    ? !1
    : lg(Array.from(s), [''], r, a, () => GH(t, n, i));
}
function LM(e, t, n, i, r) {
  for (; n; ) n = $H(e, t, n, i, r);
  return n;
}
function GH(e, t, n) {
  let i = e._getTarget();
  t in i || (i[t] = {});
  let r = i[t];
  return Ri(r) && Ye(n) ? n : r || {};
}
function YH(e, t, n, i) {
  let r;
  for (let a of t)
    if (((r = aA(jH(a, e), n)), typeof r < 'u'))
      return __(e, r) ? x_(n, i, e, r) : r;
}
function aA(e, t) {
  for (let n of t) {
    if (!n) continue;
    let i = n[e];
    if (typeof i < 'u') return i;
  }
}
function NM(e) {
  let t = e._keys;
  return t || (t = e._keys = KH(e._scopes)), t;
}
function KH(e) {
  let t = new Set();
  for (let n of e)
    for (let i of Object.keys(n).filter((r) => !r.startsWith('_'))) t.add(i);
  return Array.from(t);
}
var oit = Number.EPSILON || 1e-14;
function cg() {
  return typeof window < 'u' && typeof document < 'u';
}
function ug(e) {
  let t = e.parentNode;
  return t && t.toString() === '[object ShadowRoot]' && (t = t.host), t;
}
function Qm(e, t, n) {
  let i;
  return (
    typeof e == 'string'
      ? ((i = parseInt(e, 10)),
        e.indexOf('%') !== -1 && (i = (i / 100) * t.parentNode[n]))
      : (i = e),
    i
  );
}
var dg = (e) => e.ownerDocument.defaultView.getComputedStyle(e, null);
function XH(e, t) {
  return dg(e).getPropertyValue(t);
}
var ZH = ['top', 'right', 'bottom', 'left'];
function sl(e, t, n) {
  let i = {};
  n = n ? '-' + n : '';
  for (let r = 0; r < 4; r++) {
    let a = ZH[r];
    i[a] = parseFloat(e[t + '-' + a + n]) || 0;
  }
  return (i.width = i.left + i.right), (i.height = i.top + i.bottom), i;
}
var QH = (e, t, n) => (e > 0 || t > 0) && (!n || !n.shadowRoot);
function JH(e, t) {
  let n = e.touches,
    i = n && n.length ? n[0] : e,
    { offsetX: r, offsetY: a } = i,
    o = !1,
    s,
    l;
  if (QH(r, a, e.target)) (s = r), (l = a);
  else {
    let c = t.getBoundingClientRect();
    (s = i.clientX - c.left), (l = i.clientY - c.top), (o = !0);
  }
  return { x: s, y: l, box: o };
}
function ts(e, t) {
  if ('native' in e) return e;
  let { canvas: n, currentDevicePixelRatio: i } = t,
    r = dg(n),
    a = r.boxSizing === 'border-box',
    o = sl(r, 'padding'),
    s = sl(r, 'border', 'width'),
    { x: l, y: c, box: u } = JH(e, n),
    d = o.left + (u && s.left),
    h = o.top + (u && s.top),
    { width: p, height: m } = t;
  return (
    a && ((p -= o.width + s.width), (m -= o.height + s.height)),
    {
      x: Math.round((((l - d) / p) * n.width) / i),
      y: Math.round((((c - h) / m) * n.height) / i),
    }
  );
}
function tW(e, t, n) {
  let i, r;
  if (t === void 0 || n === void 0) {
    let a = e && ug(e);
    if (!a) (t = e.clientWidth), (n = e.clientHeight);
    else {
      let o = a.getBoundingClientRect(),
        s = dg(a),
        l = sl(s, 'border', 'width'),
        c = sl(s, 'padding');
      (t = o.width - c.width - l.width),
        (n = o.height - c.height - l.height),
        (i = Qm(s.maxWidth, a, 'clientWidth')),
        (r = Qm(s.maxHeight, a, 'clientHeight'));
    }
  }
  return { width: t, height: n, maxWidth: i || Zm, maxHeight: r || Zm };
}
var Km = (e) => Math.round(e * 10) / 10;
function oA(e, t, n, i) {
  let r = dg(e),
    a = sl(r, 'margin'),
    o = Qm(r.maxWidth, e, 'clientWidth') || Zm,
    s = Qm(r.maxHeight, e, 'clientHeight') || Zm,
    l = tW(e, t, n),
    { width: c, height: u } = l;
  if (r.boxSizing === 'content-box') {
    let h = sl(r, 'border', 'width'),
      p = sl(r, 'padding');
    (c -= p.width + h.width), (u -= p.height + h.height);
  }
  return (
    (c = Math.max(0, c - a.width)),
    (u = Math.max(0, i ? c / i : u - a.height)),
    (c = Km(Math.min(c, o, l.maxWidth))),
    (u = Km(Math.min(u, s, l.maxHeight))),
    c && !u && (u = Km(c / 2)),
    (t !== void 0 || n !== void 0) &&
      i &&
      l.height &&
      u > l.height &&
      ((u = l.height), (c = Km(Math.floor(u * i)))),
    { width: c, height: u }
  );
}
function w_(e, t, n) {
  let i = t || 1,
    r = Math.floor(e.height * i),
    a = Math.floor(e.width * i);
  (e.height = Math.floor(e.height)), (e.width = Math.floor(e.width));
  let o = e.canvas;
  return (
    o.style &&
      (n || (!o.style.height && !o.style.width)) &&
      ((o.style.height = `${e.height}px`), (o.style.width = `${e.width}px`)),
    e.currentDevicePixelRatio !== i || o.height !== r || o.width !== a
      ? ((e.currentDevicePixelRatio = i),
        (o.height = r),
        (o.width = a),
        e.ctx.setTransform(i, 0, 0, i, 0, 0),
        !0)
      : !1
  );
}
var sA = (function () {
  let e = !1;
  try {
    let t = {
      get passive() {
        return (e = !0), !1;
      },
    };
    cg() &&
      (window.addEventListener('test', null, t),
      window.removeEventListener('test', null, t));
  } catch {}
  return e;
})();
function k_(e, t) {
  let n = XH(e, t),
    i = n && n.match(/^(\d+)(\.\d+)?px$/);
  return i ? +i[1] : void 0;
}
var eW = function (e, t) {
    return {
      x(n) {
        return e + e + t - n;
      },
      setWidth(n) {
        t = n;
      },
      textAlign(n) {
        return n === 'center' ? n : n === 'right' ? 'left' : 'right';
      },
      xPlus(n, i) {
        return n - i;
      },
      leftForLtr(n, i) {
        return n - i;
      },
    };
  },
  iW = function () {
    return {
      x(e) {
        return e;
      },
      setWidth(e) {},
      textAlign(e) {
        return e;
      },
      xPlus(e, t) {
        return e + t;
      },
      leftForLtr(e, t) {
        return e;
      },
    };
  };
function dl(e, t, n) {
  return e ? eW(t, n) : iW();
}
function C_(e, t) {
  let n, i;
  (t === 'ltr' || t === 'rtl') &&
    ((n = e.canvas.style),
    (i = [n.getPropertyValue('direction'), n.getPropertyPriority('direction')]),
    n.setProperty('direction', t, 'important'),
    (e.prevTextDirection = i));
}
function E_(e, t) {
  t !== void 0 &&
    (delete e.prevTextDirection,
    e.canvas.style.setProperty('direction', t[0], t[1]));
}
var I_ = class {
    constructor() {
      (this._request = null),
        (this._charts = new Map()),
        (this._running = !1),
        (this._lastDate = void 0);
    }
    _notify(t, n, i, r) {
      let a = n.listeners[r],
        o = n.duration;
      a.forEach((s) =>
        s({
          chart: t,
          initial: n.initial,
          numSteps: o,
          currentStep: Math.min(i - n.start, o),
        })
      );
    }
    _refresh() {
      this._request ||
        ((this._running = !0),
        (this._request = f_.call(window, () => {
          this._update(),
            (this._request = null),
            this._running && this._refresh();
        })));
    }
    _update(t = Date.now()) {
      let n = 0;
      this._charts.forEach((i, r) => {
        if (!i.running || !i.items.length) return;
        let a = i.items,
          o = a.length - 1,
          s = !1,
          l;
        for (; o >= 0; --o)
          (l = a[o]),
            l._active
              ? (l._total > i.duration && (i.duration = l._total),
                l.tick(t),
                (s = !0))
              : ((a[o] = a[a.length - 1]), a.pop());
        s && (r.draw(), this._notify(r, i, t, 'progress')),
          a.length ||
            ((i.running = !1),
            this._notify(r, i, t, 'complete'),
            (i.initial = !1)),
          (n += a.length);
      }),
        (this._lastDate = t),
        n === 0 && (this._running = !1);
    }
    _getAnims(t) {
      let n = this._charts,
        i = n.get(t);
      return (
        i ||
          ((i = {
            running: !1,
            initial: !0,
            items: [],
            listeners: { complete: [], progress: [] },
          }),
          n.set(t, i)),
        i
      );
    }
    listen(t, n, i) {
      this._getAnims(t).listeners[n].push(i);
    }
    add(t, n) {
      !n || !n.length || this._getAnims(t).items.push(...n);
    }
    has(t) {
      return this._getAnims(t).items.length > 0;
    }
    start(t) {
      let n = this._charts.get(t);
      n &&
        ((n.running = !0),
        (n.start = Date.now()),
        (n.duration = n.items.reduce((i, r) => Math.max(i, r._duration), 0)),
        this._refresh());
    }
    running(t) {
      if (!this._running) return !1;
      let n = this._charts.get(t);
      return !(!n || !n.running || !n.items.length);
    }
    stop(t) {
      let n = this._charts.get(t);
      if (!n || !n.items.length) return;
      let i = n.items,
        r = i.length - 1;
      for (; r >= 0; --r) i[r].cancel();
      (n.items = []), this._notify(t, n, Date.now(), 'complete');
    }
    remove(t) {
      return this._charts.delete(t);
    }
  },
  so = new I_(),
  lA = 'transparent',
  nW = {
    boolean(e, t, n) {
      return n > 0.5 ? t : e;
    },
    color(e, t, n) {
      let i = m_(e || lA),
        r = i.valid && m_(t || lA);
      return r && r.valid ? r.mix(i, n).hexString() : t;
    },
    number(e, t, n) {
      return e + (t - e) * n;
    },
  },
  R_ = class {
    constructor(t, n, i, r) {
      let a = n[i];
      r = _h([t.to, r, a, t.from]);
      let o = _h([t.from, a, r]);
      (this._active = !0),
        (this._fn = t.fn || nW[t.type || typeof o]),
        (this._easing = Pc[t.easing] || Pc.linear),
        (this._start = Math.floor(Date.now() + (t.delay || 0))),
        (this._duration = this._total = Math.floor(t.duration)),
        (this._loop = !!t.loop),
        (this._target = n),
        (this._prop = i),
        (this._from = o),
        (this._to = r),
        (this._promises = void 0);
    }
    active() {
      return this._active;
    }
    update(t, n, i) {
      if (this._active) {
        this._notify(!1);
        let r = this._target[this._prop],
          a = i - this._start,
          o = this._duration - a;
        (this._start = i),
          (this._duration = Math.floor(Math.max(o, t.duration))),
          (this._total += a),
          (this._loop = !!t.loop),
          (this._to = _h([t.to, n, r, t.from])),
          (this._from = _h([t.from, r, n]));
      }
    }
    cancel() {
      this._active &&
        (this.tick(Date.now()), (this._active = !1), this._notify(!1));
    }
    tick(t) {
      let n = t - this._start,
        i = this._duration,
        r = this._prop,
        a = this._from,
        o = this._loop,
        s = this._to,
        l;
      if (((this._active = a !== s && (o || n < i)), !this._active)) {
        (this._target[r] = s), this._notify(!0);
        return;
      }
      if (n < 0) {
        this._target[r] = a;
        return;
      }
      (l = (n / i) % 2),
        (l = o && l > 1 ? 2 - l : l),
        (l = this._easing(Math.min(1, Math.max(0, l)))),
        (this._target[r] = this._fn(a, s, l));
    }
    wait() {
      let t = this._promises || (this._promises = []);
      return new Promise((n, i) => {
        t.push({ res: n, rej: i });
      });
    }
    _notify(t) {
      let n = t ? 'res' : 'rej',
        i = this._promises || [];
      for (let r = 0; r < i.length; r++) i[r][n]();
    }
  },
  _g = class {
    constructor(t, n) {
      (this._chart = t), (this._properties = new Map()), this.configure(n);
    }
    configure(t) {
      if (!Ye(t)) return;
      let n = Object.keys(Ui.animation),
        i = this._properties;
      Object.getOwnPropertyNames(t).forEach((r) => {
        let a = t[r];
        if (!Ye(a)) return;
        let o = {};
        for (let s of n) o[s] = a[s];
        ((Ri(a.properties) && a.properties) || [r]).forEach((s) => {
          (s === r || !i.has(s)) && i.set(s, o);
        });
      });
    }
    _animateOptions(t, n) {
      let i = n.options,
        r = aW(t, i);
      if (!r) return [];
      let a = this._createAnimations(r, i);
      return (
        i.$shared &&
          rW(t.options.$animations, i).then(
            () => {
              t.options = i;
            },
            () => {}
          ),
        a
      );
    }
    _createAnimations(t, n) {
      let i = this._properties,
        r = [],
        a = t.$animations || (t.$animations = {}),
        o = Object.keys(n),
        s = Date.now(),
        l;
      for (l = o.length - 1; l >= 0; --l) {
        let c = o[l];
        if (c.charAt(0) === '$') continue;
        if (c === 'options') {
          r.push(...this._animateOptions(t, n));
          continue;
        }
        let u = n[c],
          d = a[c],
          h = i.get(c);
        if (d)
          if (h && d.active()) {
            d.update(h, u, s);
            continue;
          } else d.cancel();
        if (!h || !h.duration) {
          t[c] = u;
          continue;
        }
        (a[c] = d = new R_(h, t, c, u)), r.push(d);
      }
      return r;
    }
    update(t, n) {
      if (this._properties.size === 0) {
        Object.assign(t, n);
        return;
      }
      let i = this._createAnimations(t, n);
      if (i.length) return so.add(this._chart, i), !0;
    }
  };
function rW(e, t) {
  let n = [],
    i = Object.keys(t);
  for (let r = 0; r < i.length; r++) {
    let a = e[i[r]];
    a && a.active() && n.push(a.wait());
  }
  return Promise.all(n);
}
function aW(e, t) {
  if (!t) return;
  let n = e.options;
  if (!n) {
    e.options = t;
    return;
  }
  return (
    n.$shared &&
      (e.options = n = Object.assign({}, n, { $shared: !1, $animations: {} })),
    n
  );
}
function cA(e, t) {
  let n = (e && e.options) || {},
    i = n.reverse,
    r = n.min === void 0 ? t : 0,
    a = n.max === void 0 ? t : 0;
  return { start: i ? a : r, end: i ? r : a };
}
function oW(e, t, n) {
  if (n === !1) return !1;
  let i = cA(e, n),
    r = cA(t, n);
  return { top: r.end, right: i.end, bottom: r.start, left: i.start };
}
function sW(e) {
  let t, n, i, r;
  return (
    Ye(e)
      ? ((t = e.top), (n = e.right), (i = e.bottom), (r = e.left))
      : (t = n = i = r = e),
    { top: t, right: n, bottom: i, left: r, disabled: e === !1 }
  );
}
function eI(e, t) {
  let n = [],
    i = e._getSortedDatasetMetas(t),
    r,
    a;
  for (r = 0, a = i.length; r < a; ++r) n.push(i[r].index);
  return n;
}
function uA(e, t, n, i = {}) {
  let r = e.keys,
    a = i.mode === 'single',
    o,
    s,
    l,
    c;
  if (t !== null) {
    for (o = 0, s = r.length; o < s; ++o) {
      if (((l = +r[o]), l === n)) {
        if (i.all) continue;
        break;
      }
      (c = e.values[l]), mn(c) && (a || t === 0 || fh(t) === fh(c)) && (t += c);
    }
    return t;
  }
}
function lW(e, t) {
  let { iScale: n, vScale: i } = t,
    r = n.axis === 'x' ? 'x' : 'y',
    a = i.axis === 'x' ? 'x' : 'y',
    o = Object.keys(e),
    s = new Array(o.length),
    l,
    c,
    u;
  for (l = 0, c = o.length; l < c; ++l)
    (u = o[l]), (s[l] = { [r]: u, [a]: e[u] });
  return s;
}
function dA(e, t) {
  let n = e && e.options.stacked;
  return n || (n === void 0 && t.stack !== void 0);
}
function cW(e, t, n) {
  return `${e.id}.${t.id}.${n.stack || n.type}`;
}
function uW(e) {
  let { min: t, max: n, minDefined: i, maxDefined: r } = e.getUserBounds();
  return {
    min: i ? t : Number.NEGATIVE_INFINITY,
    max: r ? n : Number.POSITIVE_INFINITY,
  };
}
function dW(e, t, n) {
  let i = e[t] || (e[t] = {});
  return i[n] || (i[n] = {});
}
function hA(e, t, n, i) {
  for (let r of t.getMatchingVisibleMetas(i).reverse()) {
    let a = e[r.index];
    if ((n && a > 0) || (!n && a < 0)) return r.index;
  }
  return null;
}
function fA(e, t) {
  let { chart: n, _cachedMeta: i } = e,
    r = n._stacks || (n._stacks = {}),
    { iScale: a, vScale: o, index: s } = i,
    l = a.axis,
    c = o.axis,
    u = cW(a, o, i),
    d = t.length,
    h;
  for (let p = 0; p < d; ++p) {
    let m = t[p],
      { [l]: _, [c]: v } = m,
      y = m._stacks || (m._stacks = {});
    (h = y[c] = dW(r, u, _)),
      (h[s] = v),
      (h._top = hA(h, o, !0, i.type)),
      (h._bottom = hA(h, o, !1, i.type));
    let w = h._visualValues || (h._visualValues = {});
    w[s] = v;
  }
}
function S_(e, t) {
  let n = e.scales;
  return Object.keys(n)
    .filter((i) => n[i].axis === t)
    .shift();
}
function hW(e, t) {
  return Jo(e, {
    active: !1,
    dataset: void 0,
    datasetIndex: t,
    index: t,
    mode: 'default',
    type: 'dataset',
  });
}
function fW(e, t, n) {
  return Jo(e, {
    active: !1,
    dataIndex: t,
    parsed: void 0,
    raw: void 0,
    element: n,
    index: t,
    mode: 'default',
    type: 'data',
  });
}
function xh(e, t) {
  let n = e.controller.index,
    i = e.vScale && e.vScale.axis;
  if (i) {
    t = t || e._parsed;
    for (let r of t) {
      let a = r._stacks;
      if (!a || a[i] === void 0 || a[i][n] === void 0) return;
      delete a[i][n],
        a[i]._visualValues !== void 0 &&
          a[i]._visualValues[n] !== void 0 &&
          delete a[i]._visualValues[n];
    }
  }
}
var D_ = (e) => e === 'reset' || e === 'none',
  pA = (e, t) => (t ? e : Object.assign({}, e)),
  pW = (e, t, n) =>
    e && !t.hidden && t._stacked && { keys: eI(n, !0), values: null },
  iI = (() => {
    class e {
      static defaults = {};
      static datasetElementType = null;
      static dataElementType = null;
      constructor(n, i) {
        (this.chart = n),
          (this._ctx = n.ctx),
          (this.index = i),
          (this._cachedDataOpts = {}),
          (this._cachedMeta = this.getMeta()),
          (this._type = this._cachedMeta.type),
          (this.options = void 0),
          (this._parsing = !1),
          (this._data = void 0),
          (this._objectData = void 0),
          (this._sharedOptions = void 0),
          (this._drawStart = void 0),
          (this._drawCount = void 0),
          (this.enableOptionSharing = !1),
          (this.supportsDecimation = !1),
          (this.$context = void 0),
          (this._syncList = []),
          (this.datasetElementType = new.target.datasetElementType),
          (this.dataElementType = new.target.dataElementType),
          this.initialize();
      }
      initialize() {
        let n = this._cachedMeta;
        this.configure(),
          this.linkScales(),
          (n._stacked = dA(n.vScale, n)),
          this.addElements(),
          this.options.fill &&
            !this.chart.isPluginEnabled('filler') &&
            console.warn(
              "Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options"
            );
      }
      updateIndex(n) {
        this.index !== n && xh(this._cachedMeta), (this.index = n);
      }
      linkScales() {
        let n = this.chart,
          i = this._cachedMeta,
          r = this.getDataset(),
          a = (h, p, m, _) => (h === 'x' ? p : h === 'r' ? _ : m),
          o = (i.xAxisID = ti(r.xAxisID, S_(n, 'x'))),
          s = (i.yAxisID = ti(r.yAxisID, S_(n, 'y'))),
          l = (i.rAxisID = ti(r.rAxisID, S_(n, 'r'))),
          c = i.indexAxis,
          u = (i.iAxisID = a(c, o, s, l)),
          d = (i.vAxisID = a(c, s, o, l));
        (i.xScale = this.getScaleForId(o)),
          (i.yScale = this.getScaleForId(s)),
          (i.rScale = this.getScaleForId(l)),
          (i.iScale = this.getScaleForId(u)),
          (i.vScale = this.getScaleForId(d));
      }
      getDataset() {
        return this.chart.data.datasets[this.index];
      }
      getMeta() {
        return this.chart.getDatasetMeta(this.index);
      }
      getScaleForId(n) {
        return this.chart.scales[n];
      }
      _getOtherScale(n) {
        let i = this._cachedMeta;
        return n === i.iScale ? i.vScale : i.iScale;
      }
      reset() {
        this._update('reset');
      }
      _destroy() {
        let n = this._cachedMeta;
        this._data && h_(this._data, this), n._stacked && xh(n);
      }
      _dataCheck() {
        let n = this.getDataset(),
          i = n.data || (n.data = []),
          r = this._data;
        if (Ye(i)) {
          let a = this._cachedMeta;
          this._data = lW(i, a);
        } else if (r !== i) {
          if (r) {
            h_(r, this);
            let a = this._cachedMeta;
            xh(a), (a._parsed = []);
          }
          i && Object.isExtensible(i) && YM(i, this),
            (this._syncList = []),
            (this._data = i);
        }
      }
      addElements() {
        let n = this._cachedMeta;
        this._dataCheck(),
          this.datasetElementType &&
            (n.dataset = new this.datasetElementType());
      }
      buildOrUpdateElements(n) {
        let i = this._cachedMeta,
          r = this.getDataset(),
          a = !1;
        this._dataCheck();
        let o = i._stacked;
        (i._stacked = dA(i.vScale, i)),
          i.stack !== r.stack && ((a = !0), xh(i), (i.stack = r.stack)),
          this._resyncElements(n),
          (a || o !== i._stacked) && fA(this, i._parsed);
      }
      configure() {
        let n = this.chart.config,
          i = n.datasetScopeKeys(this._type),
          r = n.getOptionScopes(this.getDataset(), i, !0);
        (this.options = n.createResolver(r, this.getContext())),
          (this._parsing = this.options.parsing),
          (this._cachedDataOpts = {});
      }
      parse(n, i) {
        let { _cachedMeta: r, _data: a } = this,
          { iScale: o, _stacked: s } = r,
          l = o.axis,
          c = n === 0 && i === a.length ? !0 : r._sorted,
          u = n > 0 && r._parsed[n - 1],
          d,
          h,
          p;
        if (this._parsing === !1) (r._parsed = a), (r._sorted = !0), (p = a);
        else {
          Ri(a[n])
            ? (p = this.parseArrayData(r, a, n, i))
            : Ye(a[n])
              ? (p = this.parseObjectData(r, a, n, i))
              : (p = this.parsePrimitiveData(r, a, n, i));
          let m = () => h[l] === null || (u && h[l] < u[l]);
          for (d = 0; d < i; ++d)
            (r._parsed[d + n] = h = p[d]), c && (m() && (c = !1), (u = h));
          r._sorted = c;
        }
        s && fA(this, p);
      }
      parsePrimitiveData(n, i, r, a) {
        let { iScale: o, vScale: s } = n,
          l = o.axis,
          c = s.axis,
          u = o.getLabels(),
          d = o === s,
          h = new Array(a),
          p,
          m,
          _;
        for (p = 0, m = a; p < m; ++p)
          (_ = p + r),
            (h[p] = { [l]: d || o.parse(u[_], _), [c]: s.parse(i[_], _) });
        return h;
      }
      parseArrayData(n, i, r, a) {
        let { xScale: o, yScale: s } = n,
          l = new Array(a),
          c,
          u,
          d,
          h;
        for (c = 0, u = a; c < u; ++c)
          (d = c + r),
            (h = i[d]),
            (l[c] = { x: o.parse(h[0], d), y: s.parse(h[1], d) });
        return l;
      }
      parseObjectData(n, i, r, a) {
        let { xScale: o, yScale: s } = n,
          { xAxisKey: l = 'x', yAxisKey: c = 'y' } = this._parsing,
          u = new Array(a),
          d,
          h,
          p,
          m;
        for (d = 0, h = a; d < h; ++d)
          (p = d + r),
            (m = i[p]),
            (u[d] = { x: o.parse(Fc(m, l), p), y: s.parse(Fc(m, c), p) });
        return u;
      }
      getParsed(n) {
        return this._cachedMeta._parsed[n];
      }
      getDataElement(n) {
        return this._cachedMeta.data[n];
      }
      applyStack(n, i, r) {
        let a = this.chart,
          o = this._cachedMeta,
          s = i[n.axis],
          l = { keys: eI(a, !0), values: i._stacks[n.axis]._visualValues };
        return uA(l, s, o.index, { mode: r });
      }
      updateRangeFromParsed(n, i, r, a) {
        let o = r[i.axis],
          s = o === null ? NaN : o,
          l = a && r._stacks[i.axis];
        a && l && ((a.values = l), (s = uA(a, o, this._cachedMeta.index))),
          (n.min = Math.min(n.min, s)),
          (n.max = Math.max(n.max, s));
      }
      getMinMax(n, i) {
        let r = this._cachedMeta,
          a = r._parsed,
          o = r._sorted && n === r.iScale,
          s = a.length,
          l = this._getOtherScale(n),
          c = pW(i, r, this.chart),
          u = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY },
          { min: d, max: h } = uW(l),
          p,
          m;
        function _() {
          m = a[p];
          let v = m[l.axis];
          return !mn(m[n.axis]) || d > v || h < v;
        }
        for (
          p = 0;
          p < s && !(!_() && (this.updateRangeFromParsed(u, n, m, c), o));
          ++p
        );
        if (o) {
          for (p = s - 1; p >= 0; --p)
            if (!_()) {
              this.updateRangeFromParsed(u, n, m, c);
              break;
            }
        }
        return u;
      }
      getAllParsedValues(n) {
        let i = this._cachedMeta._parsed,
          r = [],
          a,
          o,
          s;
        for (a = 0, o = i.length; a < o; ++a)
          (s = i[a][n.axis]), mn(s) && r.push(s);
        return r;
      }
      getMaxOverflow() {
        return !1;
      }
      getLabelAndValue(n) {
        let i = this._cachedMeta,
          r = i.iScale,
          a = i.vScale,
          o = this.getParsed(n);
        return {
          label: r ? '' + r.getLabelForValue(o[r.axis]) : '',
          value: a ? '' + a.getLabelForValue(o[a.axis]) : '',
        };
      }
      _update(n) {
        let i = this._cachedMeta;
        this.update(n || 'default'),
          (i._clip = sW(
            ti(this.options.clip, oW(i.xScale, i.yScale, this.getMaxOverflow()))
          ));
      }
      update(n) {}
      draw() {
        let n = this._ctx,
          i = this.chart,
          r = this._cachedMeta,
          a = r.data || [],
          o = i.chartArea,
          s = [],
          l = this._drawStart || 0,
          c = this._drawCount || a.length - l,
          u = this.options.drawActiveElementsOnTop,
          d;
        for (r.dataset && r.dataset.draw(n, o, l, c), d = l; d < l + c; ++d) {
          let h = a[d];
          h.hidden || (h.active && u ? s.push(h) : h.draw(n, o));
        }
        for (d = 0; d < s.length; ++d) s[d].draw(n, o);
      }
      getStyle(n, i) {
        let r = i ? 'active' : 'default';
        return n === void 0 && this._cachedMeta.dataset
          ? this.resolveDatasetElementOptions(r)
          : this.resolveDataElementOptions(n || 0, r);
      }
      getContext(n, i, r) {
        let a = this.getDataset(),
          o;
        if (n >= 0 && n < this._cachedMeta.data.length) {
          let s = this._cachedMeta.data[n];
          (o = s.$context || (s.$context = fW(this.getContext(), n, s))),
            (o.parsed = this.getParsed(n)),
            (o.raw = a.data[n]),
            (o.index = o.dataIndex = n);
        } else
          (o =
            this.$context ||
            (this.$context = hW(this.chart.getContext(), this.index))),
            (o.dataset = a),
            (o.index = o.datasetIndex = this.index);
        return (o.active = !!i), (o.mode = r), o;
      }
      resolveDatasetElementOptions(n) {
        return this._resolveElementOptions(this.datasetElementType.id, n);
      }
      resolveDataElementOptions(n, i) {
        return this._resolveElementOptions(this.dataElementType.id, i, n);
      }
      _resolveElementOptions(n, i = 'default', r) {
        let a = i === 'active',
          o = this._cachedDataOpts,
          s = n + '-' + i,
          l = o[s],
          c = this.enableOptionSharing && hh(r);
        if (l) return pA(l, c);
        let u = this.chart.config,
          d = u.datasetElementScopeKeys(this._type, n),
          h = a ? [`${n}Hover`, 'hover', n, ''] : [n, ''],
          p = u.getOptionScopes(this.getDataset(), d),
          m = Object.keys(Ui.elements[n]),
          _ = () => this.getContext(r, a, i),
          v = u.resolveNamedOptions(p, m, _, h);
        return (
          v.$shared && ((v.$shared = c), (o[s] = Object.freeze(pA(v, c)))), v
        );
      }
      _resolveAnimations(n, i, r) {
        let a = this.chart,
          o = this._cachedDataOpts,
          s = `animation-${i}`,
          l = o[s];
        if (l) return l;
        let c;
        if (a.options.animation !== !1) {
          let d = this.chart.config,
            h = d.datasetAnimationScopeKeys(this._type, i),
            p = d.getOptionScopes(this.getDataset(), h);
          c = d.createResolver(p, this.getContext(n, r, i));
        }
        let u = new _g(a, c && c.animations);
        return c && c._cacheable && (o[s] = Object.freeze(u)), u;
      }
      getSharedOptions(n) {
        if (n.$shared)
          return (
            this._sharedOptions || (this._sharedOptions = Object.assign({}, n))
          );
      }
      includeOptions(n, i) {
        return !i || D_(n) || this.chart._animationsDisabled;
      }
      _getSharedOptions(n, i) {
        let r = this.resolveDataElementOptions(n, i),
          a = this._sharedOptions,
          o = this.getSharedOptions(r),
          s = this.includeOptions(i, o) || o !== a;
        return (
          this.updateSharedOptions(o, i, r),
          { sharedOptions: o, includeOptions: s }
        );
      }
      updateElement(n, i, r, a) {
        D_(a)
          ? Object.assign(n, r)
          : this._resolveAnimations(i, a).update(n, r);
      }
      updateSharedOptions(n, i, r) {
        n && !D_(i) && this._resolveAnimations(void 0, i).update(n, r);
      }
      _setStyle(n, i, r, a) {
        n.active = a;
        let o = this.getStyle(i, a);
        this._resolveAnimations(i, r, a).update(n, {
          options: (!a && this.getSharedOptions(o)) || o,
        });
      }
      removeHoverStyle(n, i, r) {
        this._setStyle(n, r, 'active', !1);
      }
      setHoverStyle(n, i, r) {
        this._setStyle(n, r, 'active', !0);
      }
      _removeDatasetHoverStyle() {
        let n = this._cachedMeta.dataset;
        n && this._setStyle(n, void 0, 'active', !1);
      }
      _setDatasetHoverStyle() {
        let n = this._cachedMeta.dataset;
        n && this._setStyle(n, void 0, 'active', !0);
      }
      _resyncElements(n) {
        let i = this._data,
          r = this._cachedMeta.data;
        for (let [l, c, u] of this._syncList) this[l](c, u);
        this._syncList = [];
        let a = r.length,
          o = i.length,
          s = Math.min(o, a);
        s && this.parse(0, s),
          o > a
            ? this._insertElements(a, o - a, n)
            : o < a && this._removeElements(o, a - o);
      }
      _insertElements(n, i, r = !0) {
        let a = this._cachedMeta,
          o = a.data,
          s = n + i,
          l,
          c = (u) => {
            for (u.length += i, l = u.length - 1; l >= s; l--) u[l] = u[l - i];
          };
        for (c(o), l = n; l < s; ++l) o[l] = new this.dataElementType();
        this._parsing && c(a._parsed),
          this.parse(n, i),
          r && this.updateElements(o, n, i, 'reset');
      }
      updateElements(n, i, r, a) {}
      _removeElements(n, i) {
        let r = this._cachedMeta;
        if (this._parsing) {
          let a = r._parsed.splice(n, i);
          r._stacked && xh(r, a);
        }
        r.data.splice(n, i);
      }
      _sync(n) {
        if (this._parsing) this._syncList.push(n);
        else {
          let [i, r, a] = n;
          this[i](r, a);
        }
        this.chart._dataChanges.push([this.index, ...n]);
      }
      _onDataPush() {
        let n = arguments.length;
        this._sync(['_insertElements', this.getDataset().data.length - n, n]);
      }
      _onDataPop() {
        this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);
      }
      _onDataShift() {
        this._sync(['_removeElements', 0, 1]);
      }
      _onDataSplice(n, i) {
        i && this._sync(['_removeElements', n, i]);
        let r = arguments.length - 2;
        r && this._sync(['_insertElements', n, r]);
      }
      _onDataUnshift() {
        this._sync(['_insertElements', 0, arguments.length]);
      }
    }
    return e;
  })();
function mW(e, t, n) {
  let i = 1,
    r = 1,
    a = 0,
    o = 0;
  if (t < Pi) {
    let s = e,
      l = s + t,
      c = Math.cos(s),
      u = Math.sin(s),
      d = Math.cos(l),
      h = Math.sin(l),
      p = (x, C, S) => (gh(x, s, l, !0) ? 1 : Math.max(C, C * n, S, S * n)),
      m = (x, C, S) => (gh(x, s, l, !0) ? -1 : Math.min(C, C * n, S, S * n)),
      _ = p(0, c, d),
      v = p(Qi, u, h),
      y = m(Oi, c, d),
      w = m(Oi + Qi, u, h);
    (i = (_ - y) / 2),
      (r = (v - w) / 2),
      (a = -(_ + y) / 2),
      (o = -(v + w) / 2);
  }
  return { ratioX: i, ratioY: r, offsetX: a, offsetY: o };
}
var nI = (() => {
  class e extends iI {
    static id = 'doughnut';
    static defaults = {
      datasetElementType: !1,
      dataElementType: 'arc',
      animation: { animateRotate: !0, animateScale: !1 },
      animations: {
        numbers: {
          type: 'number',
          properties: [
            'circumference',
            'endAngle',
            'innerRadius',
            'outerRadius',
            'startAngle',
            'x',
            'y',
            'offset',
            'borderWidth',
            'spacing',
          ],
        },
      },
      cutout: '50%',
      rotation: 0,
      circumference: 360,
      radius: '100%',
      spacing: 0,
      indexAxis: 'r',
    };
    static descriptors = {
      _scriptable: (n) => n !== 'spacing',
      _indexable: (n) =>
        n !== 'spacing' &&
        !n.startsWith('borderDash') &&
        !n.startsWith('hoverBorderDash'),
    };
    static overrides = {
      aspectRatio: 1,
      plugins: {
        legend: {
          labels: {
            generateLabels(n) {
              let i = n.data;
              if (i.labels.length && i.datasets.length) {
                let {
                  labels: { pointStyle: r, color: a },
                } = n.legend.options;
                return i.labels.map((o, s) => {
                  let c = n.getDatasetMeta(0).controller.getStyle(s);
                  return {
                    text: o,
                    fillStyle: c.backgroundColor,
                    strokeStyle: c.borderColor,
                    fontColor: a,
                    lineWidth: c.borderWidth,
                    pointStyle: r,
                    hidden: !n.getDataVisibility(s),
                    index: s,
                  };
                });
              }
              return [];
            },
          },
          onClick(n, i, r) {
            r.chart.toggleDataVisibility(i.index), r.chart.update();
          },
        },
      },
    };
    constructor(n, i) {
      super(n, i),
        (this.enableOptionSharing = !0),
        (this.innerRadius = void 0),
        (this.outerRadius = void 0),
        (this.offsetX = void 0),
        (this.offsetY = void 0);
    }
    linkScales() {}
    parse(n, i) {
      let r = this.getDataset().data,
        a = this._cachedMeta;
      if (this._parsing === !1) a._parsed = r;
      else {
        let o = (c) => +r[c];
        if (Ye(r[n])) {
          let { key: c = 'value' } = this._parsing;
          o = (u) => +Fc(r[u], c);
        }
        let s, l;
        for (s = n, l = n + i; s < l; ++s) a._parsed[s] = o(s);
      }
    }
    _getRotation() {
      return la(this.options.rotation - 90);
    }
    _getCircumference() {
      return la(this.options.circumference);
    }
    _getRotationExtents() {
      let n = Pi,
        i = -Pi;
      for (let r = 0; r < this.chart.data.datasets.length; ++r)
        if (
          this.chart.isDatasetVisible(r) &&
          this.chart.getDatasetMeta(r).type === this._type
        ) {
          let a = this.chart.getDatasetMeta(r).controller,
            o = a._getRotation(),
            s = a._getCircumference();
          (n = Math.min(n, o)), (i = Math.max(i, o + s));
        }
      return { rotation: n, circumference: i - n };
    }
    update(n) {
      let i = this.chart,
        { chartArea: r } = i,
        a = this._cachedMeta,
        o = a.data,
        s =
          this.getMaxBorderWidth() +
          this.getMaxOffset(o) +
          this.options.spacing,
        l = Math.max((Math.min(r.width, r.height) - s) / 2, 0),
        c = Math.min(BM(this.options.cutout, l), 1),
        u = this._getRingWeight(this.index),
        { circumference: d, rotation: h } = this._getRotationExtents(),
        { ratioX: p, ratioY: m, offsetX: _, offsetY: v } = mW(h, d, c),
        y = (r.width - s) / p,
        w = (r.height - s) / m,
        x = Math.max(Math.min(y, w) / 2, 0),
        C = o_(this.options.radius, x),
        S = Math.max(C * c, 0),
        g = (C - S) / this._getVisibleDatasetWeightTotal();
      (this.offsetX = _ * C),
        (this.offsetY = v * C),
        (a.total = this.calculateTotal()),
        (this.outerRadius = C - g * this._getRingWeightOffset(this.index)),
        (this.innerRadius = Math.max(this.outerRadius - g * u, 0)),
        this.updateElements(o, 0, o.length, n);
    }
    _circumference(n, i) {
      let r = this.options,
        a = this._cachedMeta,
        o = this._getCircumference();
      return (i && r.animation.animateRotate) ||
        !this.chart.getDataVisibility(n) ||
        a._parsed[n] === null ||
        a.data[n].hidden
        ? 0
        : this.calculateCircumference((a._parsed[n] * o) / Pi);
    }
    updateElements(n, i, r, a) {
      let o = a === 'reset',
        s = this.chart,
        l = s.chartArea,
        u = s.options.animation,
        d = (l.left + l.right) / 2,
        h = (l.top + l.bottom) / 2,
        p = o && u.animateScale,
        m = p ? 0 : this.innerRadius,
        _ = p ? 0 : this.outerRadius,
        { sharedOptions: v, includeOptions: y } = this._getSharedOptions(i, a),
        w = this._getRotation(),
        x;
      for (x = 0; x < i; ++x) w += this._circumference(x, o);
      for (x = i; x < i + r; ++x) {
        let C = this._circumference(x, o),
          S = n[x],
          g = {
            x: d + this.offsetX,
            y: h + this.offsetY,
            startAngle: w,
            endAngle: w + C,
            circumference: C,
            outerRadius: _,
            innerRadius: m,
          };
        y &&
          (g.options =
            v || this.resolveDataElementOptions(x, S.active ? 'active' : a)),
          (w += C),
          this.updateElement(S, x, g, a);
      }
    }
    calculateTotal() {
      let n = this._cachedMeta,
        i = n.data,
        r = 0,
        a;
      for (a = 0; a < i.length; a++) {
        let o = n._parsed[a];
        o !== null &&
          !isNaN(o) &&
          this.chart.getDataVisibility(a) &&
          !i[a].hidden &&
          (r += Math.abs(o));
      }
      return r;
    }
    calculateCircumference(n) {
      let i = this._cachedMeta.total;
      return i > 0 && !isNaN(n) ? Pi * (Math.abs(n) / i) : 0;
    }
    getLabelAndValue(n) {
      let i = this._cachedMeta,
        r = this.chart,
        a = r.data.labels || [],
        o = vh(i._parsed[n], r.options.locale);
      return { label: a[n] || '', value: o };
    }
    getMaxBorderWidth(n) {
      let i = 0,
        r = this.chart,
        a,
        o,
        s,
        l,
        c;
      if (!n) {
        for (a = 0, o = r.data.datasets.length; a < o; ++a)
          if (r.isDatasetVisible(a)) {
            (s = r.getDatasetMeta(a)), (n = s.data), (l = s.controller);
            break;
          }
      }
      if (!n) return 0;
      for (a = 0, o = n.length; a < o; ++a)
        (c = l.resolveDataElementOptions(a)),
          c.borderAlign !== 'inner' &&
            (i = Math.max(i, c.borderWidth || 0, c.hoverBorderWidth || 0));
      return i;
    }
    getMaxOffset(n) {
      let i = 0;
      for (let r = 0, a = n.length; r < a; ++r) {
        let o = this.resolveDataElementOptions(r);
        i = Math.max(i, o.offset || 0, o.hoverOffset || 0);
      }
      return i;
    }
    _getRingWeightOffset(n) {
      let i = 0;
      for (let r = 0; r < n; ++r)
        this.chart.isDatasetVisible(r) && (i += this._getRingWeight(r));
      return i;
    }
    _getRingWeight(n) {
      return Math.max(ti(this.chart.data.datasets[n].weight, 1), 0);
    }
    _getVisibleDatasetWeightTotal() {
      return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;
    }
  }
  return e;
})();
function hl() {
  throw new Error(
    'This method is not implemented: Check that a complete date adapter is provided.'
  );
}
var O_ = class e {
    static override(t) {
      Object.assign(e.prototype, t);
    }
    options;
    constructor(t) {
      this.options = t || {};
    }
    init() {}
    formats() {
      return hl();
    }
    parse() {
      return hl();
    }
    format() {
      return hl();
    }
    add() {
      return hl();
    }
    diff() {
      return hl();
    }
    startOf() {
      return hl();
    }
    endOf() {
      return hl();
    }
  },
  gW = { _date: O_ };
function vW(e, t, n, i) {
  let { controller: r, data: a, _sorted: o } = e,
    s = r._cachedMeta.iScale;
  if (s && t === s.axis && t !== 'r' && o && a.length) {
    let l = s._reversePixels ? WM : ig;
    if (i) {
      if (r._sharedOptions) {
        let c = a[0],
          u = typeof c.getRange == 'function' && c.getRange(t);
        if (u) {
          let d = l(a, t, n - u),
            h = l(a, t, n + u);
          return { lo: d.lo, hi: h.hi };
        }
      }
    } else return l(a, t, n);
  }
  return { lo: 0, hi: a.length - 1 };
}
function Ah(e, t, n, i, r) {
  let a = e.getSortedVisibleDatasetMetas(),
    o = n[t];
  for (let s = 0, l = a.length; s < l; ++s) {
    let { index: c, data: u } = a[s],
      { lo: d, hi: h } = vW(a[s], t, o, r);
    for (let p = d; p <= h; ++p) {
      let m = u[p];
      m.skip || i(m, c, p);
    }
  }
}
function bW(e) {
  let t = e.indexOf('x') !== -1,
    n = e.indexOf('y') !== -1;
  return function (i, r) {
    let a = t ? Math.abs(i.x - r.x) : 0,
      o = n ? Math.abs(i.y - r.y) : 0;
    return Math.sqrt(Math.pow(a, 2) + Math.pow(o, 2));
  };
}
function T_(e, t, n, i, r) {
  let a = [];
  return (
    (!r && !e.isPointInArea(t)) ||
      Ah(
        e,
        n,
        t,
        function (s, l, c) {
          (!r && !cl(s, e.chartArea, 0)) ||
            (s.inRange(t.x, t.y, i) &&
              a.push({ element: s, datasetIndex: l, index: c }));
        },
        !0
      ),
    a
  );
}
function yW(e, t, n, i) {
  let r = [];
  function a(o, s, l) {
    let { startAngle: c, endAngle: u } = o.getProps(
        ['startAngle', 'endAngle'],
        i
      ),
      { angle: d } = d_(o, { x: t.x, y: t.y });
    gh(d, c, u) && r.push({ element: o, datasetIndex: s, index: l });
  }
  return Ah(e, n, t, a), r;
}
function _W(e, t, n, i, r, a) {
  let o = [],
    s = bW(n),
    l = Number.POSITIVE_INFINITY;
  function c(u, d, h) {
    let p = u.inRange(t.x, t.y, r);
    if (i && !p) return;
    let m = u.getCenterPoint(r);
    if (!(!!a || e.isPointInArea(m)) && !p) return;
    let v = s(t, m);
    v < l
      ? ((o = [{ element: u, datasetIndex: d, index: h }]), (l = v))
      : v === l && o.push({ element: u, datasetIndex: d, index: h });
  }
  return Ah(e, n, t, c), o;
}
function M_(e, t, n, i, r, a) {
  return !a && !e.isPointInArea(t)
    ? []
    : n === 'r' && !i
      ? yW(e, t, n, r)
      : _W(e, t, n, i, r, a);
}
function mA(e, t, n, i, r) {
  let a = [],
    o = n === 'x' ? 'inXRange' : 'inYRange',
    s = !1;
  return (
    Ah(e, n, t, (l, c, u) => {
      l[o] &&
        l[o](t[n], r) &&
        (a.push({ element: l, datasetIndex: c, index: u }),
        (s = s || l.inRange(t.x, t.y, r)));
    }),
    i && !s ? [] : a
  );
}
var xW = {
    evaluateInteractionItems: Ah,
    modes: {
      index(e, t, n, i) {
        let r = ts(t, e),
          a = n.axis || 'x',
          o = n.includeInvisible || !1,
          s = n.intersect ? T_(e, r, a, i, o) : M_(e, r, a, !1, i, o),
          l = [];
        return s.length
          ? (e.getSortedVisibleDatasetMetas().forEach((c) => {
              let u = s[0].index,
                d = c.data[u];
              d &&
                !d.skip &&
                l.push({ element: d, datasetIndex: c.index, index: u });
            }),
            l)
          : [];
      },
      dataset(e, t, n, i) {
        let r = ts(t, e),
          a = n.axis || 'xy',
          o = n.includeInvisible || !1,
          s = n.intersect ? T_(e, r, a, i, o) : M_(e, r, a, !1, i, o);
        if (s.length > 0) {
          let l = s[0].datasetIndex,
            c = e.getDatasetMeta(l).data;
          s = [];
          for (let u = 0; u < c.length; ++u)
            s.push({ element: c[u], datasetIndex: l, index: u });
        }
        return s;
      },
      point(e, t, n, i) {
        let r = ts(t, e),
          a = n.axis || 'xy',
          o = n.includeInvisible || !1;
        return T_(e, r, a, i, o);
      },
      nearest(e, t, n, i) {
        let r = ts(t, e),
          a = n.axis || 'xy',
          o = n.includeInvisible || !1;
        return M_(e, r, a, n.intersect, i, o);
      },
      x(e, t, n, i) {
        let r = ts(t, e);
        return mA(e, r, 'x', n.intersect, i);
      },
      y(e, t, n, i) {
        let r = ts(t, e);
        return mA(e, r, 'y', n.intersect, i);
      },
    },
  },
  rI = ['left', 'top', 'right', 'bottom'];
function wh(e, t) {
  return e.filter((n) => n.pos === t);
}
function gA(e, t) {
  return e.filter((n) => rI.indexOf(n.pos) === -1 && n.box.axis === t);
}
function kh(e, t) {
  return e.sort((n, i) => {
    let r = t ? i : n,
      a = t ? n : i;
    return r.weight === a.weight ? r.index - a.index : r.weight - a.weight;
  });
}
function wW(e) {
  let t = [],
    n,
    i,
    r,
    a,
    o,
    s;
  for (n = 0, i = (e || []).length; n < i; ++n)
    (r = e[n]),
      ({
        position: a,
        options: { stack: o, stackWeight: s = 1 },
      } = r),
      t.push({
        index: n,
        box: r,
        pos: a,
        horizontal: r.isHorizontal(),
        weight: r.weight,
        stack: o && a + o,
        stackWeight: s,
      });
  return t;
}
function kW(e) {
  let t = {};
  for (let n of e) {
    let { stack: i, pos: r, stackWeight: a } = n;
    if (!i || !rI.includes(r)) continue;
    let o = t[i] || (t[i] = { count: 0, placed: 0, weight: 0, size: 0 });
    o.count++, (o.weight += a);
  }
  return t;
}
function CW(e, t) {
  let n = kW(e),
    { vBoxMaxWidth: i, hBoxMaxHeight: r } = t,
    a,
    o,
    s;
  for (a = 0, o = e.length; a < o; ++a) {
    s = e[a];
    let { fullSize: l } = s.box,
      c = n[s.stack],
      u = c && s.stackWeight / c.weight;
    s.horizontal
      ? ((s.width = u ? u * i : l && t.availableWidth), (s.height = r))
      : ((s.width = i), (s.height = u ? u * r : l && t.availableHeight));
  }
  return n;
}
function EW(e) {
  let t = wW(e),
    n = kh(
      t.filter((c) => c.box.fullSize),
      !0
    ),
    i = kh(wh(t, 'left'), !0),
    r = kh(wh(t, 'right')),
    a = kh(wh(t, 'top'), !0),
    o = kh(wh(t, 'bottom')),
    s = gA(t, 'x'),
    l = gA(t, 'y');
  return {
    fullSize: n,
    leftAndTop: i.concat(a),
    rightAndBottom: r.concat(l).concat(o).concat(s),
    chartArea: wh(t, 'chartArea'),
    vertical: i.concat(r).concat(l),
    horizontal: a.concat(o).concat(s),
  };
}
function vA(e, t, n, i) {
  return Math.max(e[n], t[n]) + Math.max(e[i], t[i]);
}
function aI(e, t) {
  (e.top = Math.max(e.top, t.top)),
    (e.left = Math.max(e.left, t.left)),
    (e.bottom = Math.max(e.bottom, t.bottom)),
    (e.right = Math.max(e.right, t.right));
}
function SW(e, t, n, i) {
  let { pos: r, box: a } = n,
    o = e.maxPadding;
  if (!Ye(r)) {
    n.size && (e[r] -= n.size);
    let d = i[n.stack] || { size: 0, count: 1 };
    (d.size = Math.max(d.size, n.horizontal ? a.height : a.width)),
      (n.size = d.size / d.count),
      (e[r] += n.size);
  }
  a.getPadding && aI(o, a.getPadding());
  let s = Math.max(0, t.outerWidth - vA(o, e, 'left', 'right')),
    l = Math.max(0, t.outerHeight - vA(o, e, 'top', 'bottom')),
    c = s !== e.w,
    u = l !== e.h;
  return (
    (e.w = s),
    (e.h = l),
    n.horizontal ? { same: c, other: u } : { same: u, other: c }
  );
}
function DW(e) {
  let t = e.maxPadding;
  function n(i) {
    let r = Math.max(t[i] - e[i], 0);
    return (e[i] += r), r;
  }
  (e.y += n('top')), (e.x += n('left')), n('right'), n('bottom');
}
function TW(e, t) {
  let n = t.maxPadding;
  function i(r) {
    let a = { left: 0, top: 0, right: 0, bottom: 0 };
    return (
      r.forEach((o) => {
        a[o] = Math.max(t[o], n[o]);
      }),
      a
    );
  }
  return i(e ? ['left', 'right'] : ['top', 'bottom']);
}
function Sh(e, t, n, i) {
  let r = [],
    a,
    o,
    s,
    l,
    c,
    u;
  for (a = 0, o = e.length, c = 0; a < o; ++a) {
    (s = e[a]),
      (l = s.box),
      l.update(s.width || t.w, s.height || t.h, TW(s.horizontal, t));
    let { same: d, other: h } = SW(t, n, s, i);
    (c |= d && r.length), (u = u || h), l.fullSize || r.push(s);
  }
  return (c && Sh(r, t, n, i)) || u;
}
function hg(e, t, n, i, r) {
  (e.top = n),
    (e.left = t),
    (e.right = t + i),
    (e.bottom = n + r),
    (e.width = i),
    (e.height = r);
}
function bA(e, t, n, i) {
  let r = n.padding,
    { x: a, y: o } = t;
  for (let s of e) {
    let l = s.box,
      c = i[s.stack] || { count: 1, placed: 0, weight: 1 },
      u = s.stackWeight / c.weight || 1;
    if (s.horizontal) {
      let d = t.w * u,
        h = c.size || l.height;
      hh(c.start) && (o = c.start),
        l.fullSize
          ? hg(l, r.left, o, n.outerWidth - r.right - r.left, h)
          : hg(l, t.left + c.placed, o, d, h),
        (c.start = o),
        (c.placed += d),
        (o = l.bottom);
    } else {
      let d = t.h * u,
        h = c.size || l.width;
      hh(c.start) && (a = c.start),
        l.fullSize
          ? hg(l, a, r.top, h, n.outerHeight - r.bottom - r.top)
          : hg(l, a, t.top + c.placed, h, d),
        (c.start = a),
        (c.placed += d),
        (a = l.right);
    }
  }
  (t.x = a), (t.y = o);
}
var Vr = {
    addBox(e, t) {
      e.boxes || (e.boxes = []),
        (t.fullSize = t.fullSize || !1),
        (t.position = t.position || 'top'),
        (t.weight = t.weight || 0),
        (t._layers =
          t._layers ||
          function () {
            return [
              {
                z: 0,
                draw(n) {
                  t.draw(n);
                },
              },
            ];
          }),
        e.boxes.push(t);
    },
    removeBox(e, t) {
      let n = e.boxes ? e.boxes.indexOf(t) : -1;
      n !== -1 && e.boxes.splice(n, 1);
    },
    configure(e, t, n) {
      (t.fullSize = n.fullSize),
        (t.position = n.position),
        (t.weight = n.weight);
    },
    update(e, t, n, i) {
      if (!e) return;
      let r = On(e.options.layout.padding),
        a = Math.max(t - r.width, 0),
        o = Math.max(n - r.height, 0),
        s = EW(e.boxes),
        l = s.vertical,
        c = s.horizontal;
      ci(e.boxes, (_) => {
        typeof _.beforeLayout == 'function' && _.beforeLayout();
      });
      let u =
          l.reduce(
            (_, v) =>
              v.box.options && v.box.options.display === !1 ? _ : _ + 1,
            0
          ) || 1,
        d = Object.freeze({
          outerWidth: t,
          outerHeight: n,
          padding: r,
          availableWidth: a,
          availableHeight: o,
          vBoxMaxWidth: a / 2 / u,
          hBoxMaxHeight: o / 2,
        }),
        h = Object.assign({}, r);
      aI(h, On(i));
      let p = Object.assign(
          { maxPadding: h, w: a, h: o, x: r.left, y: r.top },
          r
        ),
        m = CW(l.concat(c), d);
      Sh(s.fullSize, p, d, m),
        Sh(l, p, d, m),
        Sh(c, p, d, m) && Sh(l, p, d, m),
        DW(p),
        bA(s.leftAndTop, p, d, m),
        (p.x += p.w),
        (p.y += p.h),
        bA(s.rightAndBottom, p, d, m),
        (e.chartArea = {
          left: p.left,
          top: p.top,
          right: p.left + p.w,
          bottom: p.top + p.h,
          height: p.h,
          width: p.w,
        }),
        ci(s.chartArea, (_) => {
          let v = _.box;
          Object.assign(v, e.chartArea),
            v.update(p.w, p.h, { left: 0, top: 0, right: 0, bottom: 0 });
        });
    },
  },
  xg = class {
    acquireContext(t, n) {}
    releaseContext(t) {
      return !1;
    }
    addEventListener(t, n, i) {}
    removeEventListener(t, n, i) {}
    getDevicePixelRatio() {
      return 1;
    }
    getMaximumSize(t, n, i, r) {
      return (
        (n = Math.max(0, n || t.width)),
        (i = i || t.height),
        { width: n, height: Math.max(0, r ? Math.floor(n / r) : i) }
      );
    }
    isAttached(t) {
      return !0;
    }
    updateConfig(t) {}
  },
  P_ = class extends xg {
    acquireContext(t) {
      return (t && t.getContext && t.getContext('2d')) || null;
    }
    updateConfig(t) {
      t.options.animation = !1;
    }
  },
  bg = '$chartjs',
  MW = {
    touchstart: 'mousedown',
    touchmove: 'mousemove',
    touchend: 'mouseup',
    pointerenter: 'mouseenter',
    pointerdown: 'mousedown',
    pointermove: 'mousemove',
    pointerup: 'mouseup',
    pointerleave: 'mouseout',
    pointerout: 'mouseout',
  },
  yA = (e) => e === null || e === '';
function AW(e, t) {
  let n = e.style,
    i = e.getAttribute('height'),
    r = e.getAttribute('width');
  if (
    ((e[bg] = {
      initial: {
        height: i,
        width: r,
        style: { display: n.display, height: n.height, width: n.width },
      },
    }),
    (n.display = n.display || 'block'),
    (n.boxSizing = n.boxSizing || 'border-box'),
    yA(r))
  ) {
    let a = k_(e, 'width');
    a !== void 0 && (e.width = a);
  }
  if (yA(i))
    if (e.style.height === '') e.height = e.width / (t || 2);
    else {
      let a = k_(e, 'height');
      a !== void 0 && (e.height = a);
    }
  return e;
}
var oI = sA ? { passive: !0 } : !1;
function IW(e, t, n) {
  e && e.addEventListener(t, n, oI);
}
function RW(e, t, n) {
  e && e.canvas && e.canvas.removeEventListener(t, n, oI);
}
function OW(e, t) {
  let n = MW[e.type] || e.type,
    { x: i, y: r } = ts(e, t);
  return {
    type: n,
    chart: t,
    native: e,
    x: i !== void 0 ? i : null,
    y: r !== void 0 ? r : null,
  };
}
function wg(e, t) {
  for (let n of e) if (n === t || n.contains(t)) return !0;
}
function PW(e, t, n) {
  let i = e.canvas,
    r = new MutationObserver((a) => {
      let o = !1;
      for (let s of a)
        (o = o || wg(s.addedNodes, i)), (o = o && !wg(s.removedNodes, i));
      o && n();
    });
  return r.observe(document, { childList: !0, subtree: !0 }), r;
}
function LW(e, t, n) {
  let i = e.canvas,
    r = new MutationObserver((a) => {
      let o = !1;
      for (let s of a)
        (o = o || wg(s.removedNodes, i)), (o = o && !wg(s.addedNodes, i));
      o && n();
    });
  return r.observe(document, { childList: !0, subtree: !0 }), r;
}
var Th = new Map(),
  _A = 0;
function sI() {
  let e = window.devicePixelRatio;
  e !== _A &&
    ((_A = e),
    Th.forEach((t, n) => {
      n.currentDevicePixelRatio !== e && t();
    }));
}
function NW(e, t) {
  Th.size || window.addEventListener('resize', sI), Th.set(e, t);
}
function FW(e) {
  Th.delete(e), Th.size || window.removeEventListener('resize', sI);
}
function BW(e, t, n) {
  let i = e.canvas,
    r = i && ug(i);
  if (!r) return;
  let a = p_((s, l) => {
      let c = r.clientWidth;
      n(s, l), c < r.clientWidth && n();
    }, window),
    o = new ResizeObserver((s) => {
      let l = s[0],
        c = l.contentRect.width,
        u = l.contentRect.height;
      (c === 0 && u === 0) || a(c, u);
    });
  return o.observe(r), NW(e, a), o;
}
function A_(e, t, n) {
  n && n.disconnect(), t === 'resize' && FW(e);
}
function zW(e, t, n) {
  let i = e.canvas,
    r = p_((a) => {
      e.ctx !== null && n(OW(a, e));
    }, e);
  return IW(i, t, r), r;
}
var L_ = class extends xg {
  acquireContext(t, n) {
    let i = t && t.getContext && t.getContext('2d');
    return i && i.canvas === t ? (AW(t, n), i) : null;
  }
  releaseContext(t) {
    let n = t.canvas;
    if (!n[bg]) return !1;
    let i = n[bg].initial;
    ['height', 'width'].forEach((a) => {
      let o = i[a];
      Li(o) ? n.removeAttribute(a) : n.setAttribute(a, o);
    });
    let r = i.style || {};
    return (
      Object.keys(r).forEach((a) => {
        n.style[a] = r[a];
      }),
      (n.width = n.width),
      delete n[bg],
      !0
    );
  }
  addEventListener(t, n, i) {
    this.removeEventListener(t, n);
    let r = t.$proxies || (t.$proxies = {}),
      o = { attach: PW, detach: LW, resize: BW }[n] || zW;
    r[n] = o(t, n, i);
  }
  removeEventListener(t, n) {
    let i = t.$proxies || (t.$proxies = {}),
      r = i[n];
    if (!r) return;
    (({ attach: A_, detach: A_, resize: A_ })[n] || RW)(t, n, r),
      (i[n] = void 0);
  }
  getDevicePixelRatio() {
    return window.devicePixelRatio;
  }
  getMaximumSize(t, n, i, r) {
    return oA(t, n, i, r);
  }
  isAttached(t) {
    let n = t && ug(t);
    return !!(n && n.isConnected);
  }
};
function VW(e) {
  return !cg() || (typeof OffscreenCanvas < 'u' && e instanceof OffscreenCanvas)
    ? P_
    : L_;
}
var es = class {
  static defaults = {};
  static defaultRoutes = void 0;
  x;
  y;
  active = !1;
  options;
  $animations;
  tooltipPosition(t) {
    let { x: n, y: i } = this.getProps(['x', 'y'], t);
    return { x: n, y: i };
  }
  hasValue() {
    return mh(this.x) && mh(this.y);
  }
  getProps(t, n) {
    let i = this.$animations;
    if (!n || !i) return this;
    let r = {};
    return (
      t.forEach((a) => {
        r[a] = i[a] && i[a].active() ? i[a]._to : this[a];
      }),
      r
    );
  }
};
function jW(e, t) {
  let n = e.options.ticks,
    i = qW(e),
    r = Math.min(n.maxTicksLimit || i, i),
    a = n.major.enabled ? HW(t) : [],
    o = a.length,
    s = a[0],
    l = a[o - 1],
    c = [];
  if (o > r) return WW(t, c, a, o / r), c;
  let u = UW(a, t, r);
  if (o > 0) {
    let d,
      h,
      p = o > 1 ? Math.round((l - s) / (o - 1)) : null;
    for (fg(t, c, u, Li(p) ? 0 : s - p, s), d = 0, h = o - 1; d < h; d++)
      fg(t, c, u, a[d], a[d + 1]);
    return fg(t, c, u, l, Li(p) ? t.length : l + p), c;
  }
  return fg(t, c, u), c;
}
function qW(e) {
  let t = e.options.offset,
    n = e._tickSize(),
    i = e._length / n + (t ? 0 : 1),
    r = e._maxLength / n;
  return Math.floor(Math.min(i, r));
}
function UW(e, t, n) {
  let i = $W(e),
    r = t.length / n;
  if (!i) return Math.max(r, 1);
  let a = jM(i);
  for (let o = 0, s = a.length - 1; o < s; o++) {
    let l = a[o];
    if (l > r) return l;
  }
  return Math.max(r, 1);
}
function HW(e) {
  let t = [],
    n,
    i;
  for (n = 0, i = e.length; n < i; n++) e[n].major && t.push(n);
  return t;
}
function WW(e, t, n, i) {
  let r = 0,
    a = n[0],
    o;
  for (i = Math.ceil(i), o = 0; o < e.length; o++)
    o === a && (t.push(e[o]), r++, (a = n[r * i]));
}
function fg(e, t, n, i, r) {
  let a = ti(i, 0),
    o = Math.min(ti(r, e.length), e.length),
    s = 0,
    l,
    c,
    u;
  for (
    n = Math.ceil(n), r && ((l = r - i), (n = l / Math.floor(l / n))), u = a;
    u < 0;

  )
    s++, (u = Math.round(a + s * n));
  for (c = Math.max(a, 0); c < o; c++)
    c === u && (t.push(e[c]), s++, (u = Math.round(a + s * n)));
}
function $W(e) {
  let t = e.length,
    n,
    i;
  if (t < 2) return !1;
  for (i = e[0], n = 1; n < t; ++n) if (e[n] - e[n - 1] !== i) return !1;
  return i;
}
var GW = (e) => (e === 'left' ? 'right' : e === 'right' ? 'left' : e),
  xA = (e, t, n) => (t === 'top' || t === 'left' ? e[t] + n : e[t] - n),
  wA = (e, t) => Math.min(t || e, e);
function kA(e, t) {
  let n = [],
    i = e.length / t,
    r = e.length,
    a = 0;
  for (; a < r; a += i) n.push(e[Math.floor(a)]);
  return n;
}
function YW(e, t, n) {
  let i = e.ticks.length,
    r = Math.min(t, i - 1),
    a = e._startPixel,
    o = e._endPixel,
    s = 1e-6,
    l = e.getPixelForTick(r),
    c;
  if (
    !(
      n &&
      (i === 1
        ? (c = Math.max(l - a, o - l))
        : t === 0
          ? (c = (e.getPixelForTick(1) - l) / 2)
          : (c = (l - e.getPixelForTick(r - 1)) / 2),
      (l += r < t ? c : -c),
      l < a - s || l > o + s)
    )
  )
    return l;
}
function KW(e, t) {
  ci(e, (n) => {
    let i = n.gc,
      r = i.length / 2,
      a;
    if (r > t) {
      for (a = 0; a < r; ++a) delete n.data[i[a]];
      i.splice(0, r);
    }
  });
}
function Ch(e) {
  return e.drawTicks ? e.tickLength : 0;
}
function CA(e, t) {
  if (!e.display) return 0;
  let n = nn(e.font, t),
    i = On(e.padding);
  return (Ri(e.text) ? e.text.length : 1) * n.lineHeight + i.height;
}
function XW(e, t) {
  return Jo(e, { scale: t, type: 'scale' });
}
function ZW(e, t, n) {
  return Jo(e, { tick: n, index: t, type: 'tick' });
}
function QW(e, t, n) {
  let i = ng(e);
  return ((n && t !== 'right') || (!n && t === 'right')) && (i = GW(i)), i;
}
function JW(e, t, n, i) {
  let { top: r, left: a, bottom: o, right: s, chart: l } = e,
    { chartArea: c, scales: u } = l,
    d = 0,
    h,
    p,
    m,
    _ = o - r,
    v = s - a;
  if (e.isHorizontal()) {
    if (((p = Rn(i, a, s)), Ye(n))) {
      let y = Object.keys(n)[0],
        w = n[y];
      m = u[y].getPixelForValue(w) + _ - t;
    } else
      n === 'center' ? (m = (c.bottom + c.top) / 2 + _ - t) : (m = xA(e, n, t));
    h = s - a;
  } else {
    if (Ye(n)) {
      let y = Object.keys(n)[0],
        w = n[y];
      p = u[y].getPixelForValue(w) - v + t;
    } else
      n === 'center' ? (p = (c.left + c.right) / 2 - v + t) : (p = xA(e, n, t));
    (m = Rn(i, o, r)), (d = n === 'left' ? -Qi : Qi);
  }
  return { titleX: p, titleY: m, maxWidth: h, rotation: d };
}
var jc = class e extends es {
    constructor(t) {
      super(),
        (this.id = t.id),
        (this.type = t.type),
        (this.options = void 0),
        (this.ctx = t.ctx),
        (this.chart = t.chart),
        (this.top = void 0),
        (this.bottom = void 0),
        (this.left = void 0),
        (this.right = void 0),
        (this.width = void 0),
        (this.height = void 0),
        (this._margins = { left: 0, right: 0, top: 0, bottom: 0 }),
        (this.maxWidth = void 0),
        (this.maxHeight = void 0),
        (this.paddingTop = void 0),
        (this.paddingBottom = void 0),
        (this.paddingLeft = void 0),
        (this.paddingRight = void 0),
        (this.axis = void 0),
        (this.labelRotation = void 0),
        (this.min = void 0),
        (this.max = void 0),
        (this._range = void 0),
        (this.ticks = []),
        (this._gridLineItems = null),
        (this._labelItems = null),
        (this._labelSizes = null),
        (this._length = 0),
        (this._maxLength = 0),
        (this._longestTextCache = {}),
        (this._startPixel = void 0),
        (this._endPixel = void 0),
        (this._reversePixels = !1),
        (this._userMax = void 0),
        (this._userMin = void 0),
        (this._suggestedMax = void 0),
        (this._suggestedMin = void 0),
        (this._ticksLength = 0),
        (this._borderValue = 0),
        (this._cache = {}),
        (this._dataLimitsCached = !1),
        (this.$context = void 0);
    }
    init(t) {
      (this.options = t.setContext(this.getContext())),
        (this.axis = t.axis),
        (this._userMin = this.parse(t.min)),
        (this._userMax = this.parse(t.max)),
        (this._suggestedMin = this.parse(t.suggestedMin)),
        (this._suggestedMax = this.parse(t.suggestedMax));
    }
    parse(t, n) {
      return t;
    }
    getUserBounds() {
      let {
        _userMin: t,
        _userMax: n,
        _suggestedMin: i,
        _suggestedMax: r,
      } = this;
      return (
        (t = sr(t, Number.POSITIVE_INFINITY)),
        (n = sr(n, Number.NEGATIVE_INFINITY)),
        (i = sr(i, Number.POSITIVE_INFINITY)),
        (r = sr(r, Number.NEGATIVE_INFINITY)),
        { min: sr(t, i), max: sr(n, r), minDefined: mn(t), maxDefined: mn(n) }
      );
    }
    getMinMax(t) {
      let {
          min: n,
          max: i,
          minDefined: r,
          maxDefined: a,
        } = this.getUserBounds(),
        o;
      if (r && a) return { min: n, max: i };
      let s = this.getMatchingVisibleMetas();
      for (let l = 0, c = s.length; l < c; ++l)
        (o = s[l].controller.getMinMax(this, t)),
          r || (n = Math.min(n, o.min)),
          a || (i = Math.max(i, o.max));
      return (
        (n = a && n > i ? i : n),
        (i = r && n > i ? n : i),
        { min: sr(n, sr(i, n)), max: sr(i, sr(n, i)) }
      );
    }
    getPadding() {
      return {
        left: this.paddingLeft || 0,
        top: this.paddingTop || 0,
        right: this.paddingRight || 0,
        bottom: this.paddingBottom || 0,
      };
    }
    getTicks() {
      return this.ticks;
    }
    getLabels() {
      let t = this.chart.data;
      return (
        this.options.labels ||
        (this.isHorizontal() ? t.xLabels : t.yLabels) ||
        t.labels ||
        []
      );
    }
    getLabelItems(t = this.chart.chartArea) {
      return (
        this._labelItems || (this._labelItems = this._computeLabelItems(t))
      );
    }
    beforeLayout() {
      (this._cache = {}), (this._dataLimitsCached = !1);
    }
    beforeUpdate() {
      xi(this.options.beforeUpdate, [this]);
    }
    update(t, n, i) {
      let { beginAtZero: r, grace: a, ticks: o } = this.options,
        s = o.sampleSize;
      this.beforeUpdate(),
        (this.maxWidth = t),
        (this.maxHeight = n),
        (this._margins = i =
          Object.assign({ left: 0, right: 0, top: 0, bottom: 0 }, i)),
        (this.ticks = null),
        (this._labelSizes = null),
        (this._gridLineItems = null),
        (this._labelItems = null),
        this.beforeSetDimensions(),
        this.setDimensions(),
        this.afterSetDimensions(),
        (this._maxLength = this.isHorizontal()
          ? this.width + i.left + i.right
          : this.height + i.top + i.bottom),
        this._dataLimitsCached ||
          (this.beforeDataLimits(),
          this.determineDataLimits(),
          this.afterDataLimits(),
          (this._range = iA(this, a, r)),
          (this._dataLimitsCached = !0)),
        this.beforeBuildTicks(),
        (this.ticks = this.buildTicks() || []),
        this.afterBuildTicks();
      let l = s < this.ticks.length;
      this._convertTicksToLabels(l ? kA(this.ticks, s) : this.ticks),
        this.configure(),
        this.beforeCalculateLabelRotation(),
        this.calculateLabelRotation(),
        this.afterCalculateLabelRotation(),
        o.display &&
          (o.autoSkip || o.source === 'auto') &&
          ((this.ticks = jW(this, this.ticks)),
          (this._labelSizes = null),
          this.afterAutoSkip()),
        l && this._convertTicksToLabels(this.ticks),
        this.beforeFit(),
        this.fit(),
        this.afterFit(),
        this.afterUpdate();
    }
    configure() {
      let t = this.options.reverse,
        n,
        i;
      this.isHorizontal()
        ? ((n = this.left), (i = this.right))
        : ((n = this.top), (i = this.bottom), (t = !t)),
        (this._startPixel = n),
        (this._endPixel = i),
        (this._reversePixels = t),
        (this._length = i - n),
        (this._alignToPixels = this.options.alignToPixels);
    }
    afterUpdate() {
      xi(this.options.afterUpdate, [this]);
    }
    beforeSetDimensions() {
      xi(this.options.beforeSetDimensions, [this]);
    }
    setDimensions() {
      this.isHorizontal()
        ? ((this.width = this.maxWidth),
          (this.left = 0),
          (this.right = this.width))
        : ((this.height = this.maxHeight),
          (this.top = 0),
          (this.bottom = this.height)),
        (this.paddingLeft = 0),
        (this.paddingTop = 0),
        (this.paddingRight = 0),
        (this.paddingBottom = 0);
    }
    afterSetDimensions() {
      xi(this.options.afterSetDimensions, [this]);
    }
    _callHooks(t) {
      this.chart.notifyPlugins(t, this.getContext()),
        xi(this.options[t], [this]);
    }
    beforeDataLimits() {
      this._callHooks('beforeDataLimits');
    }
    determineDataLimits() {}
    afterDataLimits() {
      this._callHooks('afterDataLimits');
    }
    beforeBuildTicks() {
      this._callHooks('beforeBuildTicks');
    }
    buildTicks() {
      return [];
    }
    afterBuildTicks() {
      this._callHooks('afterBuildTicks');
    }
    beforeTickToLabelConversion() {
      xi(this.options.beforeTickToLabelConversion, [this]);
    }
    generateTickLabels(t) {
      let n = this.options.ticks,
        i,
        r,
        a;
      for (i = 0, r = t.length; i < r; i++)
        (a = t[i]), (a.label = xi(n.callback, [a.value, i, t], this));
    }
    afterTickToLabelConversion() {
      xi(this.options.afterTickToLabelConversion, [this]);
    }
    beforeCalculateLabelRotation() {
      xi(this.options.beforeCalculateLabelRotation, [this]);
    }
    calculateLabelRotation() {
      let t = this.options,
        n = t.ticks,
        i = wA(this.ticks.length, t.ticks.maxTicksLimit),
        r = n.minRotation || 0,
        a = n.maxRotation,
        o = r,
        s,
        l,
        c;
      if (
        !this._isVisible() ||
        !n.display ||
        r >= a ||
        i <= 1 ||
        !this.isHorizontal()
      ) {
        this.labelRotation = r;
        return;
      }
      let u = this._getLabelSizes(),
        d = u.widest.width,
        h = u.highest.height,
        p = wr(this.chart.width - d, 0, this.maxWidth);
      (s = t.offset ? this.maxWidth / i : p / (i - 1)),
        d + 6 > s &&
          ((s = p / (i - (t.offset ? 0.5 : 1))),
          (l =
            this.maxHeight -
            Ch(t.grid) -
            n.padding -
            CA(t.title, this.chart.options.font)),
          (c = Math.sqrt(d * d + h * h)),
          (o = tg(
            Math.min(
              Math.asin(wr((u.highest.height + 6) / s, -1, 1)),
              Math.asin(wr(l / c, -1, 1)) - Math.asin(wr(h / c, -1, 1))
            )
          )),
          (o = Math.max(r, Math.min(a, o)))),
        (this.labelRotation = o);
    }
    afterCalculateLabelRotation() {
      xi(this.options.afterCalculateLabelRotation, [this]);
    }
    afterAutoSkip() {}
    beforeFit() {
      xi(this.options.beforeFit, [this]);
    }
    fit() {
      let t = { width: 0, height: 0 },
        {
          chart: n,
          options: { ticks: i, title: r, grid: a },
        } = this,
        o = this._isVisible(),
        s = this.isHorizontal();
      if (o) {
        let l = CA(r, n.options.font);
        if (
          (s
            ? ((t.width = this.maxWidth), (t.height = Ch(a) + l))
            : ((t.height = this.maxHeight), (t.width = Ch(a) + l)),
          i.display && this.ticks.length)
        ) {
          let {
              first: c,
              last: u,
              widest: d,
              highest: h,
            } = this._getLabelSizes(),
            p = i.padding * 2,
            m = la(this.labelRotation),
            _ = Math.cos(m),
            v = Math.sin(m);
          if (s) {
            let y = i.mirror ? 0 : v * d.width + _ * h.height;
            t.height = Math.min(this.maxHeight, t.height + y + p);
          } else {
            let y = i.mirror ? 0 : _ * d.width + v * h.height;
            t.width = Math.min(this.maxWidth, t.width + y + p);
          }
          this._calculatePadding(c, u, v, _);
        }
      }
      this._handleMargins(),
        s
          ? ((this.width = this._length =
              n.width - this._margins.left - this._margins.right),
            (this.height = t.height))
          : ((this.width = t.width),
            (this.height = this._length =
              n.height - this._margins.top - this._margins.bottom));
    }
    _calculatePadding(t, n, i, r) {
      let {
          ticks: { align: a, padding: o },
          position: s,
        } = this.options,
        l = this.labelRotation !== 0,
        c = s !== 'top' && this.axis === 'x';
      if (this.isHorizontal()) {
        let u = this.getPixelForTick(0) - this.left,
          d = this.right - this.getPixelForTick(this.ticks.length - 1),
          h = 0,
          p = 0;
        l
          ? c
            ? ((h = r * t.width), (p = i * n.height))
            : ((h = i * t.height), (p = r * n.width))
          : a === 'start'
            ? (p = n.width)
            : a === 'end'
              ? (h = t.width)
              : a !== 'inner' && ((h = t.width / 2), (p = n.width / 2)),
          (this.paddingLeft = Math.max(
            ((h - u + o) * this.width) / (this.width - u),
            0
          )),
          (this.paddingRight = Math.max(
            ((p - d + o) * this.width) / (this.width - d),
            0
          ));
      } else {
        let u = n.height / 2,
          d = t.height / 2;
        a === 'start'
          ? ((u = 0), (d = t.height))
          : a === 'end' && ((u = n.height), (d = 0)),
          (this.paddingTop = u + o),
          (this.paddingBottom = d + o);
      }
    }
    _handleMargins() {
      this._margins &&
        ((this._margins.left = Math.max(this.paddingLeft, this._margins.left)),
        (this._margins.top = Math.max(this.paddingTop, this._margins.top)),
        (this._margins.right = Math.max(
          this.paddingRight,
          this._margins.right
        )),
        (this._margins.bottom = Math.max(
          this.paddingBottom,
          this._margins.bottom
        )));
    }
    afterFit() {
      xi(this.options.afterFit, [this]);
    }
    isHorizontal() {
      let { axis: t, position: n } = this.options;
      return n === 'top' || n === 'bottom' || t === 'x';
    }
    isFullSize() {
      return this.options.fullSize;
    }
    _convertTicksToLabels(t) {
      this.beforeTickToLabelConversion(), this.generateTickLabels(t);
      let n, i;
      for (n = 0, i = t.length; n < i; n++)
        Li(t[n].label) && (t.splice(n, 1), i--, n--);
      this.afterTickToLabelConversion();
    }
    _getLabelSizes() {
      let t = this._labelSizes;
      if (!t) {
        let n = this.options.ticks.sampleSize,
          i = this.ticks;
        n < i.length && (i = kA(i, n)),
          (this._labelSizes = t =
            this._computeLabelSizes(
              i,
              i.length,
              this.options.ticks.maxTicksLimit
            ));
      }
      return t;
    }
    _computeLabelSizes(t, n, i) {
      let { ctx: r, _longestTextCache: a } = this,
        o = [],
        s = [],
        l = Math.floor(n / wA(n, i)),
        c = 0,
        u = 0,
        d,
        h,
        p,
        m,
        _,
        v,
        y,
        w,
        x,
        C,
        S;
      for (d = 0; d < n; d += l) {
        if (
          ((m = t[d].label),
          (_ = this._resolveTickFontOptions(d)),
          (r.font = v = _.string),
          (y = a[v] = a[v] || { data: {}, gc: [] }),
          (w = _.lineHeight),
          (x = C = 0),
          !Li(m) && !Ri(m))
        )
          (x = uh(r, y.data, y.gc, x, m)), (C = w);
        else if (Ri(m))
          for (h = 0, p = m.length; h < p; ++h)
            (S = m[h]),
              !Li(S) && !Ri(S) && ((x = uh(r, y.data, y.gc, x, S)), (C += w));
        o.push(x), s.push(C), (c = Math.max(x, c)), (u = Math.max(C, u));
      }
      KW(a, n);
      let g = o.indexOf(c),
        D = s.indexOf(u),
        T = (O) => ({ width: o[O] || 0, height: s[O] || 0 });
      return {
        first: T(0),
        last: T(n - 1),
        widest: T(g),
        highest: T(D),
        widths: o,
        heights: s,
      };
    }
    getLabelForValue(t) {
      return t;
    }
    getPixelForValue(t, n) {
      return NaN;
    }
    getValueForPixel(t) {}
    getPixelForTick(t) {
      let n = this.ticks;
      return t < 0 || t > n.length - 1
        ? null
        : this.getPixelForValue(n[t].value);
    }
    getPixelForDecimal(t) {
      this._reversePixels && (t = 1 - t);
      let n = this._startPixel + t * this._length;
      return HM(this._alignToPixels ? Zo(this.chart, n, 0) : n);
    }
    getDecimalForPixel(t) {
      let n = (t - this._startPixel) / this._length;
      return this._reversePixels ? 1 - n : n;
    }
    getBasePixel() {
      return this.getPixelForValue(this.getBaseValue());
    }
    getBaseValue() {
      let { min: t, max: n } = this;
      return t < 0 && n < 0 ? n : t > 0 && n > 0 ? t : 0;
    }
    getContext(t) {
      let n = this.ticks || [];
      if (t >= 0 && t < n.length) {
        let i = n[t];
        return i.$context || (i.$context = ZW(this.getContext(), t, i));
      }
      return (
        this.$context || (this.$context = XW(this.chart.getContext(), this))
      );
    }
    _tickSize() {
      let t = this.options.ticks,
        n = la(this.labelRotation),
        i = Math.abs(Math.cos(n)),
        r = Math.abs(Math.sin(n)),
        a = this._getLabelSizes(),
        o = t.autoSkipPadding || 0,
        s = a ? a.widest.width + o : 0,
        l = a ? a.highest.height + o : 0;
      return this.isHorizontal()
        ? l * i > s * r
          ? s / i
          : l / r
        : l * r < s * i
          ? l / i
          : s / r;
    }
    _isVisible() {
      let t = this.options.display;
      return t !== 'auto' ? !!t : this.getMatchingVisibleMetas().length > 0;
    }
    _computeGridLineItems(t) {
      let n = this.axis,
        i = this.chart,
        r = this.options,
        { grid: a, position: o, border: s } = r,
        l = a.offset,
        c = this.isHorizontal(),
        d = this.ticks.length + (l ? 1 : 0),
        h = Ch(a),
        p = [],
        m = s.setContext(this.getContext()),
        _ = m.display ? m.width : 0,
        v = _ / 2,
        y = function (U) {
          return Zo(i, U, _);
        },
        w,
        x,
        C,
        S,
        g,
        D,
        T,
        O,
        R,
        P,
        L,
        V;
      if (o === 'top')
        (w = y(this.bottom)),
          (D = this.bottom - h),
          (O = w - v),
          (P = y(t.top) + v),
          (V = t.bottom);
      else if (o === 'bottom')
        (w = y(this.top)),
          (P = t.top),
          (V = y(t.bottom) - v),
          (D = w + v),
          (O = this.top + h);
      else if (o === 'left')
        (w = y(this.right)),
          (g = this.right - h),
          (T = w - v),
          (R = y(t.left) + v),
          (L = t.right);
      else if (o === 'right')
        (w = y(this.left)),
          (R = t.left),
          (L = y(t.right) - v),
          (g = w + v),
          (T = this.left + h);
      else if (n === 'x') {
        if (o === 'center') w = y((t.top + t.bottom) / 2 + 0.5);
        else if (Ye(o)) {
          let U = Object.keys(o)[0],
            W = o[U];
          w = y(this.chart.scales[U].getPixelForValue(W));
        }
        (P = t.top), (V = t.bottom), (D = w + v), (O = D + h);
      } else if (n === 'y') {
        if (o === 'center') w = y((t.left + t.right) / 2);
        else if (Ye(o)) {
          let U = Object.keys(o)[0],
            W = o[U];
          w = y(this.chart.scales[U].getPixelForValue(W));
        }
        (g = w - v), (T = g - h), (R = t.left), (L = t.right);
      }
      let B = ti(r.ticks.maxTicksLimit, d),
        q = Math.max(1, Math.ceil(d / B));
      for (x = 0; x < d; x += q) {
        let U = this.getContext(x),
          W = a.setContext(U),
          Z = s.setContext(U),
          it = W.lineWidth,
          rt = W.color,
          nt = Z.dash || [],
          J = Z.dashOffset,
          dt = W.tickWidth,
          yt = W.tickColor,
          wt = W.tickBorderDash || [],
          bt = W.tickBorderDashOffset;
        (C = YW(this, x, l)),
          C !== void 0 &&
            ((S = Zo(i, C, it)),
            c ? (g = T = R = L = S) : (D = O = P = V = S),
            p.push({
              tx1: g,
              ty1: D,
              tx2: T,
              ty2: O,
              x1: R,
              y1: P,
              x2: L,
              y2: V,
              width: it,
              color: rt,
              borderDash: nt,
              borderDashOffset: J,
              tickWidth: dt,
              tickColor: yt,
              tickBorderDash: wt,
              tickBorderDashOffset: bt,
            }));
      }
      return (this._ticksLength = d), (this._borderValue = w), p;
    }
    _computeLabelItems(t) {
      let n = this.axis,
        i = this.options,
        { position: r, ticks: a } = i,
        o = this.isHorizontal(),
        s = this.ticks,
        { align: l, crossAlign: c, padding: u, mirror: d } = a,
        h = Ch(i.grid),
        p = h + u,
        m = d ? -u : p,
        _ = -la(this.labelRotation),
        v = [],
        y,
        w,
        x,
        C,
        S,
        g,
        D,
        T,
        O,
        R,
        P,
        L,
        V = 'middle';
      if (r === 'top')
        (g = this.bottom - m), (D = this._getXAxisLabelAlignment());
      else if (r === 'bottom')
        (g = this.top + m), (D = this._getXAxisLabelAlignment());
      else if (r === 'left') {
        let q = this._getYAxisLabelAlignment(h);
        (D = q.textAlign), (S = q.x);
      } else if (r === 'right') {
        let q = this._getYAxisLabelAlignment(h);
        (D = q.textAlign), (S = q.x);
      } else if (n === 'x') {
        if (r === 'center') g = (t.top + t.bottom) / 2 + p;
        else if (Ye(r)) {
          let q = Object.keys(r)[0],
            U = r[q];
          g = this.chart.scales[q].getPixelForValue(U) + p;
        }
        D = this._getXAxisLabelAlignment();
      } else if (n === 'y') {
        if (r === 'center') S = (t.left + t.right) / 2 - p;
        else if (Ye(r)) {
          let q = Object.keys(r)[0],
            U = r[q];
          S = this.chart.scales[q].getPixelForValue(U);
        }
        D = this._getYAxisLabelAlignment(h).textAlign;
      }
      n === 'y' &&
        (l === 'start' ? (V = 'top') : l === 'end' && (V = 'bottom'));
      let B = this._getLabelSizes();
      for (y = 0, w = s.length; y < w; ++y) {
        (x = s[y]), (C = x.label);
        let q = a.setContext(this.getContext(y));
        (T = this.getPixelForTick(y) + a.labelOffset),
          (O = this._resolveTickFontOptions(y)),
          (R = O.lineHeight),
          (P = Ri(C) ? C.length : 1);
        let U = P / 2,
          W = q.color,
          Z = q.textStrokeColor,
          it = q.textStrokeWidth,
          rt = D;
        o
          ? ((S = T),
            D === 'inner' &&
              (y === w - 1
                ? (rt = this.options.reverse ? 'left' : 'right')
                : y === 0
                  ? (rt = this.options.reverse ? 'right' : 'left')
                  : (rt = 'center')),
            r === 'top'
              ? c === 'near' || _ !== 0
                ? (L = -P * R + R / 2)
                : c === 'center'
                  ? (L = -B.highest.height / 2 - U * R + R)
                  : (L = -B.highest.height + R / 2)
              : c === 'near' || _ !== 0
                ? (L = R / 2)
                : c === 'center'
                  ? (L = B.highest.height / 2 - U * R)
                  : (L = B.highest.height - P * R),
            d && (L *= -1),
            _ !== 0 && !q.showLabelBackdrop && (S += (R / 2) * Math.sin(_)))
          : ((g = T), (L = ((1 - P) * R) / 2));
        let nt;
        if (q.showLabelBackdrop) {
          let J = On(q.backdropPadding),
            dt = B.heights[y],
            yt = B.widths[y],
            wt = L - J.top,
            bt = 0 - J.left;
          switch (V) {
            case 'middle':
              wt -= dt / 2;
              break;
            case 'bottom':
              wt -= dt;
              break;
          }
          switch (D) {
            case 'center':
              bt -= yt / 2;
              break;
            case 'right':
              bt -= yt;
              break;
            case 'inner':
              y === w - 1 ? (bt -= yt) : y > 0 && (bt -= yt / 2);
              break;
          }
          nt = {
            left: bt,
            top: wt,
            width: yt + J.width,
            height: dt + J.height,
            color: q.backdropColor,
          };
        }
        v.push({
          label: C,
          font: O,
          textOffset: L,
          options: {
            rotation: _,
            color: W,
            strokeColor: Z,
            strokeWidth: it,
            textAlign: rt,
            textBaseline: V,
            translation: [S, g],
            backdrop: nt,
          },
        });
      }
      return v;
    }
    _getXAxisLabelAlignment() {
      let { position: t, ticks: n } = this.options;
      if (-la(this.labelRotation)) return t === 'top' ? 'left' : 'right';
      let r = 'center';
      return (
        n.align === 'start'
          ? (r = 'left')
          : n.align === 'end'
            ? (r = 'right')
            : n.align === 'inner' && (r = 'inner'),
        r
      );
    }
    _getYAxisLabelAlignment(t) {
      let {
          position: n,
          ticks: { crossAlign: i, mirror: r, padding: a },
        } = this.options,
        o = this._getLabelSizes(),
        s = t + a,
        l = o.widest.width,
        c,
        u;
      return (
        n === 'left'
          ? r
            ? ((u = this.right + a),
              i === 'near'
                ? (c = 'left')
                : i === 'center'
                  ? ((c = 'center'), (u += l / 2))
                  : ((c = 'right'), (u += l)))
            : ((u = this.right - s),
              i === 'near'
                ? (c = 'right')
                : i === 'center'
                  ? ((c = 'center'), (u -= l / 2))
                  : ((c = 'left'), (u = this.left)))
          : n === 'right'
            ? r
              ? ((u = this.left + a),
                i === 'near'
                  ? (c = 'right')
                  : i === 'center'
                    ? ((c = 'center'), (u -= l / 2))
                    : ((c = 'left'), (u -= l)))
              : ((u = this.left + s),
                i === 'near'
                  ? (c = 'left')
                  : i === 'center'
                    ? ((c = 'center'), (u += l / 2))
                    : ((c = 'right'), (u = this.right)))
            : (c = 'right'),
        { textAlign: c, x: u }
      );
    }
    _computeLabelArea() {
      if (this.options.ticks.mirror) return;
      let t = this.chart,
        n = this.options.position;
      if (n === 'left' || n === 'right')
        return { top: 0, left: this.left, bottom: t.height, right: this.right };
      if (n === 'top' || n === 'bottom')
        return { top: this.top, left: 0, bottom: this.bottom, right: t.width };
    }
    drawBackground() {
      let {
        ctx: t,
        options: { backgroundColor: n },
        left: i,
        top: r,
        width: a,
        height: o,
      } = this;
      n && (t.save(), (t.fillStyle = n), t.fillRect(i, r, a, o), t.restore());
    }
    getLineWidthForValue(t) {
      let n = this.options.grid;
      if (!this._isVisible() || !n.display) return 0;
      let r = this.ticks.findIndex((a) => a.value === t);
      return r >= 0 ? n.setContext(this.getContext(r)).lineWidth : 0;
    }
    drawGrid(t) {
      let n = this.options.grid,
        i = this.ctx,
        r =
          this._gridLineItems ||
          (this._gridLineItems = this._computeGridLineItems(t)),
        a,
        o,
        s = (l, c, u) => {
          !u.width ||
            !u.color ||
            (i.save(),
            (i.lineWidth = u.width),
            (i.strokeStyle = u.color),
            i.setLineDash(u.borderDash || []),
            (i.lineDashOffset = u.borderDashOffset),
            i.beginPath(),
            i.moveTo(l.x, l.y),
            i.lineTo(c.x, c.y),
            i.stroke(),
            i.restore());
        };
      if (n.display)
        for (a = 0, o = r.length; a < o; ++a) {
          let l = r[a];
          n.drawOnChartArea && s({ x: l.x1, y: l.y1 }, { x: l.x2, y: l.y2 }, l),
            n.drawTicks &&
              s(
                { x: l.tx1, y: l.ty1 },
                { x: l.tx2, y: l.ty2 },
                {
                  color: l.tickColor,
                  width: l.tickWidth,
                  borderDash: l.tickBorderDash,
                  borderDashOffset: l.tickBorderDashOffset,
                }
              );
        }
    }
    drawBorder() {
      let {
          chart: t,
          ctx: n,
          options: { border: i, grid: r },
        } = this,
        a = i.setContext(this.getContext()),
        o = i.display ? a.width : 0;
      if (!o) return;
      let s = r.setContext(this.getContext(0)).lineWidth,
        l = this._borderValue,
        c,
        u,
        d,
        h;
      this.isHorizontal()
        ? ((c = Zo(t, this.left, o) - o / 2),
          (u = Zo(t, this.right, s) + s / 2),
          (d = h = l))
        : ((d = Zo(t, this.top, o) - o / 2),
          (h = Zo(t, this.bottom, s) + s / 2),
          (c = u = l)),
        n.save(),
        (n.lineWidth = a.width),
        (n.strokeStyle = a.color),
        n.beginPath(),
        n.moveTo(c, d),
        n.lineTo(u, h),
        n.stroke(),
        n.restore();
    }
    drawLabels(t) {
      if (!this.options.ticks.display) return;
      let i = this.ctx,
        r = this._computeLabelArea();
      r && ag(i, r);
      let a = this.getLabelItems(t);
      for (let o of a) {
        let s = o.options,
          l = o.font,
          c = o.label,
          u = o.textOffset;
        Qo(i, c, 0, u, l, s);
      }
      r && og(i);
    }
    drawTitle() {
      let {
        ctx: t,
        options: { position: n, title: i, reverse: r },
      } = this;
      if (!i.display) return;
      let a = nn(i.font),
        o = On(i.padding),
        s = i.align,
        l = a.lineHeight / 2;
      n === 'bottom' || n === 'center' || Ye(n)
        ? ((l += o.bottom),
          Ri(i.text) && (l += a.lineHeight * (i.text.length - 1)))
        : (l += o.top);
      let {
        titleX: c,
        titleY: u,
        maxWidth: d,
        rotation: h,
      } = JW(this, l, n, s);
      Qo(t, i.text, 0, 0, a, {
        color: i.color,
        maxWidth: d,
        rotation: h,
        textAlign: QW(s, n, r),
        textBaseline: 'middle',
        translation: [c, u],
      });
    }
    draw(t) {
      this._isVisible() &&
        (this.drawBackground(),
        this.drawGrid(t),
        this.drawBorder(),
        this.drawTitle(),
        this.drawLabels(t));
    }
    _layers() {
      let t = this.options,
        n = (t.ticks && t.ticks.z) || 0,
        i = ti(t.grid && t.grid.z, -1),
        r = ti(t.border && t.border.z, 0);
      return !this._isVisible() || this.draw !== e.prototype.draw
        ? [
            {
              z: n,
              draw: (a) => {
                this.draw(a);
              },
            },
          ]
        : [
            {
              z: i,
              draw: (a) => {
                this.drawBackground(), this.drawGrid(a), this.drawTitle();
              },
            },
            {
              z: r,
              draw: () => {
                this.drawBorder();
              },
            },
            {
              z: n,
              draw: (a) => {
                this.drawLabels(a);
              },
            },
          ];
    }
    getMatchingVisibleMetas(t) {
      let n = this.chart.getSortedVisibleDatasetMetas(),
        i = this.axis + 'AxisID',
        r = [],
        a,
        o;
      for (a = 0, o = n.length; a < o; ++a) {
        let s = n[a];
        s[i] === this.id && (!t || s.type === t) && r.push(s);
      }
      return r;
    }
    _resolveTickFontOptions(t) {
      let n = this.options.ticks.setContext(this.getContext(t));
      return nn(n.font);
    }
    _maxDigits() {
      let t = this._resolveTickFontOptions(0).lineHeight;
      return (this.isHorizontal() ? this.width : this.height) / t;
    }
  },
  Vc = class {
    constructor(t, n, i) {
      (this.type = t),
        (this.scope = n),
        (this.override = i),
        (this.items = Object.create(null));
    }
    isForType(t) {
      return Object.prototype.isPrototypeOf.call(
        this.type.prototype,
        t.prototype
      );
    }
    register(t) {
      let n = Object.getPrototypeOf(t),
        i;
      i$(n) && (i = this.register(n));
      let r = this.items,
        a = t.id,
        o = this.scope + '.' + a;
      if (!a) throw new Error('class does not have id: ' + t);
      return (
        a in r ||
          ((r[a] = t),
          t$(t, o, i),
          this.override && Ui.override(t.id, t.overrides)),
        o
      );
    }
    get(t) {
      return this.items[t];
    }
    unregister(t) {
      let n = this.items,
        i = t.id,
        r = this.scope;
      i in n && delete n[i],
        r && i in Ui[r] && (delete Ui[r][i], this.override && delete Xo[i]);
    }
  };
function t$(e, t, n) {
  let i = Lc(Object.create(null), [n ? Ui.get(n) : {}, Ui.get(t), e.defaults]);
  Ui.set(t, i),
    e.defaultRoutes && e$(t, e.defaultRoutes),
    e.descriptors && Ui.describe(t, e.descriptors);
}
function e$(e, t) {
  Object.keys(t).forEach((n) => {
    let i = n.split('.'),
      r = i.pop(),
      a = [e].concat(i).join('.'),
      o = t[n].split('.'),
      s = o.pop(),
      l = o.join('.');
    Ui.route(a, r, l, s);
  });
}
function i$(e) {
  return 'id' in e && 'defaults' in e;
}
var N_ = class {
    constructor() {
      (this.controllers = new Vc(iI, 'datasets', !0)),
        (this.elements = new Vc(es, 'elements')),
        (this.plugins = new Vc(Object, 'plugins')),
        (this.scales = new Vc(jc, 'scales')),
        (this._typedRegistries = [
          this.controllers,
          this.scales,
          this.elements,
        ]);
    }
    add(...t) {
      this._each('register', t);
    }
    remove(...t) {
      this._each('unregister', t);
    }
    addControllers(...t) {
      this._each('register', t, this.controllers);
    }
    addElements(...t) {
      this._each('register', t, this.elements);
    }
    addPlugins(...t) {
      this._each('register', t, this.plugins);
    }
    addScales(...t) {
      this._each('register', t, this.scales);
    }
    getController(t) {
      return this._get(t, this.controllers, 'controller');
    }
    getElement(t) {
      return this._get(t, this.elements, 'element');
    }
    getPlugin(t) {
      return this._get(t, this.plugins, 'plugin');
    }
    getScale(t) {
      return this._get(t, this.scales, 'scale');
    }
    removeControllers(...t) {
      this._each('unregister', t, this.controllers);
    }
    removeElements(...t) {
      this._each('unregister', t, this.elements);
    }
    removePlugins(...t) {
      this._each('unregister', t, this.plugins);
    }
    removeScales(...t) {
      this._each('unregister', t, this.scales);
    }
    _each(t, n, i) {
      [...n].forEach((r) => {
        let a = i || this._getRegistryForType(r);
        i || a.isForType(r) || (a === this.plugins && r.id)
          ? this._exec(t, a, r)
          : ci(r, (o) => {
              let s = i || this._getRegistryForType(o);
              this._exec(t, s, o);
            });
      });
    }
    _exec(t, n, i) {
      let r = Jm(t);
      xi(i['before' + r], [], i), n[t](i), xi(i['after' + r], [], i);
    }
    _getRegistryForType(t) {
      for (let n = 0; n < this._typedRegistries.length; n++) {
        let i = this._typedRegistries[n];
        if (i.isForType(t)) return i;
      }
      return this.plugins;
    }
    _get(t, n, i) {
      let r = n.get(t);
      if (r === void 0)
        throw new Error('"' + t + '" is not a registered ' + i + '.');
      return r;
    }
  },
  Ra = new N_(),
  F_ = class {
    constructor() {
      this._init = [];
    }
    notify(t, n, i, r) {
      n === 'beforeInit' &&
        ((this._init = this._createDescriptors(t, !0)),
        this._notify(this._init, t, 'install'));
      let a = r ? this._descriptors(t).filter(r) : this._descriptors(t),
        o = this._notify(a, t, n, i);
      return (
        n === 'afterDestroy' &&
          (this._notify(a, t, 'stop'),
          this._notify(this._init, t, 'uninstall')),
        o
      );
    }
    _notify(t, n, i, r) {
      r = r || {};
      for (let a of t) {
        let o = a.plugin,
          s = o[i],
          l = [n, r, a.options];
        if (xi(s, l, o) === !1 && r.cancelable) return !1;
      }
      return !0;
    }
    invalidate() {
      Li(this._cache) ||
        ((this._oldCache = this._cache), (this._cache = void 0));
    }
    _descriptors(t) {
      if (this._cache) return this._cache;
      let n = (this._cache = this._createDescriptors(t));
      return this._notifyStateChanges(t), n;
    }
    _createDescriptors(t, n) {
      let i = t && t.config,
        r = ti(i.options && i.options.plugins, {}),
        a = n$(i);
      return r === !1 && !n ? [] : a$(t, a, r, n);
    }
    _notifyStateChanges(t) {
      let n = this._oldCache || [],
        i = this._cache,
        r = (a, o) =>
          a.filter((s) => !o.some((l) => s.plugin.id === l.plugin.id));
      this._notify(r(n, i), t, 'stop'), this._notify(r(i, n), t, 'start');
    }
  };
function n$(e) {
  let t = {},
    n = [],
    i = Object.keys(Ra.plugins.items);
  for (let a = 0; a < i.length; a++) n.push(Ra.getPlugin(i[a]));
  let r = e.plugins || [];
  for (let a = 0; a < r.length; a++) {
    let o = r[a];
    n.indexOf(o) === -1 && (n.push(o), (t[o.id] = !0));
  }
  return { plugins: n, localIds: t };
}
function r$(e, t) {
  return !t && e === !1 ? null : e === !0 ? {} : e;
}
function a$(e, { plugins: t, localIds: n }, i, r) {
  let a = [],
    o = e.getContext();
  for (let s of t) {
    let l = s.id,
      c = r$(i[l], r);
    c !== null &&
      a.push({
        plugin: s,
        options: o$(e.config, { plugin: s, local: n[l] }, c, o),
      });
  }
  return a;
}
function o$(e, { plugin: t, local: n }, i, r) {
  let a = e.pluginScopeKeys(t),
    o = e.getOptionScopes(i, a);
  return (
    n && t.defaults && o.push(t.defaults),
    e.createResolver(o, r, [''], { scriptable: !1, indexable: !1, allKeys: !0 })
  );
}
function B_(e, t) {
  let n = Ui.datasets[e] || {};
  return (
    ((t.datasets || {})[e] || {}).indexAxis || t.indexAxis || n.indexAxis || 'x'
  );
}
function s$(e, t) {
  let n = e;
  return (
    e === '_index_' ? (n = t) : e === '_value_' && (n = t === 'x' ? 'y' : 'x'),
    n
  );
}
function l$(e, t) {
  return e === t ? '_index_' : '_value_';
}
function EA(e) {
  if (e === 'x' || e === 'y' || e === 'r') return e;
}
function c$(e) {
  if (e === 'top' || e === 'bottom') return 'x';
  if (e === 'left' || e === 'right') return 'y';
}
function z_(e, ...t) {
  if (EA(e)) return e;
  for (let n of t) {
    let i =
      n.axis || c$(n.position) || (e.length > 1 && EA(e[0].toLowerCase()));
    if (i) return i;
  }
  throw new Error(
    `Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`
  );
}
function SA(e, t, n) {
  if (n[t + 'AxisID'] === e) return { axis: t };
}
function u$(e, t) {
  if (t.data && t.data.datasets) {
    let n = t.data.datasets.filter((i) => i.xAxisID === e || i.yAxisID === e);
    if (n.length) return SA(e, 'x', n[0]) || SA(e, 'y', n[0]);
  }
  return {};
}
function d$(e, t) {
  let n = Xo[e.type] || { scales: {} },
    i = t.scales || {},
    r = B_(e.type, t),
    a = Object.create(null);
  return (
    Object.keys(i).forEach((o) => {
      let s = i[o];
      if (!Ye(s))
        return console.error(`Invalid scale configuration for scale: ${o}`);
      if (s._proxy)
        return console.warn(
          `Ignoring resolver passed as options for scale: ${o}`
        );
      let l = z_(o, s, u$(o, e), Ui.scales[s.type]),
        c = l$(l, r),
        u = n.scales || {};
      a[o] = Nc(Object.create(null), [{ axis: l }, s, u[l], u[c]]);
    }),
    e.data.datasets.forEach((o) => {
      let s = o.type || e.type,
        l = o.indexAxis || B_(s, t),
        u = (Xo[s] || {}).scales || {};
      Object.keys(u).forEach((d) => {
        let h = s$(d, l),
          p = o[h + 'AxisID'] || h;
        (a[p] = a[p] || Object.create(null)),
          Nc(a[p], [{ axis: h }, i[p], u[d]]);
      });
    }),
    Object.keys(a).forEach((o) => {
      let s = a[o];
      Nc(s, [Ui.scales[s.type], Ui.scale]);
    }),
    a
  );
}
function lI(e) {
  let t = e.options || (e.options = {});
  (t.plugins = ti(t.plugins, {})), (t.scales = d$(e, t));
}
function cI(e) {
  return (
    (e = e || {}),
    (e.datasets = e.datasets || []),
    (e.labels = e.labels || []),
    e
  );
}
function h$(e) {
  return (e = e || {}), (e.data = cI(e.data)), lI(e), e;
}
var DA = new Map(),
  uI = new Set();
function pg(e, t) {
  let n = DA.get(e);
  return n || ((n = t()), DA.set(e, n), uI.add(n)), n;
}
var Eh = (e, t, n) => {
    let i = Fc(t, n);
    i !== void 0 && e.add(i);
  },
  V_ = class {
    constructor(t) {
      (this._config = h$(t)),
        (this._scopeCache = new Map()),
        (this._resolverCache = new Map());
    }
    get platform() {
      return this._config.platform;
    }
    get type() {
      return this._config.type;
    }
    set type(t) {
      this._config.type = t;
    }
    get data() {
      return this._config.data;
    }
    set data(t) {
      this._config.data = cI(t);
    }
    get options() {
      return this._config.options;
    }
    set options(t) {
      this._config.options = t;
    }
    get plugins() {
      return this._config.plugins;
    }
    update() {
      let t = this._config;
      this.clearCache(), lI(t);
    }
    clearCache() {
      this._scopeCache.clear(), this._resolverCache.clear();
    }
    datasetScopeKeys(t) {
      return pg(t, () => [[`datasets.${t}`, '']]);
    }
    datasetAnimationScopeKeys(t, n) {
      return pg(`${t}.transition.${n}`, () => [
        [`datasets.${t}.transitions.${n}`, `transitions.${n}`],
        [`datasets.${t}`, ''],
      ]);
    }
    datasetElementScopeKeys(t, n) {
      return pg(`${t}-${n}`, () => [
        [`datasets.${t}.elements.${n}`, `datasets.${t}`, `elements.${n}`, ''],
      ]);
    }
    pluginScopeKeys(t) {
      let n = t.id,
        i = this.type;
      return pg(`${i}-plugin-${n}`, () => [
        [`plugins.${n}`, ...(t.additionalOptionScopes || [])],
      ]);
    }
    _cachedScopes(t, n) {
      let i = this._scopeCache,
        r = i.get(t);
      return (!r || n) && ((r = new Map()), i.set(t, r)), r;
    }
    getOptionScopes(t, n, i) {
      let { options: r, type: a } = this,
        o = this._cachedScopes(t, i),
        s = o.get(n);
      if (s) return s;
      let l = new Set();
      n.forEach((u) => {
        t && (l.add(t), u.forEach((d) => Eh(l, t, d))),
          u.forEach((d) => Eh(l, r, d)),
          u.forEach((d) => Eh(l, Xo[a] || {}, d)),
          u.forEach((d) => Eh(l, Ui, d)),
          u.forEach((d) => Eh(l, rg, d));
      });
      let c = Array.from(l);
      return (
        c.length === 0 && c.push(Object.create(null)),
        uI.has(n) && o.set(n, c),
        c
      );
    }
    chartOptionScopes() {
      let { options: t, type: n } = this;
      return [t, Xo[n] || {}, Ui.datasets[n] || {}, { type: n }, Ui, rg];
    }
    resolveNamedOptions(t, n, i, r = ['']) {
      let a = { $shared: !0 },
        { resolver: o, subPrefixes: s } = TA(this._resolverCache, t, r),
        l = o;
      if (p$(o, n)) {
        (a.$shared = !1), (i = ao(i) ? i() : i);
        let c = this.createResolver(t, i, s);
        l = ll(o, i, c);
      }
      for (let c of n) a[c] = l[c];
      return a;
    }
    createResolver(t, n, i = [''], r) {
      let { resolver: a } = TA(this._resolverCache, t, i);
      return Ye(n) ? ll(a, n, void 0, r) : a;
    }
  };
function TA(e, t, n) {
  let i = e.get(t);
  i || ((i = new Map()), e.set(t, i));
  let r = n.join(),
    a = i.get(r);
  return (
    a ||
      ((a = {
        resolver: lg(t, n),
        subPrefixes: n.filter((s) => !s.toLowerCase().includes('hover')),
      }),
      i.set(r, a)),
    a
  );
}
var f$ = (e) => Ye(e) && Object.getOwnPropertyNames(e).some((t) => ao(e[t]));
function p$(e, t) {
  let { isScriptable: n, isIndexable: i } = y_(e);
  for (let r of t) {
    let a = n(r),
      o = i(r),
      s = (o || a) && e[r];
    if ((a && (ao(s) || f$(s))) || (o && Ri(s))) return !0;
  }
  return !1;
}
var m$ = '4.4.4',
  g$ = ['top', 'bottom', 'left', 'right', 'chartArea'];
function MA(e, t) {
  return e === 'top' || e === 'bottom' || (g$.indexOf(e) === -1 && t === 'x');
}
function AA(e, t) {
  return function (n, i) {
    return n[e] === i[e] ? n[t] - i[t] : n[e] - i[e];
  };
}
function IA(e) {
  let t = e.chart,
    n = t.options.animation;
  t.notifyPlugins('afterRender'), xi(n && n.onComplete, [e], t);
}
function v$(e) {
  let t = e.chart,
    n = t.options.animation;
  xi(n && n.onProgress, [e], t);
}
function dI(e) {
  return (
    cg() && typeof e == 'string'
      ? (e = document.getElementById(e))
      : e && e.length && (e = e[0]),
    e && e.canvas && (e = e.canvas),
    e
  );
}
var yg = {},
  RA = (e) => {
    let t = dI(e);
    return Object.values(yg)
      .filter((n) => n.canvas === t)
      .pop();
  };
function b$(e, t, n) {
  let i = Object.keys(e);
  for (let r of i) {
    let a = +r;
    if (a >= t) {
      let o = e[r];
      delete e[r], (n > 0 || a > t) && (e[a + n] = o);
    }
  }
}
function y$(e, t, n, i) {
  return !n || e.type === 'mouseout' ? null : i ? t : e;
}
function mg(e, t, n) {
  return e.options.clip ? e[n] : t[n];
}
function _$(e, t) {
  let { xScale: n, yScale: i } = e;
  return n && i
    ? {
        left: mg(n, t, 'left'),
        right: mg(n, t, 'right'),
        top: mg(i, t, 'top'),
        bottom: mg(i, t, 'bottom'),
      }
    : t;
}
var Dg = (() => {
  class e {
    static defaults = Ui;
    static instances = yg;
    static overrides = Xo;
    static registry = Ra;
    static version = m$;
    static getChart = RA;
    static register(...n) {
      Ra.add(...n), OA();
    }
    static unregister(...n) {
      Ra.remove(...n), OA();
    }
    constructor(n, i) {
      let r = (this.config = new V_(i)),
        a = dI(n),
        o = RA(a);
      if (o)
        throw new Error(
          "Canvas is already in use. Chart with ID '" +
            o.id +
            "' must be destroyed before the canvas with ID '" +
            o.canvas.id +
            "' can be reused."
        );
      let s = r.createResolver(r.chartOptionScopes(), this.getContext());
      (this.platform = new (r.platform || VW(a))()),
        this.platform.updateConfig(r);
      let l = this.platform.acquireContext(a, s.aspectRatio),
        c = l && l.canvas,
        u = c && c.height,
        d = c && c.width;
      if (
        ((this.id = FM()),
        (this.ctx = l),
        (this.canvas = c),
        (this.width = d),
        (this.height = u),
        (this._options = s),
        (this._aspectRatio = this.aspectRatio),
        (this._layers = []),
        (this._metasets = []),
        (this._stacks = void 0),
        (this.boxes = []),
        (this.currentDevicePixelRatio = void 0),
        (this.chartArea = void 0),
        (this._active = []),
        (this._lastEvent = void 0),
        (this._listeners = {}),
        (this._responsiveListeners = void 0),
        (this._sortedMetasets = []),
        (this.scales = {}),
        (this._plugins = new F_()),
        (this.$proxies = {}),
        (this._hiddenIndices = {}),
        (this.attached = !1),
        (this._animationsDisabled = void 0),
        (this.$context = void 0),
        (this._doResize = XM((h) => this.update(h), s.resizeDelay || 0)),
        (this._dataChanges = []),
        (yg[this.id] = this),
        !l || !c)
      ) {
        console.error(
          "Failed to create chart: can't acquire context from the given item"
        );
        return;
      }
      so.listen(this, 'complete', IA),
        so.listen(this, 'progress', v$),
        this._initialize(),
        this.attached && this.update();
    }
    get aspectRatio() {
      let {
        options: { aspectRatio: n, maintainAspectRatio: i },
        width: r,
        height: a,
        _aspectRatio: o,
      } = this;
      return Li(n) ? (i && o ? o : a ? r / a : null) : n;
    }
    get data() {
      return this.config.data;
    }
    set data(n) {
      this.config.data = n;
    }
    get options() {
      return this._options;
    }
    set options(n) {
      this.config.options = n;
    }
    get registry() {
      return Ra;
    }
    _initialize() {
      return (
        this.notifyPlugins('beforeInit'),
        this.options.responsive
          ? this.resize()
          : w_(this, this.options.devicePixelRatio),
        this.bindEvents(),
        this.notifyPlugins('afterInit'),
        this
      );
    }
    clear() {
      return g_(this.canvas, this.ctx), this;
    }
    stop() {
      return so.stop(this), this;
    }
    resize(n, i) {
      so.running(this)
        ? (this._resizeBeforeDraw = { width: n, height: i })
        : this._resize(n, i);
    }
    _resize(n, i) {
      let r = this.options,
        a = this.canvas,
        o = r.maintainAspectRatio && this.aspectRatio,
        s = this.platform.getMaximumSize(a, n, i, o),
        l = r.devicePixelRatio || this.platform.getDevicePixelRatio(),
        c = this.width ? 'resize' : 'attach';
      (this.width = s.width),
        (this.height = s.height),
        (this._aspectRatio = this.aspectRatio),
        w_(this, l, !0) &&
          (this.notifyPlugins('resize', { size: s }),
          xi(r.onResize, [this, s], this),
          this.attached && this._doResize(c) && this.render());
    }
    ensureScalesHaveIDs() {
      let i = this.options.scales || {};
      ci(i, (r, a) => {
        r.id = a;
      });
    }
    buildOrUpdateScales() {
      let n = this.options,
        i = n.scales,
        r = this.scales,
        a = Object.keys(r).reduce((s, l) => ((s[l] = !1), s), {}),
        o = [];
      i &&
        (o = o.concat(
          Object.keys(i).map((s) => {
            let l = i[s],
              c = z_(s, l),
              u = c === 'r',
              d = c === 'x';
            return {
              options: l,
              dposition: u ? 'chartArea' : d ? 'bottom' : 'left',
              dtype: u ? 'radialLinear' : d ? 'category' : 'linear',
            };
          })
        )),
        ci(o, (s) => {
          let l = s.options,
            c = l.id,
            u = z_(c, l),
            d = ti(l.type, s.dtype);
          (l.position === void 0 || MA(l.position, u) !== MA(s.dposition)) &&
            (l.position = s.dposition),
            (a[c] = !0);
          let h = null;
          if (c in r && r[c].type === d) h = r[c];
          else {
            let p = Ra.getScale(d);
            (h = new p({ id: c, type: d, ctx: this.ctx, chart: this })),
              (r[h.id] = h);
          }
          h.init(l, n);
        }),
        ci(a, (s, l) => {
          s || delete r[l];
        }),
        ci(r, (s) => {
          Vr.configure(this, s, s.options), Vr.addBox(this, s);
        });
    }
    _updateMetasets() {
      let n = this._metasets,
        i = this.data.datasets.length,
        r = n.length;
      if ((n.sort((a, o) => a.index - o.index), r > i)) {
        for (let a = i; a < r; ++a) this._destroyDatasetMeta(a);
        n.splice(i, r - i);
      }
      this._sortedMetasets = n.slice(0).sort(AA('order', 'index'));
    }
    _removeUnreferencedMetasets() {
      let {
        _metasets: n,
        data: { datasets: i },
      } = this;
      n.length > i.length && delete this._stacks,
        n.forEach((r, a) => {
          i.filter((o) => o === r._dataset).length === 0 &&
            this._destroyDatasetMeta(a);
        });
    }
    buildOrUpdateControllers() {
      let n = [],
        i = this.data.datasets,
        r,
        a;
      for (
        this._removeUnreferencedMetasets(), r = 0, a = i.length;
        r < a;
        r++
      ) {
        let o = i[r],
          s = this.getDatasetMeta(r),
          l = o.type || this.config.type;
        if (
          (s.type &&
            s.type !== l &&
            (this._destroyDatasetMeta(r), (s = this.getDatasetMeta(r))),
          (s.type = l),
          (s.indexAxis = o.indexAxis || B_(l, this.options)),
          (s.order = o.order || 0),
          (s.index = r),
          (s.label = '' + o.label),
          (s.visible = this.isDatasetVisible(r)),
          s.controller)
        )
          s.controller.updateIndex(r), s.controller.linkScales();
        else {
          let c = Ra.getController(l),
            { datasetElementType: u, dataElementType: d } = Ui.datasets[l];
          Object.assign(c, {
            dataElementType: Ra.getElement(d),
            datasetElementType: u && Ra.getElement(u),
          }),
            (s.controller = new c(this, r)),
            n.push(s.controller);
        }
      }
      return this._updateMetasets(), n;
    }
    _resetElements() {
      ci(
        this.data.datasets,
        (n, i) => {
          this.getDatasetMeta(i).controller.reset();
        },
        this
      );
    }
    reset() {
      this._resetElements(), this.notifyPlugins('reset');
    }
    update(n) {
      let i = this.config;
      i.update();
      let r = (this._options = i.createResolver(
          i.chartOptionScopes(),
          this.getContext()
        )),
        a = (this._animationsDisabled = !r.animation);
      if (
        (this._updateScales(),
        this._checkEventBindings(),
        this._updateHiddenIndices(),
        this._plugins.invalidate(),
        this.notifyPlugins('beforeUpdate', { mode: n, cancelable: !0 }) === !1)
      )
        return;
      let o = this.buildOrUpdateControllers();
      this.notifyPlugins('beforeElementsUpdate');
      let s = 0;
      for (let u = 0, d = this.data.datasets.length; u < d; u++) {
        let { controller: h } = this.getDatasetMeta(u),
          p = !a && o.indexOf(h) === -1;
        h.buildOrUpdateElements(p), (s = Math.max(+h.getMaxOverflow(), s));
      }
      (s = this._minPadding = r.layout.autoPadding ? s : 0),
        this._updateLayout(s),
        a ||
          ci(o, (u) => {
            u.reset();
          }),
        this._updateDatasets(n),
        this.notifyPlugins('afterUpdate', { mode: n }),
        this._layers.sort(AA('z', '_idx'));
      let { _active: l, _lastEvent: c } = this;
      c
        ? this._eventHandler(c, !0)
        : l.length && this._updateHoverStyles(l, l, !0),
        this.render();
    }
    _updateScales() {
      ci(this.scales, (n) => {
        Vr.removeBox(this, n);
      }),
        this.ensureScalesHaveIDs(),
        this.buildOrUpdateScales();
    }
    _checkEventBindings() {
      let n = this.options,
        i = new Set(Object.keys(this._listeners)),
        r = new Set(n.events);
      (!s_(i, r) || !!this._responsiveListeners !== n.responsive) &&
        (this.unbindEvents(), this.bindEvents());
    }
    _updateHiddenIndices() {
      let { _hiddenIndices: n } = this,
        i = this._getUniformDataChanges() || [];
      for (let { method: r, start: a, count: o } of i) {
        let s = r === '_removeElements' ? -o : o;
        b$(n, a, s);
      }
    }
    _getUniformDataChanges() {
      let n = this._dataChanges;
      if (!n || !n.length) return;
      this._dataChanges = [];
      let i = this.data.datasets.length,
        r = (o) =>
          new Set(
            n
              .filter((s) => s[0] === o)
              .map((s, l) => l + ',' + s.splice(1).join(','))
          ),
        a = r(0);
      for (let o = 1; o < i; o++) if (!s_(a, r(o))) return;
      return Array.from(a)
        .map((o) => o.split(','))
        .map((o) => ({ method: o[1], start: +o[2], count: +o[3] }));
    }
    _updateLayout(n) {
      if (this.notifyPlugins('beforeLayout', { cancelable: !0 }) === !1) return;
      Vr.update(this, this.width, this.height, n);
      let i = this.chartArea,
        r = i.width <= 0 || i.height <= 0;
      (this._layers = []),
        ci(
          this.boxes,
          (a) => {
            (r && a.position === 'chartArea') ||
              (a.configure && a.configure(), this._layers.push(...a._layers()));
          },
          this
        ),
        this._layers.forEach((a, o) => {
          a._idx = o;
        }),
        this.notifyPlugins('afterLayout');
    }
    _updateDatasets(n) {
      if (
        this.notifyPlugins('beforeDatasetsUpdate', {
          mode: n,
          cancelable: !0,
        }) !== !1
      ) {
        for (let i = 0, r = this.data.datasets.length; i < r; ++i)
          this.getDatasetMeta(i).controller.configure();
        for (let i = 0, r = this.data.datasets.length; i < r; ++i)
          this._updateDataset(i, ao(n) ? n({ datasetIndex: i }) : n);
        this.notifyPlugins('afterDatasetsUpdate', { mode: n });
      }
    }
    _updateDataset(n, i) {
      let r = this.getDatasetMeta(n),
        a = { meta: r, index: n, mode: i, cancelable: !0 };
      this.notifyPlugins('beforeDatasetUpdate', a) !== !1 &&
        (r.controller._update(i),
        (a.cancelable = !1),
        this.notifyPlugins('afterDatasetUpdate', a));
    }
    render() {
      this.notifyPlugins('beforeRender', { cancelable: !0 }) !== !1 &&
        (so.has(this)
          ? this.attached && !so.running(this) && so.start(this)
          : (this.draw(), IA({ chart: this })));
    }
    draw() {
      let n;
      if (this._resizeBeforeDraw) {
        let { width: r, height: a } = this._resizeBeforeDraw;
        (this._resizeBeforeDraw = null), this._resize(r, a);
      }
      if (
        (this.clear(),
        this.width <= 0 ||
          this.height <= 0 ||
          this.notifyPlugins('beforeDraw', { cancelable: !0 }) === !1)
      )
        return;
      let i = this._layers;
      for (n = 0; n < i.length && i[n].z <= 0; ++n) i[n].draw(this.chartArea);
      for (this._drawDatasets(); n < i.length; ++n) i[n].draw(this.chartArea);
      this.notifyPlugins('afterDraw');
    }
    _getSortedDatasetMetas(n) {
      let i = this._sortedMetasets,
        r = [],
        a,
        o;
      for (a = 0, o = i.length; a < o; ++a) {
        let s = i[a];
        (!n || s.visible) && r.push(s);
      }
      return r;
    }
    getSortedVisibleDatasetMetas() {
      return this._getSortedDatasetMetas(!0);
    }
    _drawDatasets() {
      if (this.notifyPlugins('beforeDatasetsDraw', { cancelable: !0 }) === !1)
        return;
      let n = this.getSortedVisibleDatasetMetas();
      for (let i = n.length - 1; i >= 0; --i) this._drawDataset(n[i]);
      this.notifyPlugins('afterDatasetsDraw');
    }
    _drawDataset(n) {
      let i = this.ctx,
        r = n._clip,
        a = !r.disabled,
        o = _$(n, this.chartArea),
        s = { meta: n, index: n.index, cancelable: !0 };
      this.notifyPlugins('beforeDatasetDraw', s) !== !1 &&
        (a &&
          ag(i, {
            left: r.left === !1 ? 0 : o.left - r.left,
            right: r.right === !1 ? this.width : o.right + r.right,
            top: r.top === !1 ? 0 : o.top - r.top,
            bottom: r.bottom === !1 ? this.height : o.bottom + r.bottom,
          }),
        n.controller.draw(),
        a && og(i),
        (s.cancelable = !1),
        this.notifyPlugins('afterDatasetDraw', s));
    }
    isPointInArea(n) {
      return cl(n, this.chartArea, this._minPadding);
    }
    getElementsAtEventForMode(n, i, r, a) {
      let o = xW.modes[i];
      return typeof o == 'function' ? o(this, n, r, a) : [];
    }
    getDatasetMeta(n) {
      let i = this.data.datasets[n],
        r = this._metasets,
        a = r.filter((o) => o && o._dataset === i).pop();
      return (
        a ||
          ((a = {
            type: null,
            data: [],
            dataset: null,
            controller: null,
            hidden: null,
            xAxisID: null,
            yAxisID: null,
            order: (i && i.order) || 0,
            index: n,
            _dataset: i,
            _parsed: [],
            _sorted: !1,
          }),
          r.push(a)),
        a
      );
    }
    getContext() {
      return (
        this.$context ||
        (this.$context = Jo(null, { chart: this, type: 'chart' }))
      );
    }
    getVisibleDatasetCount() {
      return this.getSortedVisibleDatasetMetas().length;
    }
    isDatasetVisible(n) {
      let i = this.data.datasets[n];
      if (!i) return !1;
      let r = this.getDatasetMeta(n);
      return typeof r.hidden == 'boolean' ? !r.hidden : !i.hidden;
    }
    setDatasetVisibility(n, i) {
      let r = this.getDatasetMeta(n);
      r.hidden = !i;
    }
    toggleDataVisibility(n) {
      this._hiddenIndices[n] = !this._hiddenIndices[n];
    }
    getDataVisibility(n) {
      return !this._hiddenIndices[n];
    }
    _updateVisibility(n, i, r) {
      let a = r ? 'show' : 'hide',
        o = this.getDatasetMeta(n),
        s = o.controller._resolveAnimations(void 0, a);
      hh(i)
        ? ((o.data[i].hidden = !r), this.update())
        : (this.setDatasetVisibility(n, r),
          s.update(o, { visible: r }),
          this.update((l) => (l.datasetIndex === n ? a : void 0)));
    }
    hide(n, i) {
      this._updateVisibility(n, i, !1);
    }
    show(n, i) {
      this._updateVisibility(n, i, !0);
    }
    _destroyDatasetMeta(n) {
      let i = this._metasets[n];
      i && i.controller && i.controller._destroy(), delete this._metasets[n];
    }
    _stop() {
      let n, i;
      for (
        this.stop(), so.remove(this), n = 0, i = this.data.datasets.length;
        n < i;
        ++n
      )
        this._destroyDatasetMeta(n);
    }
    destroy() {
      this.notifyPlugins('beforeDestroy');
      let { canvas: n, ctx: i } = this;
      this._stop(),
        this.config.clearCache(),
        n &&
          (this.unbindEvents(),
          g_(n, i),
          this.platform.releaseContext(i),
          (this.canvas = null),
          (this.ctx = null)),
        delete yg[this.id],
        this.notifyPlugins('afterDestroy');
    }
    toBase64Image(...n) {
      return this.canvas.toDataURL(...n);
    }
    bindEvents() {
      this.bindUserEvents(),
        this.options.responsive
          ? this.bindResponsiveEvents()
          : (this.attached = !0);
    }
    bindUserEvents() {
      let n = this._listeners,
        i = this.platform,
        r = (o, s) => {
          i.addEventListener(this, o, s), (n[o] = s);
        },
        a = (o, s, l) => {
          (o.offsetX = s), (o.offsetY = l), this._eventHandler(o);
        };
      ci(this.options.events, (o) => r(o, a));
    }
    bindResponsiveEvents() {
      this._responsiveListeners || (this._responsiveListeners = {});
      let n = this._responsiveListeners,
        i = this.platform,
        r = (c, u) => {
          i.addEventListener(this, c, u), (n[c] = u);
        },
        a = (c, u) => {
          n[c] && (i.removeEventListener(this, c, u), delete n[c]);
        },
        o = (c, u) => {
          this.canvas && this.resize(c, u);
        },
        s,
        l = () => {
          a('attach', l),
            (this.attached = !0),
            this.resize(),
            r('resize', o),
            r('detach', s);
        };
      (s = () => {
        (this.attached = !1),
          a('resize', o),
          this._stop(),
          this._resize(0, 0),
          r('attach', l);
      }),
        i.isAttached(this.canvas) ? l() : s();
    }
    unbindEvents() {
      ci(this._listeners, (n, i) => {
        this.platform.removeEventListener(this, i, n);
      }),
        (this._listeners = {}),
        ci(this._responsiveListeners, (n, i) => {
          this.platform.removeEventListener(this, i, n);
        }),
        (this._responsiveListeners = void 0);
    }
    updateHoverStyle(n, i, r) {
      let a = r ? 'set' : 'remove',
        o,
        s,
        l,
        c;
      for (
        i === 'dataset' &&
          ((o = this.getDatasetMeta(n[0].datasetIndex)),
          o.controller['_' + a + 'DatasetHoverStyle']()),
          l = 0,
          c = n.length;
        l < c;
        ++l
      ) {
        s = n[l];
        let u = s && this.getDatasetMeta(s.datasetIndex).controller;
        u && u[a + 'HoverStyle'](s.element, s.datasetIndex, s.index);
      }
    }
    getActiveElements() {
      return this._active || [];
    }
    setActiveElements(n) {
      let i = this._active || [],
        r = n.map(({ datasetIndex: o, index: s }) => {
          let l = this.getDatasetMeta(o);
          if (!l) throw new Error('No dataset found at index ' + o);
          return { datasetIndex: o, element: l.data[s], index: s };
        });
      !dh(r, i) &&
        ((this._active = r),
        (this._lastEvent = null),
        this._updateHoverStyles(r, i));
    }
    notifyPlugins(n, i, r) {
      return this._plugins.notify(this, n, i, r);
    }
    isPluginEnabled(n) {
      return this._plugins._cache.filter((i) => i.plugin.id === n).length === 1;
    }
    _updateHoverStyles(n, i, r) {
      let a = this.options.hover,
        o = (c, u) =>
          c.filter(
            (d) =>
              !u.some(
                (h) => d.datasetIndex === h.datasetIndex && d.index === h.index
              )
          ),
        s = o(i, n),
        l = r ? n : o(n, i);
      s.length && this.updateHoverStyle(s, a.mode, !1),
        l.length && a.mode && this.updateHoverStyle(l, a.mode, !0);
    }
    _eventHandler(n, i) {
      let r = {
          event: n,
          replay: i,
          cancelable: !0,
          inChartArea: this.isPointInArea(n),
        },
        a = (s) =>
          (s.options.events || this.options.events).includes(n.native.type);
      if (this.notifyPlugins('beforeEvent', r, a) === !1) return;
      let o = this._handleEvent(n, i, r.inChartArea);
      return (
        (r.cancelable = !1),
        this.notifyPlugins('afterEvent', r, a),
        (o || r.changed) && this.render(),
        this
      );
    }
    _handleEvent(n, i, r) {
      let { _active: a = [], options: o } = this,
        s = i,
        l = this._getActiveElements(n, a, r, s),
        c = VM(n),
        u = y$(n, this._lastEvent, r, c);
      r &&
        ((this._lastEvent = null),
        xi(o.onHover, [n, l, this], this),
        c && xi(o.onClick, [n, l, this], this));
      let d = !dh(l, a);
      return (
        (d || i) && ((this._active = l), this._updateHoverStyles(l, a, i)),
        (this._lastEvent = u),
        d
      );
    }
    _getActiveElements(n, i, r, a) {
      if (n.type === 'mouseout') return [];
      if (!r) return i;
      let o = this.options.hover;
      return this.getElementsAtEventForMode(n, o.mode, o, a);
    }
  }
  return e;
})();
function OA() {
  return ci(Dg.instances, (e) => e._plugins.invalidate());
}
function x$(e, t, n) {
  let {
      startAngle: i,
      pixelMargin: r,
      x: a,
      y: o,
      outerRadius: s,
      innerRadius: l,
    } = t,
    c = r / s;
  e.beginPath(),
    e.arc(a, o, s, i - c, n + c),
    l > r
      ? ((c = r / l), e.arc(a, o, l, n + c, i - c, !0))
      : e.arc(a, o, r, n + Qi, i - Qi),
    e.closePath(),
    e.clip();
}
function w$(e) {
  return sg(e, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);
}
function k$(e, t, n, i) {
  let r = w$(e.options.borderRadius),
    a = (n - t) / 2,
    o = Math.min(a, (i * t) / 2),
    s = (l) => {
      let c = ((n - Math.min(a, l)) * i) / 2;
      return wr(l, 0, Math.min(a, c));
    };
  return {
    outerStart: s(r.outerStart),
    outerEnd: s(r.outerEnd),
    innerStart: wr(r.innerStart, 0, o),
    innerEnd: wr(r.innerEnd, 0, o),
  };
}
function zc(e, t, n, i) {
  return { x: n + e * Math.cos(t), y: i + e * Math.sin(t) };
}
function kg(e, t, n, i, r, a) {
  let { x: o, y: s, startAngle: l, pixelMargin: c, innerRadius: u } = t,
    d = Math.max(t.outerRadius + i + n - c, 0),
    h = u > 0 ? u + i + n + c : 0,
    p = 0,
    m = r - l;
  if (i) {
    let q = u > 0 ? u - i : 0,
      U = d > 0 ? d - i : 0,
      W = (q + U) / 2,
      Z = W !== 0 ? (m * W) / (W + i) : m;
    p = (m - Z) / 2;
  }
  let _ = Math.max(0.001, m * d - n / Oi) / d,
    v = (m - _) / 2,
    y = l + v + p,
    w = r - v - p,
    {
      outerStart: x,
      outerEnd: C,
      innerStart: S,
      innerEnd: g,
    } = k$(t, h, d, w - y),
    D = d - x,
    T = d - C,
    O = y + x / D,
    R = w - C / T,
    P = h + S,
    L = h + g,
    V = y + S / P,
    B = w - g / L;
  if ((e.beginPath(), a)) {
    let q = (O + R) / 2;
    if ((e.arc(o, s, d, O, q), e.arc(o, s, d, q, R), C > 0)) {
      let it = zc(T, R, o, s);
      e.arc(it.x, it.y, C, R, w + Qi);
    }
    let U = zc(L, w, o, s);
    if ((e.lineTo(U.x, U.y), g > 0)) {
      let it = zc(L, B, o, s);
      e.arc(it.x, it.y, g, w + Qi, B + Math.PI);
    }
    let W = (w - g / h + (y + S / h)) / 2;
    if (
      (e.arc(o, s, h, w - g / h, W, !0),
      e.arc(o, s, h, W, y + S / h, !0),
      S > 0)
    ) {
      let it = zc(P, V, o, s);
      e.arc(it.x, it.y, S, V + Math.PI, y - Qi);
    }
    let Z = zc(D, y, o, s);
    if ((e.lineTo(Z.x, Z.y), x > 0)) {
      let it = zc(D, O, o, s);
      e.arc(it.x, it.y, x, y - Qi, O);
    }
  } else {
    e.moveTo(o, s);
    let q = Math.cos(O) * d + o,
      U = Math.sin(O) * d + s;
    e.lineTo(q, U);
    let W = Math.cos(R) * d + o,
      Z = Math.sin(R) * d + s;
    e.lineTo(W, Z);
  }
  e.closePath();
}
function C$(e, t, n, i, r) {
  let { fullCircles: a, startAngle: o, circumference: s } = t,
    l = t.endAngle;
  if (a) {
    kg(e, t, n, i, l, r);
    for (let c = 0; c < a; ++c) e.fill();
    isNaN(s) || (l = o + (s % Pi || Pi));
  }
  return kg(e, t, n, i, l, r), e.fill(), l;
}
function E$(e, t, n, i, r) {
  let { fullCircles: a, startAngle: o, circumference: s, options: l } = t,
    {
      borderWidth: c,
      borderJoinStyle: u,
      borderDash: d,
      borderDashOffset: h,
    } = l,
    p = l.borderAlign === 'inner';
  if (!c) return;
  e.setLineDash(d || []),
    (e.lineDashOffset = h),
    p
      ? ((e.lineWidth = c * 2), (e.lineJoin = u || 'round'))
      : ((e.lineWidth = c), (e.lineJoin = u || 'bevel'));
  let m = t.endAngle;
  if (a) {
    kg(e, t, n, i, m, r);
    for (let _ = 0; _ < a; ++_) e.stroke();
    isNaN(s) || (m = o + (s % Pi || Pi));
  }
  p && x$(e, t, m), a || (kg(e, t, n, i, m, r), e.stroke());
}
var Cg = class extends es {
  static id = 'arc';
  static defaults = {
    borderAlign: 'center',
    borderColor: '#fff',
    borderDash: [],
    borderDashOffset: 0,
    borderJoinStyle: void 0,
    borderRadius: 0,
    borderWidth: 2,
    offset: 0,
    spacing: 0,
    angle: void 0,
    circular: !0,
  };
  static defaultRoutes = { backgroundColor: 'backgroundColor' };
  static descriptors = {
    _scriptable: !0,
    _indexable: (t) => t !== 'borderDash',
  };
  circumference;
  endAngle;
  fullCircles;
  innerRadius;
  outerRadius;
  pixelMargin;
  startAngle;
  constructor(t) {
    super(),
      (this.options = void 0),
      (this.circumference = void 0),
      (this.startAngle = void 0),
      (this.endAngle = void 0),
      (this.innerRadius = void 0),
      (this.outerRadius = void 0),
      (this.pixelMargin = 0),
      (this.fullCircles = 0),
      t && Object.assign(this, t);
  }
  inRange(t, n, i) {
    let r = this.getProps(['x', 'y'], i),
      { angle: a, distance: o } = d_(r, { x: t, y: n }),
      {
        startAngle: s,
        endAngle: l,
        innerRadius: c,
        outerRadius: u,
        circumference: d,
      } = this.getProps(
        [
          'startAngle',
          'endAngle',
          'innerRadius',
          'outerRadius',
          'circumference',
        ],
        i
      ),
      h = (this.options.spacing + this.options.borderWidth) / 2,
      p = ti(d, l - s),
      m = gh(a, s, l) && s !== l,
      _ = p >= Pi || m,
      v = Bc(o, c + h, u + h);
    return _ && v;
  }
  getCenterPoint(t) {
    let {
        x: n,
        y: i,
        startAngle: r,
        endAngle: a,
        innerRadius: o,
        outerRadius: s,
      } = this.getProps(
        ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius'],
        t
      ),
      { offset: l, spacing: c } = this.options,
      u = (r + a) / 2,
      d = (o + s + c + l) / 2;
    return { x: n + Math.cos(u) * d, y: i + Math.sin(u) * d };
  }
  tooltipPosition(t) {
    return this.getCenterPoint(t);
  }
  draw(t) {
    let { options: n, circumference: i } = this,
      r = (n.offset || 0) / 4,
      a = (n.spacing || 0) / 2,
      o = n.circular;
    if (
      ((this.pixelMargin = n.borderAlign === 'inner' ? 0.33 : 0),
      (this.fullCircles = i > Pi ? Math.floor(i / Pi) : 0),
      i === 0 || this.innerRadius < 0 || this.outerRadius < 0)
    )
      return;
    t.save();
    let s = (this.startAngle + this.endAngle) / 2;
    t.translate(Math.cos(s) * r, Math.sin(s) * r);
    let l = 1 - Math.sin(Math.min(Oi, i || 0)),
      c = r * l;
    (t.fillStyle = n.backgroundColor),
      (t.strokeStyle = n.borderColor),
      C$(t, this, c, a, o),
      E$(t, this, c, a, o),
      t.restore();
  }
};
var PA = (e, t) => {
    let { boxHeight: n = t, boxWidth: i = t } = e;
    return (
      e.usePointStyle &&
        ((n = Math.min(n, t)), (i = e.pointStyleWidth || Math.min(i, t))),
      { boxWidth: i, boxHeight: n, itemHeight: Math.max(t, n) }
    );
  },
  S$ = (e, t) =>
    e !== null &&
    t !== null &&
    e.datasetIndex === t.datasetIndex &&
    e.index === t.index,
  Eg = class extends es {
    constructor(t) {
      super(),
        (this._added = !1),
        (this.legendHitBoxes = []),
        (this._hoveredItem = null),
        (this.doughnutMode = !1),
        (this.chart = t.chart),
        (this.options = t.options),
        (this.ctx = t.ctx),
        (this.legendItems = void 0),
        (this.columnSizes = void 0),
        (this.lineWidths = void 0),
        (this.maxHeight = void 0),
        (this.maxWidth = void 0),
        (this.top = void 0),
        (this.bottom = void 0),
        (this.left = void 0),
        (this.right = void 0),
        (this.height = void 0),
        (this.width = void 0),
        (this._margins = void 0),
        (this.position = void 0),
        (this.weight = void 0),
        (this.fullSize = void 0);
    }
    update(t, n, i) {
      (this.maxWidth = t),
        (this.maxHeight = n),
        (this._margins = i),
        this.setDimensions(),
        this.buildLabels(),
        this.fit();
    }
    setDimensions() {
      this.isHorizontal()
        ? ((this.width = this.maxWidth),
          (this.left = this._margins.left),
          (this.right = this.width))
        : ((this.height = this.maxHeight),
          (this.top = this._margins.top),
          (this.bottom = this.height));
    }
    buildLabels() {
      let t = this.options.labels || {},
        n = xi(t.generateLabels, [this.chart], this) || [];
      t.filter && (n = n.filter((i) => t.filter(i, this.chart.data))),
        t.sort && (n = n.sort((i, r) => t.sort(i, r, this.chart.data))),
        this.options.reverse && n.reverse(),
        (this.legendItems = n);
    }
    fit() {
      let { options: t, ctx: n } = this;
      if (!t.display) {
        this.width = this.height = 0;
        return;
      }
      let i = t.labels,
        r = nn(i.font),
        a = r.size,
        o = this._computeTitleHeight(),
        { boxWidth: s, itemHeight: l } = PA(i, a),
        c,
        u;
      (n.font = r.string),
        this.isHorizontal()
          ? ((c = this.maxWidth), (u = this._fitRows(o, a, s, l) + 10))
          : ((u = this.maxHeight), (c = this._fitCols(o, r, s, l) + 10)),
        (this.width = Math.min(c, t.maxWidth || this.maxWidth)),
        (this.height = Math.min(u, t.maxHeight || this.maxHeight));
    }
    _fitRows(t, n, i, r) {
      let {
          ctx: a,
          maxWidth: o,
          options: {
            labels: { padding: s },
          },
        } = this,
        l = (this.legendHitBoxes = []),
        c = (this.lineWidths = [0]),
        u = r + s,
        d = t;
      (a.textAlign = 'left'), (a.textBaseline = 'middle');
      let h = -1,
        p = -u;
      return (
        this.legendItems.forEach((m, _) => {
          let v = i + n / 2 + a.measureText(m.text).width;
          (_ === 0 || c[c.length - 1] + v + 2 * s > o) &&
            ((d += u), (c[c.length - (_ > 0 ? 0 : 1)] = 0), (p += u), h++),
            (l[_] = { left: 0, top: p, row: h, width: v, height: r }),
            (c[c.length - 1] += v + s);
        }),
        d
      );
    }
    _fitCols(t, n, i, r) {
      let {
          ctx: a,
          maxHeight: o,
          options: {
            labels: { padding: s },
          },
        } = this,
        l = (this.legendHitBoxes = []),
        c = (this.columnSizes = []),
        u = o - t,
        d = s,
        h = 0,
        p = 0,
        m = 0,
        _ = 0;
      return (
        this.legendItems.forEach((v, y) => {
          let { itemWidth: w, itemHeight: x } = D$(i, n, a, v, r);
          y > 0 &&
            p + x + 2 * s > u &&
            ((d += h + s),
            c.push({ width: h, height: p }),
            (m += h + s),
            _++,
            (h = p = 0)),
            (l[y] = { left: m, top: p, col: _, width: w, height: x }),
            (h = Math.max(h, w)),
            (p += x + s);
        }),
        (d += h),
        c.push({ width: h, height: p }),
        d
      );
    }
    adjustHitBoxes() {
      if (!this.options.display) return;
      let t = this._computeTitleHeight(),
        {
          legendHitBoxes: n,
          options: {
            align: i,
            labels: { padding: r },
            rtl: a,
          },
        } = this,
        o = dl(a, this.left, this.width);
      if (this.isHorizontal()) {
        let s = 0,
          l = Rn(i, this.left + r, this.right - this.lineWidths[s]);
        for (let c of n)
          s !== c.row &&
            ((s = c.row),
            (l = Rn(i, this.left + r, this.right - this.lineWidths[s]))),
            (c.top += this.top + t + r),
            (c.left = o.leftForLtr(o.x(l), c.width)),
            (l += c.width + r);
      } else {
        let s = 0,
          l = Rn(i, this.top + t + r, this.bottom - this.columnSizes[s].height);
        for (let c of n)
          c.col !== s &&
            ((s = c.col),
            (l = Rn(
              i,
              this.top + t + r,
              this.bottom - this.columnSizes[s].height
            ))),
            (c.top = l),
            (c.left += this.left + r),
            (c.left = o.leftForLtr(o.x(c.left), c.width)),
            (l += c.height + r);
      }
    }
    isHorizontal() {
      return (
        this.options.position === 'top' || this.options.position === 'bottom'
      );
    }
    draw() {
      if (this.options.display) {
        let t = this.ctx;
        ag(t, this), this._draw(), og(t);
      }
    }
    _draw() {
      let { options: t, columnSizes: n, lineWidths: i, ctx: r } = this,
        { align: a, labels: o } = t,
        s = Ui.color,
        l = dl(t.rtl, this.left, this.width),
        c = nn(o.font),
        { padding: u } = o,
        d = c.size,
        h = d / 2,
        p;
      this.drawTitle(),
        (r.textAlign = l.textAlign('left')),
        (r.textBaseline = 'middle'),
        (r.lineWidth = 0.5),
        (r.font = c.string);
      let { boxWidth: m, boxHeight: _, itemHeight: v } = PA(o, d),
        y = function (g, D, T) {
          if (isNaN(m) || m <= 0 || isNaN(_) || _ < 0) return;
          r.save();
          let O = ti(T.lineWidth, 1);
          if (
            ((r.fillStyle = ti(T.fillStyle, s)),
            (r.lineCap = ti(T.lineCap, 'butt')),
            (r.lineDashOffset = ti(T.lineDashOffset, 0)),
            (r.lineJoin = ti(T.lineJoin, 'miter')),
            (r.lineWidth = O),
            (r.strokeStyle = ti(T.strokeStyle, s)),
            r.setLineDash(ti(T.lineDash, [])),
            o.usePointStyle)
          ) {
            let R = {
                radius: (_ * Math.SQRT2) / 2,
                pointStyle: T.pointStyle,
                rotation: T.rotation,
                borderWidth: O,
              },
              P = l.xPlus(g, m / 2),
              L = D + h;
            b_(r, R, P, L, o.pointStyleWidth && m);
          } else {
            let R = D + Math.max((d - _) / 2, 0),
              P = l.leftForLtr(g, m),
              L = ul(T.borderRadius);
            r.beginPath(),
              Object.values(L).some((V) => V !== 0)
                ? yh(r, { x: P, y: R, w: m, h: _, radius: L })
                : r.rect(P, R, m, _),
              r.fill(),
              O !== 0 && r.stroke();
          }
          r.restore();
        },
        w = function (g, D, T) {
          Qo(r, T.text, g, D + v / 2, c, {
            strikethrough: T.hidden,
            textAlign: l.textAlign(T.textAlign),
          });
        },
        x = this.isHorizontal(),
        C = this._computeTitleHeight();
      x
        ? (p = {
            x: Rn(a, this.left + u, this.right - i[0]),
            y: this.top + u + C,
            line: 0,
          })
        : (p = {
            x: this.left + u,
            y: Rn(a, this.top + C + u, this.bottom - n[0].height),
            line: 0,
          }),
        C_(this.ctx, t.textDirection);
      let S = v + u;
      this.legendItems.forEach((g, D) => {
        (r.strokeStyle = g.fontColor), (r.fillStyle = g.fontColor);
        let T = r.measureText(g.text).width,
          O = l.textAlign(g.textAlign || (g.textAlign = o.textAlign)),
          R = m + h + T,
          P = p.x,
          L = p.y;
        l.setWidth(this.width),
          x
            ? D > 0 &&
              P + R + u > this.right &&
              ((L = p.y += S),
              p.line++,
              (P = p.x = Rn(a, this.left + u, this.right - i[p.line])))
            : D > 0 &&
              L + S > this.bottom &&
              ((P = p.x = P + n[p.line].width + u),
              p.line++,
              (L = p.y =
                Rn(a, this.top + C + u, this.bottom - n[p.line].height)));
        let V = l.x(P);
        if (
          (y(V, L, g),
          (P = ZM(O, P + m + h, x ? P + R : this.right, t.rtl)),
          w(l.x(P), L, g),
          x)
        )
          p.x += R + u;
        else if (typeof g.text != 'string') {
          let B = c.lineHeight;
          p.y += hI(g, B) + u;
        } else p.y += S;
      }),
        E_(this.ctx, t.textDirection);
    }
    drawTitle() {
      let t = this.options,
        n = t.title,
        i = nn(n.font),
        r = On(n.padding);
      if (!n.display) return;
      let a = dl(t.rtl, this.left, this.width),
        o = this.ctx,
        s = n.position,
        l = i.size / 2,
        c = r.top + l,
        u,
        d = this.left,
        h = this.width;
      if (this.isHorizontal())
        (h = Math.max(...this.lineWidths)),
          (u = this.top + c),
          (d = Rn(t.align, d, this.right - h));
      else {
        let m = this.columnSizes.reduce((_, v) => Math.max(_, v.height), 0);
        u =
          c +
          Rn(
            t.align,
            this.top,
            this.bottom - m - t.labels.padding - this._computeTitleHeight()
          );
      }
      let p = Rn(s, d, d + h);
      (o.textAlign = a.textAlign(ng(s))),
        (o.textBaseline = 'middle'),
        (o.strokeStyle = n.color),
        (o.fillStyle = n.color),
        (o.font = i.string),
        Qo(o, n.text, p, u, i);
    }
    _computeTitleHeight() {
      let t = this.options.title,
        n = nn(t.font),
        i = On(t.padding);
      return t.display ? n.lineHeight + i.height : 0;
    }
    _getLegendItemAt(t, n) {
      let i, r, a;
      if (Bc(t, this.left, this.right) && Bc(n, this.top, this.bottom)) {
        for (a = this.legendHitBoxes, i = 0; i < a.length; ++i)
          if (
            ((r = a[i]),
            Bc(t, r.left, r.left + r.width) && Bc(n, r.top, r.top + r.height))
          )
            return this.legendItems[i];
      }
      return null;
    }
    handleEvent(t) {
      let n = this.options;
      if (!A$(t.type, n)) return;
      let i = this._getLegendItemAt(t.x, t.y);
      if (t.type === 'mousemove' || t.type === 'mouseout') {
        let r = this._hoveredItem,
          a = S$(r, i);
        r && !a && xi(n.onLeave, [t, r, this], this),
          (this._hoveredItem = i),
          i && !a && xi(n.onHover, [t, i, this], this);
      } else i && xi(n.onClick, [t, i, this], this);
    }
  };
function D$(e, t, n, i, r) {
  let a = T$(i, e, t, n),
    o = M$(r, i, t.lineHeight);
  return { itemWidth: a, itemHeight: o };
}
function T$(e, t, n, i) {
  let r = e.text;
  return (
    r &&
      typeof r != 'string' &&
      (r = r.reduce((a, o) => (a.length > o.length ? a : o))),
    t + n.size / 2 + i.measureText(r).width
  );
}
function M$(e, t, n) {
  let i = e;
  return typeof t.text != 'string' && (i = hI(t, n)), i;
}
function hI(e, t) {
  let n = e.text ? e.text.length : 0;
  return t * n;
}
function A$(e, t) {
  return !!(
    ((e === 'mousemove' || e === 'mouseout') && (t.onHover || t.onLeave)) ||
    (t.onClick && (e === 'click' || e === 'mouseup'))
  );
}
var fI = {
    id: 'legend',
    _element: Eg,
    start(e, t, n) {
      let i = (e.legend = new Eg({ ctx: e.ctx, options: n, chart: e }));
      Vr.configure(e, i, n), Vr.addBox(e, i);
    },
    stop(e) {
      Vr.removeBox(e, e.legend), delete e.legend;
    },
    beforeUpdate(e, t, n) {
      let i = e.legend;
      Vr.configure(e, i, n), (i.options = n);
    },
    afterUpdate(e) {
      let t = e.legend;
      t.buildLabels(), t.adjustHitBoxes();
    },
    afterEvent(e, t) {
      t.replay || e.legend.handleEvent(t.event);
    },
    defaults: {
      display: !0,
      position: 'top',
      align: 'center',
      fullSize: !0,
      reverse: !1,
      weight: 1e3,
      onClick(e, t, n) {
        let i = t.datasetIndex,
          r = n.chart;
        r.isDatasetVisible(i)
          ? (r.hide(i), (t.hidden = !0))
          : (r.show(i), (t.hidden = !1));
      },
      onHover: null,
      onLeave: null,
      labels: {
        color: (e) => e.chart.options.color,
        boxWidth: 40,
        padding: 10,
        generateLabels(e) {
          let t = e.data.datasets,
            {
              labels: {
                usePointStyle: n,
                pointStyle: i,
                textAlign: r,
                color: a,
                useBorderRadius: o,
                borderRadius: s,
              },
            } = e.legend.options;
          return e._getSortedDatasetMetas().map((l) => {
            let c = l.controller.getStyle(n ? 0 : void 0),
              u = On(c.borderWidth);
            return {
              text: t[l.index].label,
              fillStyle: c.backgroundColor,
              fontColor: a,
              hidden: !l.visible,
              lineCap: c.borderCapStyle,
              lineDash: c.borderDash,
              lineDashOffset: c.borderDashOffset,
              lineJoin: c.borderJoinStyle,
              lineWidth: (u.width + u.height) / 4,
              strokeStyle: c.borderColor,
              pointStyle: i || c.pointStyle,
              rotation: c.rotation,
              textAlign: r || c.textAlign,
              borderRadius: o && (s || c.borderRadius),
              datasetIndex: l.index,
            };
          }, this);
        },
      },
      title: {
        color: (e) => e.chart.options.color,
        display: !1,
        position: 'center',
        text: '',
      },
    },
    descriptors: {
      _scriptable: (e) => !e.startsWith('on'),
      labels: {
        _scriptable: (e) => !['generateLabels', 'filter', 'sort'].includes(e),
      },
    },
  },
  Sg = class extends es {
    constructor(t) {
      super(),
        (this.chart = t.chart),
        (this.options = t.options),
        (this.ctx = t.ctx),
        (this._padding = void 0),
        (this.top = void 0),
        (this.bottom = void 0),
        (this.left = void 0),
        (this.right = void 0),
        (this.width = void 0),
        (this.height = void 0),
        (this.position = void 0),
        (this.weight = void 0),
        (this.fullSize = void 0);
    }
    update(t, n) {
      let i = this.options;
      if (((this.left = 0), (this.top = 0), !i.display)) {
        this.width = this.height = this.right = this.bottom = 0;
        return;
      }
      (this.width = this.right = t), (this.height = this.bottom = n);
      let r = Ri(i.text) ? i.text.length : 1;
      this._padding = On(i.padding);
      let a = r * nn(i.font).lineHeight + this._padding.height;
      this.isHorizontal() ? (this.height = a) : (this.width = a);
    }
    isHorizontal() {
      let t = this.options.position;
      return t === 'top' || t === 'bottom';
    }
    _drawArgs(t) {
      let { top: n, left: i, bottom: r, right: a, options: o } = this,
        s = o.align,
        l = 0,
        c,
        u,
        d;
      return (
        this.isHorizontal()
          ? ((u = Rn(s, i, a)), (d = n + t), (c = a - i))
          : (o.position === 'left'
              ? ((u = i + t), (d = Rn(s, r, n)), (l = Oi * -0.5))
              : ((u = a - t), (d = Rn(s, n, r)), (l = Oi * 0.5)),
            (c = r - n)),
        { titleX: u, titleY: d, maxWidth: c, rotation: l }
      );
    }
    draw() {
      let t = this.ctx,
        n = this.options;
      if (!n.display) return;
      let i = nn(n.font),
        a = i.lineHeight / 2 + this._padding.top,
        { titleX: o, titleY: s, maxWidth: l, rotation: c } = this._drawArgs(a);
      Qo(t, n.text, 0, 0, i, {
        color: n.color,
        maxWidth: l,
        rotation: c,
        textAlign: ng(n.align),
        textBaseline: 'middle',
        translation: [o, s],
      });
    }
  };
function I$(e, t) {
  let n = new Sg({ ctx: e.ctx, options: t, chart: e });
  Vr.configure(e, n, t), Vr.addBox(e, n), (e.titleBlock = n);
}
var pI = {
  id: 'title',
  _element: Sg,
  start(e, t, n) {
    I$(e, n);
  },
  stop(e) {
    let t = e.titleBlock;
    Vr.removeBox(e, t), delete e.titleBlock;
  },
  beforeUpdate(e, t, n) {
    let i = e.titleBlock;
    Vr.configure(e, i, n), (i.options = n);
  },
  defaults: {
    align: 'center',
    display: !1,
    font: { weight: 'bold' },
    fullSize: !0,
    padding: 10,
    position: 'top',
    text: '',
    weight: 2e3,
  },
  defaultRoutes: { color: 'color' },
  descriptors: { _scriptable: !0, _indexable: !1 },
};
var Dh = {
  average(e) {
    if (!e.length) return !1;
    let t,
      n,
      i = new Set(),
      r = 0,
      a = 0;
    for (t = 0, n = e.length; t < n; ++t) {
      let s = e[t].element;
      if (s && s.hasValue()) {
        let l = s.tooltipPosition();
        i.add(l.x), (r += l.y), ++a;
      }
    }
    return a === 0 || i.size === 0
      ? !1
      : { x: [...i].reduce((s, l) => s + l) / i.size, y: r / a };
  },
  nearest(e, t) {
    if (!e.length) return !1;
    let n = t.x,
      i = t.y,
      r = Number.POSITIVE_INFINITY,
      a,
      o,
      s;
    for (a = 0, o = e.length; a < o; ++a) {
      let l = e[a].element;
      if (l && l.hasValue()) {
        let c = l.getCenterPoint(),
          u = UM(t, c);
        u < r && ((r = u), (s = l));
      }
    }
    if (s) {
      let l = s.tooltipPosition();
      (n = l.x), (i = l.y);
    }
    return { x: n, y: i };
  },
};
function Ia(e, t) {
  return t && (Ri(t) ? Array.prototype.push.apply(e, t) : e.push(t)), e;
}
function lo(e) {
  return (typeof e == 'string' || e instanceof String) &&
    e.indexOf(`
`) > -1
    ? e.split(`
`)
    : e;
}
function R$(e, t) {
  let { element: n, datasetIndex: i, index: r } = t,
    a = e.getDatasetMeta(i).controller,
    { label: o, value: s } = a.getLabelAndValue(r);
  return {
    chart: e,
    label: o,
    parsed: a.getParsed(r),
    raw: e.data.datasets[i].data[r],
    formattedValue: s,
    dataset: a.getDataset(),
    dataIndex: r,
    datasetIndex: i,
    element: n,
  };
}
function LA(e, t) {
  let n = e.chart.ctx,
    { body: i, footer: r, title: a } = e,
    { boxWidth: o, boxHeight: s } = t,
    l = nn(t.bodyFont),
    c = nn(t.titleFont),
    u = nn(t.footerFont),
    d = a.length,
    h = r.length,
    p = i.length,
    m = On(t.padding),
    _ = m.height,
    v = 0,
    y = i.reduce(
      (C, S) => C + S.before.length + S.lines.length + S.after.length,
      0
    );
  if (
    ((y += e.beforeBody.length + e.afterBody.length),
    d &&
      (_ += d * c.lineHeight + (d - 1) * t.titleSpacing + t.titleMarginBottom),
    y)
  ) {
    let C = t.displayColors ? Math.max(s, l.lineHeight) : l.lineHeight;
    _ += p * C + (y - p) * l.lineHeight + (y - 1) * t.bodySpacing;
  }
  h && (_ += t.footerMarginTop + h * u.lineHeight + (h - 1) * t.footerSpacing);
  let w = 0,
    x = function (C) {
      v = Math.max(v, n.measureText(C).width + w);
    };
  return (
    n.save(),
    (n.font = c.string),
    ci(e.title, x),
    (n.font = l.string),
    ci(e.beforeBody.concat(e.afterBody), x),
    (w = t.displayColors ? o + 2 + t.boxPadding : 0),
    ci(i, (C) => {
      ci(C.before, x), ci(C.lines, x), ci(C.after, x);
    }),
    (w = 0),
    (n.font = u.string),
    ci(e.footer, x),
    n.restore(),
    (v += m.width),
    { width: v, height: _ }
  );
}
function O$(e, t) {
  let { y: n, height: i } = t;
  return n < i / 2 ? 'top' : n > e.height - i / 2 ? 'bottom' : 'center';
}
function P$(e, t, n, i) {
  let { x: r, width: a } = i,
    o = n.caretSize + n.caretPadding;
  if ((e === 'left' && r + a + o > t.width) || (e === 'right' && r - a - o < 0))
    return !0;
}
function L$(e, t, n, i) {
  let { x: r, width: a } = n,
    {
      width: o,
      chartArea: { left: s, right: l },
    } = e,
    c = 'center';
  return (
    i === 'center'
      ? (c = r <= (s + l) / 2 ? 'left' : 'right')
      : r <= a / 2
        ? (c = 'left')
        : r >= o - a / 2 && (c = 'right'),
    P$(c, e, t, n) && (c = 'center'),
    c
  );
}
function NA(e, t, n) {
  let i = n.yAlign || t.yAlign || O$(e, n);
  return { xAlign: n.xAlign || t.xAlign || L$(e, t, n, i), yAlign: i };
}
function N$(e, t) {
  let { x: n, width: i } = e;
  return t === 'right' ? (n -= i) : t === 'center' && (n -= i / 2), n;
}
function F$(e, t, n) {
  let { y: i, height: r } = e;
  return (
    t === 'top' ? (i += n) : t === 'bottom' ? (i -= r + n) : (i -= r / 2), i
  );
}
function FA(e, t, n, i) {
  let { caretSize: r, caretPadding: a, cornerRadius: o } = e,
    { xAlign: s, yAlign: l } = n,
    c = r + a,
    { topLeft: u, topRight: d, bottomLeft: h, bottomRight: p } = ul(o),
    m = N$(t, s),
    _ = F$(t, l, c);
  return (
    l === 'center'
      ? s === 'left'
        ? (m += c)
        : s === 'right' && (m -= c)
      : s === 'left'
        ? (m -= Math.max(u, h) + r)
        : s === 'right' && (m += Math.max(d, p) + r),
    { x: wr(m, 0, i.width - t.width), y: wr(_, 0, i.height - t.height) }
  );
}
function gg(e, t, n) {
  let i = On(n.padding);
  return t === 'center'
    ? e.x + e.width / 2
    : t === 'right'
      ? e.x + e.width - i.right
      : e.x + i.left;
}
function BA(e) {
  return Ia([], lo(e));
}
function B$(e, t, n) {
  return Jo(e, { tooltip: t, tooltipItems: n, type: 'tooltip' });
}
function zA(e, t) {
  let n = t && t.dataset && t.dataset.tooltip && t.dataset.tooltip.callbacks;
  return n ? e.override(n) : e;
}
var mI = {
  beforeTitle: Aa,
  title(e) {
    if (e.length > 0) {
      let t = e[0],
        n = t.chart.data.labels,
        i = n ? n.length : 0;
      if (this && this.options && this.options.mode === 'dataset')
        return t.dataset.label || '';
      if (t.label) return t.label;
      if (i > 0 && t.dataIndex < i) return n[t.dataIndex];
    }
    return '';
  },
  afterTitle: Aa,
  beforeBody: Aa,
  beforeLabel: Aa,
  label(e) {
    if (this && this.options && this.options.mode === 'dataset')
      return e.label + ': ' + e.formattedValue || e.formattedValue;
    let t = e.dataset.label || '';
    t && (t += ': ');
    let n = e.formattedValue;
    return Li(n) || (t += n), t;
  },
  labelColor(e) {
    let n = e.chart
      .getDatasetMeta(e.datasetIndex)
      .controller.getStyle(e.dataIndex);
    return {
      borderColor: n.borderColor,
      backgroundColor: n.backgroundColor,
      borderWidth: n.borderWidth,
      borderDash: n.borderDash,
      borderDashOffset: n.borderDashOffset,
      borderRadius: 0,
    };
  },
  labelTextColor() {
    return this.options.bodyColor;
  },
  labelPointStyle(e) {
    let n = e.chart
      .getDatasetMeta(e.datasetIndex)
      .controller.getStyle(e.dataIndex);
    return { pointStyle: n.pointStyle, rotation: n.rotation };
  },
  afterLabel: Aa,
  afterBody: Aa,
  beforeFooter: Aa,
  footer: Aa,
  afterFooter: Aa,
};
function lr(e, t, n, i) {
  let r = e[t].call(n, i);
  return typeof r > 'u' ? mI[t].call(n, i) : r;
}
var VA = (() => {
    class e extends es {
      static positioners = Dh;
      constructor(n) {
        super(),
          (this.opacity = 0),
          (this._active = []),
          (this._eventPosition = void 0),
          (this._size = void 0),
          (this._cachedAnimations = void 0),
          (this._tooltipItems = []),
          (this.$animations = void 0),
          (this.$context = void 0),
          (this.chart = n.chart),
          (this.options = n.options),
          (this.dataPoints = void 0),
          (this.title = void 0),
          (this.beforeBody = void 0),
          (this.body = void 0),
          (this.afterBody = void 0),
          (this.footer = void 0),
          (this.xAlign = void 0),
          (this.yAlign = void 0),
          (this.x = void 0),
          (this.y = void 0),
          (this.height = void 0),
          (this.width = void 0),
          (this.caretX = void 0),
          (this.caretY = void 0),
          (this.labelColors = void 0),
          (this.labelPointStyles = void 0),
          (this.labelTextColors = void 0);
      }
      initialize(n) {
        (this.options = n),
          (this._cachedAnimations = void 0),
          (this.$context = void 0);
      }
      _resolveAnimations() {
        let n = this._cachedAnimations;
        if (n) return n;
        let i = this.chart,
          r = this.options.setContext(this.getContext()),
          a = r.enabled && i.options.animation && r.animations,
          o = new _g(this.chart, a);
        return a._cacheable && (this._cachedAnimations = Object.freeze(o)), o;
      }
      getContext() {
        return (
          this.$context ||
          (this.$context = B$(
            this.chart.getContext(),
            this,
            this._tooltipItems
          ))
        );
      }
      getTitle(n, i) {
        let { callbacks: r } = i,
          a = lr(r, 'beforeTitle', this, n),
          o = lr(r, 'title', this, n),
          s = lr(r, 'afterTitle', this, n),
          l = [];
        return (l = Ia(l, lo(a))), (l = Ia(l, lo(o))), (l = Ia(l, lo(s))), l;
      }
      getBeforeBody(n, i) {
        return BA(lr(i.callbacks, 'beforeBody', this, n));
      }
      getBody(n, i) {
        let { callbacks: r } = i,
          a = [];
        return (
          ci(n, (o) => {
            let s = { before: [], lines: [], after: [] },
              l = zA(r, o);
            Ia(s.before, lo(lr(l, 'beforeLabel', this, o))),
              Ia(s.lines, lr(l, 'label', this, o)),
              Ia(s.after, lo(lr(l, 'afterLabel', this, o))),
              a.push(s);
          }),
          a
        );
      }
      getAfterBody(n, i) {
        return BA(lr(i.callbacks, 'afterBody', this, n));
      }
      getFooter(n, i) {
        let { callbacks: r } = i,
          a = lr(r, 'beforeFooter', this, n),
          o = lr(r, 'footer', this, n),
          s = lr(r, 'afterFooter', this, n),
          l = [];
        return (l = Ia(l, lo(a))), (l = Ia(l, lo(o))), (l = Ia(l, lo(s))), l;
      }
      _createItems(n) {
        let i = this._active,
          r = this.chart.data,
          a = [],
          o = [],
          s = [],
          l = [],
          c,
          u;
        for (c = 0, u = i.length; c < u; ++c) l.push(R$(this.chart, i[c]));
        return (
          n.filter && (l = l.filter((d, h, p) => n.filter(d, h, p, r))),
          n.itemSort && (l = l.sort((d, h) => n.itemSort(d, h, r))),
          ci(l, (d) => {
            let h = zA(n.callbacks, d);
            a.push(lr(h, 'labelColor', this, d)),
              o.push(lr(h, 'labelPointStyle', this, d)),
              s.push(lr(h, 'labelTextColor', this, d));
          }),
          (this.labelColors = a),
          (this.labelPointStyles = o),
          (this.labelTextColors = s),
          (this.dataPoints = l),
          l
        );
      }
      update(n, i) {
        let r = this.options.setContext(this.getContext()),
          a = this._active,
          o,
          s = [];
        if (!a.length) this.opacity !== 0 && (o = { opacity: 0 });
        else {
          let l = Dh[r.position].call(this, a, this._eventPosition);
          (s = this._createItems(r)),
            (this.title = this.getTitle(s, r)),
            (this.beforeBody = this.getBeforeBody(s, r)),
            (this.body = this.getBody(s, r)),
            (this.afterBody = this.getAfterBody(s, r)),
            (this.footer = this.getFooter(s, r));
          let c = (this._size = LA(this, r)),
            u = Object.assign({}, l, c),
            d = NA(this.chart, r, u),
            h = FA(r, u, d, this.chart);
          (this.xAlign = d.xAlign),
            (this.yAlign = d.yAlign),
            (o = {
              opacity: 1,
              x: h.x,
              y: h.y,
              width: c.width,
              height: c.height,
              caretX: l.x,
              caretY: l.y,
            });
        }
        (this._tooltipItems = s),
          (this.$context = void 0),
          o && this._resolveAnimations().update(this, o),
          n &&
            r.external &&
            r.external.call(this, {
              chart: this.chart,
              tooltip: this,
              replay: i,
            });
      }
      drawCaret(n, i, r, a) {
        let o = this.getCaretPosition(n, r, a);
        i.lineTo(o.x1, o.y1), i.lineTo(o.x2, o.y2), i.lineTo(o.x3, o.y3);
      }
      getCaretPosition(n, i, r) {
        let { xAlign: a, yAlign: o } = this,
          { caretSize: s, cornerRadius: l } = r,
          { topLeft: c, topRight: u, bottomLeft: d, bottomRight: h } = ul(l),
          { x: p, y: m } = n,
          { width: _, height: v } = i,
          y,
          w,
          x,
          C,
          S,
          g;
        return (
          o === 'center'
            ? ((S = m + v / 2),
              a === 'left'
                ? ((y = p), (w = y - s), (C = S + s), (g = S - s))
                : ((y = p + _), (w = y + s), (C = S - s), (g = S + s)),
              (x = y))
            : (a === 'left'
                ? (w = p + Math.max(c, d) + s)
                : a === 'right'
                  ? (w = p + _ - Math.max(u, h) - s)
                  : (w = this.caretX),
              o === 'top'
                ? ((C = m), (S = C - s), (y = w - s), (x = w + s))
                : ((C = m + v), (S = C + s), (y = w + s), (x = w - s)),
              (g = C)),
          { x1: y, x2: w, x3: x, y1: C, y2: S, y3: g }
        );
      }
      drawTitle(n, i, r) {
        let a = this.title,
          o = a.length,
          s,
          l,
          c;
        if (o) {
          let u = dl(r.rtl, this.x, this.width);
          for (
            n.x = gg(this, r.titleAlign, r),
              i.textAlign = u.textAlign(r.titleAlign),
              i.textBaseline = 'middle',
              s = nn(r.titleFont),
              l = r.titleSpacing,
              i.fillStyle = r.titleColor,
              i.font = s.string,
              c = 0;
            c < o;
            ++c
          )
            i.fillText(a[c], u.x(n.x), n.y + s.lineHeight / 2),
              (n.y += s.lineHeight + l),
              c + 1 === o && (n.y += r.titleMarginBottom - l);
        }
      }
      _drawColorBox(n, i, r, a, o) {
        let s = this.labelColors[r],
          l = this.labelPointStyles[r],
          { boxHeight: c, boxWidth: u } = o,
          d = nn(o.bodyFont),
          h = gg(this, 'left', o),
          p = a.x(h),
          m = c < d.lineHeight ? (d.lineHeight - c) / 2 : 0,
          _ = i.y + m;
        if (o.usePointStyle) {
          let v = {
              radius: Math.min(u, c) / 2,
              pointStyle: l.pointStyle,
              rotation: l.rotation,
              borderWidth: 1,
            },
            y = a.leftForLtr(p, u) + u / 2,
            w = _ + c / 2;
          (n.strokeStyle = o.multiKeyBackground),
            (n.fillStyle = o.multiKeyBackground),
            v_(n, v, y, w),
            (n.strokeStyle = s.borderColor),
            (n.fillStyle = s.backgroundColor),
            v_(n, v, y, w);
        } else {
          (n.lineWidth = Ye(s.borderWidth)
            ? Math.max(...Object.values(s.borderWidth))
            : s.borderWidth || 1),
            (n.strokeStyle = s.borderColor),
            n.setLineDash(s.borderDash || []),
            (n.lineDashOffset = s.borderDashOffset || 0);
          let v = a.leftForLtr(p, u),
            y = a.leftForLtr(a.xPlus(p, 1), u - 2),
            w = ul(s.borderRadius);
          Object.values(w).some((x) => x !== 0)
            ? (n.beginPath(),
              (n.fillStyle = o.multiKeyBackground),
              yh(n, { x: v, y: _, w: u, h: c, radius: w }),
              n.fill(),
              n.stroke(),
              (n.fillStyle = s.backgroundColor),
              n.beginPath(),
              yh(n, { x: y, y: _ + 1, w: u - 2, h: c - 2, radius: w }),
              n.fill())
            : ((n.fillStyle = o.multiKeyBackground),
              n.fillRect(v, _, u, c),
              n.strokeRect(v, _, u, c),
              (n.fillStyle = s.backgroundColor),
              n.fillRect(y, _ + 1, u - 2, c - 2));
        }
        n.fillStyle = this.labelTextColors[r];
      }
      drawBody(n, i, r) {
        let { body: a } = this,
          {
            bodySpacing: o,
            bodyAlign: s,
            displayColors: l,
            boxHeight: c,
            boxWidth: u,
            boxPadding: d,
          } = r,
          h = nn(r.bodyFont),
          p = h.lineHeight,
          m = 0,
          _ = dl(r.rtl, this.x, this.width),
          v = function (O) {
            i.fillText(O, _.x(n.x + m), n.y + p / 2), (n.y += p + o);
          },
          y = _.textAlign(s),
          w,
          x,
          C,
          S,
          g,
          D,
          T;
        for (
          i.textAlign = s,
            i.textBaseline = 'middle',
            i.font = h.string,
            n.x = gg(this, y, r),
            i.fillStyle = r.bodyColor,
            ci(this.beforeBody, v),
            m =
              l && y !== 'right' ? (s === 'center' ? u / 2 + d : u + 2 + d) : 0,
            S = 0,
            D = a.length;
          S < D;
          ++S
        ) {
          for (
            w = a[S],
              x = this.labelTextColors[S],
              i.fillStyle = x,
              ci(w.before, v),
              C = w.lines,
              l &&
                C.length &&
                (this._drawColorBox(i, n, S, _, r),
                (p = Math.max(h.lineHeight, c))),
              g = 0,
              T = C.length;
            g < T;
            ++g
          )
            v(C[g]), (p = h.lineHeight);
          ci(w.after, v);
        }
        (m = 0), (p = h.lineHeight), ci(this.afterBody, v), (n.y -= o);
      }
      drawFooter(n, i, r) {
        let a = this.footer,
          o = a.length,
          s,
          l;
        if (o) {
          let c = dl(r.rtl, this.x, this.width);
          for (
            n.x = gg(this, r.footerAlign, r),
              n.y += r.footerMarginTop,
              i.textAlign = c.textAlign(r.footerAlign),
              i.textBaseline = 'middle',
              s = nn(r.footerFont),
              i.fillStyle = r.footerColor,
              i.font = s.string,
              l = 0;
            l < o;
            ++l
          )
            i.fillText(a[l], c.x(n.x), n.y + s.lineHeight / 2),
              (n.y += s.lineHeight + r.footerSpacing);
        }
      }
      drawBackground(n, i, r, a) {
        let { xAlign: o, yAlign: s } = this,
          { x: l, y: c } = n,
          { width: u, height: d } = r,
          {
            topLeft: h,
            topRight: p,
            bottomLeft: m,
            bottomRight: _,
          } = ul(a.cornerRadius);
        (i.fillStyle = a.backgroundColor),
          (i.strokeStyle = a.borderColor),
          (i.lineWidth = a.borderWidth),
          i.beginPath(),
          i.moveTo(l + h, c),
          s === 'top' && this.drawCaret(n, i, r, a),
          i.lineTo(l + u - p, c),
          i.quadraticCurveTo(l + u, c, l + u, c + p),
          s === 'center' && o === 'right' && this.drawCaret(n, i, r, a),
          i.lineTo(l + u, c + d - _),
          i.quadraticCurveTo(l + u, c + d, l + u - _, c + d),
          s === 'bottom' && this.drawCaret(n, i, r, a),
          i.lineTo(l + m, c + d),
          i.quadraticCurveTo(l, c + d, l, c + d - m),
          s === 'center' && o === 'left' && this.drawCaret(n, i, r, a),
          i.lineTo(l, c + h),
          i.quadraticCurveTo(l, c, l + h, c),
          i.closePath(),
          i.fill(),
          a.borderWidth > 0 && i.stroke();
      }
      _updateAnimationTarget(n) {
        let i = this.chart,
          r = this.$animations,
          a = r && r.x,
          o = r && r.y;
        if (a || o) {
          let s = Dh[n.position].call(this, this._active, this._eventPosition);
          if (!s) return;
          let l = (this._size = LA(this, n)),
            c = Object.assign({}, s, this._size),
            u = NA(i, n, c),
            d = FA(n, c, u, i);
          (a._to !== d.x || o._to !== d.y) &&
            ((this.xAlign = u.xAlign),
            (this.yAlign = u.yAlign),
            (this.width = l.width),
            (this.height = l.height),
            (this.caretX = s.x),
            (this.caretY = s.y),
            this._resolveAnimations().update(this, d));
        }
      }
      _willRender() {
        return !!this.opacity;
      }
      draw(n) {
        let i = this.options.setContext(this.getContext()),
          r = this.opacity;
        if (!r) return;
        this._updateAnimationTarget(i);
        let a = { width: this.width, height: this.height },
          o = { x: this.x, y: this.y };
        r = Math.abs(r) < 0.001 ? 0 : r;
        let s = On(i.padding),
          l =
            this.title.length ||
            this.beforeBody.length ||
            this.body.length ||
            this.afterBody.length ||
            this.footer.length;
        i.enabled &&
          l &&
          (n.save(),
          (n.globalAlpha = r),
          this.drawBackground(o, n, a, i),
          C_(n, i.textDirection),
          (o.y += s.top),
          this.drawTitle(o, n, i),
          this.drawBody(o, n, i),
          this.drawFooter(o, n, i),
          E_(n, i.textDirection),
          n.restore());
      }
      getActiveElements() {
        return this._active || [];
      }
      setActiveElements(n, i) {
        let r = this._active,
          a = n.map(({ datasetIndex: l, index: c }) => {
            let u = this.chart.getDatasetMeta(l);
            if (!u) throw new Error('Cannot find a dataset at index ' + l);
            return { datasetIndex: l, element: u.data[c], index: c };
          }),
          o = !dh(r, a),
          s = this._positionChanged(a, i);
        (o || s) &&
          ((this._active = a),
          (this._eventPosition = i),
          (this._ignoreReplayEvents = !0),
          this.update(!0));
      }
      handleEvent(n, i, r = !0) {
        if (i && this._ignoreReplayEvents) return !1;
        this._ignoreReplayEvents = !1;
        let a = this.options,
          o = this._active || [],
          s = this._getActiveElements(n, o, i, r),
          l = this._positionChanged(s, n),
          c = i || !dh(s, o) || l;
        return (
          c &&
            ((this._active = s),
            (a.enabled || a.external) &&
              ((this._eventPosition = { x: n.x, y: n.y }), this.update(!0, i))),
          c
        );
      }
      _getActiveElements(n, i, r, a) {
        let o = this.options;
        if (n.type === 'mouseout') return [];
        if (!a)
          return i.filter(
            (l) =>
              this.chart.data.datasets[l.datasetIndex] &&
              this.chart
                .getDatasetMeta(l.datasetIndex)
                .controller.getParsed(l.index) !== void 0
          );
        let s = this.chart.getElementsAtEventForMode(n, o.mode, o, r);
        return o.reverse && s.reverse(), s;
      }
      _positionChanged(n, i) {
        let { caretX: r, caretY: a, options: o } = this,
          s = Dh[o.position].call(this, n, i);
        return s !== !1 && (r !== s.x || a !== s.y);
      }
    }
    return e;
  })(),
  gI = {
    id: 'tooltip',
    _element: VA,
    positioners: Dh,
    afterInit(e, t, n) {
      n && (e.tooltip = new VA({ chart: e, options: n }));
    },
    beforeUpdate(e, t, n) {
      e.tooltip && e.tooltip.initialize(n);
    },
    reset(e, t, n) {
      e.tooltip && e.tooltip.initialize(n);
    },
    afterDraw(e) {
      let t = e.tooltip;
      if (t && t._willRender()) {
        let n = { tooltip: t };
        if (
          e.notifyPlugins(
            'beforeTooltipDraw',
            ni(Bt({}, n), { cancelable: !0 })
          ) === !1
        )
          return;
        t.draw(e.ctx), e.notifyPlugins('afterTooltipDraw', n);
      }
    },
    afterEvent(e, t) {
      if (e.tooltip) {
        let n = t.replay;
        e.tooltip.handleEvent(t.event, n, t.inChartArea) && (t.changed = !0);
      }
    },
    defaults: {
      enabled: !0,
      external: null,
      position: 'average',
      backgroundColor: 'rgba(0,0,0,0.8)',
      titleColor: '#fff',
      titleFont: { weight: 'bold' },
      titleSpacing: 2,
      titleMarginBottom: 6,
      titleAlign: 'left',
      bodyColor: '#fff',
      bodySpacing: 2,
      bodyFont: {},
      bodyAlign: 'left',
      footerColor: '#fff',
      footerSpacing: 2,
      footerMarginTop: 6,
      footerFont: { weight: 'bold' },
      footerAlign: 'left',
      padding: 6,
      caretPadding: 2,
      caretSize: 5,
      cornerRadius: 6,
      boxHeight: (e, t) => t.bodyFont.size,
      boxWidth: (e, t) => t.bodyFont.size,
      multiKeyBackground: '#fff',
      displayColors: !0,
      boxPadding: 0,
      borderColor: 'rgba(0,0,0,0)',
      borderWidth: 0,
      animation: { duration: 400, easing: 'easeOutQuart' },
      animations: {
        numbers: {
          type: 'number',
          properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],
        },
        opacity: { easing: 'linear', duration: 200 },
      },
      callbacks: mI,
    },
    defaultRoutes: { bodyFont: 'font', footerFont: 'font', titleFont: 'font' },
    descriptors: {
      _scriptable: (e) =>
        e !== 'filter' && e !== 'itemSort' && e !== 'external',
      _indexable: !1,
      callbacks: { _scriptable: !1, _indexable: !1 },
      animation: { _fallback: !1 },
      animations: { _fallback: 'animation' },
    },
    additionalOptionScopes: ['interaction'],
  };
function z$(e, t) {
  let n = [],
    {
      bounds: r,
      step: a,
      min: o,
      max: s,
      precision: l,
      count: c,
      maxTicks: u,
      maxDigits: d,
      includeBounds: h,
    } = e,
    p = a || 1,
    m = u - 1,
    { min: _, max: v } = t,
    y = !Li(o),
    w = !Li(s),
    x = !Li(c),
    C = (v - _) / (d + 1),
    S = l_((v - _) / m / p) * p,
    g,
    D,
    T,
    O;
  if (S < 1e-14 && !y && !w) return [{ value: _ }, { value: v }];
  (O = Math.ceil(v / S) - Math.floor(_ / S)),
    O > m && (S = l_((O * S) / m / p) * p),
    Li(l) || ((g = Math.pow(10, l)), (S = Math.ceil(S * g) / g)),
    r === 'ticks'
      ? ((D = Math.floor(_ / S) * S), (T = Math.ceil(v / S) * S))
      : ((D = _), (T = v)),
    y && w && a && qM((s - o) / a, S / 1e3)
      ? ((O = Math.round(Math.min((s - o) / S, u))),
        (S = (s - o) / O),
        (D = o),
        (T = s))
      : x
        ? ((D = y ? o : D), (T = w ? s : T), (O = c - 1), (S = (T - D) / O))
        : ((O = (T - D) / S),
          ph(O, Math.round(O), S / 1e3)
            ? (O = Math.round(O))
            : (O = Math.ceil(O)));
  let R = Math.max(u_(S), u_(D));
  (g = Math.pow(10, Li(l) ? R : l)),
    (D = Math.round(D * g) / g),
    (T = Math.round(T * g) / g);
  let P = 0;
  for (
    y &&
    (h && D !== o
      ? (n.push({ value: o }),
        D < o && P++,
        ph(Math.round((D + P * S) * g) / g, o, jA(o, C, e)) && P++)
      : D < o && P++);
    P < O;
    ++P
  ) {
    let L = Math.round((D + P * S) * g) / g;
    if (w && L > s) break;
    n.push({ value: L });
  }
  return (
    w && h && T !== s
      ? n.length && ph(n[n.length - 1].value, s, jA(s, C, e))
        ? (n[n.length - 1].value = s)
        : n.push({ value: s })
      : (!w || T === s) && n.push({ value: T }),
    n
  );
}
function jA(e, t, { horizontal: n, minRotation: i }) {
  let r = la(i),
    a = (n ? Math.sin(r) : Math.cos(r)) || 0.001,
    o = 0.75 * t * ('' + e).length;
  return Math.min(t / a, o);
}
var qc = class extends jc {
    constructor(t) {
      super(t),
        (this.start = void 0),
        (this.end = void 0),
        (this._startValue = void 0),
        (this._endValue = void 0),
        (this._valueRange = 0);
    }
    parse(t, n) {
      return Li(t) ||
        ((typeof t == 'number' || t instanceof Number) && !isFinite(+t))
        ? null
        : +t;
    }
    handleTickRangeOptions() {
      let { beginAtZero: t } = this.options,
        { minDefined: n, maxDefined: i } = this.getUserBounds(),
        { min: r, max: a } = this,
        o = (l) => (r = n ? r : l),
        s = (l) => (a = i ? a : l);
      if (t) {
        let l = fh(r),
          c = fh(a);
        l < 0 && c < 0 ? s(0) : l > 0 && c > 0 && o(0);
      }
      if (r === a) {
        let l = a === 0 ? 1 : Math.abs(a * 0.05);
        s(a + l), t || o(r - l);
      }
      (this.min = r), (this.max = a);
    }
    getTickLimit() {
      let t = this.options.ticks,
        { maxTicksLimit: n, stepSize: i } = t,
        r;
      return (
        i
          ? ((r = Math.ceil(this.max / i) - Math.floor(this.min / i) + 1),
            r > 1e3 &&
              (console.warn(
                `scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`
              ),
              (r = 1e3)))
          : ((r = this.computeTickLimit()), (n = n || 11)),
        n && (r = Math.min(n, r)),
        r
      );
    }
    computeTickLimit() {
      return Number.POSITIVE_INFINITY;
    }
    buildTicks() {
      let t = this.options,
        n = t.ticks,
        i = this.getTickLimit();
      i = Math.max(2, i);
      let r = {
          maxTicks: i,
          bounds: t.bounds,
          min: t.min,
          max: t.max,
          precision: n.precision,
          step: n.stepSize,
          count: n.count,
          maxDigits: this._maxDigits(),
          horizontal: this.isHorizontal(),
          minRotation: n.minRotation || 0,
          includeBounds: n.includeBounds !== !1,
        },
        a = this._range || this,
        o = z$(r, a);
      return (
        t.bounds === 'ticks' && c_(o, this, 'value'),
        t.reverse
          ? (o.reverse(), (this.start = this.max), (this.end = this.min))
          : ((this.start = this.min), (this.end = this.max)),
        o
      );
    }
    configure() {
      let t = this.ticks,
        n = this.min,
        i = this.max;
      if ((super.configure(), this.options.offset && t.length)) {
        let r = (i - n) / Math.max(t.length - 1, 1) / 2;
        (n -= r), (i += r);
      }
      (this._startValue = n), (this._endValue = i), (this._valueRange = i - n);
    }
    getLabelForValue(t) {
      return vh(t, this.chart.options.locale, this.options.ticks.format);
    }
  },
  qA = class extends qc {
    static id = 'linear';
    static defaults = { ticks: { callback: bh.formatters.numeric } };
    determineDataLimits() {
      let { min: t, max: n } = this.getMinMax(!0);
      (this.min = mn(t) ? t : 0),
        (this.max = mn(n) ? n : 1),
        this.handleTickRangeOptions();
    }
    computeTickLimit() {
      let t = this.isHorizontal(),
        n = t ? this.width : this.height,
        i = la(this.options.ticks.minRotation),
        r = (t ? Math.sin(i) : Math.cos(i)) || 0.001,
        a = this._resolveTickFontOptions(0);
      return Math.ceil(n / Math.min(40, a.lineHeight / r));
    }
    getPixelForValue(t) {
      return t === null
        ? NaN
        : this.getPixelForDecimal((t - this._startValue) / this._valueRange);
    }
    getValueForPixel(t) {
      return this._startValue + this.getDecimalForPixel(t) * this._valueRange;
    }
  },
  Mh = (e) => Math.floor(oo(e)),
  fl = (e, t) => Math.pow(10, Mh(e) + t);
function UA(e) {
  return e / Math.pow(10, Mh(e)) === 1;
}
function HA(e, t, n) {
  let i = Math.pow(10, n),
    r = Math.floor(e / i);
  return Math.ceil(t / i) - r;
}
function V$(e, t) {
  let n = t - e,
    i = Mh(n);
  for (; HA(e, t, i) > 10; ) i++;
  for (; HA(e, t, i) < 10; ) i--;
  return Math.min(i, Mh(e));
}
function j$(e, { min: t, max: n }) {
  t = sr(e.min, t);
  let i = [],
    r = Mh(t),
    a = V$(t, n),
    o = a < 0 ? Math.pow(10, Math.abs(a)) : 1,
    s = Math.pow(10, a),
    l = r > a ? Math.pow(10, r) : 0,
    c = Math.round((t - l) * o) / o,
    u = Math.floor((t - l) / s / 10) * s * 10,
    d = Math.floor((c - u) / Math.pow(10, a)),
    h = sr(e.min, Math.round((l + u + d * Math.pow(10, a)) * o) / o);
  for (; h < n; )
    i.push({ value: h, major: UA(h), significand: d }),
      d >= 10 ? (d = d < 15 ? 15 : 20) : d++,
      d >= 20 && (a++, (d = 2), (o = a >= 0 ? 1 : o)),
      (h = Math.round((l + u + d * Math.pow(10, a)) * o) / o);
  let p = sr(e.max, h);
  return i.push({ value: p, major: UA(p), significand: d }), i;
}
var WA = class extends jc {
  static id = 'logarithmic';
  static defaults = {
    ticks: { callback: bh.formatters.logarithmic, major: { enabled: !0 } },
  };
  constructor(t) {
    super(t),
      (this.start = void 0),
      (this.end = void 0),
      (this._startValue = void 0),
      (this._valueRange = 0);
  }
  parse(t, n) {
    let i = qc.prototype.parse.apply(this, [t, n]);
    if (i === 0) {
      this._zero = !0;
      return;
    }
    return mn(i) && i > 0 ? i : null;
  }
  determineDataLimits() {
    let { min: t, max: n } = this.getMinMax(!0);
    (this.min = mn(t) ? Math.max(0, t) : null),
      (this.max = mn(n) ? Math.max(0, n) : null),
      this.options.beginAtZero && (this._zero = !0),
      this._zero &&
        this.min !== this._suggestedMin &&
        !mn(this._userMin) &&
        (this.min = t === fl(this.min, 0) ? fl(this.min, -1) : fl(this.min, 0)),
      this.handleTickRangeOptions();
  }
  handleTickRangeOptions() {
    let { minDefined: t, maxDefined: n } = this.getUserBounds(),
      i = this.min,
      r = this.max,
      a = (s) => (i = t ? i : s),
      o = (s) => (r = n ? r : s);
    i === r && (i <= 0 ? (a(1), o(10)) : (a(fl(i, -1)), o(fl(r, 1)))),
      i <= 0 && a(fl(r, -1)),
      r <= 0 && o(fl(i, 1)),
      (this.min = i),
      (this.max = r);
  }
  buildTicks() {
    let t = this.options,
      n = { min: this._userMin, max: this._userMax },
      i = j$(n, this);
    return (
      t.bounds === 'ticks' && c_(i, this, 'value'),
      t.reverse
        ? (i.reverse(), (this.start = this.max), (this.end = this.min))
        : ((this.start = this.min), (this.end = this.max)),
      i
    );
  }
  getLabelForValue(t) {
    return t === void 0
      ? '0'
      : vh(t, this.chart.options.locale, this.options.ticks.format);
  }
  configure() {
    let t = this.min;
    super.configure(),
      (this._startValue = oo(t)),
      (this._valueRange = oo(this.max) - oo(t));
  }
  getPixelForValue(t) {
    return (
      (t === void 0 || t === 0) && (t = this.min),
      t === null || isNaN(t)
        ? NaN
        : this.getPixelForDecimal(
            t === this.min ? 0 : (oo(t) - this._startValue) / this._valueRange
          )
    );
  }
  getValueForPixel(t) {
    let n = this.getDecimalForPixel(t);
    return Math.pow(10, this._startValue + n * this._valueRange);
  }
};
function j_(e) {
  let t = e.ticks;
  if (t.display && e.display) {
    let n = On(t.backdropPadding);
    return ti(t.font && t.font.size, Ui.font.size) + n.height;
  }
  return 0;
}
function q$(e, t, n) {
  return (
    (n = Ri(n) ? n : [n]), { w: tA(e, t.string, n), h: n.length * t.lineHeight }
  );
}
function $A(e, t, n, i, r) {
  return e === i || e === r
    ? { start: t - n / 2, end: t + n / 2 }
    : e < i || e > r
      ? { start: t - n, end: t }
      : { start: t, end: t + n };
}
function U$(e) {
  let t = {
      l: e.left + e._padding.left,
      r: e.right - e._padding.right,
      t: e.top + e._padding.top,
      b: e.bottom - e._padding.bottom,
    },
    n = Object.assign({}, t),
    i = [],
    r = [],
    a = e._pointLabels.length,
    o = e.options.pointLabels,
    s = o.centerPointLabels ? Oi / a : 0;
  for (let l = 0; l < a; l++) {
    let c = o.setContext(e.getPointLabelContext(l));
    r[l] = c.padding;
    let u = e.getPointPosition(l, e.drawingArea + r[l], s),
      d = nn(c.font),
      h = q$(e.ctx, d, e._pointLabels[l]);
    i[l] = h;
    let p = sa(e.getIndexAngle(l) + s),
      m = Math.round(tg(p)),
      _ = $A(m, u.x, h.w, 0, 180),
      v = $A(m, u.y, h.h, 90, 270);
    H$(n, t, p, _, v);
  }
  e.setCenterPoint(t.l - n.l, n.r - t.r, t.t - n.t, n.b - t.b),
    (e._pointLabelItems = G$(e, i, r));
}
function H$(e, t, n, i, r) {
  let a = Math.abs(Math.sin(n)),
    o = Math.abs(Math.cos(n)),
    s = 0,
    l = 0;
  i.start < t.l
    ? ((s = (t.l - i.start) / a), (e.l = Math.min(e.l, t.l - s)))
    : i.end > t.r && ((s = (i.end - t.r) / a), (e.r = Math.max(e.r, t.r + s))),
    r.start < t.t
      ? ((l = (t.t - r.start) / o), (e.t = Math.min(e.t, t.t - l)))
      : r.end > t.b &&
        ((l = (r.end - t.b) / o), (e.b = Math.max(e.b, t.b + l)));
}
function W$(e, t, n) {
  let i = e.drawingArea,
    { extra: r, additionalAngle: a, padding: o, size: s } = n,
    l = e.getPointPosition(t, i + r + o, a),
    c = Math.round(tg(sa(l.angle + Qi))),
    u = X$(l.y, s.h, c),
    d = Y$(c),
    h = K$(l.x, s.w, d);
  return {
    visible: !0,
    x: l.x,
    y: u,
    textAlign: d,
    left: h,
    top: u,
    right: h + s.w,
    bottom: u + s.h,
  };
}
function $$(e, t) {
  if (!t) return !0;
  let { left: n, top: i, right: r, bottom: a } = e;
  return !(
    cl({ x: n, y: i }, t) ||
    cl({ x: n, y: a }, t) ||
    cl({ x: r, y: i }, t) ||
    cl({ x: r, y: a }, t)
  );
}
function G$(e, t, n) {
  let i = [],
    r = e._pointLabels.length,
    a = e.options,
    { centerPointLabels: o, display: s } = a.pointLabels,
    l = { extra: j_(a) / 2, additionalAngle: o ? Oi / r : 0 },
    c;
  for (let u = 0; u < r; u++) {
    (l.padding = n[u]), (l.size = t[u]);
    let d = W$(e, u, l);
    i.push(d), s === 'auto' && ((d.visible = $$(d, c)), d.visible && (c = d));
  }
  return i;
}
function Y$(e) {
  return e === 0 || e === 180 ? 'center' : e < 180 ? 'left' : 'right';
}
function K$(e, t, n) {
  return n === 'right' ? (e -= t) : n === 'center' && (e -= t / 2), e;
}
function X$(e, t, n) {
  return (
    n === 90 || n === 270 ? (e -= t / 2) : (n > 270 || n < 90) && (e -= t), e
  );
}
function Z$(e, t, n) {
  let { left: i, top: r, right: a, bottom: o } = n,
    { backdropColor: s } = t;
  if (!Li(s)) {
    let l = ul(t.borderRadius),
      c = On(t.backdropPadding);
    e.fillStyle = s;
    let u = i - c.left,
      d = r - c.top,
      h = a - i + c.width,
      p = o - r + c.height;
    Object.values(l).some((m) => m !== 0)
      ? (e.beginPath(), yh(e, { x: u, y: d, w: h, h: p, radius: l }), e.fill())
      : e.fillRect(u, d, h, p);
  }
}
function Q$(e, t) {
  let {
    ctx: n,
    options: { pointLabels: i },
  } = e;
  for (let r = t - 1; r >= 0; r--) {
    let a = e._pointLabelItems[r];
    if (!a.visible) continue;
    let o = i.setContext(e.getPointLabelContext(r));
    Z$(n, o, a);
    let s = nn(o.font),
      { x: l, y: c, textAlign: u } = a;
    Qo(n, e._pointLabels[r], l, c + s.lineHeight / 2, s, {
      color: o.color,
      textAlign: u,
      textBaseline: 'middle',
    });
  }
}
function vI(e, t, n, i) {
  let { ctx: r } = e;
  if (n) r.arc(e.xCenter, e.yCenter, t, 0, Pi);
  else {
    let a = e.getPointPosition(0, t);
    r.moveTo(a.x, a.y);
    for (let o = 1; o < i; o++)
      (a = e.getPointPosition(o, t)), r.lineTo(a.x, a.y);
  }
}
function J$(e, t, n, i, r) {
  let a = e.ctx,
    o = t.circular,
    { color: s, lineWidth: l } = t;
  (!o && !i) ||
    !s ||
    !l ||
    n < 0 ||
    (a.save(),
    (a.strokeStyle = s),
    (a.lineWidth = l),
    a.setLineDash(r.dash),
    (a.lineDashOffset = r.dashOffset),
    a.beginPath(),
    vI(e, n, o, i),
    a.closePath(),
    a.stroke(),
    a.restore());
}
function t8(e, t, n) {
  return Jo(e, { label: n, index: t, type: 'pointLabel' });
}
var GA = class extends qc {
    static id = 'radialLinear';
    static defaults = {
      display: !0,
      animate: !0,
      position: 'chartArea',
      angleLines: {
        display: !0,
        lineWidth: 1,
        borderDash: [],
        borderDashOffset: 0,
      },
      grid: { circular: !1 },
      startAngle: 0,
      ticks: { showLabelBackdrop: !0, callback: bh.formatters.numeric },
      pointLabels: {
        backdropColor: void 0,
        backdropPadding: 2,
        display: !0,
        font: { size: 10 },
        callback(t) {
          return t;
        },
        padding: 5,
        centerPointLabels: !1,
      },
    };
    static defaultRoutes = {
      'angleLines.color': 'borderColor',
      'pointLabels.color': 'color',
      'ticks.color': 'color',
    };
    static descriptors = { angleLines: { _fallback: 'grid' } };
    constructor(t) {
      super(t),
        (this.xCenter = void 0),
        (this.yCenter = void 0),
        (this.drawingArea = void 0),
        (this._pointLabels = []),
        (this._pointLabelItems = []);
    }
    setDimensions() {
      let t = (this._padding = On(j_(this.options) / 2)),
        n = (this.width = this.maxWidth - t.width),
        i = (this.height = this.maxHeight - t.height);
      (this.xCenter = Math.floor(this.left + n / 2 + t.left)),
        (this.yCenter = Math.floor(this.top + i / 2 + t.top)),
        (this.drawingArea = Math.floor(Math.min(n, i) / 2));
    }
    determineDataLimits() {
      let { min: t, max: n } = this.getMinMax(!1);
      (this.min = mn(t) && !isNaN(t) ? t : 0),
        (this.max = mn(n) && !isNaN(n) ? n : 0),
        this.handleTickRangeOptions();
    }
    computeTickLimit() {
      return Math.ceil(this.drawingArea / j_(this.options));
    }
    generateTickLabels(t) {
      qc.prototype.generateTickLabels.call(this, t),
        (this._pointLabels = this.getLabels()
          .map((n, i) => {
            let r = xi(this.options.pointLabels.callback, [n, i], this);
            return r || r === 0 ? r : '';
          })
          .filter((n, i) => this.chart.getDataVisibility(i)));
    }
    fit() {
      let t = this.options;
      t.display && t.pointLabels.display
        ? U$(this)
        : this.setCenterPoint(0, 0, 0, 0);
    }
    setCenterPoint(t, n, i, r) {
      (this.xCenter += Math.floor((t - n) / 2)),
        (this.yCenter += Math.floor((i - r) / 2)),
        (this.drawingArea -= Math.min(
          this.drawingArea / 2,
          Math.max(t, n, i, r)
        ));
    }
    getIndexAngle(t) {
      let n = Pi / (this._pointLabels.length || 1),
        i = this.options.startAngle || 0;
      return sa(t * n + la(i));
    }
    getDistanceFromCenterForValue(t) {
      if (Li(t)) return NaN;
      let n = this.drawingArea / (this.max - this.min);
      return this.options.reverse ? (this.max - t) * n : (t - this.min) * n;
    }
    getValueForDistanceFromCenter(t) {
      if (Li(t)) return NaN;
      let n = t / (this.drawingArea / (this.max - this.min));
      return this.options.reverse ? this.max - n : this.min + n;
    }
    getPointLabelContext(t) {
      let n = this._pointLabels || [];
      if (t >= 0 && t < n.length) {
        let i = n[t];
        return t8(this.getContext(), t, i);
      }
    }
    getPointPosition(t, n, i = 0) {
      let r = this.getIndexAngle(t) - Qi + i;
      return {
        x: Math.cos(r) * n + this.xCenter,
        y: Math.sin(r) * n + this.yCenter,
        angle: r,
      };
    }
    getPointPositionForValue(t, n) {
      return this.getPointPosition(t, this.getDistanceFromCenterForValue(n));
    }
    getBasePosition(t) {
      return this.getPointPositionForValue(t || 0, this.getBaseValue());
    }
    getPointLabelPosition(t) {
      let { left: n, top: i, right: r, bottom: a } = this._pointLabelItems[t];
      return { left: n, top: i, right: r, bottom: a };
    }
    drawBackground() {
      let {
        backgroundColor: t,
        grid: { circular: n },
      } = this.options;
      if (t) {
        let i = this.ctx;
        i.save(),
          i.beginPath(),
          vI(
            this,
            this.getDistanceFromCenterForValue(this._endValue),
            n,
            this._pointLabels.length
          ),
          i.closePath(),
          (i.fillStyle = t),
          i.fill(),
          i.restore();
      }
    }
    drawGrid() {
      let t = this.ctx,
        n = this.options,
        { angleLines: i, grid: r, border: a } = n,
        o = this._pointLabels.length,
        s,
        l,
        c;
      if (
        (n.pointLabels.display && Q$(this, o),
        r.display &&
          this.ticks.forEach((u, d) => {
            if (d !== 0 || (d === 0 && this.min < 0)) {
              l = this.getDistanceFromCenterForValue(u.value);
              let h = this.getContext(d),
                p = r.setContext(h),
                m = a.setContext(h);
              J$(this, p, l, o, m);
            }
          }),
        i.display)
      ) {
        for (t.save(), s = o - 1; s >= 0; s--) {
          let u = i.setContext(this.getPointLabelContext(s)),
            { color: d, lineWidth: h } = u;
          !h ||
            !d ||
            ((t.lineWidth = h),
            (t.strokeStyle = d),
            t.setLineDash(u.borderDash),
            (t.lineDashOffset = u.borderDashOffset),
            (l = this.getDistanceFromCenterForValue(
              n.reverse ? this.min : this.max
            )),
            (c = this.getPointPosition(s, l)),
            t.beginPath(),
            t.moveTo(this.xCenter, this.yCenter),
            t.lineTo(c.x, c.y),
            t.stroke());
        }
        t.restore();
      }
    }
    drawBorder() {}
    drawLabels() {
      let t = this.ctx,
        n = this.options,
        i = n.ticks;
      if (!i.display) return;
      let r = this.getIndexAngle(0),
        a,
        o;
      t.save(),
        t.translate(this.xCenter, this.yCenter),
        t.rotate(r),
        (t.textAlign = 'center'),
        (t.textBaseline = 'middle'),
        this.ticks.forEach((s, l) => {
          if (l === 0 && this.min >= 0 && !n.reverse) return;
          let c = i.setContext(this.getContext(l)),
            u = nn(c.font);
          if (
            ((a = this.getDistanceFromCenterForValue(this.ticks[l].value)),
            c.showLabelBackdrop)
          ) {
            (t.font = u.string),
              (o = t.measureText(s.label).width),
              (t.fillStyle = c.backdropColor);
            let d = On(c.backdropPadding);
            t.fillRect(
              -o / 2 - d.left,
              -a - u.size / 2 - d.top,
              o + d.width,
              u.size + d.height
            );
          }
          Qo(t, s.label, 0, -a, u, {
            color: c.color,
            strokeColor: c.textStrokeColor,
            strokeWidth: c.textStrokeWidth,
          });
        }),
        t.restore();
    }
    drawTitle() {}
  },
  Tg = {
    millisecond: { common: !0, size: 1, steps: 1e3 },
    second: { common: !0, size: 1e3, steps: 60 },
    minute: { common: !0, size: 6e4, steps: 60 },
    hour: { common: !0, size: 36e5, steps: 24 },
    day: { common: !0, size: 864e5, steps: 30 },
    week: { common: !1, size: 6048e5, steps: 4 },
    month: { common: !0, size: 2628e6, steps: 12 },
    quarter: { common: !1, size: 7884e6, steps: 4 },
    year: { common: !0, size: 3154e7 },
  },
  cr = Object.keys(Tg);
function YA(e, t) {
  return e - t;
}
function KA(e, t) {
  if (Li(t)) return null;
  let n = e._adapter,
    { parser: i, round: r, isoWeekday: a } = e._parseOpts,
    o = t;
  return (
    typeof i == 'function' && (o = i(o)),
    mn(o) || (o = typeof i == 'string' ? n.parse(o, i) : n.parse(o)),
    o === null
      ? null
      : (r &&
          (o =
            r === 'week' && (mh(a) || a === !0)
              ? n.startOf(o, 'isoWeek', a)
              : n.startOf(o, r)),
        +o)
  );
}
function XA(e, t, n, i) {
  let r = cr.length;
  for (let a = cr.indexOf(e); a < r - 1; ++a) {
    let o = Tg[cr[a]],
      s = o.steps ? o.steps : Number.MAX_SAFE_INTEGER;
    if (o.common && Math.ceil((n - t) / (s * o.size)) <= i) return cr[a];
  }
  return cr[r - 1];
}
function e8(e, t, n, i, r) {
  for (let a = cr.length - 1; a >= cr.indexOf(n); a--) {
    let o = cr[a];
    if (Tg[o].common && e._adapter.diff(r, i, o) >= t - 1) return o;
  }
  return cr[n ? cr.indexOf(n) : 0];
}
function i8(e) {
  for (let t = cr.indexOf(e) + 1, n = cr.length; t < n; ++t)
    if (Tg[cr[t]].common) return cr[t];
}
function ZA(e, t, n) {
  if (!n) e[t] = !0;
  else if (n.length) {
    let { lo: i, hi: r } = eg(n, t),
      a = n[i] >= t ? n[i] : n[r];
    e[a] = !0;
  }
}
function n8(e, t, n, i) {
  let r = e._adapter,
    a = +r.startOf(t[0].value, i),
    o = t[t.length - 1].value,
    s,
    l;
  for (s = a; s <= o; s = +r.add(s, 1, i))
    (l = n[s]), l >= 0 && (t[l].major = !0);
  return t;
}
function QA(e, t, n) {
  let i = [],
    r = {},
    a = t.length,
    o,
    s;
  for (o = 0; o < a; ++o)
    (s = t[o]), (r[s] = o), i.push({ value: s, major: !1 });
  return a === 0 || !n ? i : n8(e, i, r, n);
}
var JA = (() => {
  class e extends jc {
    static id = 'time';
    static defaults = {
      bounds: 'data',
      adapters: {},
      time: {
        parser: !1,
        unit: !1,
        round: !1,
        isoWeekday: !1,
        minUnit: 'millisecond',
        displayFormats: {},
      },
      ticks: { source: 'auto', callback: !1, major: { enabled: !1 } },
    };
    constructor(n) {
      super(n),
        (this._cache = { data: [], labels: [], all: [] }),
        (this._unit = 'day'),
        (this._majorUnit = void 0),
        (this._offsets = {}),
        (this._normalized = !1),
        (this._parseOpts = void 0);
    }
    init(n, i = {}) {
      let r = n.time || (n.time = {}),
        a = (this._adapter = new gW._date(n.adapters.date));
      a.init(i),
        Nc(r.displayFormats, a.formats()),
        (this._parseOpts = {
          parser: r.parser,
          round: r.round,
          isoWeekday: r.isoWeekday,
        }),
        super.init(n),
        (this._normalized = i.normalized);
    }
    parse(n, i) {
      return n === void 0 ? null : KA(this, n);
    }
    beforeLayout() {
      super.beforeLayout(), (this._cache = { data: [], labels: [], all: [] });
    }
    determineDataLimits() {
      let n = this.options,
        i = this._adapter,
        r = n.time.unit || 'day',
        { min: a, max: o, minDefined: s, maxDefined: l } = this.getUserBounds();
      function c(u) {
        !s && !isNaN(u.min) && (a = Math.min(a, u.min)),
          !l && !isNaN(u.max) && (o = Math.max(o, u.max));
      }
      (!s || !l) &&
        (c(this._getLabelBounds()),
        (n.bounds !== 'ticks' || n.ticks.source !== 'labels') &&
          c(this.getMinMax(!1))),
        (a = mn(a) && !isNaN(a) ? a : +i.startOf(Date.now(), r)),
        (o = mn(o) && !isNaN(o) ? o : +i.endOf(Date.now(), r) + 1),
        (this.min = Math.min(a, o - 1)),
        (this.max = Math.max(a + 1, o));
    }
    _getLabelBounds() {
      let n = this.getLabelTimestamps(),
        i = Number.POSITIVE_INFINITY,
        r = Number.NEGATIVE_INFINITY;
      return (
        n.length && ((i = n[0]), (r = n[n.length - 1])), { min: i, max: r }
      );
    }
    buildTicks() {
      let n = this.options,
        i = n.time,
        r = n.ticks,
        a =
          r.source === 'labels' ? this.getLabelTimestamps() : this._generate();
      n.bounds === 'ticks' &&
        a.length &&
        ((this.min = this._userMin || a[0]),
        (this.max = this._userMax || a[a.length - 1]));
      let o = this.min,
        s = this.max,
        l = $M(a, o, s);
      return (
        (this._unit =
          i.unit ||
          (r.autoSkip
            ? XA(i.minUnit, this.min, this.max, this._getLabelCapacity(o))
            : e8(this, l.length, i.minUnit, this.min, this.max))),
        (this._majorUnit =
          !r.major.enabled || this._unit === 'year' ? void 0 : i8(this._unit)),
        this.initOffsets(a),
        n.reverse && l.reverse(),
        QA(this, l, this._majorUnit)
      );
    }
    afterAutoSkip() {
      this.options.offsetAfterAutoskip &&
        this.initOffsets(this.ticks.map((n) => +n.value));
    }
    initOffsets(n = []) {
      let i = 0,
        r = 0,
        a,
        o;
      this.options.offset &&
        n.length &&
        ((a = this.getDecimalForValue(n[0])),
        n.length === 1
          ? (i = 1 - a)
          : (i = (this.getDecimalForValue(n[1]) - a) / 2),
        (o = this.getDecimalForValue(n[n.length - 1])),
        n.length === 1
          ? (r = o)
          : (r = (o - this.getDecimalForValue(n[n.length - 2])) / 2));
      let s = n.length < 3 ? 0.5 : 0.25;
      (i = wr(i, 0, s)),
        (r = wr(r, 0, s)),
        (this._offsets = { start: i, end: r, factor: 1 / (i + 1 + r) });
    }
    _generate() {
      let n = this._adapter,
        i = this.min,
        r = this.max,
        a = this.options,
        o = a.time,
        s = o.unit || XA(o.minUnit, i, r, this._getLabelCapacity(i)),
        l = ti(a.ticks.stepSize, 1),
        c = s === 'week' ? o.isoWeekday : !1,
        u = mh(c) || c === !0,
        d = {},
        h = i,
        p,
        m;
      if (
        (u && (h = +n.startOf(h, 'isoWeek', c)),
        (h = +n.startOf(h, u ? 'day' : s)),
        n.diff(r, i, s) > 1e5 * l)
      )
        throw new Error(
          i + ' and ' + r + ' are too far apart with stepSize of ' + l + ' ' + s
        );
      let _ = a.ticks.source === 'data' && this.getDataTimestamps();
      for (p = h, m = 0; p < r; p = +n.add(p, l, s), m++) ZA(d, p, _);
      return (
        (p === r || a.bounds === 'ticks' || m === 1) && ZA(d, p, _),
        Object.keys(d)
          .sort(YA)
          .map((v) => +v)
      );
    }
    getLabelForValue(n) {
      let i = this._adapter,
        r = this.options.time;
      return r.tooltipFormat
        ? i.format(n, r.tooltipFormat)
        : i.format(n, r.displayFormats.datetime);
    }
    format(n, i) {
      let a = this.options.time.displayFormats,
        o = this._unit,
        s = i || a[o];
      return this._adapter.format(n, s);
    }
    _tickFormatFunction(n, i, r, a) {
      let o = this.options,
        s = o.ticks.callback;
      if (s) return xi(s, [n, i, r], this);
      let l = o.time.displayFormats,
        c = this._unit,
        u = this._majorUnit,
        d = c && l[c],
        h = u && l[u],
        p = r[i],
        m = u && h && p && p.major;
      return this._adapter.format(n, a || (m ? h : d));
    }
    generateTickLabels(n) {
      let i, r, a;
      for (i = 0, r = n.length; i < r; ++i)
        (a = n[i]), (a.label = this._tickFormatFunction(a.value, i, n));
    }
    getDecimalForValue(n) {
      return n === null ? NaN : (n - this.min) / (this.max - this.min);
    }
    getPixelForValue(n) {
      let i = this._offsets,
        r = this.getDecimalForValue(n);
      return this.getPixelForDecimal((i.start + r) * i.factor);
    }
    getValueForPixel(n) {
      let i = this._offsets,
        r = this.getDecimalForPixel(n) / i.factor - i.end;
      return this.min + r * (this.max - this.min);
    }
    _getLabelSize(n) {
      let i = this.options.ticks,
        r = this.ctx.measureText(n).width,
        a = la(this.isHorizontal() ? i.maxRotation : i.minRotation),
        o = Math.cos(a),
        s = Math.sin(a),
        l = this._resolveTickFontOptions(0).size;
      return { w: r * o + l * s, h: r * s + l * o };
    }
    _getLabelCapacity(n) {
      let i = this.options.time,
        r = i.displayFormats,
        a = r[i.unit] || r.millisecond,
        o = this._tickFormatFunction(n, 0, QA(this, [n], this._majorUnit), a),
        s = this._getLabelSize(o),
        l =
          Math.floor(
            this.isHorizontal() ? this.width / s.w : this.height / s.h
          ) - 1;
      return l > 0 ? l : 1;
    }
    getDataTimestamps() {
      let n = this._cache.data || [],
        i,
        r;
      if (n.length) return n;
      let a = this.getMatchingVisibleMetas();
      if (this._normalized && a.length)
        return (this._cache.data = a[0].controller.getAllParsedValues(this));
      for (i = 0, r = a.length; i < r; ++i)
        n = n.concat(a[i].controller.getAllParsedValues(this));
      return (this._cache.data = this.normalize(n));
    }
    getLabelTimestamps() {
      let n = this._cache.labels || [],
        i,
        r;
      if (n.length) return n;
      let a = this.getLabels();
      for (i = 0, r = a.length; i < r; ++i) n.push(KA(this, a[i]));
      return (this._cache.labels = this._normalized ? n : this.normalize(n));
    }
    normalize(n) {
      return KM(n.sort(YA));
    }
  }
  return e;
})();
function vg(e, t, n) {
  let i = 0,
    r = e.length - 1,
    a,
    o,
    s,
    l;
  n
    ? (t >= e[i].pos && t <= e[r].pos && ({ lo: i, hi: r } = ig(e, 'pos', t)),
      ({ pos: a, time: s } = e[i]),
      ({ pos: o, time: l } = e[r]))
    : (t >= e[i].time &&
        t <= e[r].time &&
        ({ lo: i, hi: r } = ig(e, 'time', t)),
      ({ time: a, pos: s } = e[i]),
      ({ time: o, pos: l } = e[r]));
  let c = o - a;
  return c ? s + ((l - s) * (t - a)) / c : s;
}
var tI = class extends JA {
  static id = 'timeseries';
  static defaults = JA.defaults;
  constructor(t) {
    super(t),
      (this._table = []),
      (this._minPos = void 0),
      (this._tableRange = void 0);
  }
  initOffsets() {
    let t = this._getTimestampsForTable(),
      n = (this._table = this.buildLookupTable(t));
    (this._minPos = vg(n, this.min)),
      (this._tableRange = vg(n, this.max) - this._minPos),
      super.initOffsets(t);
  }
  buildLookupTable(t) {
    let { min: n, max: i } = this,
      r = [],
      a = [],
      o,
      s,
      l,
      c,
      u;
    for (o = 0, s = t.length; o < s; ++o)
      (c = t[o]), c >= n && c <= i && r.push(c);
    if (r.length < 2)
      return [
        { time: n, pos: 0 },
        { time: i, pos: 1 },
      ];
    for (o = 0, s = r.length; o < s; ++o)
      (u = r[o + 1]),
        (l = r[o - 1]),
        (c = r[o]),
        Math.round((u + l) / 2) !== c && a.push({ time: c, pos: o / (s - 1) });
    return a;
  }
  _generate() {
    let t = this.min,
      n = this.max,
      i = super.getDataTimestamps();
    return (
      (!i.includes(t) || !i.length) && i.splice(0, 0, t),
      (!i.includes(n) || i.length === 1) && i.push(n),
      i.sort((r, a) => r - a)
    );
  }
  _getTimestampsForTable() {
    let t = this._cache.all || [];
    if (t.length) return t;
    let n = this.getDataTimestamps(),
      i = this.getLabelTimestamps();
    return (
      n.length && i.length
        ? (t = this.normalize(n.concat(i)))
        : (t = n.length ? n : i),
      (t = this._cache.all = t),
      t
    );
  }
  getDecimalForValue(t) {
    return (vg(this._table, t) - this._minPos) / this._tableRange;
  }
  getValueForPixel(t) {
    let n = this._offsets,
      i = this.getDecimalForPixel(t) / n.factor - n.end;
    return vg(this._table, i * this._tableRange + this._minPos, !0);
  }
};
function r8(e, t) {
  if ((e & 1 && (se(0, 'li'), ri(1, 'span', 2), hi(2), de()), e & 2)) {
    let n = t.$implicit,
      i = t.$index,
      r = cn();
    je(), _s('background-color', r.colors[i]), je(), Cl(n);
  }
}
Dg.register(Cg, gI, fI, pI, nI);
var Mg = class e {
  taService = It(Hm);
  eventService = It(xa);
  colors = [];
  teams = [];
  charts = [];
  constructor() {
    this.eventService.filterChanged.pipe(Bs()).subscribe(() => {
      this.removeDiagrams(), this.loadAndDraw();
    });
  }
  ngOnInit() {
    this.loadAndDraw();
  }
  loadAndDraw() {
    let t = document.getElementById('placeholder');
    this.taService.load().subscribe((n) => {
      (this.colors = Ku(ad, n.teams.length + 1)),
        (this.teams = n.teams),
        (this.charts = bI(n, t, this.colors)),
        (window.onresize = () => {
          this.redraw(t, n);
        });
    });
  }
  redraw(t, n) {
    this.removeDiagrams(), (this.charts = bI(n, t, this.colors));
  }
  removeDiagrams() {
    let t = document.getElementById('placeholder');
    (t.innerHTML = ''), this.charts.forEach((n) => n.destroy());
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵcmp = Ae({
    type: e,
    selectors: [['app-team-alignment']],
    standalone: !0,
    features: [Ie],
    decls: 4,
    vars: 0,
    consts: [
      ['id', 'legend'],
      ['id', 'placeholder'],
      [1, 'legend-color'],
    ],
    template: function (n, i) {
      n & 1 &&
        (se(0, 'ul', 0),
        Rx(1, r8, 3, 3, 'li', null, Ix),
        de(),
        ri(3, 'div', 1)),
        n & 2 && (je(), Ox(i.teams));
    },
  });
};
function bI(e, t, n) {
  let i = [],
    r = Object.keys(e.modules),
    a = e.teams;
  for (let o of r) {
    let s = e.modules[o],
      l = o.split('/').at(-1),
      c = document.createElement('div');
    c.classList.add('ta-container'), t.appendChild(c);
    let u = document.createElement('canvas');
    u.classList.add('ta-diagram'), c.appendChild(u);
    let d = a.map((_) => s.changes[_]),
      h = d.reduce((_, v) => _ + (v || 0), 0),
      p = u.getContext('2d'),
      m = new Dg(p, {
        type: 'doughnut',
        data: {
          labels: a,
          datasets: [{ data: d, borderWidth: 1, backgroundColor: n }],
        },
        options: {
          responsive: !1,
          plugins: {
            legend: { display: !1 },
            title: { display: !0, text: l, font: { size: 18 } },
            tooltip: {
              callbacks: {
                label: function (_) {
                  let v = ' ' + _.label || '';
                  return (
                    v && (v += ': '),
                    _.raw !== null &&
                      (v += Math.round((_.raw / h) * 100) + '%'),
                    v
                  );
                },
              },
            },
          },
        },
      });
    i.push(m);
  }
  return i;
}
var yI = [
  { path: '', pathMatch: 'full', redirectTo: 'home' },
  { path: 'home', component: Ep },
  { path: 'graph', component: Um },
  { path: 'team-alignment', component: Mg },
];
var a8 = '@',
  o8 = (() => {
    let t = class t {
      constructor(i, r, a, o, s) {
        (this.doc = i),
          (this.delegate = r),
          (this.zone = a),
          (this.animationType = o),
          (this.moduleImpl = s),
          (this._rendererFactoryPromise = null),
          (this.scheduler = It(Tx, { optional: !0 }));
      }
      ngOnDestroy() {
        this._engine?.flush();
      }
      loadImpl() {
        return (this.moduleImpl ?? import('./chunk-UOJ4IBH7.js').then((r) => r))
          .catch((r) => {
            throw new vi(5300, !1);
          })
          .then(({ ɵcreateEngine: r, ɵAnimationRendererFactory: a }) => {
            this._engine = r(this.animationType, this.doc);
            let o = new a(this.delegate, this._engine, this.zone);
            return (this.delegate = o), o;
          });
      }
      createRenderer(i, r) {
        let a = this.delegate.createRenderer(i, r);
        if (a.ɵtype === 0) return a;
        typeof a.throwOnSyntheticProps == 'boolean' &&
          (a.throwOnSyntheticProps = !1);
        let o = new q_(a);
        return (
          r?.data?.animation &&
            !this._rendererFactoryPromise &&
            (this._rendererFactoryPromise = this.loadImpl()),
          this._rendererFactoryPromise
            ?.then((s) => {
              let l = s.createRenderer(i, r);
              o.use(l), this.scheduler?.notify(9);
            })
            .catch((s) => {
              o.use(a);
            }),
          o
        );
      }
      begin() {
        this.delegate.begin?.();
      }
      end() {
        this.delegate.end?.();
      }
      whenRenderingDone() {
        return this.delegate.whenRenderingDone?.() ?? Promise.resolve();
      }
    };
    (t.ɵfac = function (r) {
      wl();
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac }));
    let e = t;
    return e;
  })(),
  q_ = class {
    constructor(t) {
      (this.delegate = t), (this.replay = []), (this.ɵtype = 1);
    }
    use(t) {
      if (((this.delegate = t), this.replay !== null)) {
        for (let n of this.replay) n(t);
        this.replay = null;
      }
    }
    get data() {
      return this.delegate.data;
    }
    destroy() {
      (this.replay = null), this.delegate.destroy();
    }
    createElement(t, n) {
      return this.delegate.createElement(t, n);
    }
    createComment(t) {
      return this.delegate.createComment(t);
    }
    createText(t) {
      return this.delegate.createText(t);
    }
    get destroyNode() {
      return this.delegate.destroyNode;
    }
    appendChild(t, n) {
      this.delegate.appendChild(t, n);
    }
    insertBefore(t, n, i, r) {
      this.delegate.insertBefore(t, n, i, r);
    }
    removeChild(t, n, i) {
      this.delegate.removeChild(t, n, i);
    }
    selectRootElement(t, n) {
      return this.delegate.selectRootElement(t, n);
    }
    parentNode(t) {
      return this.delegate.parentNode(t);
    }
    nextSibling(t) {
      return this.delegate.nextSibling(t);
    }
    setAttribute(t, n, i, r) {
      this.delegate.setAttribute(t, n, i, r);
    }
    removeAttribute(t, n, i) {
      this.delegate.removeAttribute(t, n, i);
    }
    addClass(t, n) {
      this.delegate.addClass(t, n);
    }
    removeClass(t, n) {
      this.delegate.removeClass(t, n);
    }
    setStyle(t, n, i, r) {
      this.delegate.setStyle(t, n, i, r);
    }
    removeStyle(t, n, i) {
      this.delegate.removeStyle(t, n, i);
    }
    setProperty(t, n, i) {
      this.shouldReplay(n) && this.replay.push((r) => r.setProperty(t, n, i)),
        this.delegate.setProperty(t, n, i);
    }
    setValue(t, n) {
      this.delegate.setValue(t, n);
    }
    listen(t, n, i) {
      return (
        this.shouldReplay(n) && this.replay.push((r) => r.listen(t, n, i)),
        this.delegate.listen(t, n, i)
      );
    }
    shouldReplay(t) {
      return this.replay !== null && t.startsWith(a8);
    }
  };
function _I(e = 'animations') {
  return (
    _v('NgAsyncAnimations'),
    gs([
      {
        provide: Wh,
        useFactory: (t, n, i) => new o8(t, n, i, e),
        deps: [Ne, lf, De],
      },
      {
        provide: Yn,
        useValue: e === 'noop' ? 'NoopAnimations' : 'BrowserAnimations',
      },
    ])
  );
}
var xI = { providers: [Vx({ eventCoalescing: !0 }), uw(), l1(yI), _I()] };
var s8 = ['*', [['mat-toolbar-row']]],
  l8 = ['*', 'mat-toolbar-row'],
  c8 = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['mat-toolbar-row']],
        hostAttrs: [1, 'mat-toolbar-row'],
        exportAs: ['matToolbarRow'],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  wI = (() => {
    let t = class t {
      constructor(i, r, a) {
        (this._elementRef = i), (this._platform = r), (this._document = a);
      }
      ngAfterViewInit() {
        this._platform.isBrowser &&
          (this._checkToolbarMixedModes(),
          this._toolbarRows.changes.subscribe(() =>
            this._checkToolbarMixedModes()
          ));
      }
      _checkToolbarMixedModes() {
        this._toolbarRows.length;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Re), Tt(Ci), Tt(Ne));
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-toolbar']],
        contentQueries: function (r, a, o) {
          if ((r & 1 && vn(o, c8, 5), r & 2)) {
            let s;
            Qe((s = Je())) && (a._toolbarRows = s);
          }
        },
        hostAttrs: [1, 'mat-toolbar'],
        hostVars: 6,
        hostBindings: function (r, a) {
          r & 2 &&
            (Ba(a.color ? 'mat-' + a.color : ''),
            Ze('mat-toolbar-multiple-rows', a._toolbarRows.length > 0)(
              'mat-toolbar-single-row',
              a._toolbarRows.length === 0
            ));
        },
        inputs: { color: 'color' },
        exportAs: ['matToolbar'],
        standalone: !0,
        features: [Ie],
        ngContentSelectors: l8,
        decls: 2,
        vars: 0,
        template: function (r, a) {
          r & 1 && (zi(s8), qe(0), qe(1, 1));
        },
        styles: [
          '.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}',
        ],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })();
var kI = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [Vi, Vi] }));
  let e = t;
  return e;
})();
var d8 = ['mat-button', ''],
  h8 = [
    [
      ['', 8, 'material-icons', 3, 'iconPositionEnd', ''],
      ['mat-icon', 3, 'iconPositionEnd', ''],
      ['', 'matButtonIcon', '', 3, 'iconPositionEnd', ''],
    ],
    '*',
    [
      ['', 'iconPositionEnd', '', 8, 'material-icons'],
      ['mat-icon', 'iconPositionEnd', ''],
      ['', 'matButtonIcon', '', 'iconPositionEnd', ''],
    ],
  ],
  f8 = [
    '.material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])',
    '*',
    '.material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]',
  ];
var p8 =
  '.cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}';
var m8 = ['mat-icon-button', ''],
  g8 = ['*'];
var v8 = new ge('MAT_BUTTON_CONFIG');
var b8 = [
    { attribute: 'mat-button', mdcClasses: ['mdc-button', 'mat-mdc-button'] },
    {
      attribute: 'mat-flat-button',
      mdcClasses: [
        'mdc-button',
        'mdc-button--unelevated',
        'mat-mdc-unelevated-button',
      ],
    },
    {
      attribute: 'mat-raised-button',
      mdcClasses: ['mdc-button', 'mdc-button--raised', 'mat-mdc-raised-button'],
    },
    {
      attribute: 'mat-stroked-button',
      mdcClasses: [
        'mdc-button',
        'mdc-button--outlined',
        'mat-mdc-outlined-button',
      ],
    },
    {
      attribute: 'mat-fab',
      mdcClasses: ['mdc-fab', 'mat-mdc-fab-base', 'mat-mdc-fab'],
    },
    {
      attribute: 'mat-mini-fab',
      mdcClasses: [
        'mdc-fab',
        'mat-mdc-fab-base',
        'mdc-fab--mini',
        'mat-mdc-mini-fab',
      ],
    },
    {
      attribute: 'mat-icon-button',
      mdcClasses: ['mdc-icon-button', 'mat-mdc-icon-button'],
    },
  ],
  CI = (() => {
    let t = class t {
      get ripple() {
        return this._rippleLoader?.getRipple(this._elementRef.nativeElement);
      }
      set ripple(i) {
        this._rippleLoader?.attachRipple(this._elementRef.nativeElement, i);
      }
      get disableRipple() {
        return this._disableRipple;
      }
      set disableRipple(i) {
        (this._disableRipple = i), this._updateRippleDisabled();
      }
      get disabled() {
        return this._disabled;
      }
      set disabled(i) {
        (this._disabled = i), this._updateRippleDisabled();
      }
      constructor(i, r, a, o) {
        (this._elementRef = i),
          (this._platform = r),
          (this._ngZone = a),
          (this._animationMode = o),
          (this._focusMonitor = It(hp)),
          (this._rippleLoader = It(XC)),
          (this._isFab = !1),
          (this._disableRipple = !1),
          (this._disabled = !1);
        let s = It(v8, { optional: !0 }),
          l = i.nativeElement,
          c = l.classList;
        (this.disabledInteractive = s?.disabledInteractive ?? !1),
          (this.color = s?.color ?? null),
          this._rippleLoader?.configureRipple(l, {
            className: 'mat-mdc-button-ripple',
          });
        for (let { attribute: u, mdcClasses: d } of b8)
          l.hasAttribute(u) && c.add(...d);
      }
      ngAfterViewInit() {
        this._focusMonitor.monitor(this._elementRef, !0);
      }
      ngOnDestroy() {
        this._focusMonitor.stopMonitoring(this._elementRef),
          this._rippleLoader?.destroyRipple(this._elementRef.nativeElement);
      }
      focus(i = 'program', r) {
        i
          ? this._focusMonitor.focusVia(this._elementRef.nativeElement, i, r)
          : this._elementRef.nativeElement.focus(r);
      }
      _getAriaDisabled() {
        return this.ariaDisabled != null
          ? this.ariaDisabled
          : this.disabled && this.disabledInteractive
            ? !0
            : null;
      }
      _getDisabledAttribute() {
        return this.disabledInteractive || !this.disabled ? null : !0;
      }
      _updateRippleDisabled() {
        this._rippleLoader?.setDisabled(
          this._elementRef.nativeElement,
          this.disableRipple || this.disabled
        );
      }
    };
    (t.ɵfac = function (r) {
      wl();
    }),
      (t.ɵdir = Oe({
        type: t,
        inputs: {
          color: 'color',
          disableRipple: [2, 'disableRipple', 'disableRipple', pi],
          disabled: [2, 'disabled', 'disabled', pi],
          ariaDisabled: [2, 'aria-disabled', 'ariaDisabled', pi],
          disabledInteractive: [
            2,
            'disabledInteractive',
            'disabledInteractive',
            pi,
          ],
        },
        features: [Fn],
      }));
    let e = t;
    return e;
  })();
var EI = (() => {
  let t = class t extends CI {
    constructor(i, r, a, o) {
      super(i, r, a, o);
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Tt(Re), Tt(Ci), Tt(De), Tt(Yn, 8));
  }),
    (t.ɵcmp = Ae({
      type: t,
      selectors: [
        ['button', 'mat-button', ''],
        ['button', 'mat-raised-button', ''],
        ['button', 'mat-flat-button', ''],
        ['button', 'mat-stroked-button', ''],
      ],
      hostVars: 14,
      hostBindings: function (r, a) {
        r & 2 &&
          (yi('disabled', a._getDisabledAttribute())(
            'aria-disabled',
            a._getAriaDisabled()
          ),
          Ba(a.color ? 'mat-' + a.color : ''),
          Ze('mat-mdc-button-disabled', a.disabled)(
            'mat-mdc-button-disabled-interactive',
            a.disabledInteractive
          )('_mat-animation-noopable', a._animationMode === 'NoopAnimations')(
            'mat-unthemed',
            !a.color
          )('mat-mdc-button-base', !0));
      },
      exportAs: ['matButton'],
      standalone: !0,
      features: [Bi, Ie],
      attrs: d8,
      ngContentSelectors: f8,
      decls: 7,
      vars: 4,
      consts: [
        [1, 'mat-mdc-button-persistent-ripple'],
        [1, 'mdc-button__label'],
        [1, 'mat-mdc-focus-indicator'],
        [1, 'mat-mdc-button-touch-target'],
      ],
      template: function (r, a) {
        r & 1 &&
          (zi(h8),
          ri(0, 'span', 0),
          qe(1),
          se(2, 'span', 1),
          qe(3, 1),
          de(),
          qe(4, 2),
          ri(5, 'span', 2)(6, 'span', 3)),
          r & 2 &&
            Ze('mdc-button__ripple', !a._isFab)('mdc-fab__ripple', a._isFab);
      },
      styles: [
        '.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',
        '.cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}',
      ],
      encapsulation: 2,
      changeDetection: 0,
    }));
  let e = t;
  return e;
})();
var Ag = (() => {
  let t = class t extends CI {
    constructor(i, r, a, o) {
      super(i, r, a, o),
        this._rippleLoader.configureRipple(this._elementRef.nativeElement, {
          centered: !0,
        });
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Tt(Re), Tt(Ci), Tt(De), Tt(Yn, 8));
  }),
    (t.ɵcmp = Ae({
      type: t,
      selectors: [['button', 'mat-icon-button', '']],
      hostVars: 14,
      hostBindings: function (r, a) {
        r & 2 &&
          (yi('disabled', a._getDisabledAttribute())(
            'aria-disabled',
            a._getAriaDisabled()
          ),
          Ba(a.color ? 'mat-' + a.color : ''),
          Ze('mat-mdc-button-disabled', a.disabled)(
            'mat-mdc-button-disabled-interactive',
            a.disabledInteractive
          )('_mat-animation-noopable', a._animationMode === 'NoopAnimations')(
            'mat-unthemed',
            !a.color
          )('mat-mdc-button-base', !0));
      },
      exportAs: ['matButton'],
      standalone: !0,
      features: [Bi, Ie],
      attrs: m8,
      ngContentSelectors: g8,
      decls: 4,
      vars: 0,
      consts: [
        [1, 'mat-mdc-button-persistent-ripple', 'mdc-icon-button__ripple'],
        [1, 'mat-mdc-focus-indicator'],
        [1, 'mat-mdc-button-touch-target'],
      ],
      template: function (r, a) {
        r & 1 &&
          (zi(), ri(0, 'span', 0), qe(1), ri(2, 'span', 1)(3, 'span', 2));
      },
      styles: [
        '.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',
        p8,
      ],
      encapsulation: 2,
      changeDetection: 0,
    }));
  let e = t;
  return e;
})();
var Ig = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({ imports: [Vi, mp, Vi] }));
  let e = t;
  return e;
})();
var y8 = 20,
  Rg = (() => {
    let t = class t {
      constructor(i, r, a) {
        (this._ngZone = i),
          (this._platform = r),
          (this._scrolled = new Se()),
          (this._globalSubscription = null),
          (this._scrolledCount = 0),
          (this.scrollContainers = new Map()),
          (this._document = a);
      }
      register(i) {
        this.scrollContainers.has(i) ||
          this.scrollContainers.set(
            i,
            i.elementScrolled().subscribe(() => this._scrolled.next(i))
          );
      }
      deregister(i) {
        let r = this.scrollContainers.get(i);
        r && (r.unsubscribe(), this.scrollContainers.delete(i));
      }
      scrolled(i = y8) {
        return this._platform.isBrowser
          ? new Dr((r) => {
              this._globalSubscription || this._addGlobalListener();
              let a =
                i > 0
                  ? this._scrolled.pipe(uv(i)).subscribe(r)
                  : this._scrolled.subscribe(r);
              return (
                this._scrolledCount++,
                () => {
                  a.unsubscribe(),
                    this._scrolledCount--,
                    this._scrolledCount || this._removeGlobalListener();
                }
              );
            })
          : qt();
      }
      ngOnDestroy() {
        this._removeGlobalListener(),
          this.scrollContainers.forEach((i, r) => this.deregister(r)),
          this._scrolled.complete();
      }
      ancestorScrolled(i, r) {
        let a = this.getAncestorScrollContainers(i);
        return this.scrolled(r).pipe(Fi((o) => !o || a.indexOf(o) > -1));
      }
      getAncestorScrollContainers(i) {
        let r = [];
        return (
          this.scrollContainers.forEach((a, o) => {
            this._scrollableContainsElement(o, i) && r.push(o);
          }),
          r
        );
      }
      _getWindow() {
        return this._document.defaultView || window;
      }
      _scrollableContainsElement(i, r) {
        let a = ta(r),
          o = i.getElementRef().nativeElement;
        do if (a == o) return !0;
        while ((a = a.parentElement));
        return !1;
      }
      _addGlobalListener() {
        this._globalSubscription = this._ngZone.runOutsideAngular(() => {
          let i = this._getWindow();
          return Jc(i.document, 'scroll').subscribe(() =>
            this._scrolled.next()
          );
        });
      }
      _removeGlobalListener() {
        this._globalSubscription &&
          (this._globalSubscription.unsubscribe(),
          (this._globalSubscription = null));
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(De), Ht(Ci), Ht(Ne, 8));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })(),
  Uc = (() => {
    let t = class t {
      constructor(i, r, a, o) {
        (this.elementRef = i),
          (this.scrollDispatcher = r),
          (this.ngZone = a),
          (this.dir = o),
          (this._destroyed = new Se()),
          (this._elementScrolled = new Dr((s) =>
            this.ngZone.runOutsideAngular(() =>
              Jc(this.elementRef.nativeElement, 'scroll')
                .pipe(gi(this._destroyed))
                .subscribe(s)
            )
          ));
      }
      ngOnInit() {
        this.scrollDispatcher.register(this);
      }
      ngOnDestroy() {
        this.scrollDispatcher.deregister(this),
          this._destroyed.next(),
          this._destroyed.complete();
      }
      elementScrolled() {
        return this._elementScrolled;
      }
      getElementRef() {
        return this.elementRef;
      }
      scrollTo(i) {
        let r = this.elementRef.nativeElement,
          a = this.dir && this.dir.value == 'rtl';
        i.left == null && (i.left = a ? i.end : i.start),
          i.right == null && (i.right = a ? i.start : i.end),
          i.bottom != null &&
            (i.top = r.scrollHeight - r.clientHeight - i.bottom),
          a && $l() != ea.NORMAL
            ? (i.left != null &&
                (i.right = r.scrollWidth - r.clientWidth - i.left),
              $l() == ea.INVERTED
                ? (i.left = i.right)
                : $l() == ea.NEGATED && (i.left = i.right ? -i.right : i.right))
            : i.right != null &&
              (i.left = r.scrollWidth - r.clientWidth - i.right),
          this._applyScrollToOptions(i);
      }
      _applyScrollToOptions(i) {
        let r = this.elementRef.nativeElement;
        wC()
          ? r.scrollTo(i)
          : (i.top != null && (r.scrollTop = i.top),
            i.left != null && (r.scrollLeft = i.left));
      }
      measureScrollOffset(i) {
        let r = 'left',
          a = 'right',
          o = this.elementRef.nativeElement;
        if (i == 'top') return o.scrollTop;
        if (i == 'bottom') return o.scrollHeight - o.clientHeight - o.scrollTop;
        let s = this.dir && this.dir.value == 'rtl';
        return (
          i == 'start' ? (i = s ? a : r) : i == 'end' && (i = s ? r : a),
          s && $l() == ea.INVERTED
            ? i == r
              ? o.scrollWidth - o.clientWidth - o.scrollLeft
              : o.scrollLeft
            : s && $l() == ea.NEGATED
              ? i == r
                ? o.scrollLeft + o.scrollWidth - o.clientWidth
                : -o.scrollLeft
              : i == r
                ? o.scrollLeft
                : o.scrollWidth - o.clientWidth - o.scrollLeft
        );
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Re), Tt(Rg), Tt(De), Tt(Yl, 8));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [
          ['', 'cdk-scrollable', ''],
          ['', 'cdkScrollable', ''],
        ],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  _8 = 20,
  DI = (() => {
    let t = class t {
      constructor(i, r, a) {
        (this._platform = i),
          (this._change = new Se()),
          (this._changeListener = (o) => {
            this._change.next(o);
          }),
          (this._document = a),
          r.runOutsideAngular(() => {
            if (i.isBrowser) {
              let o = this._getWindow();
              o.addEventListener('resize', this._changeListener),
                o.addEventListener('orientationchange', this._changeListener);
            }
            this.change().subscribe(() => (this._viewportSize = null));
          });
      }
      ngOnDestroy() {
        if (this._platform.isBrowser) {
          let i = this._getWindow();
          i.removeEventListener('resize', this._changeListener),
            i.removeEventListener('orientationchange', this._changeListener);
        }
        this._change.complete();
      }
      getViewportSize() {
        this._viewportSize || this._updateViewportSize();
        let i = {
          width: this._viewportSize.width,
          height: this._viewportSize.height,
        };
        return this._platform.isBrowser || (this._viewportSize = null), i;
      }
      getViewportRect() {
        let i = this.getViewportScrollPosition(),
          { width: r, height: a } = this.getViewportSize();
        return {
          top: i.top,
          left: i.left,
          bottom: i.top + a,
          right: i.left + r,
          height: a,
          width: r,
        };
      }
      getViewportScrollPosition() {
        if (!this._platform.isBrowser) return { top: 0, left: 0 };
        let i = this._document,
          r = this._getWindow(),
          a = i.documentElement,
          o = a.getBoundingClientRect(),
          s = -o.top || i.body.scrollTop || r.scrollY || a.scrollTop || 0,
          l = -o.left || i.body.scrollLeft || r.scrollX || a.scrollLeft || 0;
        return { top: s, left: l };
      }
      change(i = _8) {
        return i > 0 ? this._change.pipe(uv(i)) : this._change;
      }
      _getWindow() {
        return this._document.defaultView || window;
      }
      _updateViewportSize() {
        let i = this._getWindow();
        this._viewportSize = this._platform.isBrowser
          ? { width: i.innerWidth, height: i.innerHeight }
          : { width: 0, height: 0 };
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Ci), Ht(De), Ht(Ne, 8));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
var U_ = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({}));
  let e = t;
  return e;
})();
var Lg = ['*'],
  k8 = ['content'],
  C8 = [[['mat-drawer']], [['mat-drawer-content']], '*'],
  E8 = ['mat-drawer', 'mat-drawer-content', '*'];
function S8(e, t) {
  if (e & 1) {
    let n = Ar();
    se(0, 'div', 1),
      Ai('click', function () {
        wn(n);
        let r = cn();
        return kn(r._onBackdropClicked());
      }),
      de();
  }
  if (e & 2) {
    let n = cn();
    Ze('mat-drawer-shown', n._isShowingBackdrop());
  }
}
function D8(e, t) {
  e & 1 && (se(0, 'mat-drawer-content'), qe(1, 2), de());
}
var T8 = [[['mat-sidenav']], [['mat-sidenav-content']], '*'],
  M8 = ['mat-sidenav', 'mat-sidenav-content', '*'];
function A8(e, t) {
  if (e & 1) {
    let n = Ar();
    se(0, 'div', 1),
      Ai('click', function () {
        wn(n);
        let r = cn();
        return kn(r._onBackdropClicked());
      }),
      de();
  }
  if (e & 2) {
    let n = cn();
    Ze('mat-drawer-shown', n._isShowingBackdrop());
  }
}
function I8(e, t) {
  e & 1 && (se(0, 'mat-sidenav-content'), qe(1, 2), de());
}
var R8 =
    '.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',
  TI = {
    transformDrawer: Jx('transform', [
      Sv(
        'open, open-instant',
        Ev({ transform: 'none', visibility: 'visible' })
      ),
      Sv('void', Ev({ 'box-shadow': 'none', visibility: 'hidden' })),
      Dv('void => open-instant', Cv('0ms')),
      Dv(
        'void <=> open, open-instant => void',
        Cv('400ms cubic-bezier(0.25, 0.8, 0.25, 1)')
      ),
    ]),
  };
var O8 = new ge('MAT_DRAWER_DEFAULT_AUTOSIZE', {
    providedIn: 'root',
    factory: P8,
  }),
  H_ = new ge('MAT_DRAWER_CONTAINER');
function P8() {
  return !1;
}
var Og = (() => {
    let t = class t extends Uc {
      constructor(i, r, a, o, s) {
        super(a, o, s), (this._changeDetectorRef = i), (this._container = r);
      }
      ngAfterContentInit() {
        this._container._contentMarginChanges.subscribe(() => {
          this._changeDetectorRef.markForCheck();
        });
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Yi), Tt(Na(() => AI)), Tt(Re), Tt(Rg), Tt(De));
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-drawer-content']],
        hostAttrs: [1, 'mat-drawer-content'],
        hostVars: 4,
        hostBindings: function (r, a) {
          r & 2 &&
            _s('margin-left', a._container._contentMargins.left, 'px')(
              'margin-right',
              a._container._contentMargins.right,
              'px'
            );
        },
        standalone: !0,
        features: [bn([{ provide: Uc, useExisting: t }]), Bi, Ie],
        ngContentSelectors: Lg,
        decls: 1,
        vars: 0,
        template: function (r, a) {
          r & 1 && (zi(), qe(0));
        },
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  MI = (() => {
    let t = class t {
      get position() {
        return this._position;
      }
      set position(i) {
        (i = i === 'end' ? 'end' : 'start'),
          i !== this._position &&
            (this._isAttached && this._updatePositionInParent(i),
            (this._position = i),
            this.onPositionChanged.emit());
      }
      get mode() {
        return this._mode;
      }
      set mode(i) {
        (this._mode = i),
          this._updateFocusTrapState(),
          this._modeChanged.next();
      }
      get disableClose() {
        return this._disableClose;
      }
      set disableClose(i) {
        this._disableClose = rr(i);
      }
      get autoFocus() {
        let i = this._autoFocus;
        return i ?? (this.mode === 'side' ? 'dialog' : 'first-tabbable');
      }
      set autoFocus(i) {
        (i === 'true' || i === 'false' || i == null) && (i = rr(i)),
          (this._autoFocus = i);
      }
      get opened() {
        return this._opened;
      }
      set opened(i) {
        this.toggle(rr(i));
      }
      constructor(i, r, a, o, s, l, c, u) {
        (this._elementRef = i),
          (this._focusTrapFactory = r),
          (this._focusMonitor = a),
          (this._platform = o),
          (this._ngZone = s),
          (this._interactivityChecker = l),
          (this._doc = c),
          (this._container = u),
          (this._focusTrap = null),
          (this._elementFocusedBeforeDrawerWasOpened = null),
          (this._enableAnimations = !1),
          (this._position = 'start'),
          (this._mode = 'over'),
          (this._disableClose = !1),
          (this._opened = !1),
          (this._animationStarted = new Se()),
          (this._animationEnd = new Se()),
          (this._animationState = 'void'),
          (this.openedChange = new bi(!0)),
          (this._openedStream = this.openedChange.pipe(
            Fi((d) => d),
            re(() => {})
          )),
          (this.openedStart = this._animationStarted.pipe(
            Fi(
              (d) =>
                d.fromState !== d.toState && d.toState.indexOf('open') === 0
            ),
            tu(void 0)
          )),
          (this._closedStream = this.openedChange.pipe(
            Fi((d) => !d),
            re(() => {})
          )),
          (this.closedStart = this._animationStarted.pipe(
            Fi((d) => d.fromState !== d.toState && d.toState === 'void'),
            tu(void 0)
          )),
          (this._destroyed = new Se()),
          (this.onPositionChanged = new bi()),
          (this._modeChanged = new Se()),
          (this._injector = It(ga)),
          (this._changeDetectorRef = It(Yi)),
          this.openedChange.pipe(gi(this._destroyed)).subscribe((d) => {
            d
              ? (this._doc &&
                  (this._elementFocusedBeforeDrawerWasOpened =
                    this._doc.activeElement),
                this._takeFocus())
              : this._isFocusWithinDrawer() &&
                this._restoreFocus(this._openedVia || 'program');
          }),
          this._ngZone.runOutsideAngular(() => {
            Jc(this._elementRef.nativeElement, 'keydown')
              .pipe(
                Fi((d) => d.keyCode === 27 && !this.disableClose && !EC(d)),
                gi(this._destroyed)
              )
              .subscribe((d) =>
                this._ngZone.run(() => {
                  this.close(), d.stopPropagation(), d.preventDefault();
                })
              );
          }),
          this._animationEnd
            .pipe(
              ms(
                (d, h) => d.fromState === h.fromState && d.toState === h.toState
              )
            )
            .subscribe((d) => {
              let { fromState: h, toState: p } = d;
              ((p.indexOf('open') === 0 && h === 'void') ||
                (p === 'void' && h.indexOf('open') === 0)) &&
                this.openedChange.emit(this._opened);
            });
      }
      _forceFocus(i, r) {
        this._interactivityChecker.isFocusable(i) ||
          ((i.tabIndex = -1),
          this._ngZone.runOutsideAngular(() => {
            let a = () => {
              i.removeEventListener('blur', a),
                i.removeEventListener('mousedown', a),
                i.removeAttribute('tabindex');
            };
            i.addEventListener('blur', a), i.addEventListener('mousedown', a);
          })),
          i.focus(r);
      }
      _focusByCssSelector(i, r) {
        let a = this._elementRef.nativeElement.querySelector(i);
        a && this._forceFocus(a, r);
      }
      _takeFocus() {
        if (!this._focusTrap) return;
        let i = this._elementRef.nativeElement;
        switch (this.autoFocus) {
          case !1:
          case 'dialog':
            return;
          case !0:
          case 'first-tabbable':
            ys(
              () => {
                !this._focusTrap.focusInitialElement() &&
                  typeof i.focus == 'function' &&
                  i.focus();
              },
              { injector: this._injector }
            );
            break;
          case 'first-heading':
            this._focusByCssSelector(
              'h1, h2, h3, h4, h5, h6, [role="heading"]'
            );
            break;
          default:
            this._focusByCssSelector(this.autoFocus);
            break;
        }
      }
      _restoreFocus(i) {
        this.autoFocus !== 'dialog' &&
          (this._elementFocusedBeforeDrawerWasOpened
            ? this._focusMonitor.focusVia(
                this._elementFocusedBeforeDrawerWasOpened,
                i
              )
            : this._elementRef.nativeElement.blur(),
          (this._elementFocusedBeforeDrawerWasOpened = null));
      }
      _isFocusWithinDrawer() {
        let i = this._doc.activeElement;
        return !!i && this._elementRef.nativeElement.contains(i);
      }
      ngAfterViewInit() {
        (this._isAttached = !0),
          this._position === 'end' && this._updatePositionInParent('end'),
          this._platform.isBrowser &&
            ((this._focusTrap = this._focusTrapFactory.create(
              this._elementRef.nativeElement
            )),
            this._updateFocusTrapState());
      }
      ngAfterContentChecked() {
        this._platform.isBrowser && (this._enableAnimations = !0);
      }
      ngOnDestroy() {
        this._focusTrap?.destroy(),
          this._anchor?.remove(),
          (this._anchor = null),
          this._animationStarted.complete(),
          this._animationEnd.complete(),
          this._modeChanged.complete(),
          this._destroyed.next(),
          this._destroyed.complete();
      }
      open(i) {
        return this.toggle(!0, i);
      }
      close() {
        return this.toggle(!1);
      }
      _closeViaBackdropClick() {
        return this._setOpen(!1, !0, 'mouse');
      }
      toggle(i = !this.opened, r) {
        i && r && (this._openedVia = r);
        let a = this._setOpen(
          i,
          !i && this._isFocusWithinDrawer(),
          this._openedVia || 'program'
        );
        return i || (this._openedVia = null), a;
      }
      _setOpen(i, r, a) {
        return (
          (this._opened = i),
          i
            ? (this._animationState = this._enableAnimations
                ? 'open'
                : 'open-instant')
            : ((this._animationState = 'void'), r && this._restoreFocus(a)),
          this._changeDetectorRef.markForCheck(),
          this._updateFocusTrapState(),
          new Promise((o) => {
            this.openedChange
              .pipe(tn(1))
              .subscribe((s) => o(s ? 'open' : 'close'));
          })
        );
      }
      _getWidth() {
        return (
          (this._elementRef.nativeElement &&
            this._elementRef.nativeElement.offsetWidth) ||
          0
        );
      }
      _updateFocusTrapState() {
        this._focusTrap &&
          (this._focusTrap.enabled =
            !!this._container?.hasBackdrop && this.opened);
      }
      _updatePositionInParent(i) {
        if (!this._platform.isBrowser) return;
        let r = this._elementRef.nativeElement,
          a = r.parentNode;
        i === 'end'
          ? (this._anchor ||
              ((this._anchor = this._doc.createComment('mat-drawer-anchor')),
              a.insertBefore(this._anchor, r)),
            a.appendChild(r))
          : this._anchor &&
            this._anchor.parentNode.insertBefore(r, this._anchor);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(Re),
        Tt(FC),
        Tt(hp),
        Tt(Ci),
        Tt(De),
        Tt(sy),
        Tt(Ne, 8),
        Tt(H_, 8)
      );
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-drawer']],
        viewQuery: function (r, a) {
          if ((r & 1 && Bn(k8, 5), r & 2)) {
            let o;
            Qe((o = Je())) && (a._content = o.first);
          }
        },
        hostAttrs: ['tabIndex', '-1', 1, 'mat-drawer'],
        hostVars: 12,
        hostBindings: function (r, a) {
          r & 1 &&
            Lx('@transform.start', function (s) {
              return a._animationStarted.next(s);
            })('@transform.done', function (s) {
              return a._animationEnd.next(s);
            }),
            r & 2 &&
              (Px('@transform', a._animationState),
              yi('align', null),
              Ze('mat-drawer-end', a.position === 'end')(
                'mat-drawer-over',
                a.mode === 'over'
              )('mat-drawer-push', a.mode === 'push')(
                'mat-drawer-side',
                a.mode === 'side'
              )('mat-drawer-opened', a.opened));
        },
        inputs: {
          position: 'position',
          mode: 'mode',
          disableClose: 'disableClose',
          autoFocus: 'autoFocus',
          opened: 'opened',
        },
        outputs: {
          openedChange: 'openedChange',
          _openedStream: 'opened',
          openedStart: 'openedStart',
          _closedStream: 'closed',
          closedStart: 'closedStart',
          onPositionChanged: 'positionChanged',
        },
        exportAs: ['matDrawer'],
        standalone: !0,
        features: [Ie],
        ngContentSelectors: Lg,
        decls: 3,
        vars: 0,
        consts: [
          ['content', ''],
          ['cdkScrollable', '', 1, 'mat-drawer-inner-container'],
        ],
        template: function (r, a) {
          r & 1 && (zi(), se(0, 'div', 1, 0), qe(2), de());
        },
        dependencies: [Uc],
        encapsulation: 2,
        data: { animation: [TI.transformDrawer] },
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  AI = (() => {
    let t = class t {
      get start() {
        return this._start;
      }
      get end() {
        return this._end;
      }
      get autosize() {
        return this._autosize;
      }
      set autosize(i) {
        this._autosize = rr(i);
      }
      get hasBackdrop() {
        return (
          this._drawerHasBackdrop(this._start) ||
          this._drawerHasBackdrop(this._end)
        );
      }
      set hasBackdrop(i) {
        this._backdropOverride = i == null ? null : rr(i);
      }
      get scrollable() {
        return this._userContent || this._content;
      }
      constructor(i, r, a, o, s, l = !1, c) {
        (this._dir = i),
          (this._element = r),
          (this._ngZone = a),
          (this._changeDetectorRef = o),
          (this._animationMode = c),
          (this._drawers = new Uh()),
          (this.backdropClick = new bi()),
          (this._destroyed = new Se()),
          (this._doCheckSubject = new Se()),
          (this._contentMargins = { left: null, right: null }),
          (this._contentMarginChanges = new Se()),
          (this._injector = It(ga)),
          i &&
            i.change.pipe(gi(this._destroyed)).subscribe(() => {
              this._validateDrawers(), this.updateContentMargins();
            }),
          s
            .change()
            .pipe(gi(this._destroyed))
            .subscribe(() => this.updateContentMargins()),
          (this._autosize = l);
      }
      ngAfterContentInit() {
        this._allDrawers.changes
          .pipe(Wr(this._allDrawers), gi(this._destroyed))
          .subscribe((i) => {
            this._drawers.reset(
              i.filter((r) => !r._container || r._container === this)
            ),
              this._drawers.notifyOnChanges();
          }),
          this._drawers.changes.pipe(Wr(null)).subscribe(() => {
            this._validateDrawers(),
              this._drawers.forEach((i) => {
                this._watchDrawerToggle(i),
                  this._watchDrawerPosition(i),
                  this._watchDrawerMode(i);
              }),
              (!this._drawers.length ||
                this._isDrawerOpen(this._start) ||
                this._isDrawerOpen(this._end)) &&
                this.updateContentMargins(),
              this._changeDetectorRef.markForCheck();
          }),
          this._ngZone.runOutsideAngular(() => {
            this._doCheckSubject
              .pipe(go(10), gi(this._destroyed))
              .subscribe(() => this.updateContentMargins());
          });
      }
      ngOnDestroy() {
        this._contentMarginChanges.complete(),
          this._doCheckSubject.complete(),
          this._drawers.destroy(),
          this._destroyed.next(),
          this._destroyed.complete();
      }
      open() {
        this._drawers.forEach((i) => i.open());
      }
      close() {
        this._drawers.forEach((i) => i.close());
      }
      updateContentMargins() {
        let i = 0,
          r = 0;
        if (this._left && this._left.opened) {
          if (this._left.mode == 'side') i += this._left._getWidth();
          else if (this._left.mode == 'push') {
            let a = this._left._getWidth();
            (i += a), (r -= a);
          }
        }
        if (this._right && this._right.opened) {
          if (this._right.mode == 'side') r += this._right._getWidth();
          else if (this._right.mode == 'push') {
            let a = this._right._getWidth();
            (r += a), (i -= a);
          }
        }
        (i = i || null),
          (r = r || null),
          (i !== this._contentMargins.left ||
            r !== this._contentMargins.right) &&
            ((this._contentMargins = { left: i, right: r }),
            this._ngZone.run(() =>
              this._contentMarginChanges.next(this._contentMargins)
            ));
      }
      ngDoCheck() {
        this._autosize &&
          this._isPushed() &&
          this._ngZone.runOutsideAngular(() => this._doCheckSubject.next());
      }
      _watchDrawerToggle(i) {
        i._animationStarted
          .pipe(
            Fi((r) => r.fromState !== r.toState),
            gi(this._drawers.changes)
          )
          .subscribe((r) => {
            r.toState !== 'open-instant' &&
              this._animationMode !== 'NoopAnimations' &&
              this._element.nativeElement.classList.add(
                'mat-drawer-transition'
              ),
              this.updateContentMargins(),
              this._changeDetectorRef.markForCheck();
          }),
          i.mode !== 'side' &&
            i.openedChange
              .pipe(gi(this._drawers.changes))
              .subscribe(() => this._setContainerClass(i.opened));
      }
      _watchDrawerPosition(i) {
        i &&
          i.onPositionChanged.pipe(gi(this._drawers.changes)).subscribe(() => {
            ys(
              () => {
                this._validateDrawers();
              },
              { injector: this._injector, phase: Mx.Read }
            );
          });
      }
      _watchDrawerMode(i) {
        i &&
          i._modeChanged
            .pipe(gi(bl(this._drawers.changes, this._destroyed)))
            .subscribe(() => {
              this.updateContentMargins(),
                this._changeDetectorRef.markForCheck();
            });
      }
      _setContainerClass(i) {
        let r = this._element.nativeElement.classList,
          a = 'mat-drawer-container-has-open';
        i ? r.add(a) : r.remove(a);
      }
      _validateDrawers() {
        (this._start = this._end = null),
          this._drawers.forEach((i) => {
            i.position == 'end'
              ? (this._end != null, (this._end = i))
              : (this._start != null, (this._start = i));
          }),
          (this._right = this._left = null),
          this._dir && this._dir.value === 'rtl'
            ? ((this._left = this._end), (this._right = this._start))
            : ((this._left = this._start), (this._right = this._end));
      }
      _isPushed() {
        return (
          (this._isDrawerOpen(this._start) && this._start.mode != 'over') ||
          (this._isDrawerOpen(this._end) && this._end.mode != 'over')
        );
      }
      _onBackdropClicked() {
        this.backdropClick.emit(), this._closeModalDrawersViaBackdrop();
      }
      _closeModalDrawersViaBackdrop() {
        [this._start, this._end]
          .filter((i) => i && !i.disableClose && this._drawerHasBackdrop(i))
          .forEach((i) => i._closeViaBackdropClick());
      }
      _isShowingBackdrop() {
        return (
          (this._isDrawerOpen(this._start) &&
            this._drawerHasBackdrop(this._start)) ||
          (this._isDrawerOpen(this._end) && this._drawerHasBackdrop(this._end))
        );
      }
      _isDrawerOpen(i) {
        return i != null && i.opened;
      }
      _drawerHasBackdrop(i) {
        return this._backdropOverride == null
          ? !!i && i.mode !== 'side'
          : this._backdropOverride;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(Yl, 8),
        Tt(Re),
        Tt(De),
        Tt(Yi),
        Tt(DI),
        Tt(O8),
        Tt(Yn, 8)
      );
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-drawer-container']],
        contentQueries: function (r, a, o) {
          if ((r & 1 && (vn(o, Og, 5), vn(o, MI, 5)), r & 2)) {
            let s;
            Qe((s = Je())) && (a._content = s.first),
              Qe((s = Je())) && (a._allDrawers = s);
          }
        },
        viewQuery: function (r, a) {
          if ((r & 1 && Bn(Og, 5), r & 2)) {
            let o;
            Qe((o = Je())) && (a._userContent = o.first);
          }
        },
        hostAttrs: [1, 'mat-drawer-container'],
        hostVars: 2,
        hostBindings: function (r, a) {
          r & 2 &&
            Ze('mat-drawer-container-explicit-backdrop', a._backdropOverride);
        },
        inputs: { autosize: 'autosize', hasBackdrop: 'hasBackdrop' },
        outputs: { backdropClick: 'backdropClick' },
        exportAs: ['matDrawerContainer'],
        standalone: !0,
        features: [bn([{ provide: H_, useExisting: t }]), Ie],
        ngContentSelectors: E8,
        decls: 4,
        vars: 2,
        consts: [
          [1, 'mat-drawer-backdrop', 3, 'mat-drawer-shown'],
          [1, 'mat-drawer-backdrop', 3, 'click'],
        ],
        template: function (r, a) {
          r & 1 &&
            (zi(C8),
            pr(0, S8, 1, 2, 'div', 0),
            qe(1),
            qe(2, 1),
            pr(3, D8, 2, 0, 'mat-drawer-content')),
            r & 2 &&
              (Gr(a.hasBackdrop ? 0 : -1), je(3), Gr(a._content ? -1 : 3));
        },
        dependencies: [Og],
        styles: [
          '.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',
        ],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  Pg = (() => {
    let t = class t extends Og {
      constructor(i, r, a, o, s) {
        super(i, r, a, o, s);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Yi), Tt(Na(() => $_)), Tt(Re), Tt(Rg), Tt(De));
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-sidenav-content']],
        hostAttrs: [1, 'mat-drawer-content', 'mat-sidenav-content'],
        hostVars: 4,
        hostBindings: function (r, a) {
          r & 2 &&
            _s('margin-left', a._container._contentMargins.left, 'px')(
              'margin-right',
              a._container._contentMargins.right,
              'px'
            );
        },
        standalone: !0,
        features: [bn([{ provide: Uc, useExisting: t }]), Bi, Ie],
        ngContentSelectors: Lg,
        decls: 1,
        vars: 0,
        template: function (r, a) {
          r & 1 && (zi(), qe(0));
        },
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  W_ = (() => {
    let t = class t extends MI {
      constructor() {
        super(...arguments),
          (this._fixedInViewport = !1),
          (this._fixedTopGap = 0),
          (this._fixedBottomGap = 0);
      }
      get fixedInViewport() {
        return this._fixedInViewport;
      }
      set fixedInViewport(i) {
        this._fixedInViewport = rr(i);
      }
      get fixedTopGap() {
        return this._fixedTopGap;
      }
      set fixedTopGap(i) {
        this._fixedTopGap = Ya(i);
      }
      get fixedBottomGap() {
        return this._fixedBottomGap;
      }
      set fixedBottomGap(i) {
        this._fixedBottomGap = Ya(i);
      }
    };
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-sidenav']],
        hostAttrs: ['tabIndex', '-1', 1, 'mat-drawer', 'mat-sidenav'],
        hostVars: 17,
        hostBindings: function (r, a) {
          r & 2 &&
            (yi('align', null),
            _s('top', a.fixedInViewport ? a.fixedTopGap : null, 'px')(
              'bottom',
              a.fixedInViewport ? a.fixedBottomGap : null,
              'px'
            ),
            Ze('mat-drawer-end', a.position === 'end')(
              'mat-drawer-over',
              a.mode === 'over'
            )('mat-drawer-push', a.mode === 'push')(
              'mat-drawer-side',
              a.mode === 'side'
            )('mat-drawer-opened', a.opened)(
              'mat-sidenav-fixed',
              a.fixedInViewport
            ));
        },
        inputs: {
          fixedInViewport: 'fixedInViewport',
          fixedTopGap: 'fixedTopGap',
          fixedBottomGap: 'fixedBottomGap',
        },
        exportAs: ['matSidenav'],
        standalone: !0,
        features: [Bi, Ie],
        ngContentSelectors: Lg,
        decls: 3,
        vars: 0,
        consts: [
          ['content', ''],
          ['cdkScrollable', '', 1, 'mat-drawer-inner-container'],
        ],
        template: function (r, a) {
          r & 1 && (zi(), se(0, 'div', 1, 0), qe(2), de());
        },
        dependencies: [Uc],
        encapsulation: 2,
        data: { animation: [TI.transformDrawer] },
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  $_ = (() => {
    let t = class t extends AI {
      constructor() {
        super(...arguments),
          (this._allDrawers = void 0),
          (this._content = void 0);
      }
    };
    (t.ɵfac = (() => {
      let i;
      return function (a) {
        return (i || (i = nr(t)))(a || t);
      };
    })()),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-sidenav-container']],
        contentQueries: function (r, a, o) {
          if ((r & 1 && (vn(o, Pg, 5), vn(o, W_, 5)), r & 2)) {
            let s;
            Qe((s = Je())) && (a._content = s.first),
              Qe((s = Je())) && (a._allDrawers = s);
          }
        },
        hostAttrs: [1, 'mat-drawer-container', 'mat-sidenav-container'],
        hostVars: 2,
        hostBindings: function (r, a) {
          r & 2 &&
            Ze('mat-drawer-container-explicit-backdrop', a._backdropOverride);
        },
        exportAs: ['matSidenavContainer'],
        standalone: !0,
        features: [bn([{ provide: H_, useExisting: t }]), Bi, Ie],
        ngContentSelectors: M8,
        decls: 4,
        vars: 2,
        consts: [
          [1, 'mat-drawer-backdrop', 3, 'mat-drawer-shown'],
          [1, 'mat-drawer-backdrop', 3, 'click'],
        ],
        template: function (r, a) {
          r & 1 &&
            (zi(T8),
            pr(0, A8, 1, 2, 'div', 0),
            qe(1),
            qe(2, 1),
            pr(3, I8, 2, 0, 'mat-sidenav-content')),
            r & 2 &&
              (Gr(a.hasBackdrop ? 0 : -1), je(3), Gr(a._content ? -1 : 3));
        },
        dependencies: [Pg],
        styles: [R8],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  II = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵmod = Ve({ type: t })),
      (t.ɵinj = ze({ imports: [Vi, U_, U_, Vi] }));
    let e = t;
    return e;
  })();
var N8 = ['*'],
  Ng;
function F8() {
  if (Ng === void 0 && ((Ng = null), typeof window < 'u')) {
    let e = window;
    e.trustedTypes !== void 0 &&
      (Ng = e.trustedTypes.createPolicy('angular#components', {
        createHTML: (t) => t,
      }));
  }
  return Ng;
}
function Ih(e) {
  return F8()?.createHTML(e) || e;
}
function RI(e) {
  return Error(`Unable to find icon with the name "${e}"`);
}
function B8() {
  return Error(
    'Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.'
  );
}
function OI(e) {
  return Error(
    `The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`
  );
}
function PI(e) {
  return Error(
    `The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`
  );
}
var co = class {
    constructor(t, n, i) {
      (this.url = t), (this.svgText = n), (this.options = i);
    }
  },
  z8 = (() => {
    let t = class t {
      constructor(i, r, a, o) {
        (this._httpClient = i),
          (this._sanitizer = r),
          (this._errorHandler = o),
          (this._svgIconConfigs = new Map()),
          (this._iconSetConfigs = new Map()),
          (this._cachedIconsByUrl = new Map()),
          (this._inProgressUrlFetches = new Map()),
          (this._fontCssClassesByAlias = new Map()),
          (this._resolvers = []),
          (this._defaultFontSetClass = ['material-icons', 'mat-ligature-font']),
          (this._document = a);
      }
      addSvgIcon(i, r, a) {
        return this.addSvgIconInNamespace('', i, r, a);
      }
      addSvgIconLiteral(i, r, a) {
        return this.addSvgIconLiteralInNamespace('', i, r, a);
      }
      addSvgIconInNamespace(i, r, a, o) {
        return this._addSvgIconConfig(i, r, new co(a, null, o));
      }
      addSvgIconResolver(i) {
        return this._resolvers.push(i), this;
      }
      addSvgIconLiteralInNamespace(i, r, a, o) {
        let s = this._sanitizer.sanitize(fr.HTML, a);
        if (!s) throw PI(a);
        let l = Ih(s);
        return this._addSvgIconConfig(i, r, new co('', l, o));
      }
      addSvgIconSet(i, r) {
        return this.addSvgIconSetInNamespace('', i, r);
      }
      addSvgIconSetLiteral(i, r) {
        return this.addSvgIconSetLiteralInNamespace('', i, r);
      }
      addSvgIconSetInNamespace(i, r, a) {
        return this._addSvgIconSetConfig(i, new co(r, null, a));
      }
      addSvgIconSetLiteralInNamespace(i, r, a) {
        let o = this._sanitizer.sanitize(fr.HTML, r);
        if (!o) throw PI(r);
        let s = Ih(o);
        return this._addSvgIconSetConfig(i, new co('', s, a));
      }
      registerFontClassAlias(i, r = i) {
        return this._fontCssClassesByAlias.set(i, r), this;
      }
      classNameForFontAlias(i) {
        return this._fontCssClassesByAlias.get(i) || i;
      }
      setDefaultFontSetClass(...i) {
        return (this._defaultFontSetClass = i), this;
      }
      getDefaultFontSetClass() {
        return this._defaultFontSetClass;
      }
      getSvgIconFromUrl(i) {
        let r = this._sanitizer.sanitize(fr.RESOURCE_URL, i);
        if (!r) throw OI(i);
        let a = this._cachedIconsByUrl.get(r);
        return a
          ? qt(Fg(a))
          : this._loadSvgIconFromConfig(new co(i, null)).pipe(
              fi((o) => this._cachedIconsByUrl.set(r, o)),
              re((o) => Fg(o))
            );
      }
      getNamedSvgIcon(i, r = '') {
        let a = LI(r, i),
          o = this._svgIconConfigs.get(a);
        if (o) return this._getSvgFromConfig(o);
        if (((o = this._getIconConfigFromResolvers(r, i)), o))
          return this._svgIconConfigs.set(a, o), this._getSvgFromConfig(o);
        let s = this._iconSetConfigs.get(r);
        return s ? this._getSvgFromIconSetConfigs(i, s) : fs(RI(a));
      }
      ngOnDestroy() {
        (this._resolvers = []),
          this._svgIconConfigs.clear(),
          this._iconSetConfigs.clear(),
          this._cachedIconsByUrl.clear();
      }
      _getSvgFromConfig(i) {
        return i.svgText
          ? qt(Fg(this._svgElementFromConfig(i)))
          : this._loadSvgIconFromConfig(i).pipe(re((r) => Fg(r)));
      }
      _getSvgFromIconSetConfigs(i, r) {
        let a = this._extractIconWithNameFromAnySet(i, r);
        if (a) return qt(a);
        let o = r
          .filter((s) => !s.svgText)
          .map((s) =>
            this._loadSvgIconSetFromConfig(s).pipe(
              mo((l) => {
                let u = `Loading icon set URL: ${this._sanitizer.sanitize(fr.RESOURCE_URL, s.url)} failed: ${l.message}`;
                return this._errorHandler.handleError(new Error(u)), qt(null);
              })
            )
          );
        return zh(o).pipe(
          re(() => {
            let s = this._extractIconWithNameFromAnySet(i, r);
            if (!s) throw RI(i);
            return s;
          })
        );
      }
      _extractIconWithNameFromAnySet(i, r) {
        for (let a = r.length - 1; a >= 0; a--) {
          let o = r[a];
          if (o.svgText && o.svgText.toString().indexOf(i) > -1) {
            let s = this._svgElementFromConfig(o),
              l = this._extractSvgIconFromSet(s, i, o.options);
            if (l) return l;
          }
        }
        return null;
      }
      _loadSvgIconFromConfig(i) {
        return this._fetchIcon(i).pipe(
          fi((r) => (i.svgText = r)),
          re(() => this._svgElementFromConfig(i))
        );
      }
      _loadSvgIconSetFromConfig(i) {
        return i.svgText
          ? qt(null)
          : this._fetchIcon(i).pipe(fi((r) => (i.svgText = r)));
      }
      _extractSvgIconFromSet(i, r, a) {
        let o = i.querySelector(`[id="${r}"]`);
        if (!o) return null;
        let s = o.cloneNode(!0);
        if ((s.removeAttribute('id'), s.nodeName.toLowerCase() === 'svg'))
          return this._setSvgAttributes(s, a);
        if (s.nodeName.toLowerCase() === 'symbol')
          return this._setSvgAttributes(this._toSvgElement(s), a);
        let l = this._svgElementFromString(Ih('<svg></svg>'));
        return l.appendChild(s), this._setSvgAttributes(l, a);
      }
      _svgElementFromString(i) {
        let r = this._document.createElement('DIV');
        r.innerHTML = i;
        let a = r.querySelector('svg');
        if (!a) throw Error('<svg> tag not found');
        return a;
      }
      _toSvgElement(i) {
        let r = this._svgElementFromString(Ih('<svg></svg>')),
          a = i.attributes;
        for (let o = 0; o < a.length; o++) {
          let { name: s, value: l } = a[o];
          s !== 'id' && r.setAttribute(s, l);
        }
        for (let o = 0; o < i.childNodes.length; o++)
          i.childNodes[o].nodeType === this._document.ELEMENT_NODE &&
            r.appendChild(i.childNodes[o].cloneNode(!0));
        return r;
      }
      _setSvgAttributes(i, r) {
        return (
          i.setAttribute('fit', ''),
          i.setAttribute('height', '100%'),
          i.setAttribute('width', '100%'),
          i.setAttribute('preserveAspectRatio', 'xMidYMid meet'),
          i.setAttribute('focusable', 'false'),
          r && r.viewBox && i.setAttribute('viewBox', r.viewBox),
          i
        );
      }
      _fetchIcon(i) {
        let { url: r, options: a } = i,
          o = a?.withCredentials ?? !1;
        if (!this._httpClient) throw B8();
        if (r == null) throw Error(`Cannot fetch icon from URL "${r}".`);
        let s = this._sanitizer.sanitize(fr.RESOURCE_URL, r);
        if (!s) throw OI(r);
        let l = this._inProgressUrlFetches.get(s);
        if (l) return l;
        let c = this._httpClient
          .get(s, { responseType: 'text', withCredentials: o })
          .pipe(
            re((u) => Ih(u)),
            vo(() => this._inProgressUrlFetches.delete(s)),
            fx()
          );
        return this._inProgressUrlFetches.set(s, c), c;
      }
      _addSvgIconConfig(i, r, a) {
        return this._svgIconConfigs.set(LI(i, r), a), this;
      }
      _addSvgIconSetConfig(i, r) {
        let a = this._iconSetConfigs.get(i);
        return a ? a.push(r) : this._iconSetConfigs.set(i, [r]), this;
      }
      _svgElementFromConfig(i) {
        if (!i.svgElement) {
          let r = this._svgElementFromString(i.svgText);
          this._setSvgAttributes(r, i.options), (i.svgElement = r);
        }
        return i.svgElement;
      }
      _getIconConfigFromResolvers(i, r) {
        for (let a = 0; a < this._resolvers.length; a++) {
          let o = this._resolvers[a](r, i);
          if (o)
            return V8(o) ? new co(o.url, null, o.options) : new co(o, null);
        }
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Ht(Yr, 8), Ht(Vv), Ht(Ne, 8), Ht(bs));
    }),
      (t.ɵprov = Qt({ token: t, factory: t.ɵfac, providedIn: 'root' }));
    let e = t;
    return e;
  })();
function Fg(e) {
  return e.cloneNode(!0);
}
function LI(e, t) {
  return e + ':' + t;
}
function V8(e) {
  return !!(e.url && e.options);
}
var j8 = new ge('MAT_ICON_DEFAULT_OPTIONS'),
  q8 = new ge('mat-icon-location', { providedIn: 'root', factory: U8 });
function U8() {
  let e = It(Ne),
    t = e ? e.location : null;
  return { getPathname: () => (t ? t.pathname + t.search : '') };
}
var NI = [
    'clip-path',
    'color-profile',
    'src',
    'cursor',
    'fill',
    'filter',
    'marker',
    'marker-start',
    'marker-mid',
    'marker-end',
    'mask',
    'stroke',
  ],
  H8 = NI.map((e) => `[${e}]`).join(', '),
  W8 = /^url\(['"]?#(.*?)['"]?\)$/,
  Bg = (() => {
    let t = class t {
      get color() {
        return this._color || this._defaultColor;
      }
      set color(i) {
        this._color = i;
      }
      get svgIcon() {
        return this._svgIcon;
      }
      set svgIcon(i) {
        i !== this._svgIcon &&
          (i
            ? this._updateSvgIcon(i)
            : this._svgIcon && this._clearSvgElement(),
          (this._svgIcon = i));
      }
      get fontSet() {
        return this._fontSet;
      }
      set fontSet(i) {
        let r = this._cleanupFontValue(i);
        r !== this._fontSet &&
          ((this._fontSet = r), this._updateFontIconClasses());
      }
      get fontIcon() {
        return this._fontIcon;
      }
      set fontIcon(i) {
        let r = this._cleanupFontValue(i);
        r !== this._fontIcon &&
          ((this._fontIcon = r), this._updateFontIconClasses());
      }
      constructor(i, r, a, o, s, l) {
        (this._elementRef = i),
          (this._iconRegistry = r),
          (this._location = o),
          (this._errorHandler = s),
          (this.inline = !1),
          (this._previousFontSetClass = []),
          (this._currentIconFetch = La.EMPTY),
          l &&
            (l.color && (this.color = this._defaultColor = l.color),
            l.fontSet && (this.fontSet = l.fontSet)),
          a || i.nativeElement.setAttribute('aria-hidden', 'true');
      }
      _splitIconName(i) {
        if (!i) return ['', ''];
        let r = i.split(':');
        switch (r.length) {
          case 1:
            return ['', r[0]];
          case 2:
            return r;
          default:
            throw Error(`Invalid icon name: "${i}"`);
        }
      }
      ngOnInit() {
        this._updateFontIconClasses();
      }
      ngAfterViewChecked() {
        let i = this._elementsWithExternalReferences;
        if (i && i.size) {
          let r = this._location.getPathname();
          r !== this._previousPath &&
            ((this._previousPath = r), this._prependPathToReferences(r));
        }
      }
      ngOnDestroy() {
        this._currentIconFetch.unsubscribe(),
          this._elementsWithExternalReferences &&
            this._elementsWithExternalReferences.clear();
      }
      _usingFontIcon() {
        return !this.svgIcon;
      }
      _setSvgElement(i) {
        this._clearSvgElement();
        let r = this._location.getPathname();
        (this._previousPath = r),
          this._cacheChildrenWithExternalReferences(i),
          this._prependPathToReferences(r),
          this._elementRef.nativeElement.appendChild(i);
      }
      _clearSvgElement() {
        let i = this._elementRef.nativeElement,
          r = i.childNodes.length;
        for (
          this._elementsWithExternalReferences &&
          this._elementsWithExternalReferences.clear();
          r--;

        ) {
          let a = i.childNodes[r];
          (a.nodeType !== 1 || a.nodeName.toLowerCase() === 'svg') &&
            a.remove();
        }
      }
      _updateFontIconClasses() {
        if (!this._usingFontIcon()) return;
        let i = this._elementRef.nativeElement,
          r = (
            this.fontSet
              ? this._iconRegistry
                  .classNameForFontAlias(this.fontSet)
                  .split(/ +/)
              : this._iconRegistry.getDefaultFontSetClass()
          ).filter((a) => a.length > 0);
        this._previousFontSetClass.forEach((a) => i.classList.remove(a)),
          r.forEach((a) => i.classList.add(a)),
          (this._previousFontSetClass = r),
          this.fontIcon !== this._previousFontIconClass &&
            !r.includes('mat-ligature-font') &&
            (this._previousFontIconClass &&
              i.classList.remove(this._previousFontIconClass),
            this.fontIcon && i.classList.add(this.fontIcon),
            (this._previousFontIconClass = this.fontIcon));
      }
      _cleanupFontValue(i) {
        return typeof i == 'string' ? i.trim().split(' ')[0] : i;
      }
      _prependPathToReferences(i) {
        let r = this._elementsWithExternalReferences;
        r &&
          r.forEach((a, o) => {
            a.forEach((s) => {
              o.setAttribute(s.name, `url('${i}#${s.value}')`);
            });
          });
      }
      _cacheChildrenWithExternalReferences(i) {
        let r = i.querySelectorAll(H8),
          a = (this._elementsWithExternalReferences =
            this._elementsWithExternalReferences || new Map());
        for (let o = 0; o < r.length; o++)
          NI.forEach((s) => {
            let l = r[o],
              c = l.getAttribute(s),
              u = c ? c.match(W8) : null;
            if (u) {
              let d = a.get(l);
              d || ((d = []), a.set(l, d)), d.push({ name: s, value: u[1] });
            }
          });
      }
      _updateSvgIcon(i) {
        if (
          ((this._svgNamespace = null),
          (this._svgName = null),
          this._currentIconFetch.unsubscribe(),
          i)
        ) {
          let [r, a] = this._splitIconName(i);
          r && (this._svgNamespace = r),
            a && (this._svgName = a),
            (this._currentIconFetch = this._iconRegistry
              .getNamedSvgIcon(a, r)
              .pipe(tn(1))
              .subscribe(
                (o) => this._setSvgElement(o),
                (o) => {
                  let s = `Error retrieving icon ${r}:${a}! ${o.message}`;
                  this._errorHandler.handleError(new Error(s));
                }
              ));
        }
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(
        Tt(Re),
        Tt(z8),
        yl('aria-hidden'),
        Tt(q8),
        Tt(bs),
        Tt(j8, 8)
      );
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['mat-icon']],
        hostAttrs: ['role', 'img', 1, 'mat-icon', 'notranslate'],
        hostVars: 10,
        hostBindings: function (r, a) {
          r & 2 &&
            (yi('data-mat-icon-type', a._usingFontIcon() ? 'font' : 'svg')(
              'data-mat-icon-name',
              a._svgName || a.fontIcon
            )('data-mat-icon-namespace', a._svgNamespace || a.fontSet)(
              'fontIcon',
              a._usingFontIcon() ? a.fontIcon : null
            ),
            Ba(a.color ? 'mat-' + a.color : ''),
            Ze('mat-icon-inline', a.inline)(
              'mat-icon-no-color',
              a.color !== 'primary' &&
                a.color !== 'accent' &&
                a.color !== 'warn'
            ));
        },
        inputs: {
          color: 'color',
          inline: [2, 'inline', 'inline', pi],
          svgIcon: 'svgIcon',
          fontSet: 'fontSet',
          fontIcon: 'fontIcon',
        },
        exportAs: ['matIcon'],
        standalone: !0,
        features: [Fn, Ie],
        ngContentSelectors: N8,
        decls: 1,
        vars: 0,
        template: function (r, a) {
          r & 1 && (zi(), qe(0));
        },
        styles: [
          'mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}',
        ],
        encapsulation: 2,
        changeDetection: 0,
      }));
    let e = t;
    return e;
  })(),
  zg = (() => {
    let t = class t {};
    (t.ɵfac = function (r) {
      return new (r || t)();
    }),
      (t.ɵmod = Ve({ type: t })),
      (t.ɵinj = ze({ imports: [Vi, Vi] }));
    let e = t;
    return e;
  })();
var zI = new ge('CDK_TREE_NODE_OUTLET_NODE'),
  Rh = (() => {
    let t = class t {
      constructor(i, r) {
        (this.viewContainer = i), (this._node = r);
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(ru), Tt(zI, 8));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'cdkTreeNodeOutlet', '']],
        standalone: !0,
      }));
    let e = t;
    return e;
  })(),
  G_ = class {
    constructor(t) {
      this.$implicit = t;
    }
  },
  Y_ = (() => {
    let t = class t {
      constructor(i) {
        this.template = i;
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(yv));
    }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['', 'cdkTreeNodeDef', '']],
        inputs: { when: [0, 'cdkTreeNodeDefWhen', 'when'] },
        standalone: !0,
      }));
    let e = t;
    return e;
  })();
function BI() {
  return Error(
    'Could not find a tree control, levelAccessor, or childrenAccessor for the tree.'
  );
}
var pl = (() => {
    let t = class t {
      get dataSource() {
        return this._dataSource;
      }
      set dataSource(i) {
        this._dataSource !== i && this._switchDataSource(i);
      }
      constructor(i, r, a) {
        (this._differs = i),
          (this._changeDetectorRef = r),
          (this._dir = a),
          (this._onDestroy = new Se()),
          (this._levels = new Map()),
          (this._parents = new Map()),
          (this._ariaSets = new Map()),
          (this.viewChange = new Gi({ start: 0, end: Number.MAX_VALUE })),
          (this._flattenedNodes = new Gi([])),
          (this._nodeType = new Gi(null)),
          (this._nodes = new Gi(new Map())),
          (this._keyManagerNodes = new Gi([])),
          (this._keyManagerFactory = It(LC)),
          (this._viewInit = !1);
      }
      ngAfterContentInit() {
        this._initializeKeyManager();
      }
      ngAfterContentChecked() {
        this._updateDefaultNodeDefinition(), this._subscribeToDataChanges();
      }
      ngOnDestroy() {
        this._nodeOutlet.viewContainer.clear(),
          this.viewChange.complete(),
          this._onDestroy.next(),
          this._onDestroy.complete(),
          this._dataSource &&
            typeof this._dataSource.disconnect == 'function' &&
            this.dataSource.disconnect(this),
          this._dataSubscription &&
            (this._dataSubscription.unsubscribe(),
            (this._dataSubscription = null)),
          this._keyManager?.destroy();
      }
      ngOnInit() {
        this._checkTreeControlUsage(), this._initializeDataDiffer();
      }
      ngAfterViewInit() {
        this._viewInit = !0;
      }
      _updateDefaultNodeDefinition() {
        let i = this._nodeDefs.filter((r) => !r.when);
        i.length > 1, (this._defaultNodeDef = i[0]);
      }
      _setNodeTypeIfUnset(i) {
        this._nodeType.value === null && this._nodeType.next(i);
      }
      _switchDataSource(i) {
        this._dataSource &&
          typeof this._dataSource.disconnect == 'function' &&
          this.dataSource.disconnect(this),
          this._dataSubscription &&
            (this._dataSubscription.unsubscribe(),
            (this._dataSubscription = null)),
          i || this._nodeOutlet.viewContainer.clear(),
          (this._dataSource = i),
          this._nodeDefs && this._subscribeToDataChanges();
      }
      _getExpansionModel() {
        return this.treeControl
          ? this.treeControl.expansionModel
          : ((this._expansionModel ??= new vp(!0)), this._expansionModel);
      }
      _subscribeToDataChanges() {
        if (this._dataSubscription) return;
        let i;
        JC(this._dataSource)
          ? (i = this._dataSource.connect(this))
          : ma(this._dataSource)
            ? (i = this._dataSource)
            : Array.isArray(this._dataSource) && (i = qt(this._dataSource)),
          i &&
            (this._dataSubscription = this._getRenderData(i)
              .pipe(gi(this._onDestroy))
              .subscribe((r) => {
                this._renderDataChanges(r);
              }));
      }
      _getRenderData(i) {
        let r = this._getExpansionModel();
        return Tr([
          i,
          this._nodeType,
          r.changed.pipe(
            Wr(null),
            fi((a) => {
              this._emitExpansionChanges(a);
            })
          ),
        ]).pipe(
          ln(([a, o]) =>
            o === null
              ? qt({ renderNodes: a, flattenedNodes: null, nodeType: o })
              : this._computeRenderingData(a, o).pipe(
                  re((s) => ni(Bt({}, s), { nodeType: o }))
                )
          )
        );
      }
      _renderDataChanges(i) {
        if (i.nodeType === null) {
          this.renderNodeChanges(i.renderNodes);
          return;
        }
        this._updateCachedData(i.flattenedNodes),
          this.renderNodeChanges(i.renderNodes),
          this._updateKeyManagerItems(i.flattenedNodes);
      }
      _emitExpansionChanges(i) {
        if (!i) return;
        let r = this._nodes.value;
        for (let a of i.added) r.get(a)?._emitExpansionState(!0);
        for (let a of i.removed) r.get(a)?._emitExpansionState(!1);
      }
      _initializeKeyManager() {
        let i = Tr([this._keyManagerNodes, this._nodes]).pipe(
            re(([a, o]) =>
              a.reduce((s, l) => {
                let c = o.get(this._getExpansionKey(l));
                return c && s.push(c), s;
              }, [])
            )
          ),
          r = {
            trackBy: (a) => this._getExpansionKey(a.data),
            skipPredicate: (a) => !!a.isDisabled,
            typeAheadDebounceInterval: !0,
            horizontalOrientation: this._dir.value,
          };
        this._keyManager = this._keyManagerFactory(i, r);
      }
      _initializeDataDiffer() {
        let i = this.trackBy ?? ((r, a) => this._getExpansionKey(a));
        this._dataDiffer = this._differs.find([]).create(i);
      }
      _checkTreeControlUsage() {}
      renderNodeChanges(
        i,
        r = this._dataDiffer,
        a = this._nodeOutlet.viewContainer,
        o
      ) {
        let s = r.diff(i);
        (!s && !this._viewInit) ||
          (s?.forEachOperation((l, c, u) => {
            if (l.previousIndex == null) this.insertNode(i[u], u, a, o);
            else if (u == null) a.remove(c);
            else {
              let d = a.get(c);
              a.move(d, u);
            }
          }),
          s?.forEachIdentityChange((l) => {
            let c = l.item;
            if (l.currentIndex != null) {
              let u = a.get(l.currentIndex);
              u.context.$implicit = c;
            }
          }),
          this._changeDetectorRef.detectChanges());
      }
      _getNodeDef(i, r) {
        if (this._nodeDefs.length === 1) return this._nodeDefs.first;
        let a =
          this._nodeDefs.find((o) => o.when && o.when(r, i)) ||
          this._defaultNodeDef;
        return a;
      }
      insertNode(i, r, a, o) {
        let s = this._getLevelAccessor(),
          l = this._getNodeDef(i, r),
          c = this._getExpansionKey(i),
          u = new G_(i);
        (o ??= this._parents.get(c) ?? void 0),
          s
            ? (u.level = s(i))
            : o !== void 0 && this._levels.has(this._getExpansionKey(o))
              ? (u.level = this._levels.get(this._getExpansionKey(o)) + 1)
              : (u.level = 0),
          this._levels.set(c, u.level),
          (a || this._nodeOutlet.viewContainer).createEmbeddedView(
            l.template,
            u,
            r
          ),
          Oh.mostRecentTreeNode && (Oh.mostRecentTreeNode.data = i);
      }
      isExpanded(i) {
        return !!(
          this.treeControl?.isExpanded(i) ||
          this._expansionModel?.isSelected(this._getExpansionKey(i))
        );
      }
      toggle(i) {
        this.treeControl
          ? this.treeControl.toggle(i)
          : this._expansionModel &&
            this._expansionModel.toggle(this._getExpansionKey(i));
      }
      expand(i) {
        this.treeControl
          ? this.treeControl.expand(i)
          : this._expansionModel &&
            this._expansionModel.select(this._getExpansionKey(i));
      }
      collapse(i) {
        this.treeControl
          ? this.treeControl.collapse(i)
          : this._expansionModel &&
            this._expansionModel.deselect(this._getExpansionKey(i));
      }
      toggleDescendants(i) {
        this.treeControl
          ? this.treeControl.toggleDescendants(i)
          : this._expansionModel &&
            (this.isExpanded(i)
              ? this.collapseDescendants(i)
              : this.expandDescendants(i));
      }
      expandDescendants(i) {
        if (this.treeControl) this.treeControl.expandDescendants(i);
        else if (this._expansionModel) {
          let r = this._expansionModel;
          r.select(this._getExpansionKey(i)),
            this._getDescendants(i)
              .pipe(tn(1), gi(this._onDestroy))
              .subscribe((a) => {
                r.select(...a.map((o) => this._getExpansionKey(o)));
              });
        }
      }
      collapseDescendants(i) {
        if (this.treeControl) this.treeControl.collapseDescendants(i);
        else if (this._expansionModel) {
          let r = this._expansionModel;
          r.deselect(this._getExpansionKey(i)),
            this._getDescendants(i)
              .pipe(tn(1), gi(this._onDestroy))
              .subscribe((a) => {
                r.deselect(...a.map((o) => this._getExpansionKey(o)));
              });
        }
      }
      expandAll() {
        this.treeControl
          ? this.treeControl.expandAll()
          : this._expansionModel &&
            this._expansionModel.select(
              ...this._flattenedNodes.value.map((r) => this._getExpansionKey(r))
            );
      }
      collapseAll() {
        this.treeControl
          ? this.treeControl.collapseAll()
          : this._expansionModel &&
            this._expansionModel.deselect(
              ...this._flattenedNodes.value.map((r) => this._getExpansionKey(r))
            );
      }
      _getLevelAccessor() {
        return (
          this.treeControl?.getLevel?.bind(this.treeControl) ??
          this.levelAccessor
        );
      }
      _getChildrenAccessor() {
        return (
          this.treeControl?.getChildren?.bind(this.treeControl) ??
          this.childrenAccessor
        );
      }
      _getDirectChildren(i) {
        let r = this._getLevelAccessor(),
          a = this._expansionModel ?? this.treeControl?.expansionModel;
        if (!a) return qt([]);
        let o = this._getExpansionKey(i),
          s = a.changed.pipe(
            ln((c) =>
              c.added.includes(o) ? qt(!0) : c.removed.includes(o) ? qt(!1) : pa
            ),
            Wr(this.isExpanded(i))
          );
        if (r)
          return Tr([s, this._flattenedNodes]).pipe(
            re(([c, u]) => (c ? this._findChildrenByLevel(r, u, i, 1) : []))
          );
        let l = this._getChildrenAccessor();
        if (l) return Vs(l(i) ?? []);
        throw BI();
      }
      _findChildrenByLevel(i, r, a, o) {
        let s = this._getExpansionKey(a),
          l = r.findIndex((h) => this._getExpansionKey(h) === s),
          c = i(a),
          u = c + o,
          d = [];
        for (let h = l + 1; h < r.length; h++) {
          let p = i(r[h]);
          if (p <= c) break;
          p <= u && d.push(r[h]);
        }
        return d;
      }
      _registerNode(i) {
        this._nodes.value.set(this._getExpansionKey(i.data), i),
          this._nodes.next(this._nodes.value);
      }
      _unregisterNode(i) {
        this._nodes.value.delete(this._getExpansionKey(i.data)),
          this._nodes.next(this._nodes.value);
      }
      _getLevel(i) {
        return this._levels.get(this._getExpansionKey(i));
      }
      _getSetSize(i) {
        return this._getAriaSet(i).length;
      }
      _getPositionInSet(i) {
        let r = this._getAriaSet(i),
          a = this._getExpansionKey(i);
        return r.findIndex((o) => this._getExpansionKey(o) === a) + 1;
      }
      _getNodeParent(i) {
        let r = this._parents.get(this._getExpansionKey(i.data));
        return r && this._nodes.value.get(this._getExpansionKey(r));
      }
      _getNodeChildren(i) {
        return this._getDirectChildren(i.data).pipe(
          re((r) =>
            r.reduce((a, o) => {
              let s = this._nodes.value.get(this._getExpansionKey(o));
              return s && a.push(s), a;
            }, [])
          )
        );
      }
      _sendKeydownToKeyManager(i) {
        this._keyManager.onKeydown(i);
      }
      _getDescendants(i) {
        if (this.treeControl) return qt(this.treeControl.getDescendants(i));
        if (this.levelAccessor) {
          let r = this._findChildrenByLevel(
            this.levelAccessor,
            this._flattenedNodes.value,
            i,
            1 / 0
          );
          return qt(r);
        }
        if (this.childrenAccessor)
          return this._getAllChildrenRecursively(i).pipe(
            dv((r, a) => (r.push(...a), r), [])
          );
        throw BI();
      }
      _getAllChildrenRecursively(i) {
        return this.childrenAccessor
          ? Vs(this.childrenAccessor(i)).pipe(
              tn(1),
              ln((r) => {
                for (let a of r) this._parents.set(this._getExpansionKey(a), i);
                return qt(...r).pipe(
                  Hr((a) => ps(qt([a]), this._getAllChildrenRecursively(a)))
                );
              })
            )
          : qt([]);
      }
      _getExpansionKey(i) {
        return this.expansionKey?.(i) ?? i;
      }
      _getAriaSet(i) {
        let r = this._getExpansionKey(i),
          a = this._parents.get(r),
          o = a ? this._getExpansionKey(a) : null;
        return this._ariaSets.get(o) ?? [i];
      }
      _findParentForNode(i, r, a) {
        if (!a.length) return null;
        let o = this._levels.get(this._getExpansionKey(i)) ?? 0;
        for (let s = r - 1; s >= 0; s--) {
          let l = a[s];
          if ((this._levels.get(this._getExpansionKey(l)) ?? 0) < o) return l;
        }
        return null;
      }
      _flattenNestedNodesWithExpansion(i, r = 0) {
        let a = this._getChildrenAccessor();
        return a
          ? qt(...i).pipe(
              Hr((o) => {
                let s = this._getExpansionKey(o);
                this._parents.has(s) || this._parents.set(s, null),
                  this._levels.set(s, r);
                let l = Vs(a(o));
                return ps(
                  qt([o]),
                  l.pipe(
                    tn(1),
                    fi((c) => {
                      this._ariaSets.set(s, [...(c ?? [])]);
                      for (let u of c ?? []) {
                        let d = this._getExpansionKey(u);
                        this._parents.set(d, o), this._levels.set(d, r + 1);
                      }
                    }),
                    ln((c) =>
                      c
                        ? this._flattenNestedNodesWithExpansion(c, r + 1).pipe(
                            re((u) => (this.isExpanded(o) ? u : []))
                          )
                        : qt([])
                    )
                  )
                );
              }),
              dv((o, s) => (o.push(...s), o), [])
            )
          : qt([...i]);
      }
      _computeRenderingData(i, r) {
        if (this.childrenAccessor && r === 'flat')
          return (
            this._ariaSets.set(null, [...i]),
            this._flattenNestedNodesWithExpansion(i).pipe(
              re((a) => ({ renderNodes: a, flattenedNodes: a }))
            )
          );
        if (this.levelAccessor && r === 'nested') {
          let a = this.levelAccessor;
          return qt(i.filter((o) => a(o) === 0)).pipe(
            re((o) => ({ renderNodes: o, flattenedNodes: i })),
            fi(({ flattenedNodes: o }) => {
              this._calculateParents(o);
            })
          );
        } else
          return r === 'flat'
            ? qt({ renderNodes: i, flattenedNodes: i }).pipe(
                fi(({ flattenedNodes: a }) => {
                  this._calculateParents(a);
                })
              )
            : (this._ariaSets.set(null, [...i]),
              this._flattenNestedNodesWithExpansion(i).pipe(
                re((a) => ({ renderNodes: i, flattenedNodes: a }))
              ));
      }
      _updateCachedData(i) {
        this._flattenedNodes.next(i);
      }
      _updateKeyManagerItems(i) {
        this._keyManagerNodes.next(i);
      }
      _calculateParents(i) {
        let r = this._getLevelAccessor();
        if (r) {
          this._parents.clear(), this._ariaSets.clear();
          for (let a = 0; a < i.length; a++) {
            let o = i[a],
              s = this._getExpansionKey(o);
            this._levels.set(s, r(o));
            let l = this._findParentForNode(o, a, i);
            this._parents.set(s, l);
            let c = l ? this._getExpansionKey(l) : null,
              u = this._ariaSets.get(c) ?? [];
            u.splice(a, 0, o), this._ariaSets.set(c, u);
          }
        }
      }
    };
    (t.ɵfac = function (r) {
      return new (r || t)(Tt(Qh), Tt(Yi), Tt(Yl));
    }),
      (t.ɵcmp = Ae({
        type: t,
        selectors: [['cdk-tree']],
        contentQueries: function (r, a, o) {
          if ((r & 1 && vn(o, Y_, 5), r & 2)) {
            let s;
            Qe((s = Je())) && (a._nodeDefs = s);
          }
        },
        viewQuery: function (r, a) {
          if ((r & 1 && Bn(Rh, 7), r & 2)) {
            let o;
            Qe((o = Je())) && (a._nodeOutlet = o.first);
          }
        },
        hostAttrs: ['role', 'tree', 1, 'cdk-tree'],
        hostBindings: function (r, a) {
          r & 1 &&
            Ai('keydown', function (s) {
              return a._sendKeydownToKeyManager(s);
            });
        },
        inputs: {
          dataSource: 'dataSource',
          treeControl: 'treeControl',
          levelAccessor: 'levelAccessor',
          childrenAccessor: 'childrenAccessor',
          trackBy: 'trackBy',
          expansionKey: 'expansionKey',
        },
        exportAs: ['cdkTree'],
        standalone: !0,
        features: [Ie],
        decls: 1,
        vars: 0,
        consts: [['cdkTreeNodeOutlet', '']],
        template: function (r, a) {
          r & 1 && $h(0, 0);
        },
        dependencies: [Rh],
        encapsulation: 2,
      }));
    let e = t;
    return e;
  })(),
  Oh = (() => {
    let t = class t {
      get role() {
        return 'treeitem';
      }
      set role(i) {}
      get isExpandable() {
        return this._isExpandable();
      }
      set isExpandable(i) {
        this._inputIsExpandable = i;
      }
      get isExpanded() {
        return this._tree.isExpanded(this._data);
      }
      set isExpanded(i) {
        i ? this.expand() : this.collapse();
      }
      getLabel() {
        return (
          this.typeaheadLabel ||
          this._elementRef.nativeElement.textContent?.trim() ||
          ''
        );
      }
      get data() {
        return this._data;
      }
      set data(i) {
        i !== this._data && ((this._data = i), this._dataChanges.next());
      }
      get isLeafNode() {
        return this._tree.treeControl?.isExpandable !== void 0 &&
          !this._tree.treeControl.isExpandable(this._data)
          ? !0
          : this._tree.treeControl?.isExpandable === void 0 &&
              this._tree.treeControl?.getDescendants(this._data).length === 0;
      }
      get level() {
        return this._tree._getLevel(this._data) ?? this._parentNodeAriaLevel;
      }
      _isExpandable() {
        return this._tree.treeControl
          ? !this.isLeafNode
          : this._inputIsExpandable;
      }
      _getAriaExpanded() {
        return this._isExpandable() ? String(this.isExpanded) : null;
      }
      _getSetSize() {
        return this._tree._getSetSize(this._data);
      }
      _getPositionInSet() {
        return this._tree._getPositionInSet(this._data);
      }
      constructor(i, r) {
        (this._elementRef = i),
          (this._tree = r),
          (this._tabindex = -1),
          (this.activation = new bi()),
          (this.expandedChange = new bi()),
          (this._destroyed = new Se()),
          (this._dataChanges = new Se()),
          (this._inputIsExpandable = !1),
          (this._shouldFocus = !0),
          (this._changeDetectorRef = It(Yi)),
          (t.mostRecentTreeNode = this);
      }
      ngOnInit() {
        (this._parentNodeAriaLevel = $8(this._elementRef.nativeElement)),
          this._tree
            ._getExpansionModel()
            .changed.pipe(
              re(() => this.isExpanded),
              ms()
            )
            .subscribe(() => {
              this._changeDetectorRef.markForCheck();
            }),
          this._tree._setNodeTypeIfUnset('flat'),
          this._tree._registerNode(this);
      }
      ngOnDestroy() {
        t.mostRecentTreeNode === this && (t.mostRecentTreeNode = null),
          this._dataChanges.complete(),
          this._destroyed.next(),
          this._destroyed.complete();
      }
      getParent() {
        return this._tree._getNodeParent(this) ?? null;
      }
      getChildren() {
        return this._tree._getNodeChildren(this);
      }
      focus() {
        (this._tabindex = 0),
          this._shouldFocus && this._elementRef.nativeElement.focus(),
          this._changeDetectorRef.markForCheck();
      }
      unfocus() {
        (this._tabindex = -1), this._changeDetectorRef.markForCheck();
      }
      activate() {
        this.isDisabled || this.activation.next(this._data);
      }
      collapse() {
        this.isExpandable && this._tree.collapse(this._data);
      }
      expand() {
        this.isExpandable && this._tree.expand(this._data);
      }
      _focusItem() {
        this.isDisabled || this._tree._keyManager.focusItem(this);
      }
      _setActiveItem() {
        this.isDisabled ||
          ((this._shouldFocus = !1),
          this._tree._keyManager.focusItem(this),
          (this._shouldFocus = !0));
      }
      _emitExpansionState(i) {
        this.expandedChange.emit(i);
      }
    };
    (t.mostRecentTreeNode = null),
      (t.ɵfac = function (r) {
        return new (r || t)(Tt(Re), Tt(pl));
      }),
      (t.ɵdir = Oe({
        type: t,
        selectors: [['cdk-tree-node']],
        hostAttrs: ['role', 'treeitem', 1, 'cdk-tree-node'],
        hostVars: 5,
        hostBindings: function (r, a) {
          r & 1 &&
            Ai('click', function () {
              return a._setActiveItem();
            })('focus', function () {
              return a._focusItem();
            }),
            r & 2 &&
              (ou('tabindex', a._tabindex),
              yi('aria-expanded', a._getAriaExpanded())(
                'aria-level',
                a.level + 1
              )('aria-posinset', a._getPositionInSet())(
                'aria-setsize',
                a._getSetSize()
              ));
        },
        inputs: {
          role: 'role',
          isExpandable: [2, 'isExpandable', 'isExpandable', pi],
          isExpanded: 'isExpanded',
          isDisabled: [2, 'isDisabled', 'isDisabled', pi],
          typeaheadLabel: [0, 'cdkTreeNodeTypeaheadLabel', 'typeaheadLabel'],
        },
        outputs: { activation: 'activation', expandedChange: 'expandedChange' },
        exportAs: ['cdkTreeNode'],
        standalone: !0,
        features: [Fn],
      }));
    let e = t;
    return e;
  })();
function $8(e) {
  let t = e.parentElement;
  for (; t && !G8(t); ) t = t.parentElement;
  return t
    ? t.classList.contains('cdk-nested-tree-node')
      ? cu(t.getAttribute('aria-level'))
      : 0
    : -1;
}
function G8(e) {
  let t = e.classList;
  return !!(t?.contains('cdk-nested-tree-node') || t?.contains('cdk-tree'));
}
var VI = (() => {
  let t = class t extends Oh {
    constructor(i, r, a) {
      super(i, r), (this._differs = a);
    }
    ngAfterContentInit() {
      (this._dataDiffer = this._differs.find([]).create(this._tree.trackBy)),
        this._tree
          ._getDirectChildren(this.data)
          .pipe(gi(this._destroyed))
          .subscribe((i) => this.updateChildrenNodes(i)),
        this.nodeOutlet.changes
          .pipe(gi(this._destroyed))
          .subscribe(() => this.updateChildrenNodes());
    }
    ngOnInit() {
      this._tree._setNodeTypeIfUnset('nested'), super.ngOnInit();
    }
    ngOnDestroy() {
      this._clear(), super.ngOnDestroy();
    }
    updateChildrenNodes(i) {
      let r = this._getNodeOutlet();
      if ((i && (this._children = i), r && this._children)) {
        let a = r.viewContainer;
        this._tree.renderNodeChanges(
          this._children,
          this._dataDiffer,
          a,
          this._data
        );
      } else this._dataDiffer.diff([]);
    }
    _clear() {
      let i = this._getNodeOutlet();
      i && (i.viewContainer.clear(), this._dataDiffer.diff([]));
    }
    _getNodeOutlet() {
      let i = this.nodeOutlet;
      return i && i.find((r) => !r._node || r._node === this);
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Tt(Re), Tt(pl), Tt(Qh));
  }),
    (t.ɵdir = Oe({
      type: t,
      selectors: [['cdk-nested-tree-node']],
      contentQueries: function (r, a, o) {
        if ((r & 1 && vn(o, Rh, 5), r & 2)) {
          let s;
          Qe((s = Je())) && (a.nodeOutlet = s);
        }
      },
      hostAttrs: [1, 'cdk-nested-tree-node'],
      exportAs: ['cdkNestedTreeNode'],
      standalone: !0,
      features: [
        bn([
          { provide: Oh, useExisting: t },
          { provide: zI, useExisting: t },
        ]),
        Bi,
      ],
    }));
  let e = t;
  return e;
})();
var jI = (() => {
  let t = class t {
    constructor(i, r) {
      (this._tree = i), (this._treeNode = r), (this.recursive = !1);
    }
    _toggle() {
      this.recursive
        ? this._tree.toggleDescendants(this._treeNode.data)
        : this._tree.toggle(this._treeNode.data),
        this._tree._keyManager.focusItem(this._treeNode);
    }
  };
  (t.ɵfac = function (r) {
    return new (r || t)(Tt(pl), Tt(Oh));
  }),
    (t.ɵdir = Oe({
      type: t,
      selectors: [['', 'cdkTreeNodeToggle', '']],
      hostAttrs: ['tabindex', '-1'],
      hostBindings: function (r, a) {
        r & 1 &&
          Ai('click', function (s) {
            return a._toggle(), s.stopPropagation();
          })('keydown.Enter', function (s) {
            return a._toggle(), s.preventDefault();
          })('keydown.Space', function (s) {
            return a._toggle(), s.preventDefault();
          });
      },
      inputs: { recursive: [2, 'cdkTreeNodeToggleRecursive', 'recursive', pi] },
      standalone: !0,
      features: [Fn],
    }));
  let e = t;
  return e;
})();
var qI = (() => {
  let t = class t {};
  (t.ɵfac = function (r) {
    return new (r || t)();
  }),
    (t.ɵmod = Ve({ type: t })),
    (t.ɵinj = ze({}));
  let e = t;
  return e;
})();
var Vg = class extends gp {
  constructor() {
    super(...arguments), (this._data = new Gi([]));
  }
  get data() {
    return this._data.value;
  }
  set data(t) {
    this._data.next(t);
  }
  connect(t) {
    return bl(t.viewChange, this._data).pipe(re(() => this.data));
  }
  disconnect() {}
};
var jg = class e {
  http = It(Yr);
  load() {
    return this.http.get('/api/folders');
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵprov = Qt({ token: e, factory: e.ɵfac, providedIn: 'root' });
};
var qg = class e {
  http = It(Yr);
  load() {
    return this.http.get('/api/config');
  }
  save(t) {
    return this.http.post('/api/config', t);
  }
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵprov = Qt({ token: e, factory: e.ɵfac, providedIn: 'root' });
};
var UI = { scopes: [] };
function K8(e, t) {
  if (e & 1) {
    let n = Ar();
    se(0, 'cdk-nested-tree-node', 5, 1),
      ri(2, 'button', 6),
      se(3, 'mat-checkbox', 7),
      Ai('change', function (r) {
        let a = wn(n).$implicit,
          o = cn();
        return kn(o.onCheckChange(a, r));
      }),
      de(),
      hi(4),
      de();
  }
  if (e & 2) {
    let n = t.$implicit,
      i = cn();
    je(3), Kn('checked', i.isChecked(n)), je(), va(' ', n.name, ' ');
  }
}
function X8(e, t) {
  if (e & 1) {
    let n = Ar();
    se(0, 'cdk-nested-tree-node', 8, 1)(2, 'button', 9)(3, 'mat-icon'),
      hi(4),
      de()(),
      se(5, 'mat-checkbox', 10),
      Ai('change', function (r) {
        let a = wn(n).$implicit,
          o = cn();
        return kn(o.onCheckChange(a, r));
      })('click', function (r) {
        return wn(n), kn(r.stopPropagation());
      }),
      de(),
      se(6, 'span', 11),
      hi(7),
      de(),
      se(8, 'div'),
      $h(9, 12),
      de()();
  }
  if (e & 2) {
    let n = t.$implicit,
      i = cn(),
      r = xs(1);
    Kn('cdkTreeNodeTypeaheadLabel', n.name),
      je(2),
      yi('aria-label', 'Toggle ' + n.name),
      je(2),
      va(' ', r.isExpanded(n) ? 'expand_more' : 'chevron_right', ' '),
      je(),
      Kn('checked', i.isChecked(n)),
      je(2),
      Cl(n.name),
      je(),
      Ze('example-tree-invisible', !r.isExpanded(n));
  }
}
var Ug = class e {
  folderService = It(jg);
  configService = It(qg);
  eventService = It(xa);
  tree;
  dataSource = new Vg();
  childrenAccessor = (t) => qt(t.folders);
  selected = new Set();
  config = UI;
  folders = [];
  ngOnInit() {
    let t = this.folderService.load(),
      n = this.configService.load();
    Tr({ folders: t, config: n }).subscribe((i) => {
      (this.dataSource.data = i.folders),
        (this.config = i.config),
        (this.folders = i.folders),
        this.selected.clear(),
        this.config.scopes.forEach((r) => this.selected.add(r)),
        this.expandChecked(i.folders),
        document.activeElement.blur();
    });
  }
  expandChecked(t) {
    let n = !1;
    for (let i of t)
      this.selected.has(i.path) && (n = !0),
        i.folders &&
          this.expandChecked(i.folders) &&
          (this.tree.expand(i), (n = !0));
    return n;
  }
  isChecked(t) {
    return this.selected.has(t.path);
  }
  onCheckChange(t, n) {
    n.checked ? this.selected.add(t.path) : this.selected.delete(t.path),
      this.deselectParents(t),
      this.deselectSubtree(t.folders),
      (this.config.scopes = [...this.selected]),
      (this.config.groups = this.findParents()),
      this.configService.save(this.config).subscribe(() => {
        this.eventService.filterChanged.next();
      });
  }
  deselectParents(t) {
    let n = t.path.split('/');
    for (; n.length > 0; ) n.pop(), this.selected.delete(n.join('/'));
  }
  deselectSubtree(t) {
    for (let n of t)
      this.selected.delete(n.path), this.deselectSubtree(n.folders || []);
  }
  findParents() {
    let t = [];
    return this._findParents(this.folders, t), t;
  }
  _findParents(t = this.folders, n) {
    let i = !1;
    for (let r of t)
      this.selected.has(r.path)
        ? (i = !0)
        : this._findParents(r.folders || [], n) && (n.push(r.path), (i = !0));
    return i;
  }
  hasChild = (t, n) => !!n.folders && n.folders.length > 0;
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵcmp = Ae({
    type: e,
    selectors: [['app-filter-tree']],
    viewQuery: function (n, i) {
      if ((n & 1 && Bn(pl, 5), n & 2)) {
        let r;
        Qe((r = Je())) && (i.tree = r.first);
      }
    },
    standalone: !0,
    features: [Ie],
    decls: 4,
    vars: 3,
    consts: [
      ['tree', ''],
      ['treeNode', 'cdkNestedTreeNode'],
      [3, 'dataSource', 'childrenAccessor'],
      ['class', 'example-tree-node', 4, 'cdkTreeNodeDef'],
      [
        'isExpandable',
        '',
        'class',
        'example-tree-node node-with-children',
        3,
        'cdkTreeNodeTypeaheadLabel',
        4,
        'cdkTreeNodeDef',
        'cdkTreeNodeDefWhen',
      ],
      [1, 'example-tree-node'],
      ['mat-icon-button', '', 'disabled', ''],
      [3, 'change', 'checked'],
      [
        'isExpandable',
        '',
        1,
        'example-tree-node',
        'node-with-children',
        3,
        'cdkTreeNodeTypeaheadLabel',
      ],
      ['cdkTreeNodeToggle', '', 'mat-icon-button', '', 'cdkTreeNodeToggle', ''],
      [3, 'change', 'click', 'checked'],
      ['cdkTreeNodeToggle', ''],
      ['cdkTreeNodeOutlet', ''],
    ],
    template: function (n, i) {
      n & 1 &&
        (se(0, 'cdk-tree', 2, 0),
        pr(2, K8, 5, 2, 'cdk-nested-tree-node', 3)(
          3,
          X8,
          10,
          7,
          'cdk-nested-tree-node',
          4
        ),
        de()),
        n & 2 &&
          (Kn('dataSource', i.dataSource)(
            'childrenAccessor',
            i.childrenAccessor
          ),
          je(3),
          Kn('cdkTreeNodeDefWhen', i.hasChild));
    },
    dependencies: [qI, VI, Y_, jI, pl, Rh, zg, Bg, Ig, Ag, qm, Rc],
    styles: [
      '.example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree-node[_ngcontent-%COMP%]{display:block;line-height:40px}.example-tree-node[_ngcontent-%COMP%]   .example-tree-node[_ngcontent-%COMP%]{padding-left:20px}mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-top:2px}.node-with-children[_ngcontent-%COMP%]{cursor:pointer}',
    ],
  });
};
function Z8(e, t) {
  if (e & 1) {
    let n = Ar();
    se(0, 'button', 10),
      Ai('click', function () {
        wn(n), cn();
        let r = xs(2);
        return kn(r.toggle());
      }),
      se(1, 'mat-icon', 11),
      hi(2, 'menu'),
      de()();
  }
}
var Hg = class e {
  breakpointObserver = It(cp);
  isHandset$ = this.breakpointObserver.observe(IC.Handset).pipe(
    re((t) => t.matches),
    pv()
  );
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵcmp = Ae({
    type: e,
    selectors: [['app-nav']],
    standalone: !0,
    features: [Ie],
    decls: 24,
    vars: 12,
    consts: [
      ['drawer', ''],
      [1, 'sidenav-container'],
      ['fixedInViewport', '', 1, 'sidenav', 3, 'mode', 'opened'],
      ['color', 'secondary'],
      ['color', 'primary'],
      ['type', 'button', 'aria-label', 'Toggle sidenav', 'mat-icon-button', ''],
      [
        'mat-button',
        '',
        'routerLink',
        '/home',
        'routerLinkActive',
        'active',
        2,
        'font-size',
        '18px',
      ],
      ['mat-button', '', 'routerLink', '/graph', 'routerLinkActive', 'active'],
      [
        'mat-button',
        '',
        'routerLink',
        '/team-alignment',
        'routerLinkActive',
        'active',
      ],
      [1, 'container'],
      [
        'type',
        'button',
        'aria-label',
        'Toggle sidenav',
        'mat-icon-button',
        '',
        3,
        'click',
      ],
      ['aria-label', 'Side nav toggle icon'],
    ],
    template: function (n, i) {
      n & 1 &&
        (se(0, 'mat-sidenav-container', 1)(1, 'mat-sidenav', 2, 0),
        su(3, 'async'),
        su(4, 'async'),
        su(5, 'async'),
        se(6, 'mat-toolbar', 3),
        hi(7, 'Filter'),
        de(),
        se(8, 'mat-nav-list'),
        ri(9, 'app-filter-tree'),
        de()(),
        se(10, 'mat-sidenav-content')(11, 'mat-toolbar', 4),
        pr(12, Z8, 3, 0, 'button', 5),
        su(13, 'async'),
        se(14, 'button', 6)(15, 'mat-icon'),
        hi(16, 'search'),
        de(),
        hi(17, ' Detective'),
        de(),
        se(18, 'button', 7),
        hi(19, 'Graph'),
        de(),
        se(20, 'button', 8),
        hi(21, 'Team Alignment'),
        de()(),
        se(22, 'div', 9),
        ri(23, 'router-outlet'),
        de()()()),
        n & 2 &&
          (je(),
          Kn('mode', lu(3, 4, i.isHandset$) ? 'over' : 'side')(
            'opened',
            lu(4, 6, i.isHandset$) === !1
          ),
          yi('role', lu(5, 8, i.isHandset$) ? 'dialog' : 'navigation'),
          je(11),
          Gr(lu(13, 10, i.isHandset$) ? 12 : -1));
    },
    dependencies: [
      kI,
      wI,
      Ig,
      EI,
      Ag,
      II,
      W_,
      $_,
      Pg,
      Cp,
      EE,
      zg,
      Bg,
      Kx,
      Ug,
      f1,
      bb,
      Sf,
      o1,
    ],
    styles: [
      '.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:300px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.active[_ngcontent-%COMP%]{background-color:navy}',
    ],
  });
};
var Wg = class e {
  title = 'frontend';
  static ɵfac = function (n) {
    return new (n || e)();
  };
  static ɵcmp = Ae({
    type: e,
    selectors: [['app-root']],
    standalone: !0,
    features: [Ie],
    decls: 1,
    vars: 0,
    template: function (n, i) {
      n & 1 && ri(0, 'app-nav');
    },
    dependencies: [Hg],
  });
};
vw(Wg, xI).catch((e) => console.error(e));
